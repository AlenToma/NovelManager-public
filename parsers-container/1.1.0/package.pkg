KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KICAgIHJldHVybiB7DQogICAgICAgIG5hbWU6ICJpbmNsdWRlZFBhcnNlcnMiLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBkYXRhOiBbDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgImZpbGUiOiAiUmVhZE5vdmVsRnVsbCIsDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgImRlYnVnT25seSI6IGZhbHNlDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICJmaWxlIjogIld1eGlhd29ybGQiLA0KICAgICAgICAgICAgICAgICJkZWJ1Z09ubHkiOiB0cnVlDQogICAgICAgICAgICB9LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICJmaWxlIjogIk1hbmdhbkVsbyIsDQogICAgICAgICAgICAgICAgImRlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nVnT25seSI6IGZhbHNlDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICJmaWxlIjogIk5vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsRnVsbCIsDQogICAgICAgICAgICAgICAgImRlYnVnT25seSI6IGZhbHNlDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICAgICAgICAgICJmaWxlIjogIkJveE5vdmVsIiwNCiAgICAgICAgICAgICAgICAiZGVidWdPbmx5IjogZmFsc2UNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgImZpbGUiOiAiVy1NVEwiLA0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICJkZWJ1Z09ubHkiOiBmYWxzZQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAiZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mlsZSI6ICJBbGxOb3ZlbCIsDQogICAgICAgICAgICAgICAgImRlYnVnT25seSI6IGZhbHNlDQogICAgICAgICAgICB9LA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgew0KICAgICAgICAgICAgICAgICJmaWxlIjogIkNvbXJhZGVtYW8iLA0KICAgICAgICAgICAgICAgICJkZWJ1Z09ubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HkiOiBmYWxzZQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAiZmlsZSI6ICJMaWdodE5vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsUHViIiwNCiAgICAgICAgICAgICAgICAiZGVidWdPbmx5IjogZmFsc2UNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgImZpbGUiOiAiTm92ZWxPbmxpbmVGdWxsIiwNCiAgICAgICAgICAgICAgICAiZGVidWdPbmx5IjogZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsc2UNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgImZpbGUiOiAiUmVhZExpZ2h0Tm92ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WwiLA0KICAgICAgICAgICAgICAgICJkZWJ1Z09ubHkiOiB0cnVlDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICJmaWxlIjogIlJveWFsUm9hZCIsDQogICAgICAgICAgICAgICAgImRlYnVnT25seSI6IGZhbHNlDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICJmaWxlIjogIk5vdmVsSGFsbCIsDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgImRlYnVnT25seSI6IGZhbHNlDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICJmaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxlIjogIlNjcmliYmxlSHViIiwNCiAgICAgICAgICAgICAgICAiZGVidWdPbmx5IjogZmFsc2UNCiAgICAgICAgICAgIH0sDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICB7DQogICAgICAgICAgICAgICAgImZpbGUiOiAiWmluTm92ZWwiLA0KICAgICAgICAgICAgICAgICJkZWJ1Z09ubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HkiOiBmYWxzZQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAiZmlsZSI6ICJUYXBSZWFkIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iwNCiAgICAgICAgICAgICAgICAiZGVidWdPbmx5IjogZmFsc2UNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgImZpbGUiOiAiTXRsTm92ZWwiLA0KICAgICAgICAgICAgICAgICJkZWJ1Z09ubHkiOiB0cnVlDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICJmaWxlIjogIktvbE5vdmVsIiwNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAiZGVidWdPbmx5IjogdHJ1ZQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAiZmlsZSI6IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJXdXhpYXdvcmxkLlNpdGUiLA0KICAgICAgICAgICAgICAgICJkZWJ1Z09ubHkiOiB0cnVlDQogICAgICAgICAgICB9DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIF0NCiAgICB9DQp9&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KICAgIHZhciByZXR1cm5PYmplY3QgPSB7fTsNCiAgICByZXR1cm5PYmplY3QuaWQgPSAiMMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S5hbGxub3ZlbCI7DQogICAgcmV0dXJuT2JqZWN0LmRldGFsaUl0ZW1UeXBlID0gRGV0YWxpSXRlbVR5cGUuTm92ZWw7DQogICAgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuT2JqZWN0LnBhcnNlckxhbmd1YWdlID0gImVuIjsNCiAgICByZXR1cm5PYmplY3QubmFtZSA9ICdBbGxOb3ZlbCc7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgcmV0dXJuT2JqZWN0LmRpc3BsYXlOYW1lID0gcmV0dXJuT2JqZWN0Lm5hbWU7DQogICAgcmV0dXJuT2JqZWN0LmxhdGVzdFVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CA9ICdodHRwczovL2FsbG5vdmVsLm5ldC8nOw0KICAgIHJldHVybk9iamVjdC51cmwgPSAnaHR0cHM6Ly9hbGxub3ZlbC5uZXQvJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0zsNCiAgICByZXR1cm5PYmplY3Quc2VhcmNoVXJsID0gJ2h0dHBzOi8vYWxsbm92ZWwubmV0L3NlYXJjaC5waHA/a2V5d29yZD17cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0X0nOw0KICAgIHJldHVybk9iamVjdC5wYW5pbmF0aW9uID0gZmFsc2U7DQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaFBhZ2luYXRpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU024gPSB0cnVlOw0KICAgIHJldHVybk9iamVjdC5pY29uID0gJ2h0dHBzOi8vYWxsbm92ZWwubmV0L21lZGlhL2Zhdmljb24ucG5nJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0zsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3MgPSBuZXcgUGFyc2VyU2VhcmNoU2V0dGluZ3MoKTsNCg0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZXMgPSB7DQogICAgICAgIG11bHRpU2VsZWN0aW9uOiBmYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxzZSwNCiAgICAgICAgdmFsdWVzOiBbDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiUm9tYW5jZSIsICJyb21hbmNlLmh0bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ww/cGFnZT17cH0iKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJBZHZlbnR1cmUiLCAiYWR2ZW50dXJlLmh0bWw/cGFnZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0T17cH0iKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJUaHJpbGxlciIsICJ0aHJpbGxlci5odG1sP3BhZ2U9e3B9IiksDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiRmFudGFzeSIsICJmYW50YXN5Lmh0bWw/cGFnZT17cH0iKSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCJZb3VuZyBBZHVsdCIsICJ5b3VuZy1hZHVsdC5odG1sP3BhZ2U9e3B9IiksDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBuZXcgbGFiZWxWYWx1ZSgiTXlzdGVyeSIsICJteXN0ZXJ5Lmh0bWw/cGFnZT17cH0iKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FZhbHVlKCJIaXN0b3JpY2FsIiwgImhpc3RvcmljYWwuaHRtbD9wYWdlPXtwfSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUoIkhvcnJvciIsICJob3Jyb3IuaHRtbD9wYWdlPXtwfSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNjaWVuY2UgRMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mljdGlvbiIsICJzY2llbmNlLWZpY3Rpb24uaHRtbD9wYWdlPXtwfSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkh1bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W9yb3VzIiwgImh1bW9yb3VzLmh0bWw/cGFnZT17cH0iKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJDaHJpc3RpYW4iLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAiY2hyaXN0aWFuLmh0bWw/cGFnZT17cH0iKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJXZXN0ZXJuIiwgIndlc3RlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m4uaHRtbD9wYWdlPXtwfSIpDQogICAgICAgIF0NCiAgICB9DQogICAgcmV0dXJuT2JqZWN0LmdldFNlY3Rpb25zID0gKGtleXMpIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0+IHsNCiAgICAgICAgdmFyIHNlY3Rpb25zID0gWw0KICAgICAgICAgICAgbmV3IFNlY3Rpb24oImxhdGVzdCIsICJMYXRlc3QgVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XBkYXRlIiwgIkxhdGVzdCIsIHRydWUpLA0KICAgICAgICAgICAgbmV3IFNlY3Rpb24oInJvbWFuY2UiLCAiUm9tYW5jZSIsICJTZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcihbInJvbWFuY2UuaHRtbD9wYWdlPXtwfSJdKSksDQogICAgICAgICAgICBuZXcgU2VjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlvbigieW91bmctYWR1bHQiLCAiWW91bmcgQWR1bHQiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIoWyJ5b3VuZy1hZHVsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5odG1sP3BhZ2U9e3B9Il0pKSwNCiAgICAgICAgXQ0KDQogICAgICAgIHJldHVybiBzZWN0aW9ucy5maWx0ZXIoeCA9PiAha2V5cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yB8fCBrZXlzLmluY2x1ZGVzKHgubmFtZSkpOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC50cmFuc2xhdGVTZWN0aW9uID0gYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XN5bmMgKHNlY3Rpb24sIHBhZ2UpID0+IHsNCiAgICAgICAgaWYgKHNlY3Rpb24uaWRlbnRpZmllciA9PSAiTGF0ZXN0IikNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIHJldHVybiBhd2FpdCByZXR1cm5PYmplY3QubGF0ZXN0KHBhZ2UpOw0KICAgICAgICBlbHNlDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CByZXR1cm4gYXdhaXQgcmV0dXJuT2JqZWN0LnNlYXJjaChzZWN0aW9uLmZpbHRlciB8fCByZXR1cm5PYmplY3QuZGVmYXVsdEZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlcigpLCBwYWdlKTsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QuZGVmYXVsdEZpbHRlciA9ICgpID0+IHsNCiAgICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFyIGZpbHRlciA9IG5ldyBGaWx0ZXIoKTsNCiAgICAgICAgcmV0dXJuIGZpbHRlcjsNCiAgICB9Ow0KDQogICAgcmV0dXJuT2JqZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0LnNlYXJjaCA9IGFzeW5jIChmaWx0ZXIsIHBhZ2UpID0+IHsNCiAgICAgICAgaWYgKCFmaWx0ZXIudGl0bGUpDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBmaWx0ZXIudGl0bGUgPSAiIjsNCiAgICAgICAgaWYgKGZpbHRlci5nZW5yZXMubGVuZ3RoIDw9IDAgJiYgZmlsdGVyLnRpdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxlID09ICIiKQ0KICAgICAgICAgICAgcmV0dXJuIFtdOw0KICAgICAgICB2YXIgdXJsID0gZmlsdGVyLmdlbnJlcy5sZW5ndGggPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAwID8gZmlsdGVyLmdlbnJlc1swXS50b1N0cmluZygpLnVyaShyZXR1cm5PYmplY3QudXJsKS5yZXBsYWNlKCJ7cH0iLCBwYWdlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SA6IHJldHVybk9iamVjdC5zZWFyY2hVcmwucmVwbGFjZSgie3F9IiwgZmlsdGVyLnRpdGxlKTsNCiAgICAgICAgdmFyIHJlc3VsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CA9IFtdDQogICAgICAgIHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKHVybCkpLmZpbmQoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5saXN0LW5vdmVsIGEiKS5mb3JFYWNoKHggPT4gew0KICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IExpZ2h0SXRlbSgNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICB4LnNlbGVjdCgiaW1nIikuYXR0cigic3JjIikudXJsKCksDQogICAgICAgICAgICAgICAgeC5zZWxlY3QoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i50aXRsZS1ob21lLW5vdmVsIikudGV4dCgpLA0KICAgICAgICAgICAgICAgICIiLA0KICAgICAgICAgICAgICAgIHguYXR0cigiaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJlZiIpLnVybCgpLA0KICAgICAgICAgICAgICAgIHJldHVybk9iamVjdC5uYW1lKSk7DQogICAgICAgIH0pOw0KDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybiByZXN1bHQ7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmdldE5vdmVsID0gYXN5bmMgKG5vdmVsVXJsKSA9PiB7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QoNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5vdmVsVXJsKSk7DQogICAgICAgIHZhciBjaGFwdGVycyA9IGNvbnRhaW5lci5maW5kKCIubGlzdC1wYWdlLW5vdmVsIGEiKS5tYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XAoeCA9PiBuZXcgQ2hhcHRlcih4LnRleHQoZmFsc2UpLCB4LmF0dHIoImhyZWYiKS51cmwoKSkpOw0KICAgICAgICB2YXIgbm92ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxSZXZpZXdzID0gbmV3IE5vdmVsUmV2aWV3cygpOw0KICAgICAgICB2YXIgaW5mbyA9IGNvbnRhaW5lci5maW5kKCIubGlzdC1pbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mZvIik7DQogICAgICAgIG5vdmVsUmV2aWV3cy5nZW5yZXMgPSBpbmZvLmVxKDEpLmZpbmQoImEiKS50ZXh0QXJyYXkoKTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbm92ZWxSZXZpZXdzLmF1dGhvciA9IGluZm8uZXEoMCkuc2VsZWN0KCJhIikudGV4dChmYWxzZSk7DQogICAgICAgIG5vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsUmV2aWV3cy51dm90ZXMgPSBpbmZvLmVxKDIpLnNlbGVjdCgic3BhbiIpLmhhc0VsZW1lbnQoKSA/IGluZm8uZXEoMikuc2VsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0KCJzcGFuIikudGV4dChmYWxzZSkgKyAiIFZpZXdzIiA6ICIiOw0KICAgICAgICByZXR1cm4gbmV3IERldGFsaUl0ZW0oDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCIucm93IGltZyIpLmF0dHIoInNyYyIpLnVybCgpLA0KICAgICAgICAgICAgY29udMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFpbmVyLnNlbGVjdCgiLmRldGFpbC1ub3ZlbCBoMSIpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgY29udGFpbmVyLnNlbGVjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CgiLmRlcy1ub3ZlbCIpLmNsZWFuSW5uZXJIVE1MKCksDQogICAgICAgICAgICBub3ZlbFVybCwNCiAgICAgICAgICAgIGNoYXB0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJzLA0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLA0KICAgICAgICAgICAgcmV0dXJuT2JqZWN0Lm5hbWUsDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB1bmRlZmluZWQsDQogICAgICAgICk7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmdldENoYXB0ZXIgPSBhc3luYyAodXJsKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SA9PiB7DQogICAgICAgIHJldHVybiByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IG5ldyBjbGllbnQoKS5nZXRIdG1sKHVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CkpLnJlbW92ZSgiLmFkLWNvbnRhaW5lciIpLnNlbGVjdCgiLmNvbnRlbnRfbm92ZWwiKS5jbGVhbklubmVySFRNTCgpOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0H0NCg0KICAgIHJldHVybk9iamVjdC5sYXRlc3QgPSBhc3luYyAocGFnZSkgPT4gew0KICAgICAgICB2YXIgdXJsID0gcmV0dXJuTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02JqZWN0LmxhdGVzdFVybC5yZXBsYWNlKCJ7cH0iLCBwYWdlLnRvU3RyaW5nKCkpOw0KICAgICAgICB2YXIgY29udGFpbmVyID0gcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwodXJsKSk7DQogICAgICAgIHZhciByZXN1bHQgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SBbXTsNCiAgICAgICAgY29udGFpbmVyLmZpbmQoIi5saXN0LW5vdmVsIGEiKS5mb3JFYWNoKHggPT4gew0KICAgICAgICAgICAgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVzdWx0LnB1c2gobmV3IExpZ2h0SXRlbSgNCiAgICAgICAgICAgICAgICB4LnNlbGVjdCgiaW1nIikuYXR0cigic3JjIikudXJsKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CksDQogICAgICAgICAgICAgICAgeC5zZWxlY3QoIi50aXRsZS1ob21lLW5vdmVsIikudGV4dChmYWxzZSksDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIiIsDQogICAgICAgICAgICAgICAgeC5hdHRyKCJocmVmIikudXJsKCksDQogICAgICAgICAgICAgICAgcmV0dXJuT2JqZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0Lm5hbWUpKTsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICB9DQoNCiAgICByZXR1cm4gcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuT2JqZWN0Ow0KfTs=&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KICAgIGNvbnN0IHJldHVybk9iamVjdCA9IHt9Ow0KICAgIHJldHVybk9iamVjdC5pZCA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIxLmJveG5vdmVsIjsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyTGFuZ3VhZ2UgPSAiZW4iOw0KICAgIHJldHVybk9iamVjdC5uYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W1lID0gJ0JveE5vdmVsJzsNCiAgICByZXR1cm5PYmplY3QuZGlzcGxheU5hbWUgPSByZXR1cm5PYmplY3QubmFtZTsNCiAgICByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1cm5PYmplY3QuZGV0YWxpSXRlbVR5cGUgPSBEZXRhbGlJdGVtVHlwZS5Ob3ZlbDsNCiAgICByZXR1cm5PYmplY3QubGF0ZXN0VMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJsID0gJ2h0dHBzOi8vYm94bm92ZWwuY29tL3BhZ2Uve3B9JzsNCiAgICByZXR1cm5PYmplY3QudXJsID0gJ2h0dHBzOi8vYm94bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m92ZWwuY29tJzsNCiAgICByZXR1cm5PYmplY3Quc2VhcmNoVXJsID0gJyc7DQogICAgcmV0dXJuT2JqZWN0LnBhbmluYXRpb24gPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SB0cnVlOw0KICAgIHJldHVybk9iamVjdC5zZWFyY2hQYWdpbmF0aW9uID0gdHJ1ZTsNCiAgICByZXR1cm5PYmplY3QuaWNvbiA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CdodHRwczovL2JveG5vdmVsLmNvbS93cC1jb250ZW50L3VwbG9hZHMvMjAxOC8wNC9ib3gtaWNvbi0xNTB4MTUwLnBuZyc7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzID0gbmV3IFBhcnNlclNlYXJjaFNldHRpbmdzKCk7DQogICAgcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLmdlbnJlcyA9IHsNCiAgICAgICAgbXVsdGlTZWxlY3Rpb246IHRydWUsDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHZhbHVlczogWw0KICAgICAgICBdLA0KICAgIH07DQoNCiAgICByZXR1cm5PYmplY3QubG9hZFNldHRpbmdzID0gYXN5bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mMgKCkgPT4gew0KICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mdldEh0bWwoImh0dHBzOi8vYm94bm92ZWwuY29tLz9zPSZwb3N0X3R5cGU9d3AtbWFuZ2EiKSk7DQogICAgICAgIGNvbnRhaW5lcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5maW5kKCIuY2hlY2tib3gtZ3JvdXAgLmNoZWNrYm94IikuZm9yRWFjaCh4ID0+IHsNCiAgICAgICAgICAgIHJldHVybk9iamVjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZXMudmFsdWVzLnB1c2gobmV3IGxhYmVsVmFsdWUoeC5zZWxlY3QoImxhYmVsIikudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GV4dCgpLCB4LnNlbGVjdCgiaW5wdXQiKS5hdHRyKCJ2YWx1ZSIpLnRleHQoKSkpOw0KICAgICAgICB9KQ0KICAgIH0NCiAgICByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3Muc29ydFR5cGVzID0gew0KICAgICAgICBtdWx0aVNlbGVjdGlvbjogZmFscMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02UsDQogICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0xhdGVzdCBSZWxlYXNlIE5vdmVsJywgJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02xhdGVzdCcpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1JlbGV2YW5jZScsICcnKSwNCiAgICAgICAgICAgIG5ldyBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJlbFZhbHVlKCdSYXRpbmcnLCAncmF0aW5nJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnVHJlbmRpbmcnLCAndHJlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mRpbmcnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNb3N0IFZpZXdzJywgJ3ZpZXdzJyksDQogICAgICAgICAgICBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgbGFiZWxWYWx1ZSgnTmV3JywgJ25ldy1tYW5nYScpLA0KICAgICAgICBdLA0KICAgIH07DQogICAgcmV0dXJuT2JqZWN0LmdldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb25zID0gKGtleXMpID0+IHsNCiAgICAgICAgdmFyIHNlY3Rpb25zID0gWw0KICAgICAgICAgICAgbmV3IFNlY3Rpb24oIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mxhdGVzdCIsICJMYXRlc3QgVXBkYXRlIiwgIkxhdGVzdCIsIHRydWUpLA0KICAgICAgICAgICAgbmV3IFNlY3Rpb24oIm5ldyIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJOZXcgTm92ZWxzIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKHVuZGVmaW5lZCwgIm5ldy1tYW5nYSIpKSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5ldyBTZWN0aW9uKCJNb3N0IFZpZXdzIiwgIk1vc3QgVmlld3MiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIodMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5kZWZpbmVkLCAidmlld3MiKSksDQogICAgICAgIF0NCiAgICAgICAgcmV0dXJuIHNlY3Rpb25zLmZpbHRlcih4ID0+ICFrZXlzIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Hx8IGtleXMuaW5jbHVkZXMoeC5uYW1lKSk7DQogICAgfQ0KICAgIHJldHVybk9iamVjdC50cmFuc2xhdGVTZWN0aW9uID0gYXN5bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mMgKHNlY3Rpb24sIHBhZ2UpID0+IHsNCiAgICAgICAgaWYgKHNlY3Rpb24uaWRlbnRpZmllciA9PSAiTGF0ZXN0IikgcmV0dXJuIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF3YWl0IHJldHVybk9iamVjdC5sYXRlc3QocGFnZSk7DQogICAgICAgIGVsc2UgcmV0dXJuIGF3YWl0IHJldHVybk9iamVjdC5zZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFyY2goc2VjdGlvbi5maWx0ZXIgfHwgcmV0dXJuT2JqZWN0LmRlZmF1bHRGaWx0ZXIoKSwgcGFnZSk7DQogICAgfQ0KICAgIHJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybk9iamVjdC5kZWZhdWx0RmlsdGVyID0gKCkgPT4gew0KICAgICAgICB2YXIgZmlsdGVyID0gbmV3IEZpbHRlcigpOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICByZXR1cm4gZmlsdGVyOw0KICAgIH07DQoNCiAgICAvL2h0dHBzOi8vYm94bm92ZWwuY29tL3BhZ2UvMi8/cyZwb3N0X3R5cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GU9d3AtbWFuZ2EmZ2VucmUlNUIwJTVEPWFjdGlvbiZnZW5yZSU1QjElNUQ9YWR2ZW50dXJlJm9wJmF1dGhvciZhcnRpc3QmcmVsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFzZSZhZHVsdCZtX29yZGVyYnk9bGF0ZXN0DQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaCA9IGFzeW5jIChmaWx0ZXIsIHBhZ2UpIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0+IHsNCiAgICAgICAgdmFyIHVybCA9IGBodHRwczovL2JveG5vdmVsLmNvbS9wYWdlLyR7cGFnZX0vP3M9JHtmaWx0ZXIudGl0bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GUgfHwgIiJ9JnBvc3RfdHlwZT13cC1tYW5nYSZ7Z2VucmV9Jm9wJmF1dGhvciZhcnRpc3QmcmVsZWFzZSZhZHVsdCZtX29yZGVyYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nk9JHtmaWx0ZXIuc29ydFR5cGUgfHwgIiJ9YA0KICAgICAgICBpZiAoZmlsdGVyLmdlbnJlcyAmJiBmaWx0ZXIuZ2VucmVzLmxlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0md0aCA+IDApIHsNCiAgICAgICAgICAgIHVybCA9IHVybC5yZXBsYWNlKCJ7Z2VucmV9IiwgZmlsdGVyLmdlbnJlcy5tYXAoeCA9PMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAiZ2VucmUlNUIwJTVEPSIgKyB4KS5qb2luKCImIikpDQogICAgICAgIH0gZWxzZSB1cmwgPSB1cmwucmVwbGFjZSgiJntnZW5yZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0X0iLCAiIikNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRIdG1sKHVybCkpOw0KICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgIGNvbnRhaW5lci5maW5kKCcudGFiLWNvbnRlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nQtd3JhcCAuYy10YWJzLWl0ZW0gLnRhYi10aHVtYiBhJykuZm9yRWFjaCgoeCkgPT4gew0KICAgICAgICAgICAgcmVzdWx0LnB1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02gobmV3IExpZ2h0SXRlbSh4LnNlbGVjdCgnaW1nJykuYXR0cigic3JjIikudXJsKCksIHguYXR0cigidGl0bGUiKS50ZXh0KCksIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CcnLCB4LmF0dHIoImhyZWYiKS51cmwoKSwgcmV0dXJuT2JqZWN0Lm5hbWUpKTsNCiAgICAgICAgfSk7DQogICAgICAgIHJldHVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iByZXN1bHQ7DQogICAgfQ0KICAgIHJldHVybk9iamVjdC5nZXRDaGFwdGVycyA9IGFzeW5jIChub3ZlbFVybCkgPT4gew0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB0cnkgew0KICAgICAgICAgICAgdmFyIGNoYXB0ZXJzID0gW107DQogICAgICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LnBvc3RGb3JtKCJhamF4L2NoYXB0ZXJzIi51cmkobm92ZWxVcmwpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB7a2V5OiAidGVzdCJ9KSk7DQogICAgICAgICAgICBjb250YWluZXIuZmluZCgnLmxpc3RpbmctY2hhcHRlcnNfd3JhcCBhJykuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m9yRWFjaCh4ID0+IHsNCiAgICAgICAgICAgICAgICBjaGFwdGVycy5wdXNoKG5ldyBDaGFwdGVyKHgudGV4dChmYWxzZSksIHguYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR0cigiaHJlZiIpLnVybCgpKSk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHJldHVybiBjaGFwdGVycy5yZXZlcnNlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ck7DQogICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpDQogICAgICAgICAgICB0aHJvdyBlDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIH0NCiAgICB9DQogICAgcmV0dXJuT2JqZWN0LmdldE5vdmVsID0gYXN5bmMgKG5vdmVsVXJsKSA9PiB7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHZhciBjb250YWluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbChub3ZlbFVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CkpOw0KICAgICAgICB2YXIgY2hhcHRlcnMgPSBhd2FpdCByZXR1cm5PYmplY3QuZ2V0Q2hhcHRlcnMobm92ZWxVcmwpOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB2YXIgaXRlbSA9IG5ldyBOb3ZlbFJldmlld3MoKTsNCiAgICAgICAgaXRlbS5nZW5yZXMgPSBjb250YWluZXIuZmluZCgiLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mdlbnJlcy1jb250ZW50IGEiKS50ZXh0QXJyYXkoKTsNCiAgICAgICAgaXRlbS5hdXRob3IgPSBjb250YWluZXIuZmluZCgiLmF1dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ghvci1jb250ZW50IGEiKS50ZXh0KGZhbHNlKQ0KICAgICAgICBpdGVtLmNvbXBsZXRlZCA9ICJTdGF0dXM6IiArIGNvbnRhaW5lcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5maW5kKCIucG9zdC1zdGF0dXMgLnBvc3QtY29udGVudF9pdGVtIikubGFzdCgpLnNlbGVjdCgiLnN1bW1hcnktY29udGVudCIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRleHQoZmFsc2UpDQogICAgICAgIGl0ZW0udXZvdGVzID0gIlJhdGluZzoiICsgY29udGFpbmVyLnNlbGVjdCgiLnRvdGFsX3ZvdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVzIikudGV4dChmYWxzZSkgKyAiLzUiOw0KICAgICAgICByZXR1cm4gbmV3IERldGFsaUl0ZW0oY29udGFpbmVyLnNlbGVjdCgnLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nN1bW1hcnlfaW1hZ2UgaW1nJykuYXR0cigic3JjIikudXJsKCksIGNvbnRhaW5lci5zZWxlY3QoJy5wb3N0LXRpdGxlIGgxJykudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GV4dChmYWxzZSksIGNvbnRhaW5lci5zZWxlY3QoJy5zdW1tYXJ5X19jb250ZW50JykuY2xlYW5Jbm5lckhUTUwoKSwgbm92ZWxVcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mwsIGNoYXB0ZXJzLCBpdGVtLCByZXR1cm5PYmplY3QubmFtZSwgdW5kZWZpbmVkKTsNCiAgICB9DQogICAgcmV0dXJuT2JqZWN0LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mdldENoYXB0ZXIgPSBhc3luYyAodXJsKSA9PiB7DQogICAgICAgIHJldHVybiByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBjbGllbnQoKS5nZXRIdG1sKHVybCkpLnNlbGVjdCgnLnJlYWRpbmctY29udGVudCcpLmNsZWFuSW5uZXJIVE1MKCk7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgfQ0KICAgIHJldHVybk9iamVjdC5sYXRlc3QgPSBhc3luYyAocGFnZSkgPT4gew0KICAgICAgICB2YXIgdXJsID0gcmV0dXJuTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02JqZWN0LmxhdGVzdFVybC5yZXBsYWNlKCd7cH0nLCBwYWdlLnRvU3RyaW5nKCkpOw0KICAgICAgICB2YXIgY29udGFpbmVyID0gcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwodXJsKSk7DQogICAgICAgIHZhciByZXN1bHQgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SBbXTsNCiAgICAgICAgY29udGFpbmVyLmZpbmQoJy5wYWdlLWxpc3RpbmctaXRlbSAucm93JykuZm9yRWFjaCgoeCkgPT4gew0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IExpZ2h0SXRlbSh4LnNlbGVjdCgnaW1nJykuYXR0cigic3JjIikudXJsKCksIHgucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VsZWN0KCcucG9zdC10aXRsZSBhJykudGV4dCgpLCAnJywgeC5zZWxlY3QoJy5wb3N0LXRpdGxlIGEnKS5hdHRyKCJocmVmIikudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJsKCksIHJldHVybk9iamVjdC5uYW1lKSk7DQogICAgICAgIH0pOw0KICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0NCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CByZXR1cm4gcmV0dXJuT2JqZWN0Ow0KfTs=&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KICAgIHZhciByZXR1cm5PYmplY3QgPSB7fTsNCiAgICByZXR1cm5PYmplY3QuaWQgPSAiMMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S5jb21yYWRlbWFvIjsNCiAgICByZXR1cm5PYmplY3QuZGV0YWxpSXRlbVR5cGUgPSBEZXRhbGlJdGVtVHlwZS5Ob3ZlbDsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CByZXR1cm5PYmplY3QubmFtZSA9ICdDb21yYWRlbWFvJzsNCiAgICByZXR1cm5PYmplY3QuZGlzcGxheU5hbWUgPSAiR29vZ2xlIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FRyYW5zbGF0ZWQgbm92ZWxzIjsNCiAgICByZXR1cm5PYmplY3QubGF0ZXN0VXJsID0gJ2h0dHBzOi8vY29tcmFkZW1hby5jb20vcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFnZS97cH0vJzsNCiAgICByZXR1cm5PYmplY3QudXJsID0gJ2h0dHBzOi8vY29tcmFkZW1hby5jb20nOw0KICAgIHJldHVybk9iaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVjdC5zZWFyY2hVcmwgPSAnaHR0cHM6Ly9jb21yYWRlbWFvLmNvbS9wYWdlL3twfS8/cz17cX0mcG9zdF90eXBlPW5vdmVsJzsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICByZXR1cm5PYmplY3QucGFuaW5hdGlvbiA9IHRydWU7DQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaFBhZ2luYXRpb24gPSB0cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nVlOw0KICAgIHJldHVybk9iamVjdC5pY29uID0gJ2h0dHBzOi8vd3d3Lmdvb2dsZS5jb20vczIvZmF2aWNvbnM/ZG9tYWluPWh0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HBzOi8vY29tcmFkZW1hby5jb20nOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncyA9IG5ldyBQYXJzZXJTZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFyY2hTZXR0aW5ncygpOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJMYW5ndWFnZSA9ICJlbiI7DQogICAgcmV0dXJuT2JqZWN0LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nBhcnNlclNlYXJjaFNldHRpbmdzLmdlbnJlcyA9IHsNCiAgICAgICAgbXVsdGlTZWxlY3Rpb246IGZhbHNlLA0KICAgICAgICB2YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZXM6IFsNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdBY3Rpb24nKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CdDb21lZHknKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdGYW50YXN5JyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZSgnSGFyZW0nKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNYXR1cmUnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FZhbHVlKCdNeXN0ZXJ5JyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnUm9tYW5jZScpLA0KICAgICAgICAgICAgbmV3IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxhYmVsVmFsdWUoJ1NjaS1maScpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1RyYWdlZHknKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBsYWJlbFZhbHVlKCdYaWFueGlhJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnV3V4aWEnKSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCdYdWFuaHVhbicpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0FkdmVudHVyZScpLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1N1cGVybmF0dXJhbCcpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0RyYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W1hJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTWFydGlhbCBBcnRzJywgIk1hcnRpYWwtQXJ0cyIpLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbmV3IGxhYmVsVmFsdWUoJ1NlaW5lbicpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1BzeWNob2xvZ2ljYWwnKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTbGljZSBvZiBMaWZlJywgInNsaWNlLW9mLWxpZmUiKSwNCiAgICAgICAgXMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICB9Ow0KDQoNCg0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5zb3J0VHlwZXMgPSB7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG11bHRpU2VsZWN0aW9uOiBmYWxzZSwNCiAgICAgICAgdmFsdWVzOiBbDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnQMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02hpbmVzZScsICdjaGluZXNlJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnSmFwYW5lc2UnLCAnamFwYW5lc2UnKSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdLb3JlYW4nLCAna29yZWFuJyksDQogICAgICAgIF0sDQogICAgfTsNCg0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5zdGF0dXNlcyA9IHsNCiAgICAgICAgbXVsdGlTZWxlY3Rpb246IGZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HNlLA0KICAgICAgICB2YWx1ZXM6IFsNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJDb21wbGV0ZSIsICJjb21wbGV0ZSIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIk9uR29pbmciLCAib24tZ29pbmciKQ0KICAgICAgICBdDQogICAgfQ0KDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgcmV0dXJuT2JqZWN0LmdldFNlY3Rpb25zID0gKGtleXMpID0+IHsNCiAgICAgICAgdmFyIHNlY3Rpb25zID0gWw0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbmV3IFNlY3Rpb24oImxhdGVzdCIsICJMYXRlc3QgVXBkYXRlIiwgIkxhdGVzdCIsIHRydWUpLA0KICAgICAgICAgICAgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV3IFNlY3Rpb24oImNvbXBsZXRlZCIsICJDb21wbGV0ZWQiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIodW5kZWZpbmVkLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB1bmRlZmluZWQsIHVuZGVmaW5lZCwgImNvbXBsZXRlIikpLA0KICAgICAgICAgICAgbmV3IFNlY3Rpb24oImNoaW5lc2UiLCAiQMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02hpbmVzZSIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsICJjaGluZXNlIikpLA0KICAgICAgICAgICAgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV3IFNlY3Rpb24oImphcGFuZXNlIiwgIkphcGFuZXNlIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKHVuZGVmaW5lZCwgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mphcGFuZXNlIikpLA0KICAgICAgICAgICAgbmV3IFNlY3Rpb24oImtvcmVhbiIsICJLb3JlYW4iLCAiU2VhcmNoIiwgZmFsc2UsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBGaWx0ZXIodW5kZWZpbmVkLCAia29yZWFuIikpDQogICAgICAgIF0NCg0KICAgICAgICByZXR1cm4gc2VjdGlvbnMuZmlsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVyKHggPT4gIWtleXMgfHwga2V5cy5pbmNsdWRlcyh4Lm5hbWUpKTsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QudHJhbnNsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRlU2VjdGlvbiA9IGFzeW5jIChzZWN0aW9uLCBwYWdlKSA9PiB7DQogICAgICAgIGlmIChzZWN0aW9uLmlkZW50aWZpZXIgPT0gIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0kxhdGVzdCIpDQogICAgICAgICAgICByZXR1cm4gYXdhaXQgcmV0dXJuT2JqZWN0LmxhdGVzdChwYWdlKTsNCiAgICAgICAgZWxzZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Q0KICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHJldHVybk9iamVjdC5zZWFyY2goc2VjdGlvbi5maWx0ZXIgfHwgcmV0dXJuT2JqZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0LmRlZmF1bHRGaWx0ZXIoKSwgcGFnZSk7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmRlZmF1bHRGaWx0ZXIgPSAoKSA9PMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iB7DQogICAgICAgIHZhciBmaWx0ZXIgPSBuZXcgRmlsdGVyKCk7DQogICAgICAgIHJldHVybiBmaWx0ZXI7DQogICAgfQ0KDQoNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICByZXR1cm5PYmplY3Quc2VhcmNoID0gYXN5bmMgKGZpbHRlciwgcGFnZSkgPT4gew0KICAgICAgICB2YXIgc29ydFR5cGVVcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mkgPSAiaHR0cHM6Ly9jb21yYWRlbWFvLmNvbS9tdHlwZS97c30vcGFnZS97cH0vIg0KICAgICAgICB2YXIgc29ydFR5cGVVcmwgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SBzb3J0VHlwZVVyaS5yZXBsYWNlKCJ7c30iLCBmaWx0ZXIuc29ydFR5cGUpLnJlcGxhY2UoIntwfSIsIHBhZ2UudG9TdHJpbmcoKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Sk7DQoNCiAgICAgICAgdmFyIHVybCA9IGZpbHRlci5zb3J0VHlwZSAmJiBmaWx0ZXIuc29ydFR5cGUgIT0gIiIgPyBzb3J0VHlwZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0VVybCA6IHJldHVybk9iamVjdC5zZWFyY2hVcmwucmVwbGFjZSgne3F9JywgZmlsdGVyLnRpdGxlIHx8ICIiKS5yZXBsYWNlKCJ7cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0H0iLCBwYWdlLnRvU3RyaW5nKCkpOw0KICAgICAgICBpZiAoZmlsdGVyLmdlbnJlcy5sZW5ndGggJiYgZmlsdGVyLmdlbnJlcy5sZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5ndGggPiAwKQ0KICAgICAgICAgICAgdXJsID0gKCJnZW5yZS8iICsgZmlsdGVyLmdlbnJlc1swXSArICIvcGFnZS97cH0iKS5yZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XBsYWNlKCJ7cH0iLCBwYWdlLnRvU3RyaW5nKCkpLnVyaShyZXR1cm5PYmplY3QudXJsKTsNCiAgICAgICAgZWxzZQ0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBpZiAoZmlsdGVyLmFjdGl2ZSAmJiAoIWZpbHRlci5zb3J0VHlwZSB8fCBmaWx0ZXIuc29ydFR5cGUgPT0gIiIpKQ0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgdXJsID0gKCJzdGF0dXMvIiArIGZpbHRlci5hY3RpdmUgKyAiL3BhZ2Uve3B9IikucmVwbGFjZSgie3B9IiwgcGFnZS50bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU01N0cmluZygpKS51cmkocmV0dXJuT2JqZWN0LnVybCk7DQoNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKHVybCkpOw0KICAgICAgICB2YXIgbXlib3ggPSBjb250YWluZXIuc2VsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0KCIubXlib3giKS5oYXNFbGVtZW50KCk7DQogICAgICAgIHZhciBpdGVtID0gIW15Ym94ID8gY29udGFpbmVyLmZpbmQoInNlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03Rpb24gLmNvbHVtbnMiKSA6IGNvbnRhaW5lci5maW5kKCIubXlib3ggbGkiKTsNCg0KICAgICAgICB2YXIgcmVzdWx0ID0gW107DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIGl0ZW0uZm9yRWFjaCh4ID0+IHsNCiAgICAgICAgICAgIHZhciBhID0gbXlib3ggPyB4LnNlbGVjdCgiaDMgYSIpIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0DogeC5maW5kKCJhIikubGFzdCgpOw0KICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IExpZ2h0SXRlbSgNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB4LnNlbGVjdCgiaW1nIikuYXR0cigic3JjIikudXJsKCksDQogICAgICAgICAgICAgICAgYS50ZXh0KGZhbHNlKSwgIiIsDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgYS5hdHRyKCJocmVmIikudXJsKCksIHJldHVybk9iamVjdC5uYW1lKSk7DQogICAgICAgIH0pOw0KDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmdldENoYXB0ZXJzID0gYXN5bmMgKHVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CkgPT4gew0KICAgICAgICB2YXIgcmVzdWx0ID0ge307DQogICAgICAgIHZhciBwYWdlID0gMTsNCg0KICAgICAgICB3aGlsZSAodMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJ1ZSkgew0KDQogICAgICAgICAgICB2YXIgcFVybCA9ICgiL3BhZ2Uve3BhZ2V9LyIpLnVyaSh1cmwpOw0KICAgICAgICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFyIGl0ZW0gPSByZXR1cm5PYmplY3QucGFyc2VyLnJlbmRlckNvdW50ZXJDYWxscyhwYWdlLCBwVXJsKTsNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HBhZ2UgPSBpdGVtLnBhZ2U7DQogICAgICAgICAgICB2YXIgdmFsdWVzID0gYXdhaXQgUHJvbWlzZS5hbGwoaXRlbS5wcm9taXNlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yk7DQogICAgICAgICAgICB2YXIgYnJlYWtJdCA9IGZhbHNlOw0KDQogICAgICAgICAgICB2YWx1ZXMuZm9yRWFjaCh4ID0+IHsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICBpZiAoIWJyZWFrSXQpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW1zID0gcmV0dXJuT2JqZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0LnBhcnNlci5qcSh4KS5maW5kKCJ0Ym9keSB0ciB0aCBhIik7DQogICAgICAgICAgICAgICAgICAgIGlmICghaXRlbXMuaGFzRMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxlbWVudHMoKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtJdCA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0H0NCg0KICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0QSA9IGl0ZW1zLnJlZHVjZSgoYXJyLCB4KSA9PiB7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICBhcnJbeC50ZXh0KCkgKyB4LmF0dHIoImhyZWYiKS51cmwoKV0gPSBuZXcgQ2hhcHRlcih4LnRleHQoZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsc2UpLCB4LmF0dHIoImhyZWYiKS51cmwoKSk7DQogICAgICAgICAgICAgICAgICAgIH0sIHt9KTsNCg0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBpZiAocmV0dXJuT2JqZWN0LnBhcnNlci52YWxpZGF0ZUNoYXB0ZXJzKHJlc3VsdEEsIHJlc3VsdCkgPT0gZmFsc2UpIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrSXQgPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgfQ0KDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgaWYgKGJyZWFrSXQpDQogICAgICAgICAgICAgICAgYnJlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ws7DQoNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhyZXN1bHQpOw0KICAgIH0NCg0KICAgIHJldHVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0k9iamVjdC5nZXROb3ZlbCA9IGFzeW5jIChub3ZlbFVybCwgYmFzaWNJbmZvKSA9PiB7DQoNCiAgICAgICAgdmFyIGNvbnRhaW5lcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKG5vdmVsVXJsLCBiYXNpY0luZm8pKTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgdmFyIGNoYXB0ZXJzID0gYmFzaWNJbmZvID09PSB0cnVlID8gW10gOiBhd2FpdCByZXR1cm5PYmplY3QuZ2V0Q2hhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlcnMobm92ZWxVcmwpOw0KICAgICAgICB2YXIgbm92ZWxSZXZpZXdzID0gbmV3IE5vdmVsUmV2aWV3cygpOw0KICAgICAgICBpZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAoIWJhc2ljSW5mbykgew0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IGNvbnRhaW5lci5maMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5kKCIjTm92ZWxJbmZvID4gcCIpOw0KDQogICAgICAgICAgICAgICAgbm92ZWxSZXZpZXdzLmdlbnJlcyA9IG5vZGUuZXEoMSkuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mluZCgiYSIpLm1hcCh4ID0+IHgudGV4dCgpKTsNCiAgICAgICAgICAgICAgICBub3ZlbFJldmlld3MuYXV0aG9yID0gbm9kZS5lcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgyKS5zZWxlY3QoImEiKS50ZXh0KCk7DQogICAgICAgICAgICAgICAgbm92ZWxSZXZpZXdzLmNvbXBsZXRlZCA9IG5vZGUubGFzdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CgpLnNlbGVjdCgiYSIpLnRleHQoKSA9PT0gIkNvbXBsZXRlIiA/ICJTdGF0dXM6Q29tcGxldGVkIiA6ICJTdGF0dXM6T25nb2luZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yI7DQogICAgICAgICAgICAgICAgbm92ZWxSZXZpZXdzLmF1dGhvclVybCA9IG5vZGUuZXEoMikuc2VsZWN0KCJhIikuYXR0cigiaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJlZiIpLnRleHQoKTsNCg0KICAgICAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICAgICAgfQ0KDQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIG5ldyBEZXRhbGlJdGVtKA0KICAgICAgICAgICAgYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029udGFpbmVyLnNlbGVjdCgnI05vdmVsSW5mbyBpbWcnKS5hdHRyKCJzcmMiKS51cmwoKSwNCiAgICAgICAgICAgIGNvbnRhaW5lcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5zZWxlY3QoJ3RpdGxlJykudGV4dCgpLnJlcGxhY2UoIkNvbXJhZGUgTWFvIiwgIiIpLnJlcGxhY2UoIi0iLCAiIikudHJpbSgpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgY29udGFpbmVyLmZpbmQoJyNOb3ZlbEluZm8gLmNvbHVtbnMgLmNvbHVtbicpLmxhc3QoKS5jbGVhbklubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVySFRNTCgpLA0KICAgICAgICAgICAgbm92ZWxVcmwsDQogICAgICAgICAgICBjaGFwdGVycy5yZXZlcnNlKCksDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBub3ZlbFJldmlld3MsDQogICAgICAgICAgICByZXR1cm5PYmplY3QubmFtZSwNCiAgICAgICAgICAgIHVuZGVmaW5lZCwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgKQ0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5nZXRDaGFwdGVyID0gYXN5bmMgKHVybCkgPT4gew0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CByZXR1cm4gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBuZXcgY2xpZW50KCkuZ2V0SHRtbCh1cmwpKS5zZWxlY3QoIiNjbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0250ZW50IikuY2xlYW5Jbm5lckhUTUwoKTsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QubGF0ZXN0ID0gYXN5bmMgKHBhZ2UpIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0+IHsNCiAgICAgICAgdmFyIHVybCA9IHJldHVybk9iamVjdC5sYXRlc3RVcmwucmVwbGFjZSgie3B9IiwgcGFnZS50b1N0cmluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ygpKTsNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G1sKHVybCkpOw0KICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgIGNvbnRhaW5lci5maW5kKCJ0Ym9keSA+IHRyID4gdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Gg6Zmlyc3QtY2hpbGQgPiBhIikuZm9yRWFjaCh4ID0+IHsNCiAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBMaWdodEl0ZW0oYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XN5bmMgKCkgPT4gKGF3YWl0IHJldHVybk9iamVjdC5nZXROb3ZlbCh4LmF0dHIoImhyZWYiKS51cmwoKSwgdHJ1ZSkpLmltYWdlLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgICAgIHgudGV4dChmYWxzZSksICIiLCB4LmF0dHIoImhyZWYiKS51cmwoKSwgcmV0dXJuT2JqZWN0Lm5hbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUpKTsNCiAgICAgICAgfSk7DQogICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgfQ0KDQogICAgcmV0dXJuIHJldHVybk9iamVjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0DsNCn07&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KICAgIGNvbnN0IHJldHVybk9iamVjdD0ge307DQogICAgcmV0dXJuT2JqZWN0LmlkID0gIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0jEua29sbm92ZWwiOw0KICAgIHJldHVybk9iamVjdC5kZXRhbGlJdGVtVHlwZSA9IERldGFsaUl0ZW1UeXBlLk5vdmVsOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybk9iamVjdC5wYXJzZXJMYW5ndWFnZSA9ICJhciI7DQogICAgcmV0dXJuT2JqZWN0Lm5hbWUgPSAnS29sTm92ZWwnOw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHJldHVybk9iamVjdC5kaXNwbGF5TmFtZSA9IHJldHVybk9iamVjdC5uYW1lOw0KICAgIHJldHVybk9iamVjdC5sYXRlc3RVcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mwgPSAnaHR0cDovL2tvbG5vdmVsLmNvbS9zZXJpZXM/cGFnZT17cH0mc3RhdHVzPSZ0eXBlPSZvcmRlcj11cGRhdGUnOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybk9iamVjdC51cmwgPSAiaHR0cHM6Ly9rb2xub3ZlbC5jb20iOw0KICAgIHJldHVybk9iamVjdC5zZWFyY2hVcmwgPSAiaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HR0cHM6Ly9rb2xub3ZlbC5jb20vc2VyaWVzP3BhZ2U9e3B9Jm9yZGVyPSI7DQogICAgcmV0dXJuT2JqZWN0LnBhbmluYXRpb24gPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SB0cnVlOw0KICAgIHJldHVybk9iamVjdC5zZWFyY2hQYWdpbmF0aW9uID0gdHJ1ZTsNCiAgICByZXR1cm5PYmplY3QuaWNvbiA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CdodHRwczovL2tvbG5vdmVsLmNvbS93cC1jb250ZW50L3VwbG9hZHMvMjAxOS8wNi9jcm9wcGVkLdij2YrZgtmI2YYtMS0xLTE1MMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HgxNTAucG5nJzsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3MgPSBuZXcgUGFyc2VyU2VhcmNoU2V0dGluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03MoKTsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3MuZ2VucmVzID0gew0KICAgICAgICBtdWx0aVNlbGVjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlvbjogdHJ1ZSwNCiAgICAgICAgdmFsdWVzOiBbDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiV3V4aWEiLCAnd3V4aWEnKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJYaWFueGlhIiwgInhpYW54aWEiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FZhbHVlKCJYVUFOSFVBTiIsICJ4dWFuaHVhbiIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoItij2LXZhNmK2KkiLCAibMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03JpZ2luYWwiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCLYo9mD2LTZhiIsICJhY3Rpb24iKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBsYWJlbFZhbHVlKCLYpdir2KfYsdipIiwgImV4Y2l0ZW1lbnQiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCLYpMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0dmG2KrZgtin2YQg2KfZhNmJINi52KfZhNmFINij2K7YsSIsICJpc2VrYWkiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CLYpdmK2KrYtNmKIiwgImV0Y2hpIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgi2KfZhNiu2YrYp9mEINin2YTYudmE2MDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0YXZiiIsICJzY2ktZmkiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCLYqNmI2YTZitiz2YoiLCAicG9saWN5IiksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgi2KrYp9ix2YrYrtmKIiwgImhpc3RvcmljYWwiKSwNCiAgICAgICAgICAgIG5ldyBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJlbFZhbHVlKCLYqtmC2YXYtSDYtNiu2LXZitin2KoiLCAicnBnIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgi2KzYsMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0dmK2YXYqSIsICJjcmltZSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoItis2YjYs9mJIiwgImpvc2VpIiksDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBuZXcgbGFiZWxWYWx1ZSgi2K3YsdmK2YUiLCAiaGFyZW0iKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCLYrMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0dmK2KfYqSDZhdiv2LHYs9mK2KkiLCAic2Nob29sLWxpZmUiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCLYrtin2LHZgMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0tipINmE2YTYt9io2YrYudipIiwgInN1cGVybmF0dXJhbCIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoItiu2YrYp9mE2MDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0YoiLCAiZmFudGFzeSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoItiv2LHYp9mF2KciLCAiZHJhbWEiKSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5ldyBsYWJlbFZhbHVlKCLYsdi52KgiLCAiaG9ycm9yIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgi2LHZiMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0NmF2KfZhtiz2YoiLCAicm9tYW50aWMiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCLYs9it2LEiLCAibWFnaWMiKSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCLYs9mK2YbZhiIsICJzZW5lbiIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUoIti02LHZitit2Kkg2YXZhiDYp9mE2K3Zitin2KkiLCAic2xpY2Utb2YtbGlmZSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoIti02YjZhtmK2YYiLCAic2hvbmVuIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgi2LXZitmG2YoiLCAiY2hpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVzZSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIti62YXZiNi2IiwgIm15c3RlcmllcyIpLA0KICAgICAgICAgICAgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV3IGxhYmVsVmFsdWUoItmB2YbZiNmGINin2YTZgtiq2KfZhCIsICJtYXJ0aWFsLWFydHMiKSwNCiAgICAgICAgICAgIG5ldyBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJlbFZhbHVlKCLZgtmI2Ykg2K7Yp9ix2YLYqSIsICJzdXBlcnBvd2VyIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgi2MDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0YPZiNix2YoiLCAia29yZWFuIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgi2YPZiNmF2YrYr9mJIiwgImNvbWVkeSIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoItmF2KPYs9in2YjZiiIsICJ0cmFnZWR5IiksDQogICAgICAgICAgICBuZXcgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFiZWxWYWx1ZSgi2YXYpyDYqNi52K8g2KfZhNmD2KfYsdir2KkiLCAiYWZ0ZXItdGhlLWRpc2FzdGVyIiksDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBuZXcgbGFiZWxWYWx1ZSgi2YXYutin2YXYsdipIiwgImFkdmVudHVyZSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0tmF2YrZg9inIiwgIm1lY2hhbmljYWwiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCLZhtin2LbYrCIsICJtYXR1cmUiKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCLZhtmB2LPZiiIsICJwc3ljaG9sb2dpY2FsIiksDQogICAgICAgICAgICBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgbGFiZWxWYWx1ZSgi2YrYp9io2KfZhtmKIiwgImphcGFuZXNlIiksDQoNCg0KICAgICAgICBdLA0KICAgIH07DQoNCiAgICByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3Muc3RhdHVzZXMgPSB7DQogICAgICAgIG11bHRpU2VsZWN0aW9uOiB0cnVlLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICB2YWx1ZXM6IFsNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdPbkdvaW5nJywgJ29uZ29pbmcnKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdIaWF0dXMnLCAnaGlhdHVzJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnQMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029tcGxldGVkJywgJ2NvbXBsZXRlZCcpLA0KICAgICAgICBdLA0KICAgIH07DQoNCiAgICByZXR1cm5PYmplY3QuZ2V0U2VjdGlvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nMgPSAoa2V5cykgPT4gew0KICAgICAgICB2YXIgc2VjdGlvbnMgPSBbDQogICAgICAgICAgICBuZXcgU2VjdGlvbigibGF0ZXN0IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iwgIkxhdGVzdCBVcGRhdGUiLCAiTGF0ZXN0IiwgdHJ1ZSksDQogICAgICAgICAgICBuZXcgU2VjdGlvbigiY29tcGxldGVkIiwgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0kNvbXBsZXRlZCBOb3ZlbCIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVkLCAiY29tcGxldGVkIikpDQogICAgICAgIF0NCg0KICAgICAgICByZXR1cm4gc2VjdGlvbnMuZmlsdGVyKHggPT4gIWtleXMgfMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Hwga2V5cy5pbmNsdWRlcyh4Lm5hbWUpKTsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QudHJhbnNsYXRlU2VjdGlvbiA9IGFzeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5jIChzZWN0aW9uLCBwYWdlKSA9PiB7DQogICAgICAgIGlmIChzZWN0aW9uLmlkZW50aWZpZXIgPT0gIkxhdGVzdCIpDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICByZXR1cm4gYXdhaXQgcmV0dXJuT2JqZWN0LmxhdGVzdChwYWdlKTsNCiAgICAgICAgZWxzZQ0KICAgICAgICAgICAgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuIGF3YWl0IHJldHVybk9iamVjdC5zZWFyY2goc2VjdGlvbi5maWx0ZXIgfHwgcmV0dXJuT2JqZWN0LmRlZmF1bHRGaWx0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIoKSwgcGFnZSk7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmRlZmF1bHRGaWx0ZXIgPSAoKSA9PiB7DQogICAgICAgIHZhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iBmaWx0ZXIgPSBuZXcgRmlsdGVyKCk7DQogICAgICAgIHJldHVybiBmaWx0ZXI7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlYXJjaCA9IGFzeW5jIChmaWx0ZXIsIHBhZ2UpID0+IHsNCiAgICAgICAgdmFyIHVybCA9IHJldHVybk9iamVjdC5zZWFyY2hVcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mwucmVwbGFjZSgie3B9IiwgcGFnZS50b1N0cmluZygpKTsNCiAgICAgICAgaWYgKGZpbHRlci50aXRsZSAmJiAhZmlsdGVyLnRpdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxlLmlzRW1wdHlPclNwYWNlcygpKQ0KICAgICAgICAgICAgdXJsICs9ICImcz0iICsgZmlsdGVyLnRpdGxlOw0KICAgICAgICBpZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAoZmlsdGVyLmdlbnJlcy5sZW5ndGggPiAwKQ0KICAgICAgICAgICAgdXJsICs9ICImIiArIGZpbHRlci5nZW5yZXMubWFwKHggPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0T4gImdlbnJlW109IiArIHgpLmpvaW4oIiYiKTsNCiAgICAgICAgaWYgKGZpbHRlci5hY3RpdmUgJiYgZmlsdGVyLmFjdGl2ZS5sZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5ndGggPiAwKQ0KICAgICAgICAgICAgdXJsICs9ICImc3RhdHVzPSIgKyBmaWx0ZXIuYWN0aXZlOw0KICAgICAgICB2YXIgY29udMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwodXJsKSk7DQogICAgICAgIHZhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iByZXN1bHQgPSBbXTsNCiAgICAgICAgY29udGFpbmVyLmZpbmQoJy5saXN0dXBkIGEnKS5mb3JFYWNoKCh4KSA9PiB7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBpZiAoeC5zZWxlY3QoJ2ltZycpLmF0dHIoInNyYyIpLmhhc1ZhbHVlKCkpDQogICAgICAgICAgICAgICAgcmVzdWx0LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nB1c2goDQogICAgICAgICAgICAgICAgICAgIG5ldyBMaWdodEl0ZW0oeC5zZWxlY3QoJ2ltZycpLmF0dHIoInNyYyIpLnVybCgpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoJy5udGl0bGUnKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICcnLA0KICAgICAgICAgICAgICAgICAgICAgICAgeC5hdHRyKCJocmVmIikudXJsKCksIHJldHVybk9iamVjdC5uYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W1lDQogICAgICAgICAgICAgICAgICAgICksDQogICAgICAgICAgICAgICAgKTsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuIHJlc3VsdDsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QuZ2V0Tm92ZWwgPSBhc3luYyAobm92ZWxVcmwpID0+IHsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgdmFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKG5vdmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJsKSk7DQogICAgICAgIHZhciBjaGFwdGVycyA9IGNvbnRhaW5lci5maW5kKCIuZXBsaXN0ZXIgbGkgYSIpLm1hcCh4ID0+IG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBDaGFwdGVyKHguc2VsZWN0KCIuZXBsLW51bSIpLnRleHQoZmFsc2UpICsgIiAiICsgeC5zZWxlY3QoIi5lcGwtdGl0bGUiKS50ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Xh0KGZhbHNlKSwgeC5hdHRyKCJocmVmIikudXJsKCkpKQ0KICAgICAgICB2YXIgbm92ZWxSZXZpZXdzID0gbmV3IE5vdmVsUmV2aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WV3cygpOw0KICAgICAgICB2YXIgaW5mb3MgPSBjb250YWluZXIuZmluZCgiLm5pbmZvIik7DQogICAgICAgIG5vdmVsUmV2aWV3cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5nZW5yZXMgPSBjb250YWluZXIuZmluZCgiLmdlbnhlZCBhIikubWFwKHggPT4geC50ZXh0KGZhbHNlKSk7DQogICAgICAgIG5vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsUmV2aWV3cy5hdXRob3IgPSBpbmZvcy5lcSgwKS5maW5kKCIuaW5mby1jb250ZW50IC5zcGUgc3BhbiIpLmVxKDIpLmZpbmQoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mEiKS50ZXh0QXJyYXkoKS5qb2luKCIsIik7DQogICAgICAgIG5vdmVsUmV2aWV3cy51dm90ZXMgPSBjb250YWluZXIuc2VsZWN0KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIucmF0aW5nIHN0cm9uZyIpLnRleHQoKS5udW1iZXIoKSArICIgLyAxMCI7DQogICAgICAgIG5vdmVsUmV2aWV3cy5jb21wbGV0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WQgPSBjb250YWluZXIuZmluZCgiLmluZm8tY29udGVudCAuc3BlIHNwYW4iKS5lcSgwKS5yZW1vdmUoImIiKS50ZXh0KGZhbHNlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SA9PT0gIkNvbXBsZXRlZCIgPyAiU3RhdHVzOkNvbXBsZXRlZCIgOiAiU3RhdHVzOk9uZ29pbmciOw0KDQogICAgICAgIHJldHVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iBuZXcgRGV0YWxpSXRlbSgNCiAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoJy50aHVtYiBpbWcnKS5hdHRyKCJzcmMiKS51cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mwoKSwNCiAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoJy5lbnRyeS10aXRsZScpLnRleHQoZmFsc2UpLA0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgY29udGFpbmVyLnNlbGVjdCgnLmVudHJ5LWNvbnRlbnQnKS5jbGVhbklubmVySFRNTCgpLA0KICAgICAgICAgICAgbm92ZWxVcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mwsDQogICAgICAgICAgICBjaGFwdGVycy5yZXZlcnNlKCksDQogICAgICAgICAgICBub3ZlbFJldmlld3MsDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CByZXR1cm5PYmplY3QubmFtZSwNCiAgICAgICAgICAgIHVuZGVmaW5lZCwNCiAgICAgICAgKTsNCiAgICB9DQoNCg0KICAgIHJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybk9iamVjdC5nZXRDaGFwdGVyID0gYXN5bmMgKHVybCkgPT4gew0KICAgICAgICByZXR1cm4gcmV0dXJuT2JqZWN0LnBhcnNlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5qcShhd2FpdCBuZXcgY2xpZW50KCkuZ2V0SHRtbCh1cmwpKS5zZWxlY3QoJy5lbnRyeS1jb250ZW50JykuY2xlYW5Jbm5lckhUTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0UwoKTsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QubGF0ZXN0ID0gYXN5bmMgKHBhZ2UpID0+IHsNCiAgICAgICAgdmFyIHVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CA9IHJldHVybk9iamVjdC5sYXRlc3RVcmwucmVwbGFjZSgne3B9JywgcGFnZS50b1N0cmluZygpKTsNCiAgICAgICAgdmFyIGh0bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WwgPWF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbCh1cmwpOw0KICAgICAgICBjb25zb2xlLmxvZyhodG1sKQ0KICAgICAgICB2YXIgYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShodG1sKTsNCiAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBjb250YWluZXIuZmluZCgnLmxpc3R1cGQgYScpLmZvckVhY2goKHgpID0+IHsNCiAgICAgICAgICAgIGlmICh4LnNlbGVjdCgnaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W1nJykuYXR0cigic3JjIikuaGFzVmFsdWUoKSkNCiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCgNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbmV3IExpZ2h0SXRlbSh4LnNlbGVjdCgnaW1nJykuYXR0cigic3JjIikudXJsKCksDQogICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB4LnNlbGVjdCgnLm50aXRsZScpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgICAgICAgICAgICAgJycsDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICB4LmF0dHIoImhyZWYiKS51cmwoKSwgcmV0dXJuT2JqZWN0Lm5hbWUNCiAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgKSwNCiAgICAgICAgICAgICAgICApOw0KICAgICAgICB9KTsNCg0KICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0NCg0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHJldHVybiByZXR1cm5PYmplY3Q7DQp9Ow==&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KICAgIGNvbnN0IHJldHVybk9iamVjdCA9IHt9Ow0KICAgIHJldHVybk9iamVjdC5pZCA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIxLmxpZ2h0bm92ZWxwdWIiOw0KICAgIHJldHVybk9iamVjdC5kZXRhbGlJdGVtVHlwZSA9IERldGFsaUl0ZW1UeXBlLk5vdmVsOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgIHJldHVybk9iamVjdC5wYXJzZXJMYW5ndWFnZSA9ICJlbiI7DQogICAgcmV0dXJuT2JqZWN0Lm5hbWUgPSAnTGlnaHRObMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03ZlbFB1Yic7DQogICAgcmV0dXJuT2JqZWN0LmRpc3BsYXlOYW1lID0gIkxpZ2h0LU5vdmVsIjsNCiAgICByZXR1cm5PYmplY3QubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF0ZXN0VXJsID0gJ2h0dHBzOi8vd3d3LmxpZ2h0bm92ZWxwdWIuY29tL2Jyb3dzZS9hbGwvdXBkYXRlZC9hbGwve3B9JzsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CByZXR1cm5PYmplY3QudXJsID0gJ2h0dHBzOi8vd3d3LmxpZ2h0bm92ZWxwdWIuY29tJzsNCiAgICByZXR1cm5PYmplY3Quc2VhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mNoVXJsID0gJ2h0dHBzOi8vd3d3LmxpZ2h0bm92ZWxwdWIuY29tL2xud3NlYXJjaGxpdmU/aW5wdXRDb250ZW50PXtxfSc7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgcmV0dXJuT2JqZWN0LnBhbmluYXRpb24gPSB0cnVlOw0KICAgIHJldHVybk9iamVjdC5zZWFyY2hQYWdpbmF0aW9uID0gdHJ1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TsNCiAgICByZXR1cm5PYmplY3QuaWNvbiA9ICdodHRwczovL3N0YXRpYy5saWdodG5vdmVscHViLmNvbS9jb250ZW50L2ltZy9saMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WdodG5vdmVscHViL2FwcGxlLXRvdWNoLWljb24ucG5nJzsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3MgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SBuZXcgUGFyc2VyU2VhcmNoU2V0dGluZ3MoKTsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3MubXVsdGlTZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxlY3Rpb24gPSB0cnVlOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZXMgPSB7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G11bHRpU2VsZWN0aW9uOiB0cnVlLA0KICAgICAgICB2YWx1ZXM6IFsNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJBY3RpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU024iLCAxKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJBZHVsdCIsIDQ4KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVlKCJBZHZlbnR1cmUiLCAyKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJDb21lZHkiLCAxMiksDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBuZXcgbGFiZWxWYWx1ZSgiQ29udGVtcG9yYXJ5IFJvbWFuY2UiLCA1OSksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiRMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJhbWEiLCAzKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJFYXN0ZXJuIEZhbnRhc3kiLCA1OCksDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBuZXcgbGFiZWxWYWx1ZSgiRWNjaGkiLCAxMSksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiRmFudGFzeSIsIDQpLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkZhbnRhc3kgUm9tYW5jZSIsIDYwKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVlKCJHZW5kZXIgQmVuZGVyIiwgNTIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkhhcmVtIiwgNSksDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBuZXcgbGFiZWxWYWx1ZSgiSGlzdG9yaWNhbCIsIDQ2KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJIb3Jyb3IiLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CA0NCksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiSm9zZWkiLCAyMyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgiTG9saWNvbiIsIDUxKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJNYWdpY2FsIFJlYWxpc20iLCA1NyksDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTWFydGlhbCBBcnRzIiwgNiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTWF0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJlIiwgNyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTWVjaGEiLCA0NSksDQogICAgICAgICAgICBuZXcgbGFiZWxWYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZSgiTXlzdGVyeSIsIDE0KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJQc3ljaG9sb2dpY2FsIiwgMTgpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlJvbWFuY2UiLCA4KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTY2hvb2wgTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlmZSIsIDIxKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTY2ktZmkiLCAxOSksDQogICAgICAgICAgICBuZXcgbGFiZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxWYWx1ZSgiU2VpbmVuIiwgNDkpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNob3VqbyIsIDQ3KSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCJTaG91am8gQWkiLCA2MSksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2hvdW5lbiIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0DQzKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTaG91bmVuIEFpIiwgNTMpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoIlNsaWNlIG9mIExpZmUiLCAxMyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU211dCIsIDU2KSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5ldyBsYWJlbFZhbHVlKCJTcG9ydHMiLCA1MCksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU3VwZXJuYXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsIiwgMTYpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlRyYWdlZHkiLCA5KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FZhbHVlKCJWaWRlbyBHYW1lcyIsIDU1KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJXdXhpYSIsIDQyKSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5ldyBsYWJlbFZhbHVlKCJYaWFueGlhIiwgMjApLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlh1YW5odWFuIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iwgMTApLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIllhb2kiLCA1NCkNCiAgICAgICAgXQ0KICAgIH0NCg0KICAgIHJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5zdGF0dXNlcyA9IHsNCiAgICAgICAgbXVsdGlTZWxlY3Rpb246IHRydWUsDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkNvbXBsZXRlZCIsIDEpLA0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbmV3IGxhYmVsVmFsdWUoIk9uZ29pbmciLCAyKSwNCiAgICAgICAgXQ0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5wYXJzZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJTZWFyY2hTZXR0aW5ncy5sYW5ndWFnZXMgPSB7DQogICAgICAgIG11bHRpU2VsZWN0aW9uOiB0cnVlLA0KICAgICAgICB2YWx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XM6IFsNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJDaGluZXNlIE5vdmVsIiwgNCksDQogICAgICAgICAgICBuZXcgbGFiZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxWYWx1ZSgiS29yZWFuIE5vdmVsIiwgNSksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTGlnaHQgTm92ZWwiLCA2KSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJMaWdodCBOb3ZlbCAoSlApIiwgOSksDQogICAgICAgICAgICBuZXcgbGFiZWxWYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZSgiTGlnaHQgTm92ZWwgKEtSKSIsIDEwKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJQdWJsaXNoZWQgTm92ZWwgKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ENOKSIsIDExKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJQdWJsaXNoZWQgTm92ZWwgKEtSKSIsIDgpLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbmV3IGxhYmVsVmFsdWUoIldlYiBOb3ZlbCIsIDcpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIldlYiBOb3ZlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAoQ04pIiwgMSksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiV2ViIE5vdmVsIChKUCkiLCAzKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBsYWJlbFZhbHVlKCJXZWIgTm92ZWwgKEtSKSIsIDIpDQogICAgICAgIF0NCiAgICB9DQoNCg0KICAgIHJldHVybk9iamVjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5nZXRTZWN0aW9ucyA9IChrZXlzKSA9PiB7DQogICAgICAgIHZhciBzZWN0aW9ucyA9IFsNCiAgICAgICAgICAgIG5ldyBTZWN0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W9uKCJsYXRlc3QiLCAiTGF0ZXN0IFVwZGF0ZSIsICJMYXRlc3QiLCB0cnVlKSwNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU021hbmNlIiwgIlJvbWFuY2UiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIoWzhdKSksDQogICAgICAgICAgICBuZXcgU2VjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlvbigiYWN0aW9uIiwgIkFjdGlvbiIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcihbMV0pKSwNCiAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBTZWN0aW9uKCJteXN0ZXJ5IiwgIk15c3RlcnkiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIoWzE0XSkpLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBdDQoNCiAgICAgICAgcmV0dXJuIHNlY3Rpb25zLmZpbHRlcih4ID0+ICFrZXlzIHx8IGtleXMuaW5jbHVkZXMoeC5uYW1lKSk7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LnRyYW5zbGF0ZVNlY3Rpb24gPSBhc3luYyAoc2VjdGlvbiwgcGFnZSkgPT4gew0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBpZiAoc2VjdGlvbi5pZGVudGlmaWVyID09ICJMYXRlc3QiKQ0KICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHJldHVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0k9iamVjdC5sYXRlc3QocGFnZSk7DQogICAgICAgIGVsc2UNCiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZXR1cm5PYmplY3QucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VhcmNoKHNlY3Rpb24uZmlsdGVyIHx8IHJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyKCksIHBhZ2UpOw0KICAgIH0NCg0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyID0gKCkgPT4gew0KICAgICAgIHJldHVybiBuZXcgRmlsdGVyKCk7DQogICAgfTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0g0KICAgIHJldHVybk9iamVjdC5nZXRHZW5yZXMgPSBhc3luYyAoZmlsdGVyLCBwYWdlKSA9PiB7DQogICAgICAgIHZhciB1cmwgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SAiaHR0cHM6Ly93d3cubGlnaHRub3ZlbHB1Yi5jb20vc2VhcmNoYWR2P2N0Z2Nvbj1hbmQmdGFnY29uPWFuZCZyYXRjb249bWluJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nJhdGluZz0wJnNvcnQ9c2RhdGUmcGFnZU5vPSIgKyBwYWdlOw0KICAgICAgICBpZiAoZmlsdGVyLmFjdGl2ZSkNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHVybCA9IHVybCArICImc3RhdHVzPSIgKyBmaWx0ZXIuYWN0aXZlOw0KICAgICAgICBpZiAoZmlsdGVyLmxhbmd1YWdlICYmIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GZpbHRlci5sYW5ndWFnZSAhPSAiIikNCiAgICAgICAgICAgIHVybCA9IHVybCArICImZ2VucmV0eXBlcz0iICsgZmlsdGVyLmxhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0md1YWdlOw0KDQogICAgICAgIGlmIChmaWx0ZXIuZ2VucmVzLmxlbmd0aCA+IDApDQogICAgICAgICAgICB1cmwgPSB1cmwgKyAiJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mNhdGVnb3JpZXM9IiArIGZpbHRlci5nZW5yZXMuam9pbigiJTJDIik7DQogICAgICAgIHZhciBjb250YWluZXIgPSByZXR1cm5PYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbCh1cmwpKTsNCiAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBjb250YWluZXIuZmluZCgiLm5vdmVsLWl0ZW0iKS5mb3JFYWNoKHggPT4gew0KICAgICAgICAgICAgcmVzdWx0LnB1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02gobmV3IExpZ2h0SXRlbSh4LnNlbGVjdCgiaW1nIikuYXR0cigiZGF0YS1zcmMgfCBzcmMiKS51cmwoKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB4LnNlbGVjdCgiLm5vdmVsLXRpdGxlIGEiKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgICAiIiwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB4LnNlbGVjdCgiLm5vdmVsLXRpdGxlIGEiKS5hdHRyKCJocmVmIikudXJsKCksDQogICAgICAgICAgICAgICAgcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuT2JqZWN0Lm5hbWUpKTsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICB9DQoNCiAgICByZXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m5PYmplY3Quc2VhcmNoID0gYXN5bmMgKGZpbHRlciwgcGFnZSkgPT4gew0KICAgICAgICBpZiAoIWZpbHRlci50aXRsZSkNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIGZpbHRlci50aXRsZSA9ICIiOw0KICAgICAgICB2YXIgdXJsID0gcmV0dXJuT2JqZWN0LnNlYXJjaFVybC5yZXBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WNlKCJ7cH0iLCBwYWdlLnRvU3RyaW5nKCkpLnJlcGxhY2UoIntxfSIsIGZpbHRlci50aXRsZSk7DQogICAgICAgIGlmIChmaWx0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIuZ2VucmVzLmxlbmd0aCA+IDAgfHwgZmlsdGVyLmxhbmd1YWdlICE9ICIiIHx8IGZpbHRlci5hY3RpdmUpDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CByZXR1cm4gYXdhaXQgcmV0dXJuT2JqZWN0LmdldEdlbnJlcyhmaWx0ZXIsIHBhZ2UpOw0KICAgICAgICB2YXIgY29udGFpbmVyIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0gYXdhaXQgSHR0cENsaWVudC5HZXRKc29uKHVybCk7DQogICAgICAgIHZhciBodG1sID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Shjb250YWluZXIucmVzdWx0dmlldy50b0h0bWwoKSk7DQogICAgICAgIHZhciByZXN1bHQgPSBbXTsNCiAgICAgICAgaHRtbC5maMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5kKCIubm92ZWwtaXRlbSIpLmZvckVhY2goeCA9PiB7DQogICAgICAgICAgICByZXN1bHQucHVzaChuZXcgTGlnaHRJdGVtKHgucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VsZWN0KCJpbWciKS5hdHRyKCJkYXRhLXNyYyB8IHNyYyIpLnVybCgpLA0KICAgICAgICAgICAgICAgIHguc2VsZWN0KCIubm92ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WwtdGl0bGUiKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgICAiIiwNCiAgICAgICAgICAgICAgICB4LnNlbGVjdCgiYSIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mF0dHIoImhyZWYiKS51cmwoKSwNCiAgICAgICAgICAgICAgICByZXR1cm5PYmplY3QubmFtZSkpOw0KICAgICAgICB9KTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICB9DQoNCg0KICAgIHJldHVybk9iamVjdC5nZXRDaGFwdGVycyA9IGFzeW5jIChub3ZlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FVybCkgPT4gew0KICAgICAgICB2YXIgcGFnZSA9IDE7DQogICAgICAgIHZhciByZXN1bHQgPSB7fTsNCiAgICAgICAgd2hpbGUgKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRydWUpIHsNCiAgICAgICAgICAgIHZhciB1cmwgPSBub3ZlbFVybCArICIvcGFnZS17cGFnZX0iOw0KICAgICAgICAgICAgdmFyIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Gl0ZW0gPSByZXR1cm5PYmplY3QucGFyc2VyLnJlbmRlckNvdW50ZXJDYWxscyhwYWdlLCB1cmwpOw0KICAgICAgICAgICAgcGFnZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SA9IGl0ZW0ucGFnZTsNCiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBhd2FpdCBQcm9taXNlLmFsbChpdGVtLnByb21pc2VzKTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIHZhciBicmVha0l0ID0gZmFsc2U7DQoNCiAgICAgICAgICAgIHZhbHVlcy5mb3JFYWNoKHggPT4gew0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIGlmICghYnJlYWtJdCkgew0KICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbXMgPSByZXR1cm5PYmplY3QucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFyc2VyLmpxKHgpLmZpbmQoIi5jaGFwdGVyLWxpc3QgYSIpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoIWl0ZW1zLmhhc0VsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W1lbnRzKCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrSXQgPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICB9DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QoNCiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdEEgPSBpdGVtcy5yZWR1Y2UoKGFyciwgeCkgPT4gew0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgYXJyW3guYXR0cigidGl0bGUiKS50ZXh0KCkgKyB4LmF0dHIoImhyZWYiKS51cmwoKV0gPSBuZXcgQ2hhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlcih4LmF0dHIoInRpdGxlIikudGV4dCgpLCB4LmF0dHIoImhyZWYiKS51cmwoKSk7DQogICAgICAgICAgICAgICAgICAgIH0sIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ht9KTsNCg0KICAgICAgICAgICAgICAgICAgICBpZiAocmV0dXJuT2JqZWN0LnBhcnNlci52YWxpZGF0ZUNoYXB0ZXJzKHJlc3VsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EEsIHJlc3VsdCkgPT0gZmFsc2UpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrSXQgPSB0cnVlOw0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB9KQ0KDQogICAgICAgICAgICBpZiAoYnJlYWtJdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CkNCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgfQ0KDQogICAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKHJlc3VsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ck7DQoNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QuZ2V0Tm92ZWwgPSBhc3luYyAobm92ZWxVcmwpID0+IHsNCiAgICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKG5vdmVsVXJsKSk7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIHZhciBjaGFwdGVyVXJsID0gY29udGFpbmVyLnNlbGVjdCgiLmNoYXB0ZXItbGF0ZXN0LWNvbnRhaW5lciIpLmF0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HIoImhyZWYiKS51cmwoKTsNCiAgICAgICAgaWYgKCFjaGFwdGVyVXJsIHx8IGNoYXB0ZXJVcmwgPT0gIiIpDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBjaGFwdGVyVXJsID0gbm92ZWxVcmw7DQogICAgICAgIHZhciBjaGFwdGVycyA9IGF3YWl0IHJldHVybk9iamVjdC5nZXRDaGFwdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVycyhjaGFwdGVyVXJsKTsNCiAgICAgICAgdmFyIG5vdmVsUmV2aWV3cyA9IG5ldyBOb3ZlbFJldmlld3MoKTsNCiAgICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFyIGluZm8gPSBjb250YWluZXIuc2VsZWN0KCIubm92ZWwtaW5mbyIpOw0KICAgICAgICBub3ZlbFJldmlld3MuZ2VucmVzID0gaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5mby5maW5kKCIuY2F0ZWdvcmllcyBhIikudGV4dEFycmF5KCk7DQogICAgICAgIG5vdmVsUmV2aWV3cy5hdXRob3IgPSBpbmZvLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlbGVjdCgiLmF1dGhvciBhIikudGV4dChmYWxzZSk7DQogICAgICAgIG5vdmVsUmV2aWV3cy51dm90ZXMgPSAiUmF0aW5nOiIgKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBjb250YWluZXIuc2VsZWN0KCIucmF0aW5nLXN0YXIgc3Ryb25nIikudGV4dChmYWxzZSkgKyAiLzUiOw0KICAgICAgICBub3ZlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FJldmlld3MuZGVzY3JpcHRpb24gPSBjb250YWluZXIuc2VsZWN0KCIjaW5mbyAuc3VtbWFyeSIpLmNsZWFuSW5uZXJIVE1MKCk7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIG5vdmVsUmV2aWV3cy5jb21wbGV0ZWQgPSBpbmZvLnRleHQoZmFsc2UpID09PSAiQ29tcGxldGVkIiA/ICJTdGF0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XM6Q29tcGxldGVkIiA6ICJTdGF0dXM6T25nb2luZyI7DQoNCiAgICAgICAgcmV0dXJuIG5ldyBEZXRhbGlJdGVtKA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgY29udGFpbmVyLnNlbGVjdCgiLmNvdmVyIGltZyIpLmF0dHIoImRhdGEtc3JjIHwgc3JjIikudXJsKCksDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBjb250YWluZXIuc2VsZWN0KCIubm92ZWwtdGl0bGUiKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5kZXNjcmlwdGlvbiwNCiAgICAgICAgICAgIG5vdmVsVXJsLA0KICAgICAgICAgICAgY2hhcHRlcnMsDQogICAgICAgICAgICBubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03ZlbFJldmlld3MsDQogICAgICAgICAgICByZXR1cm5PYmplY3QubmFtZSwNCiAgICAgICAgICAgIHVuZGVmaW5lZCwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgKQ0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5nZXRDaGFwdGVyID0gYXN5bmMgKHVybCkgPT4gew0KICAgICAgICByZXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m4gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBuZXcgY2xpZW50KCkuZ2V0SHRtbCh1cmwpKS5zZWxlY3QoIiNjaGFwdGVyLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WNvbnRhaW5lciIpLmNsZWFuSW5uZXJIVE1MKCk7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmxhdGVzdCA9IGFzeW5jIChwYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WdlKSA9PiB7DQogICAgICAgIHZhciB1cmwgPSByZXR1cm5PYmplY3QubGF0ZXN0VXJsLnJlcGxhY2UoIntwfSIsIHBhZ2UudG9TdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJpbmcoKSk7DQogICAgICAgIHZhciBjb250YWluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02V0SHRtbCh1cmwpKTsNCiAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICBjb250YWluZXIuZmluZCgiLm5vdmVsLWl0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W0iKS5mb3JFYWNoKHggPT4gew0KICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IExpZ2h0SXRlbSh4LnNlbGVjdCgiLm5vdmVsLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WNvdmVyIGltZyIpLmF0dHIoImRhdGEtc3JjIHwgc3JjIikudXJsKCksDQogICAgICAgICAgICAgICAgeC5zZWxlY3QoIi5ub3ZlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C10aXRsZSIpLnRleHQoKSwNCiAgICAgICAgICAgICAgICAiIiwNCiAgICAgICAgICAgICAgICB4LnNlbGVjdCgiLmNvdmVyLXdyYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XAgYSIpLmF0dHIoImhyZWYiKS51cmwoKSwNCiAgICAgICAgICAgICAgICByZXR1cm5PYmplY3QubmFtZSkpOw0KICAgICAgICB9KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TsNCiAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICB9DQoNCiAgICByZXR1cm4gcmV0dXJuT2JqZWN0Ow0KDQp9Ow==&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KICAgIGNvbnN0IHJldHVybk9iamVjdCA9IHt9Ow0KICAgIHJldHVybk9iamVjdC5pZCA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIxLm1hbmdhbmVsbyI7DQogICAgcmV0dXJuT2JqZWN0LmRldGFsaUl0ZW1UeXBlID0gRGV0YWxpSXRlbVR5cGUuTWFuYWdhOw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHJldHVybk9iamVjdC5wYXJzZXJMYW5ndWFnZSA9ICJlbiI7DQogICAgcmV0dXJuT2JqZWN0Lm5hbWUgPSAnTWFuZ2FuRWxvJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0zsNCiAgICByZXR1cm5PYmplY3QuZGlzcGxheU5hbWUgPSAiTWFuZ2EtU2VjdG9yIjsNCiAgICByZXR1cm5PYmplY3QubGF0ZXN0VMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJsID0gJ2h0dHBzOi8vbWFuZ2FuZWxvLmNvbS9nZW5yZS1hbGwve3B9JzsNCiAgICByZXR1cm5PYmplY3QudXJsID0gJ2h0dHBzOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i8vbWFuZ2FuZWxvLmNvbS8nOw0KICAgIHJldHVybk9iamVjdC5zZWFyY2hVcmwgPSAnaHR0cHM6Ly9tYW5nYW5lbG8uY29tL2FkdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFuY2VkX3NlYXJjaD9zPWFsbCZwYWdlPXtwfSc7DQogICAgcmV0dXJuT2JqZWN0LnBhbmluYXRpb24gPSB0cnVlOw0KICAgIHJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybk9iamVjdC5zZWFyY2hQYWdpbmF0aW9uID0gdHJ1ZTsNCiAgICByZXR1cm5PYmplY3QuaWNvbiA9ICdodHRwczovL21hbmdhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsby5jb20vZmF2aWNvbi5wbmcnOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncyA9IG5ldyBQYXJzZXJTZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFyY2hTZXR0aW5ncygpOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5tdWx0aVNlbGVjdGlvbiA9IHRydMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WU7DQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLmdlbnJlcyA9IHsNCiAgICAgICAgbXVsdGlTZWxlY3RpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0246IGZhbHNlLA0KICAgICAgICB2YWx1ZXM6IFsNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdBY3Rpb24nLCAyKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdBZHVsdCcsIDMpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0FkdmVudHVyZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ScsIDQpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0NvbWVkeScsIDYpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUoJ0Nvb2tpbmcnLCA3KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdEb3VqaW5zaGknLCA5KSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBsYWJlbFZhbHVlKCdEcmFtYScsIDEwKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdFY2NoaScsIDExKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdGYW50YXN5JywgMTIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0dlbmRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iBiZW5kZXInLCAxMyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnSGFyZW0nLCAxNCksDQogICAgICAgICAgICBuZXcgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFiZWxWYWx1ZSgnSGlzdG9yaWNhbCcsIDE1KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdIb3Jyb3InLCAxNiksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnSXNla2FpJywgNDUpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0pvc2VpJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ywgMTcpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ01hbmh1YScsIDQ0KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVlKCdNYW5od2EnLCA0MyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTWFydGlhbCBhcnRzJywgMTkpLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbmV3IGxhYmVsVmFsdWUoJ01hdHVyZScsIDIwKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNZWNoYScsIDIxKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNZWRpY2FsJywgMjIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0015c3RlcnknLCAyNCksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnT25lIHNob3QnLCAyNSksDQogICAgICAgICAgICBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgbGFiZWxWYWx1ZSgnUHN5Y2hvbG9naWNhbCcsIDI2KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdSb21hbmNlJywgMMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0jcpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1NjaG9vbCBsaWZlJywgMjgpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoJ1NjaSBmaScsIDI5KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTZWluZW4nLCAzMCksDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBuZXcgbGFiZWxWYWx1ZSgnU2hvdWpvJywgMzEpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1Nob3VqbyBhaScsIDMyKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTaG91bmVuJywgMzMpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU01Nob3VuZW4gYWknLCAzNCksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU2xpY2Ugb2YgbGlmZScsIDM1KSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5ldyBsYWJlbFZhbHVlKCdTbXV0JywgMzYpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1Nwb3J0cycsIDM3KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTdXBlcm5hdHVyYWwnLCAzOCksDQogICAgICAgICAgICBuZXcgbGFiZWxWYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZSgnVHJhZ2VkeScsIDM5KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdXZWJ0b29ucycsIDQwKSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCdZYW9pJywgNDEpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1l1cmknLCA0MiksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIF0sDQogICAgfTsNCg0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5zb3J0VHlwZXMgPSB7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG11bHRpU2VsZWN0aW9uOiBmYWxzZSwNCiAgICAgICAgdmFsdWVzOiBbDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgnTGF0ZXN0IFJlbGVhc2UnLCAnJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTmV3ZXN0JywgJ25ld2VzdCcpLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1RvcCB2aWV3JywgJ3RvcHZpZXcnKSwNCiAgICAgICAgXSwNCiAgICB9Ow0KDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLnN0YXR1c2VzID0gew0KICAgICAgICBtdWx0aVNlbGVjdGlvbjogZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsc2UsDQogICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkNvbXBsZXRlZCIsICJjb21wbGV0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WQiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJvbmdvaW5nIiwgIm9uZ29pbmciKQ0KICAgICAgICBdDQogICAgfQ0KDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgcmV0dXJuT2JqZWN0LmdldFNlY3Rpb25zID0gKGtleXMpID0+IHsNCiAgICAgICAgdmFyIHNlY3Rpb25zID0gWw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbmV3IFNlY3Rpb24oImxhdGVzdCIsICJMYXRlc3QgVXBkYXRlIiwgIkxhdGVzdCIsIHRydWUpLA0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbmV3IFNlY3Rpb24oImhvdCIsICJOZXdlc3QiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIodW5kZWZpbmVkLCAibmV3ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XN0IikpLA0KICAgICAgICAgICAgbmV3IFNlY3Rpb24oImNvbXBsZXRlZCIsICJDb21wbGV0ZWQiLCAiU2VhcmNoIiwgZmFsc2UsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBGaWx0ZXIodW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgImNvbXBsZXRlZCIpKSwNCiAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBTZWN0aW9uKCJwb3B1bGFyIiwgIk1vc3QgUG9wdWxhciIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJ0b3B2aWV3IikpDQogICAgICAgIF0NCg0KICAgICAgICByZXR1cm4gc2VjdGlvbnMuZmlsdGVyKHggPT4gIWtleXMgfHwga2V5cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5pbmNsdWRlcyh4Lm5hbWUpKTsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QudHJhbnNsYXRlU2VjdGlvbiA9IGFzeW5jIChzZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0aW9uLCBwYWdlKSA9PiB7DQogICAgICAgIGlmIChzZWN0aW9uLmlkZW50aWZpZXIgPT0gIkxhdGVzdCIpDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CByZXR1cm4gYXdhaXQgcmV0dXJuT2JqZWN0LmxhdGVzdChwYWdlKTsNCiAgICAgICAgZWxzZQ0KICAgICAgICAgICAgcmV0dXJuIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF3YWl0IHJldHVybk9iamVjdC5zZWFyY2goc2VjdGlvbi5maWx0ZXIgfHwgcmV0dXJuT2JqZWN0LmRlZmF1bHRGaWx0ZXIoKSwgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFnZSk7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmRlZmF1bHRGaWx0ZXIgPSAoKSA9PiB7DQogICAgICAgIHZhciBmaWx0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIgPSBuZXcgRmlsdGVyKCk7DQogICAgICAgIHJldHVybiBmaWx0ZXI7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CA9IGFzeW5jIChmaWx0ZXIsIHBhZ2UpID0+IHsNCiAgICAgICAgdmFyIHVybCA9IHJldHVybk9iamVjdC5zZWFyY2hVcmwucmVwbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFjZSgie3B9IiwgcGFnZS50b1N0cmluZygpKTsNCiAgICAgICAgaWYgKGZpbHRlci5nZW5yZXMubGVuZ3RoID4gMCkNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHVybCA9ICgiJmdfaT1fIiArIGZpbHRlci5nZW5yZXMuam9pbigiXyIpKS51cmkodXJsKTsNCiAgICAgICAgaWYgKGZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlci5zb3J0VHlwZSAmJiBmaWx0ZXIuc29ydFR5cGUgIT0gIiIpDQogICAgICAgICAgICB1cmwgPSAoIiZvcmJ5PSIgKyBmaWx0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIuc29ydFR5cGUpLnVyaSh1cmwpOw0KICAgICAgICBpZiAoZmlsdGVyLmFjdGl2ZSAmJiBmaWx0ZXIuYWN0aXZlICE9ICIiKQ0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgdXJsID0gKCImc3RzPSIgKyBmaWx0ZXIuYWN0aXZlKS51cmkodXJsKTsNCiAgICAgICAgaWYgKGZpbHRlci50aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRsZSAmJiBmaWx0ZXIudGl0bGUudHJpbSgpLmxlbmd0aCA+IDApDQogICAgICAgICAgICB1cmwgPSAoIiZrZXl3PSIgKyBmaWx0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIudGl0bGUucmVwbGFjZSgvWyBdL2csICJfIikpLnVyaSh1cmwpOw0KICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwodXJsKSk7DQogICAgICAgIHZhciByZXN1bHQgPSBbXTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgY29udGFpbmVyLmZpbmQoJy5jb250ZW50LWdlbnJlcy1pdGVtJykuZm9yRWFjaCgoeCkgPT4gew0KICAgICAgICAgICAgaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WYgKHguc2VsZWN0KCcuZ2VucmVzLWl0ZW0taW1nIGltZycpLmF0dHIoInNyYyIpLmhhc1ZhbHVlKCkpDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgcmVzdWx0LnB1c2goDQogICAgICAgICAgICAgICAgICAgIG5ldyBMaWdodEl0ZW0oDQogICAgICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB4LnNlbGVjdCgnLmdlbnJlcy1pdGVtLWltZyBpbWcnKS5hdHRyKCJzcmMiKS51cmwoKSwNCiAgICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHguc2VsZWN0KCcuZ2VucmVzLWl0ZW0taW1nJykuYXR0cigidGl0bGUiKS50ZXh0KCksDQogICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAnJywNCiAgICAgICAgICAgICAgICAgICAgICAgIHguc2VsZWN0KCcuZ2VucmVzLWl0ZW0taW1nJykuYXR0cigiaHJlZiIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nVybCgpLA0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuT2JqZWN0Lm5hbWUNCiAgICAgICAgICAgICAgICAgICAgKSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICApOw0KICAgICAgICB9KTsNCg0KICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0NCg0KDQoNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CByZXR1cm5PYmplY3QuZ2V0Tm92ZWwgPSBhc3luYyAobm92ZWxVcmwpID0+IHsNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKG5vdmVsVXJsKSk7DQoNCiAgICAgICAgdmFyIGl0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W0gPSBuZXcgTm92ZWxSZXZpZXdzKCk7DQogICAgICAgIHZhciB0YkluZm8gPSBjb250YWluZXIuZmluZCgiLnZhcmlhdGlvbnMtdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFibGVJbmZvIHRyIikNCiAgICAgICAgaWYgKHRiSW5mby5sZW5ndGgoKSA+IDMpDQogICAgICAgICAgICBpdGVtLmdlbnJlcyA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRiSW5mby5lcSgzKS5maW5kKCIudGFibGUtdmFsdWUgYSIpLm1hcCh4ID0+IHgudGV4dChmYWxzZSkpOw0KICAgICAgICBlbHNlIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlmICh0YkluZm8ubGVuZ3RoKCkgPT0gMykNCiAgICAgICAgICAgIGl0ZW0uZ2VucmVzID0gdGJJbmZvLmVxKDIpLmZpbmQoIi50YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJsZS12YWx1ZSBhIikubWFwKHggPT4geC50ZXh0KGZhbHNlKSk7DQogICAgICAgIGl0ZW0uZGVzY3JpcHRpb24gPSBjb250YWluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIuc2VsZWN0KCIucGFuZWwtc3RvcnktaW5mby1kZXNjcmlwdGlvbiIpLnRleHQoZmFsc2UpDQoNCiAgICAgICAgaXRlbS51dm90ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMgPSBjb250YWluZXIuc2VsZWN0KCJlbVt0eXBlb2Y9J3Y6UmF0aW5nJ10iKS50ZXh0KGZhbHNlKS5yZW1vdmVOZXdMaW5lKCIgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ik7DQogICAgICAgIGl0ZW0uYWx0ZXJuYXRpdmVOYW1lcyA9IHRiSW5mby5sZW5ndGgoKSA+IDMgPyB0YkluZm8uZXEoMCkuc2VsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0KCIjZWRpdGFzc29jaWF0ZWQiKS50ZXh0KGZhbHNlKSA6ICIiOw0KICAgICAgICBpZiAodGJJbmZvLmxlbmd0aCgpID4gMykNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIGl0ZW0uYXV0aG9yID0gdGJJbmZvLmVxKDEpLnNlbGVjdCgiLnRhYmxlLXZhbHVlIikudGV4dChmYWxzZSk7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIGVsc2UgaWYgKHRiSW5mby5sZW5ndGgoKSA+IDApDQogICAgICAgICAgICBpdGVtLmF1dGhvciA9IHRiSW5mby5lcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgwKS5zZWxlY3QoIi50YWJsZS12YWx1ZSIpLnRleHQoZmFsc2UpOw0KICAgICAgICBpdGVtLmxhbmcgPSAiIjsNCiAgICAgICAgaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WYgKHRiSW5mby5sZW5ndGgoKSA+IDMpDQogICAgICAgICAgICBpdGVtLmNvbXBsZXRlZCA9IHRiSW5mby5lcSgyKS50ZXh0KGZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HNlKS5yZW1vdmVOZXdMaW5lKCIgIik7DQogICAgICAgIGVsc2UgaWYgKHRiSW5mby5sZW5ndGgoKSA9PSAzKQ0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgaXRlbS5jb21wbGV0ZWQgPSB0YkluZm8uZXEoMSkudGV4dChmYWxzZSkucmVtb3ZlTmV3TGluZSgiICIpOw0KICAgICAgICB2YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIgY2hhcHRlcnMgPSBjb250YWluZXIuZmluZCgiLnJvdy1jb250ZW50LWNoYXB0ZXIgYSIpLm1hcCh4ID0+IG5ldyBDaGFwdGVyKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HgudGV4dChmYWxzZSksIHguYXR0cigiaHJlZiIpLnVybCgpKSk7DQogICAgICAgIHJldHVybiBuZXcgRGV0YWxpSXRlbSgNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoJy5pbmZvLWltYWdlIGltZycpLmF0dHIoInNyYyIpLnVybCgpLA0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgY29udGFpbmVyLnNlbGVjdCgnLnN0b3J5LWluZm8tcmlnaHQgaDEnKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgIGl0ZW0uZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVzY3JpcHRpb24sDQogICAgICAgICAgICBub3ZlbFVybCwNCiAgICAgICAgICAgIGNoYXB0ZXJzLnJldmVyc2UoKSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIGl0ZW0sDQogICAgICAgICAgICByZXR1cm5PYmplY3QubmFtZSwNCiAgICAgICAgICAgIHVuZGVmaW5lZCwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgKTsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QuZ2V0Q2hhcHRlciA9IGFzeW5jICh1cmwpID0+IHsNCiAgICAgICAgcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuIHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgbmV3IGNsaWVudCgpLmdldEh0bWwodXJsKSkuZmluZCgiLmNvbnRhaW5lcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i1jaGFwdGVyLXJlYWRlciBpbWciKS5tYXAoeCA9PiB4LmF0dHIoInNyYyIpLnVybCgpKS5maWx0ZXIoeCA9PiB4ICYmIHggIT0gIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iIpOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5sYXRlc3QgPSBhc3luYyAocGFnZSkgPT4gew0KICAgICAgICB2YXIgdXJsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0gcmV0dXJuT2JqZWN0LmxhdGVzdFVybC5yZXBsYWNlKCd7cH0nLCBwYWdlLnRvU3RyaW5nKCkpOw0KICAgICAgICB2YXIgY29udMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwodXJsKSk7DQogICAgICAgIHZhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iByZXN1bHQgPSBbXTsNCiAgICAgICAgY29udGFpbmVyLmZpbmQoJy5jb250ZW50LWdlbnJlcy1pdGVtJykuZm9yRWFjaCh4ID0+IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HsNCiAgICAgICAgICAgIGlmICh4LnNlbGVjdCgnLmdlbnJlcy1pdGVtLWltZyBpbWcnKS5hdHRyKCJzcmMiKS5oYXNWYWx1ZSgpKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Q0KICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKA0KICAgICAgICAgICAgICAgICAgICBuZXcgTGlnaHRJdGVtKA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgeC5zZWxlY3QoIi5nZW5yZXMtaXRlbS1pbWcgaW1nIikuYXR0cigic3JjIikudGV4dCgpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoIi5nZW5yZXMtaXRlbS1pbWciKS5hdHRyKCJ0aXRsZSIpLnRleHQoZmFsc2UpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgICAgICAgICAgICAgJycsDQogICAgICAgICAgICAgICAgICAgICAgICB4LnNlbGVjdCgnLmdlbnJlcy1pdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVtLWltZycpLmF0dHIoImhyZWYiKS51cmwoKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybk9iamVjdC5uYW1lDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICksDQogICAgICAgICAgICAgICAgKTsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgcmV0dXJuIHJlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03VsdDsNCiAgICB9DQoNCiAgICByZXR1cm4gcmV0dXJuT2JqZWN0Ow0KfTs=&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KICAgIGNvbnN0IHJldHVybk9iamVjdCA9IHt9Ow0KICAgIHJldHVybk9iamVjdC5pZCA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIxLm10bG5vdmVsIjsNCiAgICByZXR1cm5PYmplY3QuZGV0YWxpSXRlbVR5cGUgPSBEZXRhbGlJdGVtVHlwZS5Ob3ZlbDsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CByZXR1cm5PYmplY3QucGFyc2VyTGFuZ3VhZ2UgPSAiZW4iOw0KICAgIHJldHVybk9iamVjdC5uYW1lID0gJ010bE5vdmVsJzsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICByZXR1cm5PYmplY3QuZGlzcGxheU5hbWUgPSByZXR1cm5PYmplY3QubmFtZTsNCiAgICByZXR1cm5PYmplY3QubGF0ZXN0VMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJsID0gJ2h0dHBzOi8vd3d3Lm10bG5vdmVsLmNvbS93cC1hZG1pbi9hZG1pbi1hamF4LnBocD9hY3Rpb249cmNudF91cGRhdGUmdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mlld19hbGw9eWVzJm1vcmVJdGVtc1BhZ2VJbmRleD17cH0mX19hbXBfc291cmNlX29yaWdpbj1odHRwcyUzQSUyRiUyRnd3dy5tdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Gxub3ZlbC5jb20nOw0KICAgIHJldHVybk9iamVjdC51cmwgPSAnaHR0cHM6Ly93d3cubXRsbm92ZWwuY29tJzsNCiAgICByZXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m5PYmplY3Quc2VhcmNoVXJsID0gJ2h0dHBzOi8vd3d3Lm10bG5vdmVsLmNvbS93cC1hZG1pbi9hZG1pbi1hamF4LnBocD9hY3RpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0249YXV0b3N1Z2dlc3QmcT17cX0mbW9yZUl0ZW1zUGFnZUluZGV4PXtwfSZfX2FtcF9zb3VyY2Vfb3JpZ2luPWh0dHBzJTNBJTJGJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TJGd3d3Lm10bG5vdmVsLmNvbSc7DQogICAgcmV0dXJuT2JqZWN0LnBhbmluYXRpb24gPSB0cnVlOw0KICAgIHJldHVybk9iamVjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5zZWFyY2hQYWdpbmF0aW9uID0gdHJ1ZTsNCiAgICByZXR1cm5PYmplY3QuaWNvbiA9ICdodHRwczovL3d3dy5tdGxub3ZlbC5uZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XQvdGhlbWVzL210bG5vdmVsL2ltYWdlcy9tdGxub3ZlbC0zMi5pY28nOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR0aW5ncyA9IG5ldyBQYXJzZXJTZWFyY2hTZXR0aW5ncygpOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5tdWx0aVNlbGVjdGlvbiA9IGZhbHNlOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZXMgPSB7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIG11bHRpU2VsZWN0aW9uOiBmYWxzZSwNCiAgICAgICAgdmFsdWVzOiBbDQogICAgICAgICAgICBuZXcgbGFiZWxWYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZSgnQWN0aW9uJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnQWR1bHQnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FZhbHVlKCdDb21lZHknKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdBZHZlbnR1cmUnKSwNCiAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBsYWJlbFZhbHVlKCdEcmFtYScpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0VjY2hpJyksDQogICAgICAgICAgICBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgbGFiZWxWYWx1ZSgnRXJjaXl1YW4nKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdGYW4tRmljdGlvbicpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0ZhbnRhc3knKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdHYW1lJyksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnR2VuZGVyIEJlbmRlcicsICJnZW5kZXItYmVuZGVyIiksDQogICAgICAgICAgICBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgbGFiZWxWYWx1ZSgnSGFyZW0nKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdIaXN0b3JpY2FsJyksDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBuZXcgbGFiZWxWYWx1ZSgnSG9ycm9yJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnSm9zZWknKSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5ldyBsYWJlbFZhbHVlKCdNYXJ0aWFsIEFydHMnLCAibWFydGlhbC1hcnRzIiksDQogICAgICAgICAgICBuZXcgbGFiZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxWYWx1ZSgnTWF0dXJlJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTWVjaGEnKSwNCiAgICAgICAgICAgIG5ldyBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJlbFZhbHVlKCdNaWxpdGFyeScpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ015c3RlcnknKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBsYWJlbFZhbHVlKCdQc3ljaG9sb2dpY2FsJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnUm9tYW5jZScpLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1NjaG9vbCBMaWZlJywgJ3NjaG9vbC1saWZlJyksDQogICAgICAgICAgICBuZXcgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFiZWxWYWx1ZSgnU2NpLWZpJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU2VpbmVuJyksDQogICAgICAgICAgICBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgbGFiZWxWYWx1ZSgnU2hvdWpvJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU2hvdWpvIEFpJywgInNob3Vqby1haMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1Nob3VuZW4nKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G91bmVuIEFpJywgInNob3VuZW4tYWkiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTbGljZSBvZiBMaWZlJywgInNsaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WNlLW9mLWxpZmUiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTbXV0JyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZSgnU3BvcnRzJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU3VwZXJuYXR1cmFsJyksDQogICAgICAgICAgICBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgbGFiZWxWYWx1ZSgnVHJhZ2VkeScpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1R3by1kaW1lbnNpb25hbCcsICJ0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU028tZGltZW5zaW9uYWwtbm92ZWwiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdVcmJhbiBMaWZlJywgInVyYmFuLWZpYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03Rpb24iKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdXdXhpYScpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU01hpYW54aWEnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdYdWFuaHVhbicpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoJ1lhb2knKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdZdXJpJyksDQoNCiAgICAgICAgXSwNCiAgICB9Ow0KDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLnN0YXR1c2VzID0gew0KICAgICAgICBtdWx0aVNlbGVjdGlvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0jogZmFsc2UsDQogICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0NvbXBsZXRlZCcpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0Ryb3BwZWQnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdIaWF0dXMnKSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdJbmNvbXBsZXRlJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnT25nbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02luZycpLA0KICAgICAgICBdLA0KICAgIH07DQoNCiAgICByZXR1cm5PYmplY3QuZ2V0U2VjdGlvbnMgPSAoa2V5cykgPT4gew0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB2YXIgc2VjdGlvbnMgPSBbDQogICAgICAgICAgICBuZXcgU2VjdGlvbigibGF0ZXN0IiwgIkxhdGVzdCBVcGRhdGUiLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAiTGF0ZXN0IiwgdHJ1ZSksDQogICAgICAgICAgICBuZXcgU2VjdGlvbigiY29tcGxldGVkIiwgIkNvbXBsZXRlZCBOb3ZlbCIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCAiY29tcGxldGVkIikpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgbmV3IFNlY3Rpb24oIm9uZ29pbmciLCAiT25nb2luZyBOb3ZlbCIsICJTZWFyY2giLCBmYWxzZSwgbmV3IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlcih1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCAib25nb2luZyIpKSwNCiAgICAgICAgXQ0KDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybiBzZWN0aW9ucy5maWx0ZXIoeCA9PiAha2V5cyB8fCBrZXlzLmluY2x1ZGVzKHgubmFtZSkpOw0KICAgIH0NCg0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybk9iamVjdC50cmFuc2xhdGVTZWN0aW9uID0gYXN5bmMgKHNlY3Rpb24sIHBhZ2UpID0+IHsNCiAgICAgICAgaWYgKHNlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03Rpb24uaWRlbnRpZmllciA9PSAiTGF0ZXN0IikNCiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZXR1cm5PYmplY3QubGF0ZXN0KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HBhZ2UpOw0KICAgICAgICBlbHNlDQogICAgICAgICAgICByZXR1cm4gYXdhaXQgcmV0dXJuT2JqZWN0LnNlYXJjaChzZWN0aW9uLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mZpbHRlciB8fCByZXR1cm5PYmplY3QuZGVmYXVsdEZpbHRlcigpLCBwYWdlKTsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVmYXVsdEZpbHRlciA9ICgpID0+IHsNCiAgICAgICAgdmFyIGZpbHRlciA9IG5ldyBGaWx0ZXIoKTsNCiAgICAgICAgcmV0dXJuIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GZpbHRlcjsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QuZ2V0QnlHZW5yZXMgPSBhc3luYyAoZmlsdGVyLCBwYWdlKSA9PiB7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIHZhciByZXN1bHQgPSBbXTsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIHZhciBnZW5yZVVybCA9ICJnZW5yZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S97Z30vcGFnZS97cH0vIi51cmkocmV0dXJuT2JqZWN0LnVybCkucmVwbGFjZSgie3B9IiwgcGFnZS50b1N0cmluZygpKTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIHZhciBzdGF0dXNVcmwgPSAic3RhdHVzL3tzfS9wYWdlL3twfS8iLnVyaShyZXR1cm5PYmplY3QudXJsKS5yZXBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WNlKCJ7cH0iLCBwYWdlLnRvU3RyaW5nKCkpOw0KICAgICAgICAgICAgdmFyIHEgPQ0KICAgICAgICAgICAgICAgIGZpbHRlci5nZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5yZXMubGVuZ3RoID4gMCA/DQogICAgICAgICAgICAgICAgZ2VucmVVcmwucmVwbGFjZSgie2d9IiwgZmlsdGVyLmdlbnJlc1swXMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S50b0xvd2VyQ2FzZSgpKSA6DQogICAgICAgICAgICAgICAgZmlsdGVyLmFjdGl2ZSAmJiBmaWx0ZXIuYWN0aXZlICE9ICcnID8NCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICBzdGF0dXNVcmwucmVwbGFjZSgie3N9IiwgZmlsdGVyLmFjdGl2ZS50b0xvd2VyQ2FzZSgpKSA6DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgdW5kZWZpbmVkOw0KICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKHEgfHwgIiIpKTsNCiAgICAgICAgICAgIHZhciBkYXRhID0gY29udGFpbmVyLmZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mQoJy5ib3gnKTsNCiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTsNCiAgICAgICAgICAgIGRhdGEuZm9yRWFjaCgoeCkgPT4geMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICAgICAgICAgIHZhciBocmVmID0geC5zZWxlY3QoIi5saXN0LWEiKS5hdHRyKCJocmVmIikudGV4dCgpDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgdmFyIHRpdGxlID0gY29udGFpbmVyLmZpbmQoIi5saXN0LXRpdGxlIikud2hlcmUoeCA9PiB4LmF0dHIoImhyZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WYiKS50ZXh0KCkgPT0gaHJlZikudGV4dCgpOw0KICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKA0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBuZXcgTGlnaHRJdGVtKHguc2VsZWN0KCcubGlzdC1pbWcnKS5hdHRyKCdzcmMnKS51cmwoKSwgdGl0bGUsDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAnJywNCiAgICAgICAgICAgICAgICAgICAgICAgIGhyZWYudXJpKHJldHVybk9iamVjdC51cmwpLCByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1cm5PYmplY3QubmFtZQ0KICAgICAgICAgICAgICAgICAgICApLA0KICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICB9KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TsNCg0KDQogICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOw0KICAgICAgICB9DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHJldHVybiByZXN1bHQ7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaCA9IGFzeW5jIChmaWx0ZXIsIHBhZ2UpIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0+IHsNCg0KICAgICAgICBpZiAoZmlsdGVyLmdlbnJlcy5sZW5ndGggPiAwIHx8IChmaWx0ZXIuYWN0aXZlICYmIGZpbHRlci5hYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03RpdmUgIT0gIiIpKQ0KICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHJldHVybk9iamVjdC5nZXRCeUdlbnJlcyhmaWx0ZXIsIHBhZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02UpOw0KDQogICAgICAgIGlmICghZmlsdGVyLnRpdGxlIHx8IGZpbHRlci50aXRsZS5sZW5ndGggPD0gMCkNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybiBbXTsNCiAgICAgICAgdmFyIGpzb25EYXRhID0gYXdhaXQgSHR0cENsaWVudC5HZXRKc29uKHJldHVybk9iamVjdC5zZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFyY2hVcmwucmVwbGFjZSgie3F9IiwgZmlsdGVyLnRpdGxlIHx8ICIiKS5yZXBsYWNlKCJ7cH0iLCBwYWdlLnRvU3RyaW5nKCkpKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TsNCiAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICBpZiAoanNvbkRhdGEuaXRlbXMgJiYganNvbkRhdGEuaXRlbXMubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVuZ3RoID4gMCkNCiAgICAgICAgICAgIGpzb25EYXRhLml0ZW1zLmZvckVhY2goeCA9PiB7DQogICAgICAgICAgICAgICAgaWYgKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HgucmVzdWx0cyAmJiB4LnJlc3VsdHMubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICB4LnJlc3VsdHMuZm9yRWFjaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ChpdGVtID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKA0KICAgICAgICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBMaWdodEl0ZW0oaXRlbS50aHVtYm5haWwsIGl0ZW0udGl0bGUuaHRtbFRleHQoZmFsc2UpLCAiIiwgaXRlbS5wZXJtYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxpbmsudXJpKHJldHVybk9iamVjdC51cmwpIHx8ICIiLCByZXR1cm5PYmplY3QubmFtZSkNCiAgICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICkNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KICAgICAgICByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1cm4gcmVzdWx0Ow0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5nZXRDaGFwdGVycyA9IGFzeW5jIChub3ZlbFVybCkgPT4geMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICB2YXIgdXJsID0gImNoYXB0ZXItbGlzdC8iLnVyaShub3ZlbFVybCk7DQogICAgICAgIHZhciBjb250YWluZXIgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbCh1cmwpKTsNCiAgICAgICAgcmV0dXJuIGNvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRhaW5lci5maW5kKCIuY2gtbGlzdCBhIikubWFwKHggPT4gbmV3IENoYXB0ZXIoeC50ZXh0KGZhbHNlKSwgeC5hdHRyKCJocmVmIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ikudXJsKCkpKS5yZXZlcnNlKCk7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmdldE5vdmVsID0gYXN5bmMgKG5vdmVsVXJsKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SA9PiB7DQogICAgICAgIHZhciBjb250YWluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRtbChub3ZlbFVybCkpOw0KICAgICAgICB2YXIgY2hhcHRlcnMgPSBhd2FpdCByZXR1cm5PYmplY3QuZ2V0Q2hhcHRlcnMobm92ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxVcmwpOw0KICAgICAgICB2YXIgbm92ZWxSZXZpZXdzID0gbmV3IE5vdmVsUmV2aWV3cygpOw0KICAgICAgICBub3ZlbFJldmlldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03MuZ2VucmVzID0gY29udGFpbmVyLmZpbmQoIiNjdXJyZW50Z2VuIGEiKS50ZXh0QXJyYXkoKTsNCiAgICAgICAgbm92ZWxSZXZpZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XdzLnV2b3RlcyA9IGNvbnRhaW5lci5zZWxlY3QoIi5yYXRpbmctaW5mbyBzdHJvbmciKS50ZXh0KGZhbHNlKSArICIgLyA1IjsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgbm92ZWxSZXZpZXdzLmNvbXBsZXRlZCA9IGNvbnRhaW5lci5zZWxlY3QoIiNjdXJyZW50c3RhdHVzIikudGV4dChmYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxzZSkgPT09ICJDb21wbGV0ZWQiID8gIlN0YXR1czpDb21wbGV0ZWQiIDogIlN0YXR1czoiICsgY29udGFpbmVyLnNlbGVjdCgiIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02N1cnJlbnRzdGF0dXMiKS50ZXh0KGZhbHNlKTsNCiAgICAgICAgdmFyIHRyID0gY29udGFpbmVyLnNlbGVjdCgiI3BhbmVsbm92ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxpbmZvIC5pbmZvIikuZmluZCgidHIiKTsNCiAgICAgICAgaWYgKHRyICE9PSBudWxsICYmIHRyICYmIHRyLmxlbmd0aCgpID4gMMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CkNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cy5hdXRob3IgPSB0ci5lcSh0ci5sZW5ndGgoKSAtIDEpLnNlbGVjdCgiYSIpLnRleMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRBcnJheSgpLmpvaW4oIiwiKTsNCiAgICAgICAgcmV0dXJuIG5ldyBEZXRhbGlJdGVtKA0KICAgICAgICAgICAgY29udGFpbmVyLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlbGVjdCgnLm1haW4tdG1iJykuYXR0cignc3JjJykudXJsKCksDQogICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCcuZW50cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nktdGl0bGUnKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoJy5kZXNjJykuY2xlYW5Jbm5lckhUTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0UwoKSwNCiAgICAgICAgICAgIG5vdmVsVXJsLA0KICAgICAgICAgICAgY2hhcHRlcnMsDQogICAgICAgICAgICBub3ZlbFJldmlldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03MsDQogICAgICAgICAgICByZXR1cm5PYmplY3QubmFtZSwNCiAgICAgICAgICAgIHVuZGVmaW5lZCwNCiAgICAgICAgKTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB9DQoNCiAgICByZXR1cm5PYmplY3QuZ2V0Q2hhcHRlciA9IGFzeW5jICh1cmwpID0+IHsNCiAgICAgICAgdmFyIGNvbnRhaW5lcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgbmV3IGNsaWVudCgpLmdldEh0bWwodXJsKSk7DQogICAgICAgIHJldHVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iBjb250YWluZXIuc2VsZWN0KCcucG9zdC1jb250ZW50IC5wYXInKS5jbGVhbklubmVySFRNTCgpOw0KICAgIH0NCg0KICAgIHJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybk9iamVjdC5sYXRlc3QgPSBhc3luYyAocGFnZSkgPT4gew0KICAgICAgICB2YXIgdXJsID0gcmV0dXJuT2JqZWN0LmxhdGVzdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FVybC5yZXBsYWNlKCd7cH0nLCBwYWdlLnRvU3RyaW5nKCkpOw0KICAgICAgICB2YXIganNvbkRhdGEgPSBhd2FpdCBIdHRwQ2xpZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W50LkdldEpzb24odXJsKTsNCiAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICBpZiAoanNvbkRhdGEuaXRlbXMgJiYgaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNvbkRhdGEuaXRlbXMubGVuZ3RoID4gMCkNCiAgICAgICAgICAgIGpzb25EYXRhLml0ZW1zLmZvckVhY2goeCA9PiB7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgdmFyIGxuayA9ICh4Lm5vdmVsX3Blcm1hbGluayB8fCAiIikudG9IdG1sKCkucXVlcnlTZWxlY3RvcigiYSIpOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKA0KICAgICAgICAgICAgICAgICAgICBuZXcgTGlnaHRJdGVtKHgudG1iLCAobMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5rLmlubmVyVGV4dCB8fCAiIiksICIiLCBsbmsuZ2V0QXR0cmlidXRlKCJocmVmIikudXJpKHJldHVybk9iamVjdC51cmwpLCByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1cm5PYmplY3QubmFtZSkNCiAgICAgICAgICAgICAgICApDQogICAgICAgICAgICB9KQ0KICAgICAgICByZXR1cm4gcmVzdWx0OMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgIH0NCg0KICAgIHJldHVybiByZXR1cm5PYmplY3Q7DQoNCn07&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KICAgIGNvbnN0IHJldHVybk9iamVjdCA9IHt9Ow0KICAgIHJldHVybk9iamVjdC5pZCA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIxLm5vdmVsZnVsbCI7DQogICAgcmV0dXJuT2JqZWN0LmRldGFsaUl0ZW1UeXBlID0gRGV0YWxpSXRlbVR5cGUuTm92ZWw7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgcmV0dXJuT2JqZWN0LnBhcnNlckxhbmd1YWdlID0gImVuIjsNCiAgICByZXR1cm5PYmplY3QubmFtZSA9ICdOb3ZlbEZ1bGwnOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgIHJldHVybk9iamVjdC5kaXNwbGF5TmFtZSA9ICJOb3ZlbC1GdWxseSI7DQogICAgcmV0dXJuT2JqZWN0LmxhdGVzdFVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CA9ICdodHRwczovL25vdmVsZnVsbC5jb20vbGF0ZXN0LXJlbGVhc2Utbm92ZWw/cGFnZT17cH0nOw0KICAgIHJldHVybk9iamVjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C51cmwgPSAnaHR0cHM6Ly9ub3ZlbGZ1bGwuY29tJzsNCiAgICByZXR1cm5PYmplY3Quc2VhcmNoVXJsID0gJ2h0dHBzOi8vbm92ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxmdWxsLmNvbS9zZWFyY2g/a2V5d29yZD17cX0mcGFnZT17cH0nOw0KICAgIHJldHVybk9iamVjdC5jaGFwdGVyc1VybCA9ICdodMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRwczovL25vdmVsZnVsbC5jb20vYWpheC1jaGFwdGVyLW9wdGlvbj9ub3ZlbElkPXtpZH0nOw0KICAgIHJldHVybk9iamVjdC5wYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5pbmF0aW9uID0gdHJ1ZTsNCiAgICByZXR1cm5PYmplY3Quc2VhcmNoUGFnaW5hdGlvbiA9IHRydWU7DQogICAgcmV0dXJuT2JqZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0Lmljb24gPSAnaHR0cHM6Ly9ub3ZlbGZ1bGwuY29tL3dlYi9pbWFnZXMvZmF2aWNvbi5pY28nOw0KICAgIHJldHVybk9iamVjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5wYXJzZXJTZWFyY2hTZXR0aW5ncyA9IG5ldyBQYXJzZXJTZWFyY2hTZXR0aW5ncygpOw0KICAgIHJldHVybk9iamVjdC5wYXJzZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJTZWFyY2hTZXR0aW5ncy5nZW5yZXMgPSB7DQogICAgICAgIG11bHRpU2VsZWN0aW9uOiBmYWxzZSwNCiAgICAgICAgdmFsdWVzOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iBbDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU2hvdW5lbicpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0hhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVtJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnQ29tZWR5JyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFydGlhbCBBcnRzJywgJ01hcnRpYWwrQXJ0cycpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1NjaG9vbCBMaWZlJywgJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU01NjaG9vbCtMaWZlJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTXlzdGVyeScpLA0KICAgICAgICAgICAgbmV3IGxhYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsVmFsdWUoJ1Nob3VqbycpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1JvbWFuY2UnKSwNCiAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBsYWJlbFZhbHVlKCdTY2ktZmknKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdHZW5kZXIgQmVuZGVyJywgJ0dlbmRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0itCZW5kZXInKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNYXR1cmUnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVlKCdGYW50YXN5JyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnSG9ycm9yJyksDQogICAgICAgICAgICBuZXcgbGFiZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxWYWx1ZSgnRHJhbWEnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdUcmFnZWR5JyksDQogICAgICAgICAgICBuZXcgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFiZWxWYWx1ZSgnU3VwZXJuYXR1cmFsJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnRWNjaGknKSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCdYdWFuaHVhbicpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0FkdmVudHVyZScpLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1BzeWNob2xvZ2ljYWwnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdYaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFueGlhJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnV3V4aWEnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CdIaXN0b3JpY2FsJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU2xpY2Ugb2YgTGlmZScsICdTbGljZStvZitMaWZlJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTG9saWNvbicpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0FkdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx0JyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnSm9zZWknKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G9ydHMnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTbXV0JyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WVjaGEnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdZYW9pJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02hvdW5lbiBBaScsICdTaG91bmVuK0FpJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnS+G7syBUw61jaCBWxrDGoW5nIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FThu41hJywgJ0vhu7MrVMOtY2grVsawxqFuZytU4buNYScpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ01UJyksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIF0sDQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLnNvcnRUeXBlcyA9IHsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbXVsdGlTZWxlY3Rpb246IGZhbHNlLA0KICAgICAgICB2YWx1ZXM6IFsNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CdMYXRlc3QgUmVsZWFzZSBOb3ZlbCcsICdsYXRlc3QtcmVsZWFzZS1ub3ZlbCcpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUoJ0hvdCBOb3ZlbCcsICdob3Qtbm92ZWwnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdDb21wbGV0ZWQgTm92ZWwnLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAnY29tcGxldGVkLW5vdmVsJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTW9zdCBQb3B1bGFyJywgJ21vc3QtcG9wdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxhcicpLA0KICAgICAgICBdLA0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5nZXRTZWN0aW9ucyA9IChrZXlzKSA9PiB7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHZhciBzZWN0aW9ucyA9IFsNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJsYXRlc3QiLCAiTGF0ZXN0IFVwZGF0ZSIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJMYXRlc3QiLCB0cnVlKSwNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJob3QiLCAiSG90IE5vdmVsIiwgIlNlYXJjaCIsIGZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HNlLCBuZXcgRmlsdGVyKHVuZGVmaW5lZCwgImhvdC1ub3ZlbCIpKSwNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJjb21wbGV0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WQiLCAiQ29tcGxldGVkIE5vdmVsIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKHVuZGVmaW5lZCwgImNvbXBsZXRlZC1ubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03ZlbCIpKSwNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJwb3B1bGFyIiwgIk1vc3QgUG9wdWxhciIsICJTZWFyY2giLCBmYWxzZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwgbmV3IEZpbHRlcih1bmRlZmluZWQsICJtb3N0LXBvcHVsYXIiKSkNCiAgICAgICAgXQ0KDQogICAgICAgIHJldHVybiBzZWN0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W9ucy5maWx0ZXIoeCA9PiAha2V5cyB8fCBrZXlzLmluY2x1ZGVzKHgubmFtZSkpOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C50cmFuc2xhdGVTZWN0aW9uID0gYXN5bmMgKHNlY3Rpb24sIHBhZ2UpID0+IHsNCiAgICAgICAgaWYgKHNlY3Rpb24uaWRlbnRpZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mllciA9PSAiTGF0ZXN0IikNCiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZXR1cm5PYmplY3QubGF0ZXN0KHBhZ2UpOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBlbHNlDQogICAgICAgICAgICByZXR1cm4gYXdhaXQgcmV0dXJuT2JqZWN0LnNlYXJjaChzZWN0aW9uLmZpbHRlciB8fCByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1cm5PYmplY3QuZGVmYXVsdEZpbHRlcigpLCBwYWdlKTsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QuZGVmYXVsdEZpbHRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iA9ICgpID0+IHsNCiAgICAgICAgcmV0dXJuIG5ldyBGaWx0ZXIoKTsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3Quc2VhcmNoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0gYXN5bmMgKGZpbHRlciwgcGFnZSkgPT4gew0KICAgICAgICB2YXIgZ2VucmVVcmwgPSAiZ2VucmUve2d9P3BhZ2U9e3B9Ii51cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mkocmV0dXJuT2JqZWN0LnVybCkucmVwbGFjZSgie3B9IiwgcGFnZS50b1N0cmluZygpKTsNCiAgICAgICAgdmFyIHNvcnRUeXBlVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJsID0gIntzfT9wYWdlPXtwfSIudXJpKHJldHVybk9iamVjdC51cmwpLnJlcGxhY2UoIntwfSIsIHBhZ2UudG9TdHJpbmcoKSk7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIHZhciBxID0gZmlsdGVyLmdlbnJlcy5sZW5ndGggPiAwID8gZ2VucmVVcmwucmVwbGFjZSgie2d9IiwgZmlsdGVyLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mdlbnJlc1swXSkgOiAoKGZpbHRlci5zb3J0VHlwZSAmJiBmaWx0ZXIuc29ydFR5cGUgIT0gJycgPyBzb3J0VHlwZVVybC5yZXBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WNlKCJ7c30iLCBmaWx0ZXIuc29ydFR5cGUpIDogdW5kZWZpbmVkKSk7DQogICAgICAgIHZhciBxdWVyeSA9IHEgfHwgcmV0dXJuTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02JqZWN0LnNlYXJjaFVybC5yZXBsYWNlKCd7cX0nLCBmaWx0ZXIudGl0bGUgfHwgIiIpLnJlcGxhY2UoJ3twfScsIHBhZ2UudG9TdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJpbmcoKSk7DQogICAgICAgIHZhciBjb250YWluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02V0SHRtbChxdWVyeSkpOw0KICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgIGNvbnRhaW5lci5maW5kKCcubGlzdC10cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nV5ZW4gLnJvdycpLmZvckVhY2goKHgpID0+IHsNCiAgICAgICAgICAgIGlmICh4LnNlbGVjdCgnaW1nJykuYXR0cigic3JjIikuaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFzVmFsdWUoKSkNCiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCgNCiAgICAgICAgICAgICAgICAgICAgbmV3IExpZ2h0SXRlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ShuZXcgSW1hZ2VIYW5kbGVyKHJldHVybk9iamVjdC51cmwsIHguc2VsZWN0KCcudHJ1eWVuLXRpdGxlIGEnKS5hdHRyKCJocmVmIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ikudXJsKCksICIuYm9vayBpbWciKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHguc2VsZWN0KCcudHJ1eWVuLXRpdGxlIGEnKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICcnLA0KICAgICAgICAgICAgICAgICAgICAgICAgeC5zZWxlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03QoJy50cnV5ZW4tdGl0bGUgYScpLmF0dHIoImhyZWYiKS51cmwoKSwgcmV0dXJuT2JqZWN0Lm5hbWUNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgKSwNCiAgICAgICAgICAgICAgICApOw0KICAgICAgICB9KTsNCg0KICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0NCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0g0KICAgIHJldHVybk9iamVjdC5nZXRDaGFwdGVycyA9IGFzeW5jIChub3ZlbFVybCwgaHRtbENvbnRhaW5lcikgPT4gew0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB2YXIgY2hhcHRlcnMgPSBbXTsNCiAgICAgICAgdmFyIHVybCA9ICJodHRwczovL25vdmVsZnVsbC5jb20vYWpheC1jaGFwdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVyLW9wdGlvbj9ub3ZlbElkPXtpZH0iLnJlcGxhY2UoIntpZH0iLA0KICAgICAgICAgICAgaHRtbENvbnRhaW5lci5zZWxlY3QoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iNyYXRpbmciKS5hdHRyKCJkYXRhLW5vdmVsLWlkIikuaGFzVmFsdWUoKSA/DQogICAgICAgICAgICBodG1sQ29udGFpbmVyLnNlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVjdCgiI3JhdGluZyIpLmF0dHIoImRhdGEtbm92ZWwtaWQiKS50ZXh0KCkgOg0KICAgICAgICAgICAgaHRtbENvbnRhaW5lci5zZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxlY3QoIltkYXRhLW5vdmVsLWlkXSIpLmF0dHIoImRhdGEtbm92ZWwtaWQiKS50ZXh0KCkpOw0KDQogICAgICAgIHZhciBjb250YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbCh1cmwpKTsNCg0KICAgICAgICBjbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0250YWluZXIuZmluZCgnb3B0aW9uJykuZm9yRWFjaChhID0+IHsNCiAgICAgICAgICAgIHZhciBhVXJsID0gYS5hdHRyKCJ2YWx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SIpLnVybCgpOw0KICAgICAgICAgICAgdmFyIHRpdGxlID0gYS50ZXh0KGZhbHNlKTsNCiAgICAgICAgICAgIGlmICh1cmwgJiYgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJsICE9PSAnJykgY2hhcHRlcnMucHVzaChuZXcgQ2hhcHRlcih0aXRsZSwgYVVybCkpOw0KICAgICAgICB9KQ0KICAgICAgICByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1cm4gY2hhcHRlcnM7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmdldE5vdmVsID0gYXN5bmMgKG5vdmVsVXJsKSA9PiB7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIHZhciBjb250YWluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbChubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03ZlbFVybCkpOw0KICAgICAgICB2YXIgY2hhcHRlcnMgPSBhd2FpdCByZXR1cm5PYmplY3QuZ2V0Q2hhcHRlcnMobm92ZWxVcmwsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GNvbnRhaW5lcik7DQogICAgICAgIHZhciBub3ZlbFJldmlld3MgPSBuZXcgTm92ZWxSZXZpZXdzKCk7DQogICAgICAgIHZhciBpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mZvcyA9IGNvbnRhaW5lci5maW5kKCIuaW5mbyA+IGRpdiIpOw0KICAgICAgICBub3ZlbFJldmlld3MuZ2VucmVzID0gaW5mb3MuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XEoMikuZmluZCgiYSIpLm1hcCh4ID0+IHgudGV4dChmYWxzZSkpOw0KICAgICAgICBub3ZlbFJldmlld3MuYXV0aG9yID0gaW5mbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03MuZXEoMCkuZmluZCgiYSIpLnRleHQoZmFsc2UpOw0KICAgICAgICBub3ZlbFJldmlld3MudXZvdGVzID0gY29udGFpbmVyLnNlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVjdCgiLmNvbC1pbmZvLWRlc2MgPiAuZGVzYyA+IC5zbWFsbCBzdHJvbmc6Zmlyc3QtY2hpbGQgc3BhbiIpLnRleHQoZmFsc2UpIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CsgIiAvIDEwIjsNCiAgICAgICAgbm92ZWxSZXZpZXdzLmNvbXBsZXRlZCA9IGluZm9zLmxhc3QoKS5zZWxlY3QoImEiKS50ZXh0KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GZhbHNlKSA9PT0gIkNvbXBsZXRlZCIgPyAiU3RhdHVzOkNvbXBsZXRlZCIgOiAiU3RhdHVzOk9uZ29pbmciOw0KDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybiBuZXcgRGV0YWxpSXRlbSgNCiAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoJy5ib29rIGltZycpLmF0dHIoInNyYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yIpLnVybCgpLA0KICAgICAgICAgICAgY29udGFpbmVyLnNlbGVjdCgnLnRpdGxlJykudGV4dChmYWxzZSksDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBjb250YWluZXIuc2VsZWN0KCcuZGVzYy10ZXh0JykuY2xlYW5Jbm5lckhUTUwoKSwNCiAgICAgICAgICAgIG5vdmVsVXJsLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgY2hhcHRlcnMsDQogICAgICAgICAgICBub3ZlbFJldmlld3MsDQogICAgICAgICAgICByZXR1cm5PYmplY3QubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFtZSwNCiAgICAgICAgICAgIHVuZGVmaW5lZCwNCiAgICAgICAgKTsNCiAgICB9DQoNCg0KICAgIHJldHVybk9iamVjdC5nZXRDaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFwdGVyID0gYXN5bmMgKHVybCkgPT4gew0KICAgICAgICByZXR1cm4gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBuZXcgYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02xpZW50KCkuZ2V0SHRtbCh1cmwpKS5zZWxlY3QoJyNjaGFwdGVyLWNvbnRlbnQnKS5jbGVhbklubmVySFRNTCgpOw0KICAgIH0NCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0g0KICAgIHJldHVybk9iamVjdC5sYXRlc3QgPSBhc3luYyAocGFnZSkgPT4gew0KICAgICAgICB2YXIgdXJsID0gcmV0dXJuT2JqZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0LmxhdGVzdFVybC5yZXBsYWNlKCd7cH0nLCBwYWdlLnRvU3RyaW5nKCkpOw0KICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwodXJsKSk7DQogICAgICAgIHZhciByZXN1bHQgPSBbXMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TsNCiAgICAgICAgY29udGFpbmVyLmZpbmQoJy5saXN0LXRydXllbiAucm93JykuZm9yRWFjaCgoeCkgPT4gew0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgaWYgKHguc2VsZWN0KCdpbWcnKS5hdHRyKCJzcmMiKS5oYXNWYWx1ZSgpKQ0KICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgICAgICAgICBuZXcgTGlnaHRJdGVtKA0KICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEltYWdlSGFuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxlcihyZXR1cm5PYmplY3QudXJsLCB4LnNlbGVjdCgnLnRydXllbi10aXRsZSBhJykuYXR0cigiaHJlZiIpLnVybCgpLCAiLmJvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02sgaW1nIiksDQogICAgICAgICAgICAgICAgICAgICAgICB4LnNlbGVjdCgnLnRydXllbi10aXRsZSBhJykudGV4dChmYWxzZSksDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgICAgICAgICAnJywNCiAgICAgICAgICAgICAgICAgICAgICAgIHguc2VsZWN0KCcudHJ1eWVuLXRpdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxlIGEnKS5hdHRyKCJocmVmIikudXJsKCksIHJldHVybk9iamVjdC5uYW1lDQogICAgICAgICAgICAgICAgICAgICkpOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB9KTsNCg0KICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0NCg0KICAgIHJldHVybiByZXR1cm5PYmplY3Q7DQoNCn07&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KICAgIGNvbnN0IHJldHVybk9iamVjdCA9IHt9Ow0KICAgIHJldHVybk9iamVjdC5pZCA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIxLm5vdmVsaGFsbCI7DQogICAgcmV0dXJuT2JqZWN0LnBhcnNlckxhbmd1YWdlID0gImVuIjsNCiAgICByZXR1cm5PYmplY3QubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFtZSA9ICdOb3ZlbEhhbGwnOw0KICAgIHJldHVybk9iamVjdC5kaXNwbGF5TmFtZSA9ICJOb3ZlbC1DaGFubmVsIg0KICAgIHJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybk9iamVjdC5kZXRhbGlJdGVtVHlwZSA9IERldGFsaUl0ZW1UeXBlLk5vdmVsOw0KICAgIHJldHVybk9iamVjdC5sYXRlc3RVcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mwgPSAnaHR0cHM6Ly93d3cubm92ZWxoYWxsLmNvbS9sYXN0dXBkYXRlLXtwfS5odG1sJzsNCiAgICByZXR1cm5PYmplY3QudXJsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0gJ2h0dHBzOi8vd3d3Lm5vdmVsaGFsbC5jb20vJzsNCiAgICByZXR1cm5PYmplY3Quc2VhcmNoVXJsID0gJ2h0dHBzOi8vd3d3LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m5vdmVsaGFsbC5jb20vaW5kZXgucGhwP3M9c28mbW9kdWxlPWJvb2sma2V5d29yZD17cX0nOw0KICAgIHJldHVybk9iamVjdC5wYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5pbmF0aW9uID0gdHJ1ZTsNCiAgICByZXR1cm5PYmplY3Quc2VhcmNoUGFnaW5hdGlvbiA9IHRydWU7DQogICAgcmV0dXJuT2JqZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0Lmljb24gPSAnaHR0cHM6Ly93d3cubm92ZWxoYWxsLmNvbS9mYXZpY29uLmljbyc7DQogICAgcmV0dXJuT2JqZWN0LnBhcnNlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0lNlYXJjaFNldHRpbmdzID0gbmV3IFBhcnNlclNlYXJjaFNldHRpbmdzKCk7DQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNldHRpbmdzLmdlbnJlcyA9IHsNCiAgICAgICAgbXVsdGlTZWxlY3Rpb246IGZhbHNlLA0KICAgICAgICB2YWx1ZXM6IFsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgXSwNCiAgICB9Ow0KDQogICAgcmV0dXJuT2JqZWN0LmxvYWRTZXR0aW5ncyA9IGFzeW5jICgpID0+IHsNCiAgICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJ5IHsNCiAgICAgICAgICAgIGlmIChyZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3MuZ2VucmVzLnZhbHVlcy5sZW5ndMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GggPD0gMCkgew0KICAgICAgICAgICAgICAgIHZhciBjb250YWluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IEh0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HBDbGllbnQuZ2V0SHRtbChyZXR1cm5PYmplY3QudXJsKSkNCiAgICAgICAgICAgICAgICBjb250YWluZXIuZmluZCgiLmRyb3BkbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03duLW1lbnUgYSIpLndoZXJlKHggPT4geC5hdHRyKCJocmVmIikuYXR0VmFsdWUoKS5pbmRleE9mKCJnZW5yZSIpICE9PSAtMSkuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m9yRWFjaChhID0+IHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLmdlbnJlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y52YWx1ZXMucHVzaChuZXcgbGFiZWxWYWx1ZShhLnRleHQoZmFsc2UpLCBhLmF0dHIoImhyZWYiKS51cmwoKSkpOw0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ygpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLnNvcnRUeXBlcyA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HsNCiAgICAgICAgbXVsdGlTZWxlY3Rpb246IGZhbHNlLA0KICAgICAgICB2YWx1ZXM6IFsNCiAgICAgICAgICAgIG5ldyBsYWJlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FZhbHVlKCdDb21wbGV0ZWQnLCAnY29tcGxldGVkLXtwfS5odG1sJyksDQogICAgICAgIF0sDQogICAgfTsNCiAgICByZXR1cm5PYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mplY3QuZ2V0U2VjdGlvbnMgPSAoa2V5cykgPT4gew0KICAgICAgICB2YXIgc2VjdGlvbnMgPSBbDQogICAgICAgICAgICBuZXcgUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VjdGlvbigibGF0ZXN0IiwgIkxhdGVzdCBVcGRhdGUiLCAiTGF0ZXN0IiwgdHJ1ZSksDQogICAgICAgICAgICBuZXcgU2VjdGlvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0igiY29tcGxldGVkIiwgIkNvbXBsZXRlZCBOb3ZlbCIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsICdjbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU021wbGV0ZWQte3B9Lmh0bWwnKSksDQogICAgICAgIF0NCiAgICAgICAgcmV0dXJuIHNlY3Rpb25zLmZpbHRlcih4ID0+ICFrZXlzIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Hx8IGtleXMuaW5jbHVkZXMoeC5uYW1lKSk7DQogICAgfQ0KICAgIHJldHVybk9iamVjdC50cmFuc2xhdGVTZWN0aW9uID0gYXN5bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mMgKHNlY3Rpb24sIHBhZ2UpID0+IHsNCiAgICAgICAgaWYgKHNlY3Rpb24uaWRlbnRpZmllciA9PSAiTGF0ZXN0IikgcmV0dXJuIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF3YWl0IHJldHVybk9iamVjdC5sYXRlc3QocGFnZSk7DQogICAgICAgIGVsc2UgcmV0dXJuIGF3YWl0IHJldHVybk9iamVjdC5zZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFyY2goc2VjdGlvbi5maWx0ZXIgfHwgcmV0dXJuT2JqZWN0LmRlZmF1bHRGaWx0ZXIoKSwgcGFnZSk7DQogICAgfQ0KICAgIHJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybk9iamVjdC5kZWZhdWx0RmlsdGVyID0gKCkgPT4gew0KICAgICAgICB2YXIgZmlsdGVyID0gbmV3IEZpbHRlcigpOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICByZXR1cm4gZmlsdGVyOw0KICAgIH07DQoNCiAgICByZXR1cm5PYmplY3QuZ2V0R2VucmVzID0gYXN5bmMgKGZpbHRlcikgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0T4gew0KICAgICAgICB2YXIgdXJsID0gZmlsdGVyLmdlbnJlc1swXTsNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJldHVybk9iaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKHVybCkpOw0KICAgICAgICByZXR1cm4gY29udGFpbmVyLmZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mQoJy5ib29rLWluZm8nKS5tYXAoKHgpID0+IHsNCiAgICAgICAgICAgIHJldHVybiBuZXcgTGlnaHRJdGVtKHguY2xvc2VzdCgibMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GkiKS5zZWxlY3QoIi5ib29rLWltZyBpbWciKS5hdHRyKCJzcmMiKS51cmwoKSwNCiAgICAgICAgICAgICAgICB4LnNlbGVjdCgnYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ScpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgICAgICcnLA0KICAgICAgICAgICAgICAgIHguc2VsZWN0KCdhJykuYXR0cigiaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJlZiIpLnVybCgpLA0KICAgICAgICAgICAgICAgIHJldHVybk9iamVjdC5uYW1lDQogICAgICAgICAgICApOw0KICAgICAgICB9KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TsNCg0KDQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaCA9IGFzeW5jIChmaWx0ZXIsIHBhZ2UpID0+IHsNCg0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBpZiAoZmlsdGVyLmdlbnJlcyAmJiBmaWx0ZXIuZ2VucmVzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgIHJldHVybiBhdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02FpdCByZXR1cm5PYmplY3QuZ2V0R2VucmVzKGZpbHRlcik7DQogICAgICAgIH0NCiAgICAgICAgdmFyIHVybCA9IHJldHVybk9iaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVjdC5zZWFyY2hVcmw7DQogICAgICAgIGlmIChmaWx0ZXIuc29ydFR5cGUgJiYgZmlsdGVyLnNvcnRUeXBlLmxlbmd0aCA+IDApDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICB1cmwgPSBmaWx0ZXIuc29ydFR5cGUudXJpKHJldHVybk9iamVjdC51cmwpOw0KDQogICAgICAgIHZhciB1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mwgPSB1cmwucmVwbGFjZSgie3F9IiwgZmlsdGVyLnRpdGxlIHx8ICIiKS5yZXBsYWNlKCJ7cH0iLCBwYWdlKTsNCiAgICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKHVybCkpOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgIGNvbnRhaW5lci5maW5kKCcuY29udGFpbmVyIHRhYmxlIHRyJykuZm9yRWFjaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CgoeCkgPT4gew0KICAgICAgICAgICAgdmFyIGEgPSB4LmZpbmQoInRkIikuZXEoMCkuc2VsZWN0KCJhIikuYXR0cigiaHJlZiIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRleHQoKS5pbmRleE9mKCJnZW5yZSIpID09PSAtMSA/IHguZmluZCgidGQiKS5lcSgwKS5zZWxlY3QoImEiKSA6IHguZmluZCgidMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GQiKS5lcSgxKS5zZWxlY3QoImEiKTsNCiAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBMaWdodEl0ZW0obmV3IEltYWdlSGFuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxlcihyZXR1cm5PYmplY3QudXJsLCBhLmF0dHIoImhyZWYiKS51cmwoKSwgIi5ib29rLWltZyBpbWciKSwgYS50ZXh0KGZhbHNlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwgJycsIGEuYXR0cigiaHJlZiIpLnVybCgpLCByZXR1cm5PYmplY3QubmFtZSkpOw0KICAgICAgICB9KTsNCiAgICAgICAgcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuIHJlc3VsdDsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QuZ2V0Tm92ZWwgPSBhc3luYyAobm92ZWxVcmwpID0+IHsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgdmFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKG5vdmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJsKSk7DQogICAgICAgIHZhciBjaGFwdGVycyA9IGNvbnRhaW5lci5maW5kKCIjbW9yZWxpc3QgbGkgYSIpLm1hcCh4ID0+IG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBDaGFwdGVyKHgudGV4dChmYWxzZSksIHguYXR0cigiaHJlZiIpLnVybCgpKSk7DQogICAgICAgIHZhciBpdGVtID0gbmV3IE5vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsUmV2aWV3cygpOw0KDQogICAgICAgIGl0ZW0uZ2VucmVzID0gY29udGFpbmVyLmZpbmQoIi5ib29rLWluZm8gLnJlZCIpLnRleMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRBcnJheSgpOw0KICAgICAgICBpdGVtLmF1dGhvciA9IGNvbnRhaW5lci5maW5kKCIuYm9vay1pbmZvIC5ibHVlIikud2hlcmUoeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CA9PiB4LmlubmVySFRNTCgpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZigiYXV0aG9yIikgIT0gLTEpLmVxKDApLnJlbW92ZSgicCIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRleHQoZmFsc2UpLnJlcGxhY2UoL2F1dGhvcjovZ2ksICIiKTsNCiAgICAgICAgaXRlbS5jb21wbGV0ZWQgPSBjb250YWluZXIuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mluZCgiLmJvb2staW5mbyAuYmx1ZSIpLndoZXJlKHggPT4geC5pbm5lckhUTUwoKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoInN0YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1cyIpICE9IC0xKS50ZXh0KGZhbHNlKS5yZXBsYWNlKC9zdGF0dXM6L2dpLCAiIik7DQogICAgICAgIHJldHVybiBuZXcgRGV0YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxpSXRlbShjb250YWluZXIuc2VsZWN0KCcuYm9vay1pbWcgaW1nJykuYXR0cigic3JjIikudXJsKCkNCiAgICAgICAgICAgICwgYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029udGFpbmVyLnNlbGVjdCgnLmJvb2staW5mbyBoMScpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgY29udGFpbmVyLmZpbmQoJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5pbnRybyA+IHNwYW4nKS5yZW1vdmUoIi5ibHVlIikubGFzdCgpLmNsZWFuSW5uZXJIVE1MKCksDQogICAgICAgICAgICBub3ZlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FVybCwNCiAgICAgICAgICAgIGNoYXB0ZXJzLA0KICAgICAgICAgICAgaXRlbSwNCiAgICAgICAgICAgIHJldHVybk9iamVjdC5uYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W1lLA0KICAgICAgICAgICAgdW5kZWZpbmVkKTsNCiAgICB9DQogICAgcmV0dXJuT2JqZWN0LmdldENoYXB0ZXIgPSBhc3luYyAodMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJsKSA9PiB7DQogICAgICAgIHJldHVybiByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IG5ldyBjbGllbnQoKS5nZXRIdG1sKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybCkpLnNlbGVjdCgnLmVudHJ5LWNvbnRlbnQnKS5jbGVhbklubmVySFRNTCgpOw0KICAgIH0NCiAgICByZXR1cm5PYmplY3QubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF0ZXN0ID0gYXN5bmMgKHBhZ2UpID0+IHsNCiAgICAgICAgdmFyIHVybCA9IHJldHVybk9iamVjdC5sYXRlc3RVcmwucmVwbGFjZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Sgne3B9JywgcGFnZS50b1N0cmluZygpKTsNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XdhaXQgSHR0cENsaWVudC5nZXRIdG1sKHVybCkpOw0KICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgIHZhciByZXN1bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HQgPSBbXTsNCiAgICAgICAgY29udGFpbmVyLmZpbmQoJy5jb250YWluZXIgdGFibGUgdHInKS5mb3JFYWNoKCh4KSA9PiB7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICB2YXIgYSA9IHguZmluZCgidGQiKS5lcSgxKS5zZWxlY3QoImEiKTsNCiAgICAgICAgICAgIHJlc3VsdC5wdXNoKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBMaWdodEl0ZW0obmV3IEltYWdlSGFuZGxlcihyZXR1cm5PYmplY3QudXJsLCBhLmF0dHIoImhyZWYiKS51cmwoKSwgIi5ibMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029rLWltZyBpbWciKSwgYS50ZXh0KGZhbHNlKSwgJycsIGEuYXR0cigiaHJlZiIpLnVybCgpLCByZXR1cm5PYmplY3QubmFtZSkpOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICB9KTsNCiAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICB9DQogICAgcmV0dXJuIHJldHVybk9iamVjdDsNCn07&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KICAgIHZhciBpdGVtID0ge307DQogICAgaXRlbS5yb290ID0gImh0dHBzOi8vd3d3Lm5vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsdXBkYXRlcy5jb20iOw0KICAgIGl0ZW0uc2VhcmNoID0gYXN5bmMgKG5hbWUpID0+IHsNCiAgICAgICAgdHJ5IHsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIGlmICghbmFtZSkNCiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkDQogICAgICAgICAgICB2YXIgaHRtbCA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF3YWl0IEh0dHBDbGllbnQucG9zdEZvcm0oImh0dHBzOi8vd3d3Lm5vdmVsdXBkYXRlcy5jb20vd3AtYWRtaW4vYWRtaW4tYWpheMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5waHAiLCB7IGFjdGlvbjogIm5kX2FqYXhzZWFyY2htYWluIiwgc3RyVHlwZTogImRlc2t0b3AiLCBzdHJPbmU6IG5hbWUsIHN0cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0lNlYXJjaFR5cGU6ICJzZXJpZXMiIH0pOw0KICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHBhcnNlSHRtbChodG1sLCBpdGVtLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nJvb3QpLmZpbmQoImEiKTsNCiAgICAgICAgICAgIHJldHVybiBjb250YWluZXIud2hlcmUoeCA9PiBuYW1lLnRyaW0oKS5sZW5ndMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GggPT0gKHguc2VsZWN0KCIuc2VhcmNoX2hsIikuaGFzRWxlbWVudCgpID8geC5zZWxlY3QoIi5zZWFyY2hfaGwiKSA6IHguc2VsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0KCJzcGFuIikpLnRleHQoZmFsc2UpLnRyaW0oKS5sZW5ndGggJiYgKG5hbWUudG9Mb3dlckNhc2UoKS5pbmRleE9mKCh4LnNlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVjdCgiLnNlYXJjaF9obCIpLmhhc0VsZW1lbnQoKSA/IHguc2VsZWN0KCIuc2VhcmNoX2hsIikgOiB4LnNlbGVjdCgic3BhbiIpKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S50ZXh0KGZhbHNlKS50b0xvd2VyQ2FzZSgpKSAhPSAtMSkpLmF0dHIoImhyZWYiKS51cmwoKTsNCiAgICAgICAgfSBjYXRjaCAoZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJyb3IpIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQ0KICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgfQ0KICAgIH0NCg0KICAgIGl0ZW0uZ2V0QnlBdXRob3IgPSBhc3luYyAodXJsKSA9PiB7DQogICAgICAgIHZhciBjb250YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WluZXIgPSBwYXJzZUh0bWwoKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbCh1cmwpKS5vdXRlckhUTUwsIGl0ZW0ucm9vdCk7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHZhciByZXN1bHQgPSBbXTsNCiAgICAgICAgY29udGFpbmVyLmZpbmQoIi5zZWFyY2hfbWFpbl9ib3hfbnUiKS5mb3JFYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WNoKHggPT4gew0KICAgICAgICAgICAgcmVzdWx0LnB1c2goDQogICAgICAgICAgICAgICAgbmV3IExpZ2h0SXRlbSh4LnNlbGVjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CgiLnNlYXJjaF9pbWdfbnUgaW1nIikuYXR0cigic3JjIikudXJsKCksIHguc2VsZWN0KCIuc2VhcmNoX3RpdGxlIGEiKS50ZXh0KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GZhbHNlKSwgeC5zZWxlY3QoIi5zZWFyY2hfcmF0aW5ncyIpLnRleHQoZmFsc2UpLCAiIiwgIiIpDQogICAgICAgICAgICApDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIH0pOw0KDQogICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgfQ0KDQogICAgaXRlbS5nZXREZXRhbGlJdGVtID0gYXN5bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mMgKG5vdmVsTmFtZSkgPT4gew0KICAgICAgICB2YXIgdXJsID0gYHNlcmllcy8ke25vdmVsTmFtZS5yZXBsYWNlKC9bIF0vZywgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i0iKX0vYC51cmkoaXRlbS5yb290KTsNCiAgICAgICAgaWYgKCF1cmwpDQogICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkOw0KDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIGNvbnNvbGUubG9nKHVybCkNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSBwYXJzZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Uh0bWwoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKHVybCksIGl0ZW0ucm9vdCk7DQogICAgICAgICAgICB2YXIgdGl0ZW0gPSBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgTm92ZWxSZXZpZXdzKCk7DQoNCiAgICAgICAgICAgIHRpdGVtLmdlbnJlcyA9IGNvbnRhaW5lci5maW5kKCIjc2VyaWVzZ2VucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mUgYSIpLnRleHRBcnJheSgpOw0KICAgICAgICAgICAgdGl0ZW0uZGVzY3JpcHRpb24gPSBjb250YWluZXIuc2VsZWN0KCIjZWRpdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GRlc2NyaXB0aW9uIikudGV4dCh0cnVlKTsNCiAgICAgICAgICAgIHRpdGVtLnV2b3RlcyA9IGNvbnRhaW5lci5zZWxlY3QoIi51dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m90ZXMiKS50ZXh0KGZhbHNlKTsNCiAgICAgICAgICAgIHRpdGVtLmFsdGVybmF0aXZlTmFtZXMgPSBjb250YWluZXIuc2VsZWN0KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIjZWRpdGFzc29jaWF0ZWQiKS50ZXh0KGZhbHNlKS5yZXBsYWNlKC88YnI+LywgIiwiKTsNCiAgICAgICAgICAgIHRpdGVtLmF1dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GhvciA9IGNvbnRhaW5lci5maW5kKCJkaXYjc2hvd2F1dGhvcnMgPiBhIikudGV4dChmYWxzZSk7DQogICAgICAgICAgICB0aXRlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S5sYW5nID0gY29udGFpbmVyLnNlbGVjdCgiI3Nob3dsYW5nID4gYSIpLnRleHQoZmFsc2UpDQogICAgICAgICAgICB0aXRlbS5jbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU021wbGV0ZWQgPSBjb250YWluZXIuc2VsZWN0KCIjc2hvd3RyYW5zbGF0ZWQgPiBhIikudGV4dChmYWxzZSkgPT09ICJZZXMiID8gIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0lN0YXR1czogQ29tcGxldGVkIiA6ICJTdGF0dXM6IE9uZ29pbmciOw0KICAgICAgICAgICAgdGl0ZW0uYXV0aG9yVXJsID0gY29udMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFpbmVyLnNlbGVjdCgiI3Nob3dhdXRob3JzID4gYSIpLmF0dHIoImhyZWYiKS50ZXh0KGZhbHNlKTsNCiAgICAgICAgICAgIHRpdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVtLnJlY3VtbWVuZGF0aW9ucyA9IGNvbnRhaW5lci5maW5kKCIud3BiX3dyYXBwZXIgLmdlbnJlIikud2hlcmUoeCA9PiAoeC5hdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRyKCJ0aXRsZSIpLnRleHQoZmFsc2UpKS5pbmRleE9mKCJSZWNvbW1lbmRlZCIpID4gLTEpLm1hcCh4ID0+IHsNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICByZXR1cm4gbmV3IExpZ2h0SXRlbShhc3luYyAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHZhciBodG1sID0gcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFyc2VIdG1sKChhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwoeC5hdHRyKCJocmVmIikudGV4dChmYWxzZSkudXJpKGl0ZW0ucm9vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CksIHRydWUpKS5vdXRlckhUTUwsIGl0ZW0ucm9vdCk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBodG1sLnNlbGVjdCgiLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlcmllc2ltZyBpbWciKS5hdHRyKCJzcmMiKS50ZXh0KGZhbHNlKS51cmkoaXRlbS5yb290KTsNCiAgICAgICAgICAgICAgICB9LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB4LnRleHQoZmFsc2UpLCAiIiwgeC5hdHRyKCJocmVmIikudGV4dCgpLnVyaShpdGVtLnJvb3QpLCAiIikNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0H0pOw0KDQogICAgICAgICAgICBpZiAoIXRpdGVtLmdlbnJlcyB8fCB0aXRlbS5nZW5yZXMubGVuZ3RoIDw9IDApDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDsNCiAgICAgICAgICAgIHRpdGVtLnVybCA9IHVybDsNCiAgICAgICAgICAgIHJldHVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iB0aXRlbTsNCiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQ0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgcmV0dXJuIHVuZGVmaW5lZDsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHJldHVybiBpdGVtOw0KfQ==&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KICAgIGNvbnN0IHJldHVybk9iamVjdCA9IHt9Ow0KICAgIHJldHVybk9iamVjdC5pZCA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIxLm5vdmVsb25saW5lZnVsbCI7DQogICAgcmV0dXJuT2JqZWN0LmRldGFsaUl0ZW1UeXBlID0gRGV0YWxpSXRlbVR5cGUuTm92ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ww7DQogICAgcmV0dXJuT2JqZWN0LnBhcnNlckxhbmd1YWdlID0gImVuIjsNCiAgICByZXR1cm5PYmplY3QubmFtZSA9ICdOb3ZlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0E9ubGluZUZ1bGwnOw0KICAgIHJldHVybk9iamVjdC5kaXNwbGF5TmFtZSA9ICJOb3ZlbC1PbmxpbmUiDQogICAgcmV0dXJuT2JqZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0LmxhdGVzdFVybCA9ICdodHRwczovL25vdmVsb25saW5lZnVsbC5jb20vbm92ZWxfbGlzdD90eXBlPWxhdGVzdCZjYXRlZ29yeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0T1hbGwmc3RhdGU9YWxsJnBhZ2U9e3B9JzsNCiAgICByZXR1cm5PYmplY3QudXJsID0gJ2h0dHBzOi8vbm92ZWxvbmxpbmVmdWxsLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mNvbS8nOw0KICAgIHJldHVybk9iamVjdC5zZWFyY2hVcmwgPSAnaHR0cHM6Ly9ub3ZlbG9ubGluZWZ1bGwuY29tL3NlYXJjaF9ubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03ZlbHMve3F9P3BhZ2U9e3B9JzsNCiAgICByZXR1cm5PYmplY3QucGFuaW5hdGlvbiA9IHRydWU7DQogICAgcmV0dXJuT2JqZWN0LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlYXJjaFBhZ2luYXRpb24gPSBmYWxzZTsNCiAgICByZXR1cm5PYmplY3QuaWNvbiA9ICdodHRwczovL25vdmVsb25saW5lZnVsbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5jb20vdGhlbWVzL2hvbWUvaW1hZ2VzL2Zhdmljb24ucG5nJzsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03MgPSBuZXcgUGFyc2VyU2VhcmNoU2V0dGluZ3MoKTsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3MubXVsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlTZWxlY3Rpb24gPSB0cnVlOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZXMgPSB7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG11bHRpU2VsZWN0aW9uOiBmYWxzZSwNCiAgICAgICAgdmFsdWVzOiBbDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxsIiwgImFsbCIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkNoaW5lc2UiLCAzKSwNCiAgICAgICAgICAgIG5ldyBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJlbFZhbHVlKCJFbmdsaXNoIiwgNiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiS29yZWFuIiwgMTMpLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbmV3IGxhYmVsVmFsdWUoIk9yaWdpbmFsIiwgMTkpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkFjdGlvbiIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0DEpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkFkdmVudHVyZSIsIDIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUoIkNvbWVkeSIsIDQpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkRyYW1hIiwgNSksDQogICAgICAgICAgICBuZXcgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFiZWxWYWx1ZSgiRmFudGFzeSIsIDcpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkdlbmRlciBCZW5kZXIiLCA4KSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJIYXJlbSIsIDkpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkhpc3RvcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mljYWwiLCAxMCksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiSG9ycm9yIiwgMTEpLA0KICAgICAgICAgICAgbmV3IGxhYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsVmFsdWUoIkpvc2VpIiwgMTIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkxvbGljb24iLCAxNCksDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBuZXcgbGFiZWxWYWx1ZSgiTWFydGlhbCBBcnRzIiwgMTUpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIk1hdHVyZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SIsIDE2KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJNZWNoYSIsIDE3KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVlKCJNeXN0ZXJ5IiwgMTgpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlBzeWNob2xvZ2ljYWwiLCAyMCksDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBuZXcgbGFiZWxWYWx1ZSgiUmVpbmNhcm5hdGlvbiIsIDIxKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJSbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU021hbmNlIiwgMjIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNjaG9vbCBMaWZlIiwgMjMpLA0KICAgICAgICAgICAgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV3IGxhYmVsVmFsdWUoIlNjaS1maSIsIDI0KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTZWluZW4iLCAyNSksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2hvdGFjb24iLCAyNiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2hvdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WpvIiwgMjcpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNob3VqbyBBaSIsIDI4KSwNCiAgICAgICAgICAgIG5ldyBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJlbFZhbHVlKCJTaG91bmVuIiwgMjkpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNob3VuZW4gQWkiLCAzMCksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2xpY2Ugb2YgTGlmZSIsIDMxKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJTbXV0IiwgMzIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNwb3J0cyIsIDMzKSwNCiAgICAgICAgICAgIG5ldyBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJlbFZhbHVlKCJTdXBlcm5hdHVyYWwiLCAzNCksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiVHJhZ2VkeSIsIDM1KSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJWaXJ0dWFsIFJlYWxpdHkiLCAzNiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZSgiV3V4aWEiLCAzNyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiWGlhbnhpYSIsIDM4KSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBsYWJlbFZhbHVlKCJYdWFuaHVhbiIsIDM5KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJBcnRzIiwgNDApLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkJpb2dyYXBoaWVzIiwgNDEpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0kJ1c2luZXNzIiwgNDIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkNvbXB1dGVycyIsIDQzKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBsYWJlbFZhbHVlKCJFZHVjYXRpb24iLCA0NiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiRW50ZXJ0YWlubWVudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIsIDQ3KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJGaWN0aW9uIiwgNDgpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoIkh1bW9yIiwgNTEpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkludmVzdGluZyIsIDUyKSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCJMaXRlcmF0dXJlIiwgNTMpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIk1lbW9pcnMiLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CA1NCkNCg0KICAgICAgICBdDQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLnNvcnRUeXBlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yA9IHsNCiAgICAgICAgbXVsdGlTZWxlY3Rpb246IGZhbHNlLA0KICAgICAgICB2YWx1ZXM6IFsNCiAgICAgICAgICAgIG5ldyBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJlbFZhbHVlKCdMYXRlc3QnLCAnbGF0ZXN0JyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTmV3ZXN0JywgJ25ld2VzdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CcpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1RvcCB2aWV3JywgJ3RvcHZpZXcnKQ0KICAgICAgICBdLA0KICAgIH07DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QoNCiAgICByZXR1cm5PYmplY3QuZ2V0U2VjdGlvbnMgPSAoa2V5cykgPT4gew0KICAgICAgICB2YXIgc2VjdGlvbnMgPSBbDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgU2VjdGlvbigibGF0ZXN0IiwgIkxhdGVzdCBVcGRhdGUiLCAiTGF0ZXN0IiwgdHJ1ZSksDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBuZXcgU2VjdGlvbigibmV3ZXN0IiwgIk5ld2VzdCBOb3ZlbCIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mluZWQsICJuZXdlc3QiKSksDQogICAgICAgICAgICBuZXcgU2VjdGlvbigidG9wIiwgIlRvcCB2aWV3IiwgIlNlYXJjaCIsIGZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HNlLCBuZXcgRmlsdGVyKHVuZGVmaW5lZCwgInRvcHZpZXciKSkNCiAgICAgICAgXQ0KDQogICAgICAgIHJldHVybiBzZWN0aW9ucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5maWx0ZXIoeCA9PiAha2V5cyB8fCBrZXlzLmluY2x1ZGVzKHgubmFtZSkpOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC50cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFuc2xhdGVTZWN0aW9uID0gYXN5bmMgKHNlY3Rpb24sIHBhZ2UpID0+IHsNCiAgICAgICAgaWYgKHNlY3Rpb24uaWRlbnRpZmllcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iA9PSAiTGF0ZXN0IikNCiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZXR1cm5PYmplY3QubGF0ZXN0KHBhZ2UpOw0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBlbHNlDQogICAgICAgICAgICByZXR1cm4gYXdhaXQgcmV0dXJuT2JqZWN0LnNlYXJjaChzZWN0aW9uLmZpbHRlciB8fCByZXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m5PYmplY3QuZGVmYXVsdEZpbHRlcigpLCBwYWdlKTsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QuZGVmYXVsdEZpbHRlciA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CgpID0+IHsNCiAgICAgICAgcmV0dXJuIG5ldyBGaWx0ZXIoWyJhbGwiXSwgInRvcHZpZXciKTsNCiAgICB9Ow0KDQoNCiAgICByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1cm5PYmplY3Quc2VhcmNoID0gYXN5bmMgKGZpbHRlciwgcGFnZSkgPT4gew0KICAgICAgICB2YXIgc29ydFR5cGVVcmkgPSAiaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HR0cHM6Ly9ub3ZlbG9ubGluZWZ1bGwuY29tL25vdmVsX2xpc3Q/dHlwZT17c30mY2F0ZWdvcnk9e2d9JnN0YXRlPWFsbCZwYWdlPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XtwfSINCiAgICAgICAgdmFyIHNvcnRUeXBlVXJsID0gc29ydFR5cGVVcmkucmVwbGFjZSgie3N9IiwgZmlsdGVyLnNvcnRUeXBlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S5yZXBsYWNlKCJ7cH0iLCBwYWdlLnRvU3RyaW5nKCkpLnJlcGxhY2UoIntnfSIsIGZpbHRlci5nZW5yZXMubGVuZ3RoID4gMCA/IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GZpbHRlci5nZW5yZXNbMF0gOiAiYWxsIik7DQoNCiAgICAgICAgdmFyIHVybCA9ICghZmlsdGVyLnRpdGxlIHx8IGZpbHRlci50aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRsZSA9PSAiIikgJiYgZmlsdGVyLnNvcnRUeXBlICYmIGZpbHRlci5zb3J0VHlwZSAhPSAnJyA/IHNvcnRUeXBlVXJsIDogcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuT2JqZWN0LnNlYXJjaFVybC5yZXBsYWNlKCd7cX0nLCAoZmlsdGVyLnRpdGxlIHx8ICIiKS5yZXBsYWNlKC9bIF0vLCAiXyIpKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TsNCg0KICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WwodXJsKSk7DQogICAgICAgIHZhciByZXN1bHQgPSBbXTsNCiAgICAgICAgY29udGFpbmVyLmZpbmQoIi51cGRhdGVfaXRlbSwgLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ml0ZW11cGRhdGUiKS5mb3JFYWNoKHggPT4gew0KICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IExpZ2h0SXRlbSh4LnNlbGVjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CgiaW1nIikuYXR0cigic3JjIikudXJsKCksDQogICAgICAgICAgICAgICAgeC5zZWxlY3QoImltZyIpLmF0dHIoImFsdCB8IHRpdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxlIikudGV4dChmYWxzZSksDQogICAgICAgICAgICAgICAgIiIsDQogICAgICAgICAgICAgICAgeC5zZWxlY3QoImEiKS5hdHRyKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJocmVmIikudXJsKCksDQogICAgICAgICAgICAgICAgcmV0dXJuT2JqZWN0Lm5hbWUpKTsNCiAgICAgICAgfSk7DQoNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgcmV0dXJuIHJlc3VsdDsNCg0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5nZXROb3ZlbCA9IGFzeW5jIChub3ZlbFVybCkgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0T4gew0KICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wwobm92ZWxVcmwpKTsNCiAgICAgICAgdmFyIGNoYXB0ZXJzID0gY29udGFpbmVyLmZpbmQoIi5jaGFwdGVyLWxpc3QgLnJvdyBhIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ikubWFwKHggPT4gbmV3IENoYXB0ZXIoeC50ZXh0KGZhbHNlKSwgeC5hdHRyKCJocmVmIikudXJsKCkpKTsNCiAgICAgICAgdmFyIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5vdmVsUmV2aWV3cyA9IG5ldyBOb3ZlbFJldmlld3MoKTsNCiAgICAgICAgdmFyIGluZm9zID0gY29udGFpbmVyLmZpbmQoIi50cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nV5ZW5faW5mb19yaWdodCBsaSIpDQoNCg0KICAgICAgICBub3ZlbFJldmlld3MuZ2VucmVzID0gaW5mb3MuZXEoMikuZmluZCgiYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SIpLnRleHRBcnJheSgpOw0KICAgICAgICBub3ZlbFJldmlld3MuYXV0aG9yID0gaW5mb3MuZXEoMSkuZmluZCgiYSIpLnRleHQoKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TsNCiAgICAgICAgbm92ZWxSZXZpZXdzLnV2b3RlcyA9IGluZm9zLmVxKDYpLnRleHQoZmFsc2UpOw0KICAgICAgICBub3ZlbFJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mlld3MuZGVzY3JpcHRpb24gPSBpbmZvcy5zZWxlY3QoIiNub2lkdW5nbSIpLnRleHQoZmFsc2UpOw0KICAgICAgICBub3ZlbFJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mlld3MuY29tcGxldGVkID0gaW5mb3MuZXEoMykuc2VsZWN0KCJhIikudGV4dChmYWxzZSkgPT09ICJDb21wbGV0ZWQiID8gIlN0YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1czpDb21wbGV0ZWQiIDogIlN0YXR1czpPbmdvaW5nIjsNCg0KICAgICAgICByZXR1cm4gbmV3IERldGFsaUl0ZW0oDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBjb250YWluZXIuc2VsZWN0KCIuaW5mb19pbWFnZSBpbWciKS5hdHRyKCJzcmMiKS51cmwoKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GNvbnRhaW5lci5zZWxlY3QoJy50cnV5ZW5faW5mb19yaWdodCBoMScpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgY29udGFpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVyLnNlbGVjdCgnI25vaWR1bmdtJykuY2xlYW5Jbm5lckhUTUwoKSwNCiAgICAgICAgICAgIG5vdmVsVXJsLA0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgY2hhcHRlcnMucmV2ZXJzZSgpLA0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLA0KICAgICAgICAgICAgcmV0dXJuT2JqZWN0LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m5hbWUsDQogICAgICAgICAgICB1bmRlZmluZWQsDQogICAgICAgICk7DQogICAgfQ0KDQoNCiAgICByZXR1cm5PYmplY3QuZ2V0QMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02hhcHRlciA9IGFzeW5jICh1cmwpID0+IHsNCiAgICAgICAgcmV0dXJuIHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgbmV3IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GNsaWVudCgpLmdldEh0bWwodXJsKSkuc2VsZWN0KCIudnVuZ19kb2MiKS5jbGVhbklubmVySFRNTCgpOw0KICAgIH0NCg0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybk9iamVjdC5sYXRlc3QgPSBhc3luYyAocGFnZSkgPT4gew0KICAgICAgICB2YXIgdXJsID0gcmV0dXJuT2JqZWN0LmxhdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVzdFVybC5yZXBsYWNlKCJ7cH0iLCBwYWdlLnRvU3RyaW5nKCkpOw0KICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwodXJsKSk7DQogICAgICAgIHZhciByZXN1bHQgPSBbXTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgY29udGFpbmVyLmZpbmQoIi51cGRhdGVfaXRlbSIpLmZvckVhY2goeCA9PiB7DQogICAgICAgICAgICByZXN1bHQucHVzaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ChuZXcgTGlnaHRJdGVtKHguc2VsZWN0KCJpbWciKS5hdHRyKCJzcmMiKS51cmwoKSwNCiAgICAgICAgICAgICAgICB4LnNlbGVjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CgiaW1nIikuYXR0cigidGl0bGUiKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgICAiIiwNCiAgICAgICAgICAgICAgICB4LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlbGVjdCgiYSIpLmF0dHIoImhyZWYiKS51cmwoKSwNCiAgICAgICAgICAgICAgICByZXR1cm5PYmplY3QubmFtZSkpOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB9KTsNCg0KICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0NCg0KICAgIHJldHVybiByZXR1cm5PYmplY3Q7DQp9Ow==&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KICAgIGNvbnN0IHJldHVybk9iamVjdCA9IHt9Ow0KICAgIHJldHVybk9iamVjdC5pZCA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIxLnJlYWRsaWdodG5vdmVsIjsNCiAgICByZXR1cm5PYmplY3QuZGV0YWxpSXRlbVR5cGUgPSBEZXRhbGlJdGVtVHlwZS5Ob3ZlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0DsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyTGFuZ3VhZ2UgPSAiZW4iOw0KICAgIHJldHVybk9iamVjdC5uYW1lID0gJ1JlYWRMaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WdodE5vdmVsJzsNCiAgICByZXR1cm5PYmplY3QuZGlzcGxheU5hbWUgPSAiUi1Ob3ZlbC1MaWdodCI7DQogICAgcmV0dXJuT2JqZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0LmxhdGVzdFVybCA9ICdodHRwczovL3d3dy5yZWFkbGlnaHRub3ZlbC5jYyc7DQogICAgcmV0dXJuT2JqZWN0LnVybCA9ICdodMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRwczovL3d3dy5yZWFkbGlnaHRub3ZlbC5jYy8nOw0KICAgIHJldHVybk9iamVjdC5zZWFyY2hVcmwgPSAnaHR0cHM6Ly93d3cucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVhZGxpZ2h0bm92ZWwuY2Mvc2VhcmNoL3txfS97cH0nOw0KICAgIHJldHVybk9iamVjdC5wYW5pbmF0aW9uID0gZmFsc2U7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgcmV0dXJuT2JqZWN0LnNlYXJjaFBhZ2luYXRpb24gPSB0cnVlOw0KICAgIHJldHVybk9iamVjdC5pY29uID0gJ2h0dHBzOi8vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03d3Lmdvb2dsZS5jb20vczIvZmF2aWNvbnM/ZG9tYWluPWh0dHBzOi8vd3d3LnJlYWRsaWdodG5vdmVsLmNjLyc7DQoNCiAgICByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3MgPSBuZXcgUGFyc2VyU2VhcmNoU2V0dGluZ3MoKTsNCiAgICByZXR1cm5PYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3MuZ2VucmVzID0gew0KICAgICAgICBtdWx0aVNlbGVjdGlvbjogZmFsc2UsDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHZhbHVlczogWw0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0FueScsIDApLA0KICAgICAgICAgICAgbmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoJ0ZhbnRhc3knLCAxKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdYaWFueGlhJywgMiksDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBuZXcgbGFiZWxWYWx1ZSgnUm9tYW50aWMnLCAzKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdIaXN0b3JpY2FsJywgNMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU2NpLWZpJywgNSksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnRMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02FtZScsIDYpLA0KICAgICAgICBdLA0KICAgIH07DQoNCiAgICByZXR1cm5PYmplY3QuZ2V0U2VjdGlvbnMgPSBhc3luYyAoa2V5cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ykgPT4gew0KICAgICAgICB2YXIgc2VjdGlvbnMgPSBbDQogICAgICAgICAgICBuZXcgU2VjdGlvbigibGF0ZXN0IiwgIkxhdGVzdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBVcGRhdGUiLCAiTGF0ZXN0IiwgdHJ1ZSkNCiAgICAgICAgXQ0KDQogICAgICAgIHJldHVybiBzZWN0aW9ucy5maWx0ZXIoeCA9PMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAha2V5cyB8fCBrZXlzLmluY2x1ZGVzKHgubmFtZSkpOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC50cmFuc2xhdGVTZWN0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W9uID0gYXN5bmMgKHNlY3Rpb24sIHBhZ2UpID0+IHsNCiAgICAgICAgaWYgKHNlY3Rpb24uaWRlbnRpZmllciA9PSAiTGF0ZXN0IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ikNCiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZXR1cm5PYmplY3QubGF0ZXN0KHBhZ2UpOw0KICAgICAgICBlbHNlDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICByZXR1cm4gYXdhaXQgcmV0dXJuT2JqZWN0LnNlYXJjaChzZWN0aW9uLmZpbHRlciB8fCByZXR1cm5PYmplY3QuZGVmYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XVsdEZpbHRlcigpLCBwYWdlKTsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QuZGVmYXVsdEZpbHRlciA9ICgpID0+IHsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgdmFyIGZpbHRlciA9IG5ldyBGaWx0ZXIoKTsNCiAgICAgICAgcmV0dXJuIGZpbHRlcjsNCiAgICB9Ow0KDQogICAgcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuT2JqZWN0LmdldEdlbnJlc1NlYXJjaCA9IGFzeW5jIChmaWx0ZXIsIHBhZ2UpID0+IHsNCiAgICAgICAgdmFyIHEgPSAnaHR0cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HM6Ly93d3cucmVhZGxpZ2h0bm92ZWwuY2MvbWVtYmVyYWN0aW9uLmFzcHgnOw0KICAgICAgICB2YXIgZiA9IHsNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIGFjdGlvbjogJ25leHRib29rY2F0ZWdvcnknLA0KICAgICAgICAgICAgY2F0ZWdvcnlpZDogZmlsdGVyLmdlbnJlc1swXSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIHBhZ2U6IHBhZ2UsDQogICAgICAgIH07DQoNCiAgICAgICAgdmFyIGpzb24gPSBhd2FpdCBIdHRwQ2xpZW50LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nBvc3RGb3JtKHEsIGYpOw0KDQogICAgICAgIHJldHVybiBqc29uICYmIGpzb24uZGF0YSA/IGpzb24uZGF0YS5tYXAoKHgpID0+DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgbmV3IExpZ2h0SXRlbSgNCiAgICAgICAgICAgICAgICAgICAgYXN5bmMgKCkgPT4gew0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoYXdhaXQgcmV0dXJuT2JqZWN0LmdldE5vdmVsKHguQm9va1Bpbllpbi51cmkocMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuT2JqZWN0LnBhcnNlci51cmwpICsgIi8iLCB0cnVlKSkuaW1hZ2UNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICAgICB4LkJvb2tOYW1lLA0KICAgICAgICAgICAgICAgICAgICAgICAgeC5EZXNjcmlwdGlvbiwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICAgICAgICAgIHguQm9va1Bpbllpbi51cmkocmV0dXJuT2JqZWN0LnVybCkgKyAiLyIsDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICByZXR1cm5PYmplY3QubmFtZQ0KICAgICAgICAgICAgICAgICksDQogICAgICAgICAgICApIDoNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIFtdOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5zZWFyY2ggPSBhc3luYyAoZmlsdGVyLCBwYWdlKSA9PiB7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIGlmIChmaWx0ZXIuZ2VucmVzLmxlbmd0aCA+IDApDQogICAgICAgICAgICByZXR1cm4gYXdhaXQgcmV0dXJuT2JqZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0LmdldEdlbnJlc1NlYXJjaChmaWx0ZXIsIHBhZ2UpOw0KDQogICAgICAgIHZhciBxdWVyeSA9IHJldHVybk9iamVjdC5zZWFyYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02hVcmwNCiAgICAgICAgICAgIC5yZXBsYWNlKCd7cX0nLCBmaWx0ZXIudGl0bGUgfHwgIiIpDQogICAgICAgICAgICAucmVwbGFjZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Sgne3B9JywgcGFnZS50b1N0cmluZygpKTsNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XdhaXQgSHR0cENsaWVudC5nZXRIdG1sKHF1ZXJ5KSk7DQogICAgICAgIHZhciByZXN1bHQgPSBbXTsNCiAgICAgICAgY29udGFpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVyLmZpbmQoJy5saXN0LWl0ZW0nKS5mb3JFYWNoKHggPT4gew0KICAgICAgICAgICAgcmVzdWx0LnB1c2goDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbmV3IExpZ2h0SXRlbSgNCiAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoJ2ltZycpLmF0dHIoInNyYyIpLnVybCgpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgICAgICAgICB4LnNlbGVjdCgnaW1nJykuYXR0cigiYWx0IHwgdGl0bGUiKS50ZXh0KGZhbHNlKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgJycsDQogICAgICAgICAgICAgICAgICAgIHguc2VsZWN0KCcuYm9vay1uYW1lJykuYXR0cigiaHJlZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iIpLnVybCgpLA0KICAgICAgICAgICAgICAgICAgICByZXR1cm5PYmplY3QubmFtZQ0KICAgICAgICAgICAgICAgICksDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICApOw0KICAgICAgICB9KTsNCiAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02V0Tm92ZWwgPSBhc3luYyAobm92ZWxVcmwsIGlnbm9yZUNoYXB0ZXJzKSA9PiB7DQogICAgICAgIHZhciBjb250YWluZXIgPSByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbChub3ZlbFVybCwgaWdub3JlQ2hhcHRlcnMpKTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgdmFyIGNoYXB0ZXJzID0gW107DQogICAgICAgIHZhciBub3ZlbFJldmlld3MgPSBuZXcgTm92ZWxSZXZpZXdzKCk7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIGlmICghaWdub3JlQ2hhcHRlcnMpIHsNCiAgICAgICAgICAgIHZhciBodG1sQ2hhcHRlcnMgPSBjb250YWluZXIuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mluZCgnLmNoYXB0ZXItbGlzdCBhJyk7DQogICAgICAgICAgICBodG1sQ2hhcHRlcnMuZm9yRWFjaCgoeCkgPT4gew0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIGNoYXB0ZXJzLnB1c2goDQogICAgICAgICAgICAgICAgICAgIG5ldyBDaGFwdGVyKHguc2VsZWN0KCcuY2hhcHRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i1uYW1lJykudGV4dChmYWxzZSksIHguYXR0cigiaHJlZiIpLnVybCgpKQ0KICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB9KTsNCiAgICAgICAgfQ0KICAgICAgICBub3ZlbFJldmlld3MuZ2VucmVzID0gY29udGFpbmVyLmZpbmQoIi5iYXNlLWluZm8gLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mJvb2stY2F0YWxvZyAudHh0IikudGV4dEFycmF5KCk7DQogICAgICAgIG5vdmVsUmV2aWV3cy5hdXRob3IgPSBjb250YWluZXIucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VsZWN0KCIuYXV0aG9yIC5uYW1lIikudGV4dChmYWxzZSk7DQogICAgICAgIG5vdmVsUmV2aWV3cy51dm90ZXMgPSBjb250YWluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIuc2VsZWN0KCIuc2NvcmUiKS50ZXh0KGZhbHNlKSArICIgLyAxMCI7DQogICAgICAgIG5vdmVsUmV2aWV3cy5jb21wbGV0ZWQgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SBjb250YWluZXIuc2VsZWN0KCIuYmFzZS1pbmZvIC5ib29rLXN0YXRlIC50eHQiKS50ZXh0KGZhbHNlKSA9PT0gIkNvbXBsZXRlZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIgPyAiU3RhdHVzOkNvbXBsZXRlZCIgOiAiU3RhdHVzOk9uZ29pbmciOw0KICAgICAgICByZXR1cm4gbmV3IERldGFsaUl0ZW0oDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCcuYm9vay1jb250YWluZXIgaW1nJykuYXR0cigic3JjIikudXJsKCksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCcuYm9vay1pbmZvIC5ib29rLW5hbWUnKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIGNvbnRhaW5lci5zZWxlY3QoJy5zeW5vcHNpcyAuY29udGVudCAuZGVzYycpLmNsZWFuSW5uZXJIVE1MKCksDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBub3ZlbFVybCwNCiAgICAgICAgICAgIGNoYXB0ZXJzLA0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLA0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgcmV0dXJuT2JqZWN0Lm5hbWUsDQogICAgICAgICAgICB1bmRlZmluZWQsDQogICAgICAgICk7DQogICAgfQ0KDQogICAgcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuT2JqZWN0LmdldENoYXB0ZXIgPSBhc3luYyAodXJsKSA9PiB7DQogICAgICAgIHJldHVybiByZXR1cm5PYmplY3QucGFyc2VyLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mpxKGF3YWl0IG5ldyBjbGllbnQoKS5nZXRIdG1sKHVybCkpLnNlbGVjdCgnLnJlYWQtY29udGFpbmVyIC5zZWN0aW9uLWxpc3QnKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S5jbGVhbklubmVySFRNTCgpOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5sYXRlc3QgPSBhc3luYyAocGFnZSkgPT4gew0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwocmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuT2JqZWN0LmxhdGVzdFVybCkpOw0KICAgICAgICB2YXIgcmVzdWx0ID0gW107DQoNCiAgICAgICAgY29udGFpbmVyLmZpbmQoJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y51cGRhdGUtY29udGVudCcpLmZvckVhY2goKHgpID0+IHsNCiAgICAgICAgICAgIHZhciB1ID0geC5zZWxlY3QoJy5pdGVtLXRpdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxlIGEnKS5hdHRyKCJocmVmIikudGV4dChmYWxzZSk7DQogICAgICAgICAgICB2YXIgdGl0bGUgPSB4LnNlbGVjdCgnLml0ZW0tdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Gl0bGUgYScpLnRleHQoZmFsc2UpOw0KICAgICAgICAgICAgaWYgKHUgIT0gIiIgJiYgIXJlc3VsdC5maW5kKCh4KSA9PiB1LnVyaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ShyZXR1cm5PYmplY3QudXJsKSA9PSB4Lm5vdmVsIHx8IHRpdGxlID09IHgudGl0bGUpKQ0KICAgICAgICAgICAgICAgIHJlc3VsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5wdXNoKA0KICAgICAgICAgICAgICAgICAgICBuZXcgTGlnaHRJdGVtKA0KICAgICAgICAgICAgICAgICAgICAgICAgYXN5bmMgKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGF3YWl0IHJldHVybk9iamVjdC5nZXROb3ZlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ch1LnVyaShyZXR1cm5PYmplY3QudXJsKSwgdHJ1ZSkpLmltYWdlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJywNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICB1LnVyaShyZXR1cm5PYmplY3QudXJsKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1cm5PYmplY3QubmFtZQ0KICAgICAgICAgICAgICAgICAgICApLA0KICAgICAgICAgICAgICAgICk7DQogICAgICAgIH0pOw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0NCg0KICAgIHJldHVybiByZXR1cm5PYmplY3Q7DQp9Ow==&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KCWNvbnN0IHJldHVybk9iamVjdCA9IHt9Ow0KCXJldHVybk9iamVjdC5pZCA9ICIxLnJlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WRub3ZlbGZ1bGwiOw0KCXJldHVybk9iamVjdC5wYXJzZXJMYW5ndWFnZSA9ICJlbiI7DQoJcmV0dXJuT2JqZWN0Lm5hbWUgPSAnUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVhZE5vdmVsRnVsbCc7DQoJcmV0dXJuT2JqZWN0LmRpc3BsYXlOYW1lID0gIlItTm92ZWwtRnVsbHkiOw0KCXJldHVybk9iamVjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5kZXRhbGlJdGVtVHlwZSA9IERldGFsaUl0ZW1UeXBlLk5vdmVsOw0KCXJldHVybk9iamVjdC5sYXRlc3RVcmwgPSAnaHR0cHM6LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y9yZWFkbm92ZWxmdWxsLmNvbS9sYXRlc3QtcmVsZWFzZS1ub3ZlbD9wYWdlPXtwfSc7DQoJcmV0dXJuT2JqZWN0LnVybCA9ICdodMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRwczovL3JlYWRub3ZlbGZ1bGwuY29tLyc7DQoJcmV0dXJuT2JqZWN0LnNlYXJjaFVybCA9ICdodHRwczovL3JlYWRub3ZlbGZ1bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GwuY29tL3NlYXJjaD9rZXl3b3JkPXtxfSZwYWdlPXtwfSc7DQoJcmV0dXJuT2JqZWN0LmNoYXB0ZXJzVXJsID0gJ2h0dHBzOi8vcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVhZG5vdmVsZnVsbC5jb20vYWpheC9jaGFwdGVyLW9wdGlvbj9ub3ZlbElkPXtpZH0mY3VycmVudENoYXB0ZXJJZD0xJzsNCglyZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1cm5PYmplY3QucGFuaW5hdGlvbiA9IHRydWU7DQoJcmV0dXJuT2JqZWN0LnNlYXJjaFBhZ2luYXRpb24gPSB0cnVlOw0KCXJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybk9iamVjdC5pY29uID0gJ2h0dHBzOi8vcmVhZG5vdmVsZnVsbC5jb20vaW1nL2Zhdmljb24uaWNvJzsNCglyZXR1cm5PYmplYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03QucGFyc2VyU2VhcmNoU2V0dGluZ3MgPSBuZXcgUGFyc2VyU2VhcmNoU2V0dGluZ3MoKTsNCglyZXR1cm5PYmplY3QucGFyc2VyUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VhcmNoU2V0dGluZ3MuZ2VucmVzID0gew0KCQltdWx0aVNlbGVjdGlvbjogZmFsc2UsDQoJCXZhbHVlczogWw0KCQkJbmV3IGxhYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsVmFsdWUoJ1Nob3VuZW4nKSwNCgkJCW5ldyBsYWJlbFZhbHVlKCdIYXJlbScpLA0KCQkJbmV3IGxhYmVsVmFsdWUoJ0NvbWVkeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ScpLA0KCQkJbmV3IGxhYmVsVmFsdWUoJ01hcnRpYWwgQXJ0cycsICdNYXJ0aWFsK0FydHMnKSwNCgkJCW5ldyBsYWJlbFZhbHVlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CdTY2hvb2wgTGlmZScsICdTY2hvb2wrTGlmZScpLA0KCQkJbmV3IGxhYmVsVmFsdWUoJ015c3RlcnknKSwNCgkJCW5ldyBsYWJlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FZhbHVlKCdTaG91am8nKSwNCgkJCW5ldyBsYWJlbFZhbHVlKCdSb21hbmNlJyksDQoJCQluZXcgbGFiZWxWYWx1ZSgnU2NpLWZpJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yksDQoJCQluZXcgbGFiZWxWYWx1ZSgnR2VuZGVyIEJlbmRlcicsICdHZW5kZXIrQmVuZGVyJyksDQoJCQluZXcgbGFiZWxWYWx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgnTWF0dXJlJyksDQoJCQluZXcgbGFiZWxWYWx1ZSgnRmFudGFzeScpLA0KCQkJbmV3IGxhYmVsVmFsdWUoJ0hvcnJvcicpLA0KCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QkJbmV3IGxhYmVsVmFsdWUoJ0RyYW1hJyksDQoJCQluZXcgbGFiZWxWYWx1ZSgnVHJhZ2VkeScpLA0KCQkJbmV3IGxhYmVsVmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUoJ1N1cGVybmF0dXJhbCcpLA0KCQkJbmV3IGxhYmVsVmFsdWUoJ0VjY2hpJyksDQoJCQluZXcgbGFiZWxWYWx1ZSgnWHVhbmh1YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W4nKSwNCgkJCW5ldyBsYWJlbFZhbHVlKCdBZHZlbnR1cmUnKSwNCgkJCW5ldyBsYWJlbFZhbHVlKCdQc3ljaG9sb2dpY2FsJyksDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QoJCQluZXcgbGFiZWxWYWx1ZSgnWGlhbnhpYScpLA0KCQkJbmV3IGxhYmVsVmFsdWUoJ1d1eGlhJyksDQoJCQluZXcgbGFiZWxWYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZSgnSGlzdG9yaWNhbCcpLA0KCQkJbmV3IGxhYmVsVmFsdWUoJ1NsaWNlIG9mIExpZmUnLCAnU2xpY2Urb2YrTGlmZScpLA0KCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QkJbmV3IGxhYmVsVmFsdWUoJ0xvbGljb24nKSwNCgkJCW5ldyBsYWJlbFZhbHVlKCdBZHVsdCcpLA0KCQkJbmV3IGxhYmVsVmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUoJ0pvc2VpJyksDQoJCQluZXcgbGFiZWxWYWx1ZSgnU3BvcnRzJyksDQoJCQluZXcgbGFiZWxWYWx1ZSgnU211dCcpLA0KCQkJbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV3IGxhYmVsVmFsdWUoJ01lY2hhJyksDQoJCQluZXcgbGFiZWxWYWx1ZSgnWWFvaScpLA0KCQkJbmV3IGxhYmVsVmFsdWUoJ1NobMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03VuZW4gQWknLCAnU2hvdW5lbitBaScpLA0KCQldLA0KCX07DQoJcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLnNvcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRUeXBlcyA9IHsNCgkJbXVsdGlTZWxlY3Rpb246IGZhbHNlLA0KCQl2YWx1ZXM6IFsNCgkJCW5ldyBsYWJlbFZhbHVlKCdMYXRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03QgUmVsZWFzZSBOb3ZlbCcsICdsYXRlc3QtcmVsZWFzZS1ub3ZlbCcpLA0KCQkJbmV3IGxhYmVsVmFsdWUoJ0hvdCBOb3ZlbCcsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Cdob3Qtbm92ZWwnKSwNCgkJCW5ldyBsYWJlbFZhbHVlKCdDb21wbGV0ZWQgTm92ZWwnLCAnY29tcGxldGVkLW5vdmVsJyksDQoJCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QluZXcgbGFiZWxWYWx1ZSgnTW9zdCBQb3B1bGFyJywgJ21vc3QtcG9wdWxhci1ub3ZlbCcpLA0KCQldLA0KCX07DQoJcmV0dXJuTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02JqZWN0LmdldFNlY3Rpb25zID0gKGtleXMpID0+IHsNCgkJdmFyIHNlY3Rpb25zID0gWw0KCQkJbmV3IFNlY3Rpb24oImxhdGVzdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIsICJMYXRlc3QgVXBkYXRlIiwgIkxhdGVzdCIsIHRydWUpLA0KCQkJbmV3IFNlY3Rpb24oImhvdCIsICJIb3QgTm92ZWwiLCAiUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIodW5kZWZpbmVkLCAiaG90LW5vdmVsIikpLA0KCQkJbmV3IFNlY3Rpb24oImNvbXBsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRlZCIsICJDb21wbGV0ZWQgTm92ZWwiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIodW5kZWZpbmVkLCAiY29tcGxldGVkLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5vdmVsIikpLA0KCQkJbmV3IFNlY3Rpb24oInBvcHVsYXIiLCAiTW9zdCBQb3B1bGFyIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mlsdGVyKHVuZGVmaW5lZCwgIm1vc3QtcG9wdWxhci1ub3ZlbCIpKQ0KCQldDQoJCXJldHVybiBzZWN0aW9ucy5maWx0ZXIoeCA9PMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAha2V5cyB8fCBrZXlzLmluY2x1ZGVzKHgubmFtZSkpOw0KCX0NCglyZXR1cm5PYmplY3QudHJhbnNsYXRlU2VjdGlvbiA9IGFzeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5jIChzZWN0aW9uLCBwYWdlKSA9PiB7DQoJCWlmIChzZWN0aW9uLmlkZW50aWZpZXIgPT0gIkxhdGVzdCIpIHJldHVybiBhd2FpdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CByZXR1cm5PYmplY3QubGF0ZXN0KHBhZ2UpOw0KCQllbHNlIHJldHVybiBhd2FpdCByZXR1cm5PYmplY3Quc2VhcmNoKHNlY3RpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU024uZmlsdGVyIHx8IHJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyKCksIHBhZ2UpOw0KCX0NCglyZXR1cm5PYmplY3QuZGVmYXVsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciA9ICgpID0+IHsNCgkJdmFyIGZpbHRlciA9IG5ldyBGaWx0ZXIoKTsNCgkJcmV0dXJuIGZpbHRlcjsNCgl9Ow0KCXJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybk9iamVjdC5zZWFyY2ggPSBhc3luYyAoZmlsdGVyLCBwYWdlKSA9PiB7DQoJCXZhciBnZW5yZVVybCA9ICJnZW5yZS97Z30/cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFnZT17cH0iLnVyaShyZXR1cm5PYmplY3QudXJsKS5yZXBsYWNlKCJ7cH0iLCBwYWdlLnRvU3RyaW5nKCkpOw0KCQl2YXIgc29ydMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FR5cGVVcmwgPSAie3N9P3BhZ2U9e3B9Ii51cmkocmV0dXJuT2JqZWN0LnVybCkucmVwbGFjZSgie3B9IiwgcGFnZS50b1N0cmluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ygpKTsNCgkJdmFyIHEgPSBmaWx0ZXIuZ2VucmVzLmxlbmd0aCA+IDAgPyBnZW5yZVVybC5yZXBsYWNlKCJ7Z30iLCBmaWx0ZXIuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VucmVzWzBdKSA6IChmaWx0ZXIuc29ydFR5cGUgJiYgZmlsdGVyLnNvcnRUeXBlICE9ICcnID8gc29ydFR5cGVVcmwucmVwbGFjZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Sgie3N9IiwgZmlsdGVyLnNvcnRUeXBlKSA6IHVuZGVmaW5lZCk7DQoJCXZhciBxdWVyeSA9IHEgfHwgcmV0dXJuT2JqZWN0LnNlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJjaFVybC5yZXBsYWNlKCd7cX0nLCBmaWx0ZXIudGl0bGUgfHwgIiIpLnJlcGxhY2UoJ3twfScsIHBhZ2UudG9TdHJpbmcoKSk7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QoJCXZhciBjb250YWluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbChxdWVyeSkpOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KCQl2YXIgcmVzdWx0ID0gW107DQoJCWNvbnRhaW5lci5maW5kKCcubGlzdC1ub3ZlbCAucm93JykuZm9yRWFjaCgoeCkgPT4geMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KCQkJaWYgKHguc2VsZWN0KCdpbWcnKS5hdHRyKCJzcmMiKS5oYXNWYWx1ZSgpKSByZXN1bHQucHVzaChuZXcgTGlnaHRJdGVtKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Hguc2VsZWN0KCdpbWcnKS5hdHRyKCJzcmMiKS51cmwoKS5yZXBsYWNlKC9bMC05XSt4WzAtOV0rL2dpLCAiMTUweDE3MCIpLCB4LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlbGVjdCgnLm5vdmVsLXRpdGxlIGEnKS50ZXh0KGZhbHNlKSwgJycsIHguc2VsZWN0KCcubm92ZWwtdGl0bGUgYScpLmF0dHIoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mhyZWYiKS51cmwoKSwgcmV0dXJuT2JqZWN0Lm5hbWUpLCApOw0KCQl9KTsNCgkJcmV0dXJuIHJlc3VsdDsNCgl9DQoJcmV0dXJuTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02JqZWN0LmdldENoYXB0ZXJzID0gYXN5bmMgKG5vdmVsVXJsLCBodG1sQ29udGFpbmVyKSA9PiB7DQoJCXZhciBjaGFwdGVycyA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FtdOw0KCQl2YXIgdXJsID0gcmV0dXJuT2JqZWN0LmNoYXB0ZXJzVXJsLnJlcGxhY2UoJ3tpZH0nLCAoaHRtbENvbnRhaW5lci5zZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxlY3QoJyNyYXRpbmcnKS5hdHRyKCJkYXRhLW5vdmVsLWlkIikuaGFzVmFsdWUoKSA/IGh0bWxDb250YWluZXIuc2VsZWN0KCcjcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mF0aW5nJykuYXR0cigiZGF0YS1ub3ZlbC1pZCIpLnRleHQoKSA6IGh0bWxDb250YWluZXIuc2VsZWN0KCdbZGF0YS1ub3ZlbC1pZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0F0nKS5hdHRyKCJkYXRhLW5vdmVsLWlkIikudGV4dCgpKSk7DQoJCXZhciBjb250YWluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbCh1cmwpKTsNCgkJY29udGFpbmVyLmZpbmQoJ29wdGlvbicpLmZvckVhY2goeCA9PMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iB7DQoJCQlpZiAoeC5hdHRyKCJ2YWx1ZSIpLmhhc1ZhbHVlKCkpIGNoYXB0ZXJzLnB1c2gobmV3IENoYXB0ZXIoeC50ZXh0KGZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HNlKSwgeC5hdHRyKCJ2YWx1ZSIpLnVybCgpKSk7DQoJCX0pOw0KCQlyZXR1cm4gY2hhcHRlcnM7DQoJfQ0KCXJldHVybk9iamVjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5nZXROb3ZlbCA9IGFzeW5jIChub3ZlbFVybCkgPT4gew0KCQl2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Shhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwobm92ZWxVcmwpKTsNCgkJdmFyIGNoYXB0ZXJzID0gYXdhaXQgcmV0dXJuT2JqZWN0LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mdldENoYXB0ZXJzKG5vdmVsVXJsLCBjb250YWluZXIpOw0KCQl2YXIgaXRlbSA9IG5ldyBOb3ZlbFJldmlld3MoKTsNCgkJdmFyIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GluZm8gPSBjb250YWluZXIuZmluZCgnLmluZm8gbGknKTsNCgkJaXRlbS5nZW5yZXMgPSBpbmZvLndoZXJlKHggPT4geC5pbm5lcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0khUTUwoKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoImdlbnJlIikgIT0gLTEpLmZpbmQoImEiKS50ZXh0QXJyYXkoKTsNCgkJaXRlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S5hdXRob3IgPSBpbmZvLndoZXJlKHggPT4geC5pbm5lckhUTUwoKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoImF1dGhvciIpICE9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C0xKS5maW5kKCJhIikudGV4dChmYWxzZSkNCgkJaXRlbS5jb21wbGV0ZWQgPSBpbmZvLndoZXJlKHggPT4geC5pbm5lckhUTUwoKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S50b0xvd2VyQ2FzZSgpLmluZGV4T2YoInN0YXR1cyIpICE9IC0xKS50ZXh0KGZhbHNlKTsNCgkJaXRlbS5hbHRlcm5hdGl2ZU5hbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WVzID0gaW5mby53aGVyZSh4ID0+IHguaW5uZXJIVE1MKCkudG9Mb3dlckNhc2UoKS5pbmRleE9mKCJhbHRlcm5hdGl2ZSBuYW1lcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yIpICE9IC0xKS50ZXh0KCk7DQoJCXJldHVybiBuZXcgRGV0YWxpSXRlbShjb250YWluZXIuc2VsZWN0KCcuYm9vayBpbWcnKS5hdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRyKCJzcmMiKS51cmwoKSwgY29udGFpbmVyLnNlbGVjdCgnLnRpdGxlJykudGV4dChmYWxzZSksIGNvbnRhaW5lci5zZWxlY3QoJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5kZXNjLXRleHQnKS5jbGVhbklubmVySFRNTCgpLCBub3ZlbFVybCwgY2hhcHRlcnMsIGl0ZW0sIHJldHVybk9iamVjdC5uYW1lLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB1bmRlZmluZWQpOw0KCX0NCglyZXR1cm5PYmplY3QuZ2V0Q2hhcHRlciA9IGFzeW5jICh1cmwpID0+IHsNCgkJcmV0dXJuIHJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgbmV3IGNsaWVudCgpLmdldEh0bWwodXJsKSkuc2VsZWN0KCcjY2hyLWNvbnRlbnQnKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S5jbGVhbklubmVySFRNTCgpOw0KCX0NCglyZXR1cm5PYmplY3QubGF0ZXN0ID0gYXN5bmMgKHBhZ2UpID0+IHsNCgkJdmFyIHVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CA9IHJldHVybk9iamVjdC5sYXRlc3RVcmwucmVwbGFjZSgne3B9JywgcGFnZS50b1N0cmluZygpKTsNCgkJdmFyIGNvbnRhaW5lcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKHVybCkpOw0KCQl2YXIgcmVzdWx0ID0gWMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0107DQoJCWNvbnRhaW5lci5maW5kKCcubGlzdC1ub3ZlbCAucm93JykuZm9yRWFjaCgoeCkgPT4gew0KCQkJaWYgKHguc2VsZWN0KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CdpbWcnKS5hdHRyKCJzcmMiKS5oYXNWYWx1ZSgpKSByZXN1bHQucHVzaChuZXcgTGlnaHRJdGVtKHguc2VsZWN0KCdpbWcnKS5hdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRyKCJzcmMiKS51cmwoKS5yZXBsYWNlKC9bMC05XSt4WzAtOV0rL2dpLCAiMTUweDE3MCIpLCB4LnNlbGVjdCgnLm5vdmVsLXRpdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxlIGEnKS50ZXh0KCksICcnLCB4LnNlbGVjdCgnLm5vdmVsLXRpdGxlIGEnKS5hdHRyKCJocmVmIikudXJsKCksIHJldHVybk9iaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVjdC5uYW1lKSwgKTsNCgkJfSk7DQoJCXJldHVybiByZXN1bHQ7DQoJfQ0KCXJldHVybiByZXR1cm5PYmplY3Q7DQp9Ow==&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KICAgIGNvbnN0IHJldHVybk9iamVjdCA9IHt9Ow0KICAgIHJldHVybk9iamVjdC5pZCA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIxLnJveWFscm9hZCI7DQogICAgcmV0dXJuT2JqZWN0LmRldGFsaUl0ZW1UeXBlID0gRGV0YWxpSXRlbVR5cGUuTm92ZWw7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgcmV0dXJuT2JqZWN0LnBhcnNlckxhbmd1YWdlID0gImVuIjsNCiAgICByZXR1cm5PYmplY3QubmFtZSA9ICdSb3lhbFJvYWQnOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgIHJldHVybk9iamVjdC5kaXNwbGF5TmFtZSA9IHJldHVybk9iamVjdC5uYW1lOw0KICAgIHJldHVybk9iamVjdC5sYXRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03RVcmwgPSAnaHR0cHM6Ly93d3cucm95YWxyb2FkLmNvbS9maWN0aW9ucy9sYXRlc3QtdXBkYXRlcz9wYWdlPXtwfSc7DQogICAgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuT2JqZWN0LnVybCA9ICdodHRwczovL3d3dy5yb3lhbHJvYWQuY29tJzsNCiAgICByZXR1cm5PYmplY3Quc2VhcmNoVXJsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0gJ2h0dHBzOi8vd3d3LnJveWFscm9hZC5jb20vZmljdGlvbnMvc2VhcmNoP3BhZ2U9e3B9JnRpdGxlPXtxfSc7DQogICAgcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuT2JqZWN0LnBhbmluYXRpb24gPSB0cnVlOw0KICAgIHJldHVybk9iamVjdC5zZWFyY2hQYWdpbmF0aW9uID0gdHJ1ZTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CByZXR1cm5PYmplY3QuaWNvbiA9ICdodHRwczovL3d3dy5yb3lhbHJvYWQuY29tL2Zhdmljb24tMTZ4MTYucG5nP3Y9MjAyMDAxMMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0jUnOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncyA9IG5ldyBQYXJzZXJTZWFyY2hTZXR0aW5ncygpOw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5tdWx0aVNlbGVjdGlvbiA9IHRydWU7DQogICAgcmV0dXJuT2JqZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0LnBhcnNlclNlYXJjaFNldHRpbmdzLmdlbnJlcyA9IHsNCiAgICAgICAgbXVsdGlTZWxlY3Rpb246IHRydWUsDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HZhbHVlczogWw0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkFjdGlvbiIsICJhY3Rpb24iKSwNCiAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBsYWJlbFZhbHVlKCJBZHZlbnR1cmUiLCAiYWR2ZW50dXJlIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQ29tZWR5IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iwgImNvbWVkeSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkNvbnRlbXBvcmFyeSIsICJjb250ZW1wb3JhcnkiKSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJEcmFtYSIsICJkcmFtYSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0lBzeWNob2xvZ2ljYWwiLCAicHN5Y2hvbG9naWNhbCIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlJvbWFuY2UiLCAicMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m9tYW5jZSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNhdGlyZSIsICJzYXRpcmUiKSwNCiAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBsYWJlbFZhbHVlKCJTY2ktRmkiLCAic2NpX2ZpIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2hvcnQgU3RvcnkiLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAib25lX3Nob3QiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJUcmFnZWR5IiwgInRyYWdlZHkiKSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCJGYW50YXN5IiwgImZhbnRhc3kiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJNeXN0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJ5IiwgIm15c3RlcnkiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJIaXN0b3JpY2FsIiwgImhpc3RvcmljYWwiKSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJIb3Jyb3IiLCAiaG9ycm9yIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgiTWFnaWMiLCAibWFnaWMiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJBbnRpLUhlcm8gTGVhZCIsICJhbnRpLWhlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m9fbGVhZCIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkFydGlmaWNpYWwgSW50ZWxsaWdlbmNlIiwgImFydGlmaWNpYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxfaW50ZWxsaWdlbmNlIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQXR0cmFjdGl2ZSBNQyIsICJhdHRyYWN0aXZlXMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU021jIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQ3liZXJwdW5rIiwgImN5YmVycHVuayIpLA0KICAgICAgICAgICAgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV3IGxhYmVsVmFsdWUoIkR1bmdlb24iLCAiZHVuZ2VvbiIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkR5c3RvcGlhIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iwgImR5c3RvcGlhIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiRmVtYWxlIExlYWQiLCAiZmVtYWxlX2xlYWQiKSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJGaXJzdCBDb250YWN0IiwgIkZpcnN0X0NvbnRhY3QiKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBsYWJlbFZhbHVlKCJHYW1lTGl0IiwgIkdhbWVMaXQiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJHZW5kZXIgQMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVuZGVyIiwgImdlbmRlcl9iZW5kZXIiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJHZW5ldGljYWxseSBFbmdpbmVlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVkIiwgIkdlbmV0aWNhbGx5X0VuZ2luZWVyZWQiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJHcmltZGFyayIsICJHcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mltZGFyayIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkhhcmQgU2NpLWZpIiwgIkhhcmRfU2NpX2ZpIiksDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBuZXcgbGFiZWxWYWx1ZSgiSGFyZW0iLCAiaGFyZW0iKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJIaWdoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZhbnRhc3kiLCAiaGlnaF9mYW50YXN5IiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTGl0UlBHIiwgIkxpdFJQRyIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkxvb3AiLCAiTG9vcCIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0kxvdyBGYW50YXN5IiwgImxvd19mYW50YXN5IiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTWFsZSBMZWFkIiwgIm1hbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVfbGVhZCIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIk1hcnRpYWwgQXJ0cyIsICJtYXJ0aWFsX2FydHMiKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJNdWx0aXBsZSBMZWFkIENoYXJhY3RlcnMiLCAibXV0bGlwbGVfbGVhZCIpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbmV3IGxhYmVsVmFsdWUoIk15dGhvcyIsICJteXRob3MiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJObMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU024tSHVtYW4gbGVhZCIsICJub24taHVtYW5fbGVhZCIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlBvcnRhbCBGYW50YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XN5IC8gSXNla2FpIiwgInN1bW1vbmVkX2hlcm8iKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJQb3N0IEFwb2NhbHlwdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GljIiwgInBvc3RfYXBvY2FseXB0aWMiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJQcm9ncmVzc2lvbiIsICJwcm9ncMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVzc2lvbiIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlJlYWRlciBpbnRlcmFjdGl2ZSIsICJyZWFkZXJfaW50ZXJhYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03RpdmUiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJSZWluY2FybmF0aW9uIiwgInJlaW5jYXJuYXRpb24iKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJSdWxpbmcgQ2xhc3MiLCAicnVsaW5nX2NsYXNzIiksDQogICAgICAgICAgICBuZXcgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFiZWxWYWx1ZSgiU2Nob29sIExpZmUiLCAic2Nob29sX2xpZmUiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTZWNyZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XQgSWRlbnRpdHkiLCAic2VjcmV0X2lkZW50aXR5IiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2xpY2Ugb2YgTGlmZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SIsICJzbGljZV9vZl9saWZlIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU29mdCBTY2ktZmkiLCAiU29mdF9TY2lfZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mkiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTcGFjZSBPcGVyYSIsICJzcGFjZV9vcGVyYSIpLA0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbmV3IGxhYmVsVmFsdWUoIlNwb3J0cyIsICJzcG9ydHMiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTdGVhbXB1bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0msiLCAic3RlYW1wdW5rIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU3RyYXRlZ3kiLCAic3RyYXRlZ3kiKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTdHJvbmcgTGVhZCIsICJzdHJvbmdfbGVhZCIpLA0KICAgICAgICAgICAgbmV3IGxhYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsVmFsdWUoIlN1cGVyIEhlcm9lcyIsICJzdXBlcl9oZXJvZXMiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTdXBlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m5hdHVyYWwiLCAic3VwZXJuYXR1cmFsIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiVGVjaG5vbG9naWNhbGx5IEVuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02luZWVyZWQiLCAiVGVjaG5vbG9naWNhbGx5X0VuZ2luZWVyZWQiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJUaW1lIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FRyYXZlbCIsICJUaW1lX1RyYXZlbCIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlVyYmFuIEZhbnRhc3kiLCAidXJiYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5fZmFudGFzeSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlZpbGxhaW5vdXMgTGVhZCIsICJ2aWxsYWlub3VzX2xlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WQiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJWaXJ0dWFsIFJlYWxpdHkiLCAidmlydHVhbF9yZWFsaXR5IiksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiV2FyIGFuZCBNaWxpdGFyeSIsICJ3YXJfYW5kX21pbGl0YXJ5IiksDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBuZXcgbGFiZWxWYWx1ZSgiV3V4aWEiLCAid3V4aWEiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJYaWFueGlhIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iwgInhpYW54aWEiKQ0KICAgICAgICBdDQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLnN0YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1c2VzID0gew0KICAgICAgICBtdWx0aVNlbGVjdGlvbjogdHJ1ZSwNCiAgICAgICAgdmFsdWVzOiBbDQogICAgICAgICAgICBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgbGFiZWxWYWx1ZSgiQ29tcGxldGVkIiwgIkNPTVBMRVRFRCIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIk9uZ29pbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mciLCAiT05HT0lORyIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkhpYXR1cyIsICJISUFUVVMiKSwNCg0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBdDQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLmxhbmd1YWdlcyA9IHsNCiAgICAgICAgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XVsdGlTZWxlY3Rpb246IGZhbHNlLA0KICAgICAgICB2YWx1ZXM6IFsNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJGYW4gRMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mljdGlvbiIsICJmYW5maWN0aW9uIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiT3JpZ2luYWwiLCAib3JpZ2luYWwiKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Q0KICAgICAgICBdDQogICAgfQ0KDQoNCiAgICByZXR1cm5PYmplY3QuZ2V0U2VjdGlvbnMgPSAoa2V5cykgPT4gew0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB2YXIgc2VjdGlvbnMgPSBbDQogICAgICAgICAgICBuZXcgU2VjdGlvbigibGF0ZXN0IiwgIkxhdGVzdCBVcGRhdGUiLCAiTGF0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XN0IiwgdHJ1ZSksDQogICAgICAgICAgICBuZXcgU2VjdGlvbigiY29tcGxldGVkIiwgIkNvbXBsZXRlZCIsICJTZWFyY2giLCBmYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCAiQ09NUExFVEVEIikpLA0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbmV3IFNlY3Rpb24oIm9uZ29pbmciLCAiT25nb2luZyIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVuZGVmaW5lZCwgdW5kZWZpbmVkLCAiT05HT0lORyIpKSwNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJyb21hbmNlIiwgIlJvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFuY2UiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIoWyJyb21hbmNlIl0pKSwNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJhY3Rpb24iLCAiQWN0aW9uIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKFsiYWN0aW9uIl0pKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBTZWN0aW9uKCJteXN0ZXJ5IiwgIk15c3RlcnkiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIoWyJteXN0ZXJ5Il0pKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgXQ0KDQogICAgICAgIHJldHVybiBzZWN0aW9ucy5maWx0ZXIoeCA9PiAha2V5cyB8fCBrZXlzLmluY2x1ZGVzKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HgubmFtZSkpOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC50cmFuc2xhdGVTZWN0aW9uID0gYXN5bmMgKHNlY3Rpb24sIHBhZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02UpID0+IHsNCiAgICAgICAgaWYgKHNlY3Rpb24uaWRlbnRpZmllciA9PSAiTGF0ZXN0IikNCiAgICAgICAgICAgIHJldHVybiBhdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02FpdCByZXR1cm5PYmplY3QubGF0ZXN0KHBhZ2UpOw0KICAgICAgICBlbHNlDQogICAgICAgICAgICByZXR1cm4gYXdhaXQgcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuT2JqZWN0LnNlYXJjaChzZWN0aW9uLmZpbHRlciB8fCByZXR1cm5PYmplY3QuZGVmYXVsdEZpbHRlcigpLCBwYWdlKTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB9DQoNCiAgICByZXR1cm5PYmplY3QuZGVmYXVsdEZpbHRlciA9ICgpID0+IHsNCiAgICAgICAgdmFyIGZpbHRlciA9IG5ldyBGaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx0ZXIoKTsNCiAgICAgICAgcmV0dXJuIGZpbHRlcjsNCiAgICB9Ow0KDQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaCA9IGFzeW5jIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ChmaWx0ZXIsIHBhZ2UpID0+IHsNCiAgICAgICAgdmFyIHVybCA9IHJldHVybk9iamVjdC5zZWFyY2hVcmwucmVwbGFjZSgie3B9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iwgcGFnZS50b1N0cmluZygpKS5yZXBsYWNlKCJ7cX0iLCBmaWx0ZXIudGl0bGUgfHwgIiIpOw0KICAgICAgICBpZiAoZmlsdGVyLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mdlbnJlcy5sZW5ndGggPiAwKQ0KICAgICAgICAgICAgdXJsICs9ICImIiArIGZpbHRlci5nZW5yZXMubWFwKHggPT4gInRhZ3NBZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GQ9IiArIHgpLmpvaW4oIiYiKQ0KDQogICAgICAgIGlmIChmaWx0ZXIuYWN0aXZlICYmIGZpbHRlci5hY3RpdmUgIT0gIiIpDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICB1cmwgKz0gIiZzdGF0dXM9IiArIGZpbHRlci5hY3RpdmU7DQoNCiAgICAgICAgaWYgKGZpbHRlci5sYW5ndWFnZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SAmJiBmaWx0ZXIubGFuZ3VhZ2UgIT0gIiIpDQogICAgICAgICAgICB1cmwgKz0gIiZ0eXBlPSIgKyBmaWx0ZXIubGFuZ3VhZ2U7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QoNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybCkpOw0KICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgIGNvbnRhaW5lci5maW5kKCIuZmljdGlvbi1saXN0LWl0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W0iKS5mb3JFYWNoKHggPT4gew0KICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IExpZ2h0SXRlbSh4LnNlbGVjdCgiaW1nIikuYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR0cigic3JjIikudXJsKCksDQogICAgICAgICAgICAgICAgeC5zZWxlY3QoIi5maWN0aW9uLXRpdGxlIikudGV4dCgpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICIiLA0KICAgICAgICAgICAgICAgIHguc2VsZWN0KCIuZmljdGlvbi10aXRsZSBhIikuYXR0cigiaHJlZiIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nVybCgpLA0KICAgICAgICAgICAgICAgIHJldHVybk9iamVjdC5uYW1lKSk7DQogICAgICAgIH0pOw0KDQogICAgICAgIHJldHVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iByZXN1bHQ7DQoNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QuZ2V0Tm92ZWw9IGFzeW5jIChub3ZlbFVybCkgPT4gew0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwobm92ZWxVcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mwpKTsNCiAgICAgICAgdmFyIGNoYXB0ZXJzID0gY29udGFpbmVyLmZpbmQoIiNjaGFwdGVycyB0Ym9keSB0ciIpLm1hcCh4ID0+IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Hguc2VsZWN0KCJhIikpLmZpbHRlcih4ID0+IHguaGFzRWxlbWVudCgpKS5tYXAoeCA9PiBuZXcgQ2hhcHRlcih4LnRleHQoKSwgeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5hdHRyKCJocmVmIikudXJsKCkpKTsNCiAgICAgICAgdmFyIG5vdmVsUmV2aWV3cyA9IG5ldyBOb3ZlbFJldmlld3MoKTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgdmFyIGluZm9zID0gY29udGFpbmVyLnNlbGVjdCgiLmZpY3Rpb24taW5mbyAuY29sLW1kLTgiKTsNCg0KICAgICAgICBubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03ZlbFJldmlld3MuZ2VucmVzID0gaW5mb3MuZmluZCgiLnRhZ3MgYSIpLnRleHRBcnJheSgpOw0KICAgICAgICBub3ZlbFJldmlldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03MuYXV0aG9yID0gY29udGFpbmVyLnNlbGVjdCgiLmZpYy10aXRsZSBzcGFuW3Byb3BlcnR5PW5hbWVdIikudGV4dCgpOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBub3ZlbFJldmlld3MuZGVzY3JpcHRpb24gPSBjb250YWluZXIuc2VsZWN0KCIuZGVzY3JpcHRpb24iKS5jbGVhbklubmVySMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FRNTCgpOw0KICAgICAgICBub3ZlbFJldmlld3MuY29tcGxldGVkID0gY29udGFpbmVyLnNlbGVjdCgiLnRhZ3MiKS5jbG9zZXN0KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJkaXYiKS5maW5kKCJzcGFuIikud2hlcmUoeD0+IHguaW5uZXJIVE1MKCkuaW5kZXhPZigiQ09NUExFVEVEIikgIT0gLTEpLmhhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU00VsZW1lbnRzKCkgPyAiU3RhdHVzOkNvbXBsZXRlZCIgOiAiU3RhdHVzOk9uZ29pbmciDQogICAgICAgIHJldHVybiBuZXcgRGV0YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxpSXRlbSgNCiAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoIi50ZXh0LWNlbnRlciBpbWciKS5hdHRyKCJzcmMiKS51cmwoKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoIi5maWMtdGl0bGUgaDEiKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5vdmVsUmV2aWV3cy5kZXNjcmlwdGlvbiwNCiAgICAgICAgICAgIG5vdmVsVXJsLA0KICAgICAgICAgICAgY2hhcHRlcnMsDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBub3ZlbFJldmlld3MsDQogICAgICAgICAgICByZXR1cm5PYmplY3QubmFtZSwNCiAgICAgICAgICAgIHVuZGVmaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5lZCwNCiAgICAgICAgKTsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QuZ2V0Q2hhcHRlciA9IGFzeW5jICh1cmwpPT4gew0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICByZXR1cm4gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBuZXcgY2xpZW50KCkuZ2V0SHRtbCh1cmwpKS5zZWxlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03QoIi5jaGFwdGVyLWNvbnRlbnQiKS5jbGVhbklubmVySFRNTCgpOw0KDQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmxhdGVzdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0gYXN5bmMgKHBhZ2UpID0+IHsNCiAgICAgICAgdmFyIHVybCA9IHJldHVybk9iamVjdC5sYXRlc3RVcmwucmVwbGFjZSgie3B9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iwgcGFnZS50b1N0cmluZygpKTsNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HR0cENsaWVudC5nZXRIdG1sKHVybCkpOw0KICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgIGNvbnRhaW5lci5zZWxlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03QoIi5maWN0aW9uLWxpc3QtaXRlbSIpLmZvckVhY2goeCA9PiB7DQogICAgICAgICAgICByZXN1bHQucHVzaChuZXcgTGlnaHRJdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVtKA0KICAgICAgICAgICAgICAgIHguc2VsZWN0KCJpbWciKS5hdHRyKCJzcmMiKS51cmwoKSwNCiAgICAgICAgICAgICAgICB4LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlbGVjdCgiLmZpY3Rpb24tdGl0bGUiKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgICAiIiwNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB4LnNlbGVjdCgiLmZpY3Rpb24tdGl0bGUgYSIpLmF0dHIoImhyZWYiKS51cmwoKSwNCiAgICAgICAgICAgICAgICByZXR1cm5PYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mplY3QubmFtZSkpOw0KICAgICAgICB9KTsNCg0KICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0NCg0KICAgIHJldHVybiByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1cm5PYmplY3Q7DQoNCn07&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KICAgIGNvbnN0IHJldHVybk9iamVjdCA9IHt9Ow0KICAgIHJldHVybk9iamVjdC5pZCA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIxLnNjcmliYmxlaHViIjsNCiAgICByZXR1cm5PYmplY3QuZGV0YWxpSXRlbVR5cGUgPSBEZXRhbGlJdGVtVHlwZS5Ob3ZlbDsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICByZXR1cm5PYmplY3QucGFyc2VyTGFuZ3VhZ2UgPSAiZW4iOw0KICAgIHJldHVybk9iamVjdC5uYW1lID0gJ1NjcmliYmxlSMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HViJzsNCiAgICByZXR1cm5PYmplY3QuZGlzcGxheU5hbWUgPSAiUi1Ob3ZlbC1IdWIiOw0KICAgIHJldHVybk9iamVjdC5sYXRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03RVcmwgPSAnaHR0cHM6Ly93d3cuc2NyaWJibGVodWIuY29tLz9wZz17cH0nOw0KICAgIHJldHVybk9iamVjdC51cmwgPSAnaHR0cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HM6Ly93d3cuc2NyaWJibGVodWIuY29tJzsNCiAgICByZXR1cm5PYmplY3Quc2VhcmNoVXJsID0gJ2h0dHBzOi8vd3d3LnNjcmliYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mxlaHViLmNvbS8/cz17cX0mcG9zdF90eXBlPWZpY3Rpb25wb3N0cyc7DQogICAgcmV0dXJuT2JqZWN0LnBhbmluYXRpb24gPSB0cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nVlOw0KICAgIHJldHVybk9iamVjdC5zZWFyY2hQYWdpbmF0aW9uID0gZmFsc2U7DQogICAgcmV0dXJuT2JqZWN0Lmljb24gPSAnaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HR0cHM6Ly93d3cuc2NyaWJibGVodWIuY29tL2Zhdmljb24uaWNvJzsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GluZ3MgPSBuZXcgUGFyc2VyU2VhcmNoU2V0dGluZ3MoKTsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3MubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XVsdGlTZWxlY3Rpb24gPSB0cnVlOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5zb3J0VHlwZXMgPSB7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIG11bHRpU2VsZWN0aW9uOiBmYWxzZSwNCiAgICAgICAgdmFsdWVzOiBbDQogICAgICAgICAgICBuZXcgbGFiZWxWYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZSgnQ2hhcHRlcnMgcGVyIFdlZWsnLCAiZnJlcXVlbmN5IiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnRGF0ZSBBZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GRlZCcsICJkYXRlYWRkZWQiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdGYXZvcml0ZXMnLCAiZmF2b3JpdGVzIiksDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTGFzdCBVcGRhdGUnLCAibGFzdGNocGRhdGUiKSwNCiAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBsYWJlbFZhbHVlKCdOdW1iZXIgb2YgUmF0aW5ncycsICJudW1vZnJhdGUiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CdQYWdlcycsICJwYWdlcyIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1BhZ2V2aWV3cycsICJwYWdldmlld3MiKSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdSYXRpbmdzJywgInJhdGluZ3MiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVlKCdSZWFkZXJzJywgInJlYWRlcnMiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdUb3RhbCBXb3JkcycsICJ0b3RhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HdvcmRzIiksDQogICAgICAgIF0sDQogICAgfTsNCg0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMgPSB7DQogICAgICAgIG11bHRpU2VsZWN0aW9uOiB0cnVlLA0KICAgICAgICB2YWx1ZXM6IFsNCiAgICAgICAgICAgIG5ldyBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJlbFZhbHVlKCJBY3Rpb24iLCA5KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJDb21lZHkiLCA3KSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCJGYW50YXN5IiwgMTkpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkhpc3RvcmljYWwiLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAyMSksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTGl0UlBHIiwgMTE4MCksDQogICAgICAgICAgICBuZXcgbGFiZWxWYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZSgiTXlzdGVyeSIsIDkwOSksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2NpLWZpIiwgOTEyKSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCJBZHVsdCIsIDkwMiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiRHJhbWEiLCA5MDMpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkdlbmRlciBCZW5kZXIiLCA5MDUpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoIkhvcnJvciIsIDIyKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJNYXJ0aWFsIEFydHMiLCA5MDcpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlBzeWNob2xvZ2ljYWwiLCA5MTApLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0lNlaW5lbiIsIDkxMyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU3VwZXJuYXR1cmFsIiwgNSksDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBuZXcgbGFiZWxWYWx1ZSgiQWR2ZW50dXJlIiwgOCksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiRWNjaGkiLCA5MDQpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkdpcmxzIExvdmUiLCA4OTIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUoIklzZWthaSIsIDM3KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJNYXR1cmUiLCAyMCksDQogICAgICAgICAgICBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgbGFiZWxWYWx1ZSgiUm9tYW5jZSIsIDYpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNsaWNlIG9mIExpZmUiLCA5MMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TQpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlRyYWdlZHkiLCA5MDEpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUoIkJveXMgTG92ZSIsIDg5MSksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiRmFuZmljdGlvbiIsIDM4KSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5ldyBsYWJlbFZhbHVlKCJIYXJlbSIsIDEwMTUpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkpvc2VpIiwgOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TA2KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJNZWNoYSIsIDkwOCksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgiU2Nob29sIExpZmUiLCA5MTEpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNtdXQiLCA5MTUpLA0KDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0F0NCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3Muc3RhdHVzZXMgPSB7DQogICAgICAgIG11bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRpU2VsZWN0aW9uOiBmYWxzZSwNCiAgICAgICAgdmFsdWVzOiBbDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQWxsIiwgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsbCIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkNvbXBsZXRlZCIsICJjb21wbGV0ZWQiKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBsYWJlbFZhbHVlKCJPbmdvaW5nIiwgIm9uZ29pbmciKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJIaWF0dXMiLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAiaGlhdHVzIikNCiAgICAgICAgXQ0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5nZXRTZWN0aW9ucyA9IChrZXlzKSA9PiB7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIHZhciBzZWN0aW9ucyA9IFsNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJsYXRlc3QiLCAiTGF0ZXN0IFVwZGF0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SIsICJMYXRlc3QiLCB0cnVlKSwNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJwb3B1bGFyIiwgIlBvcHVsYXIiLCAiU2VhcmNoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iwgZmFsc2UsIG5ldyBGaWx0ZXIodW5kZWZpbmVkLCAicGFnZXZpZXdzIikpLA0KICAgICAgICAgICAgbmV3IFNlY3Rpb24oImZhdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m9yaXRlcyIsICJGYXZvcml0ZXMiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIodW5kZWZpbmVkLCAiZmF2b3JpdGVzIikpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgbmV3IFNlY3Rpb24oImNvbXBsZXRlZCIsICJDb21wbGV0ZWQiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx0ZXIodW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgImNvbXBsZXRlZCIpKQ0KICAgICAgICBdDQoNCiAgICAgICAgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuIHNlY3Rpb25zLmZpbHRlcih4ID0+ICFrZXlzIHx8IGtleXMuaW5jbHVkZXMoeC5uYW1lKSk7DQogICAgfQ0KDQogICAgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuT2JqZWN0LnRyYW5zbGF0ZVNlY3Rpb24gPSBhc3luYyAoc2VjdGlvbiwgcGFnZSkgPT4gew0KICAgICAgICBpZiAoc2VjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Glvbi5pZGVudGlmaWVyID09ICJMYXRlc3QiKQ0KICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHJldHVybk9iamVjdC5sYXRlc3QocMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFnZSk7DQogICAgICAgIGVsc2UNCiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZXR1cm5PYmplY3Quc2VhcmNoKHNlY3Rpb24uZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mlsdGVyIHx8IHJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyKCksIHBhZ2UpOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5kZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WZhdWx0RmlsdGVyID0gKCkgPT4gew0KICAgICAgICB2YXIgZmlsdGVyID0gbmV3IEZpbHRlcih1bmRlZmluZWQsICJwYWdldmlldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03MiLCB1bmRlZmluZWQsICJhbGwiKTsNCiAgICAgICAgcmV0dXJuIGZpbHRlcjsNCiAgICB9Ow0KDQogICAgcmV0dXJuT2JqZWN0LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlYXJjaCA9IGFzeW5jIChmaWx0ZXIsIHBhZ2UpID0+IHsNCiAgICAgICAgdmFyIHNvcnRUeXBlVXJpID0gImh0dHBzOi8vd3d3LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNjcmliYmxlaHViLmNvbS9zZXJpZXMtZmluZGVyLz9zZj0xJmdpPXtnfSZtZ2k9YW5kJnNvcnQ9e3NvcnR9Jm9yZGVyPWRlc2MmYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03A9e3N0YXR1c30mcGc9IiArIHBhZ2U7DQogICAgICAgIHZhciBzb3J0VHlwZVVybCA9IHNvcnRUeXBlVXJpLnJlcGxhY2UoIntnfMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SIsIGZpbHRlci5nZW5yZXMuam9pbigiLCIpKS5yZXBsYWNlKCJ7c29ydH0iLCBmaWx0ZXIuc29ydFR5cGUpLnJlcGxhY2UoIntzdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF0dXN9IiwgZmlsdGVyLmFjdGl2ZSk7DQoNCiAgICAgICAgdmFyIHVybCA9IGZpbHRlci50aXRsZSAmJiBmaWx0ZXIudGl0bGUubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVuZ3RoID4gMCA/IHJldHVybk9iamVjdC5zZWFyY2hVcmwucmVwbGFjZSgie3F9IiwgZmlsdGVyLnRpdGxlKSA6IHNvcnRUeXBlVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJsOw0KDQogICAgICAgIHZhciBjb250YWluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRtbCh1cmwpKTsNCiAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICBjb250YWluZXIuZmluZCgiLnNlYXJjaF9tYWluXMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02JveCIpLmZvckVhY2goeCA9PiB7DQogICAgICAgICAgICByZXN1bHQucHVzaChuZXcgTGlnaHRJdGVtKA0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHguc2VsZWN0KCJpbWciKS5hdHRyKCJzcmMiKS51cmwoKSwNCiAgICAgICAgICAgICAgICB4LnNlbGVjdCgiLnNlYXJjaF90aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRsZSIpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgICAgICIiLA0KICAgICAgICAgICAgICAgIHguc2VsZWN0KCIuc2VhcmNoXMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03RpdGxlIGEiKS5hdHRyKCJocmVmIikudXJsKCksDQogICAgICAgICAgICAgICAgcmV0dXJuT2JqZWN0Lm5hbWUpKTsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgfSk7DQogICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgfQ0KDQoNCiAgICByZXR1cm5PYmplY3QuZ2V0Q2hhcHRlcnMgPSBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03luYyAoaWQpID0+IHsNCiAgICAgICAgY29uc29sZS5sb2coInN0clNJRDoiICsgaWQpDQogICAgICAgIHZhciBodG1sID0gYXdhaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XQgSHR0cENsaWVudC5wb3N0Rm9ybSgiaHR0cHM6Ly93d3cuc2NyaWJibGVodWIuY29tL3dwLWFkbWluL2FkbWluLWFqYXgucGhwIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iwgew0KICAgICAgICAgICAgYWN0aW9uOiAid2lfZ2V0dG9jY2hwIiwNCiAgICAgICAgICAgIHN0clNJRDogcGFyc2VJbnQoaWQpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgc3RybXlwb3N0aWQ6IDAsDQogICAgICAgICAgICBzdHJGaWM6ICJ5ZXMiDQogICAgICAgIH0pOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICByZXR1cm4gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShIdHRwQ2xpZW50LnBhcnNlSHRtbChodG1sKSkuZmluZCgiYSIpLm1hcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ch4ID0+IG5ldyBDaGFwdGVyKHgudGV4dChmYWxzZSksIHguYXR0cigiaHJlZiIpLnVybCgpKSk7DQogICAgfQ0KDQogICAgcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuT2JqZWN0LmdldE5vdmVsID0gYXN5bmMgKG5vdmVsVXJsKSA9PiB7DQogICAgICAgIHZhciBjb250YWluZXIgPSByZXR1cm5PYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbChub3ZlbFVybCkpOw0KICAgICAgICB2YXIgaWQgPSBjb250YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WluZXIuc2VsZWN0KCIjbXlwb3N0aWQiKS5ub2RlVmFsdWUoKSA/IGNvbnRhaW5lci5zZWxlY3QoIiNteXBvc3RpZCIpLm5vZGVWYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZSgpIDogbm92ZWxVcmwuc3BsaXQoIi8iKVtub3ZlbFVybC5zcGxpdCgiLyIpLmluZGV4T2YoInNlcmllcyIpICsgMV07DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHZhciBjaGFwdGVycyA9IGF3YWl0IHJldHVybk9iamVjdC5nZXRDaGFwdGVycyhpZCB8fCAiIik7DQogICAgICAgIHZhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iByZWcgPSBuZXcgUmVnRXhwKC8iKHJhdGluZ1ZhbHVlKSI6IigoXFwifFteIl0pKikiLywgImkiKQ0KICAgICAgICB2YXIgcmVzIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0gcmVnLmV4ZWMoY29udGFpbmVyLmlubmVySFRNTCgpKTsNCiAgICAgICAgdmFyIHJhdGUgPSBldmFsKChyZXMgJiYgcmVzLmxlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0md0aCA+IDAgPyAocmVzLmZpbmRBdCgwKSB8fCAiIikuc3BsaXQoIjoiKS5sYXN0KCkgfHwgIiIgOiAiMSIpKTsNCiAgICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFyIG5vdmVsUmV2aWV3cyA9IG5ldyBOb3ZlbFJldmlld3MoKTsNCiAgICAgICAgbm92ZWxSZXZpZXdzLmF1dGhvciA9IGNvbnRhaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5lci5zZWxlY3QoIltwcm9wZXJ0eT0nYXV0aG9yJ10gLmF1dGhfbmFtZV9maWMiKS50ZXh0KGZhbHNlKTsNCiAgICAgICAgbm92ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxSZXZpZXdzLmdlbnJlcyA9IGNvbnRhaW5lci5maW5kKCIud2lfZmljX2dlbnJlIGEiKS50ZXh0QXJyYXkoKTsNCiAgICAgICAgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m92ZWxSZXZpZXdzLnV2b3RlcyA9ICJSYXRpbmc6IiArIHBhcnNlSW50KHJhdGUgPyByYXRlIDogIjEiKS50b0ZpeGVkKDApICsgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i81IjsNCiAgICAgICAgbm92ZWxSZXZpZXdzLmNvbXBsZXRlZCA9IGNvbnRhaW5lci5zZWxlY3QoIi53aWRnZXRfZmljX3NpbWlsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIiKS50ZXh0KGZhbHNlKS5pbmRleE9mKCJDb21wbGV0ZWQiKSAhPSAtMSA/ICJTdGF0dXM6Q29tcGxldGVkIiA6ICJTdGF0dXM6TMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU025nb2luZyI7DQogICAgICAgIHJldHVybiBuZXcgRGV0YWxpSXRlbSgNCiAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoIi5ubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03ZlbC1jb3ZlciBpbWciKS5hdHRyKCJzcmMiKS51cmwoKSwNCiAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoJy5maWNfdGl0bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GUnKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoJy53aV9maWNfZGVzYycpLmNsZWFuSW5uZXJIVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0E1MKCksDQogICAgICAgICAgICBub3ZlbFVybCwNCiAgICAgICAgICAgIGNoYXB0ZXJzLnJldmVyc2UoKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5vdmVsUmV2aWV3cywNCiAgICAgICAgICAgIHJldHVybk9iamVjdC5uYW1lLA0KICAgICAgICAgICAgdW5kZWZpbmVkLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICApOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5nZXRDaGFwdGVyID0gYXN5bmMgKHVybCkgPT4gew0KICAgICAgICByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1cm4gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBuZXcgY2xpZW50KCkuZ2V0SHRtbCh1cmwpKS5zZWxlY3QoIi5jaHBfcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mF3IikuY2xlYW5Jbm5lckhUTUwoKTsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QubGF0ZXN0ID0gYXN5bmMgKHBhZ2UpID0+IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HsNCiAgICAgICAgdmFyIHVybCA9IHJldHVybk9iamVjdC5sYXRlc3RVcmwucmVwbGFjZSgie3B9IiwgcGFnZS50b1N0cmluZygpKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TsNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybCkpOw0KICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgIGNvbnRhaW5lci5zZWxlY3QoIiNtYWluX3JlbGVhc2VzIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRkIikuZm9yRWFjaCh4ID0+IHsNCiAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBMaWdodEl0ZW0oDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgeC5zZWxlY3QoImltZyIpLmF0dHIoInNyYyIpLnVybCgpLA0KICAgICAgICAgICAgICAgIHguc2VsZWN0KCIuZnBfdGl0bGUiKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgICAiIiwNCiAgICAgICAgICAgICAgICB4LnNlbGVjdCgiLmZwX3RpdGxlIikuYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR0cigiaHJlZiIpLnVybCgpLA0KICAgICAgICAgICAgICAgIHJldHVybk9iamVjdC5uYW1lKSk7DQogICAgICAgIH0pOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0NCg0KICAgIHJldHVybiByZXR1cm5PYmplY3Q7DQoNCn07&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KICAgIGNvbnN0IHJldHVybk9iamVjdCA9IHt9Ow0KICAgIHJldHVybk9iamVjdC5pZCA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIxLnRhcHJlYWQiOw0KICAgIHJldHVybk9iamVjdC5kZXRhbGlJdGVtVHlwZSA9IERldGFsaUl0ZW1UeXBlLk5vdmVsOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybk9iamVjdC5wYXJzZXJMYW5ndWFnZSA9ICJlbiI7DQogICAgcmV0dXJuT2JqZWN0Lm5hbWUgPSAnVGFwUmVhZCc7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgcmV0dXJuT2JqZWN0LmRpc3BsYXlOYW1lID0gIlQtTm92ZWwtUmVhZCI7DQogICAgcmV0dXJuT2JqZWN0LmxhdGVzdFVybCA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CdodHRwczovL3d3dy50YXByZWFkLmNvbS9hamF4L2Jvb2svbGFzdHVwZGF0ZWxpc3QnOw0KICAgIHJldHVybk9iamVjdC51cmwgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SAnaHR0cHM6Ly93d3cudGFwcmVhZC5jb20vJzsNCiAgICByZXR1cm5PYmplY3Quc2VhcmNoVXJsID0gJ2h0dHBzOi8vd3d3LnRhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJlYWQuY29tL2FqYXgvc2VhcmNoL3N0b3J5JzsNCiAgICByZXR1cm5PYmplY3QucGFuaW5hdGlvbiA9IHRydWU7DQogICAgcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuT2JqZWN0LnNlYXJjaFBhZ2luYXRpb24gPSBmYWxzZTsNCiAgICByZXR1cm5PYmplY3QuaWNvbiA9ICdodHRwczovL3N0YXRpYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y50YXByZWFkLmNvbS9wYy9pbWFnZXMvZmF2aWNvbi5pY28nOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yA9IG5ldyBQYXJzZXJTZWFyY2hTZXR0aW5ncygpOw0KDQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLmdlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nJlcyA9IHsNCiAgICAgICAgbXVsdGlTZWxlY3Rpb246IGZhbHNlLA0KICAgICAgICB2YWx1ZXM6IFsNCiAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBsYWJlbFZhbHVlKCJBbGwiLCAwKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJXdXhpYSZYaWFueGlhIiwgMSksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiRmFudGFzeSIsIDIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlJvbWFuYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02UiLCAzKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJMR0JUKyIsIDQzKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVlKCJVcmJhbiIsIDQ0KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJHYW1lcyIsIDQ1KSwNCiAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBsYWJlbFZhbHVlKCJFYXN0ZXJuIiwgNDYpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkhvcnJvciZUaHJpbGxlciIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0DQ3KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJIaXN0b3JpY2FsIiwgNzUpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoIlNjaS1GaSIsIDc2KSwNCg0KICAgICAgICBdDQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmdldFNlY3Rpb25zID0gKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GtleXMpID0+IHsNCiAgICAgICAgdmFyIHNlY3Rpb25zID0gWw0KICAgICAgICAgICAgbmV3IFNlY3Rpb24oImxhdGVzdCIsICJMYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRlc3QgVXBkYXRlIiwgIkxhdGVzdCIsIHRydWUpLA0KICAgICAgICAgICAgbmV3IFNlY3Rpb24oImhvcnJvciIsICJIb3Jyb3ImVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GhyaWxsZXIiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIoWzQ3XSkpLA0KICAgICAgICAgICAgbmV3IFNlY3Rpb24oInJvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFuY2UiLCAiUm9tYW5jZSIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcihbM10pKSwNCiAgICAgICAgICAgIG5ldyBTZWN0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W9uKCJmYW50YXN5IiwgIkZhbnRhc3kiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIoWzJdKSksDQogICAgICAgIF0NCg0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICByZXR1cm4gc2VjdGlvbnMuZmlsdGVyKHggPT4gIWtleXMgfHwga2V5cy5pbmNsdWRlcyh4Lm5hbWUpKTsNCiAgICB9DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QoNCiAgICByZXR1cm5PYmplY3QudHJhbnNsYXRlU2VjdGlvbiA9IGFzeW5jIChzZWN0aW9uLCBwYWdlKSA9PiB7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlmIChzZWN0aW9uLmlkZW50aWZpZXIgPT0gIkxhdGVzdCIpDQogICAgICAgICAgICByZXR1cm4gYXdhaXQgcmV0dXJuT2JqZWN0LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mxhdGVzdChwYWdlKTsNCiAgICAgICAgZWxzZQ0KICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHJldHVybk9iamVjdC5zZWFyY2gocMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VjdGlvbi5maWx0ZXIgfHwgcmV0dXJuT2JqZWN0LmRlZmF1bHRGaWx0ZXIoKSwgcGFnZSk7DQogICAgfQ0KDQogICAgcmV0dXJuTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02JqZWN0LmRlZmF1bHRGaWx0ZXIgPSAoKSA9PiB7DQogICAgICAgIHZhciBmaWx0ZXIgPSBuZXcgRmlsdGVyKCk7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybiBmaWx0ZXI7DQogICAgfTsNCg0KICAgIHJldHVybk9iamVjdC5nZXRHZW5yZSA9IGFzeW5jIChmaWx0ZXIsIHBhZ2UpIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0+IHsNCiAgICAgICAgdmFyIHVybCA9ICJodHRwczovL3d3dy50YXByZWFkLmNvbS9hamF4L2NhdGVnb3J5L2RldGFpbCI7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHZhciByZXN1bHQgPSBbXTsNCiAgICAgICAgdmFyIGRhdGEgPSBhd2FpdCBIdHRwQ2xpZW50LnBvc3RGb3JtKHVybCwgeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBjYXRlSWQ6IGZpbHRlci5nZW5yZXNbMF0sIHBhZ2VObzogcGFnZSB9KTsNCiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5yZXN1bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HQgJiYgZGF0YS5yZXN1bHQuYm9va0xpc3QpIHsNCiAgICAgICAgICAgIGRhdGEucmVzdWx0LmJvb2tMaXN0LmZvckVhY2goKGl0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W0pID0+IHsNCiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZXcgTGlnaHRJdGVtKGFzeW5jICgpID0+IHsNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgcmV0dXJuIChhd2FpdCByZXR1cm5PYmplY3QuZ2V0Tm92ZWwoaXRlbS5ib29rSWQsIHRydWUpKS5pbWFnZQ0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgIH0sIGl0ZW0uYm9va05hbWUsIGl0ZW0uZGVzY3JpcHRpb24sIGl0ZW0uYm9va0lkLCByZXR1cm5PYmplYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03QubmFtZSkpDQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KDQogICAgICAgIHJldHVybiByZXN1bHQ7DQoNCiAgICB9DQoNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICByZXR1cm5PYmplY3Quc2VhcmNoID0gYXN5bmMgKGZpbHRlciwgcGFnZSkgPT4gew0KICAgICAgICBpZiAoZmlsdGVyLmdlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nJlcy5sZW5ndGggPiAwKQ0KICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHJldHVybk9iamVjdC5nZXRHZW5yZShmaWx0ZXIsIHBhZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02UpOw0KDQogICAgICAgIHZhciByZXN1bHQgPSBbXTsNCiAgICAgICAgdmFyIGRhdGEgPSBhd2FpdCBIdHRwQ2xpZW50LnBvc3RGbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03JtKHJldHVybk9iamVjdC5zZWFyY2hVcmwsIHsgc2VhcmNoVGV4dDogZmlsdGVyLnRpdGxlIHx8ICIiLCBzdG9yeVR5cGU6IDEsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HBhZ2VObzogcGFnZSB9KTsNCiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5yZXN1bHQgJiYgZGF0YS5yZXN1bHQuc3RvcnlMaXN0KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SB7DQogICAgICAgICAgICBkYXRhLnJlc3VsdC5zdG9yeUxpc3QuZm9yRWFjaCgoaXRlbSkgPT4gew0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJlc3VsdC5wdXNoKG5ldyBMaWdodEl0ZW0oYXN5bmMgKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGF3YWl0IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybk9iamVjdC5nZXROb3ZlbChpdGVtLnN0b3J5SWQsIHRydWUpKS5pbWFnZQ0KICAgICAgICAgICAgICAgIH0sIGl0ZW0ucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03RvcnlOYW1lLCAiIiwgaXRlbS5zdG9yeUlkLCByZXR1cm5PYmplY3QubmFtZSkpDQogICAgICAgICAgICB9KTsNCiAgICAgICAgfMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Q0KDQogICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmdldENoYXB0ZXJzID0gYXN5bmMgKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GJvb2tJZCkgPT4gew0KICAgICAgICB2YXIgZGF0YSA9IGF3YWl0IEh0dHBDbGllbnQucG9zdEZvcm0oImh0dHBzOi8vd3d3LnRhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJlYWQuY29tL2FqYXgvYm9vay9jb250ZW50cyIsIHsgYm9va0lkOiBib29rSWQgfSk7DQogICAgICAgIHZhciByZXN1bHQgPSBbXMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TsNCiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5yZXN1bHQgJiYgZGF0YS5yZXN1bHQuY2hhcHRlckxpc3QpDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBkYXRhLnJlc3VsdC5jaGFwdGVyTGlzdC5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBDaGFwdGVyKGl0ZW0uY2hhcHRlck5hbWUsIChpdGVtLmJvb2tJZCArICIvIiArIGl0ZW0uY2hhcHRlcklkKS51cmkoImh0dHBzOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i8vd3d3LnRhcHJlYWQuY29tL2FqYXgvYm9vay9jaGFwdGVyIikpKQ0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgcmV0dXJuIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJlc3VsdDsNCg0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5nZXROb3ZlbCA9IGFzeW5jIChub3ZlbFVybCwgaWdub3JlY2hhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlcnMpID0+IHsNCiAgICAgICAgbm92ZWxVcmwgPSBwYXJzZUludChub3ZlbFVybCkudG9TdHJpbmcoKTsNCiAgICAgICAgdmFyIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKG5vdmVsVXJsLnRvU3RyaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5nKCkudXJpKCJodHRwczovL3d3dy50YXByZWFkLmNvbS9ib29rL2RldGFpbC8iKSwgaWdub3JlY2hhcHRlcnMpKTsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgdmFyIGNoYXB0ZXJzID0gIWlnbm9yZWNoYXB0ZXJzID8gYXdhaXQgcmV0dXJuT2JqZWN0LmdldENoYXB0ZXJzKG5vdmVsVXJsKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SA6IFtdOw0KICAgICAgICB2YXIgbm92ZWxSZXZpZXdzID0gbmV3IE5vdmVsUmV2aWV3cygpOw0KICAgICAgICBub3ZlbFJldmlldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03MuZ2VucmVzID0gY29udGFpbmVyLmZpbmQoIi5iYXNlLWluZm8gLmJvb2stY2F0YWxvZyAudHh0IikudGV4dEFycmF5KCk7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5vdmVsUmV2aWV3cy5hdXRob3IgPSBjb250YWluZXIuc2VsZWN0KCIuYXV0aG9yIC5uYW1lIikudGV4dChmYWxzZSk7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIG5vdmVsUmV2aWV3cy51dm90ZXMgPSBjb250YWluZXIuc2VsZWN0KCIuc2NvcmUiKS50ZXh0KCkgKyAiIC8gNSI7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIG5vdmVsUmV2aWV3cy5jb21wbGV0ZWQgPSBjb250YWluZXIuc2VsZWN0KCIuYmFzZS1pbmZvIC5ib29rLXN0YXRlIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C50eHQiKS50ZXh0KGZhbHNlKSA9PT0gIkNvbXBsZXRlZCIgPyAiU3RhdHVzOkNvbXBsZXRlZCIgOiAiU3RhdHVzOk9uZ29pbmciOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICByZXR1cm4gbmV3IERldGFsaUl0ZW0oDQogICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCcuYm9vay1pbWcgaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W1nJykuYXR0cigic3JjIikudXJsKCksDQogICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCcuYm9vay1uYW1lJykudGV4dChmYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxzZSksDQogICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCcuZGVzYycpLmNsZWFuSW5uZXJIVE1MKCksDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBub3ZlbFVybCwNCiAgICAgICAgICAgIGNoYXB0ZXJzLA0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLA0KICAgICAgICAgICAgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuT2JqZWN0Lm5hbWUsDQogICAgICAgICAgICB1bmRlZmluZWQsDQogICAgICAgICk7DQogICAgfQ0KDQogICAgcmV0dXJuTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02JqZWN0LmdldENoYXB0ZXIgPSBhc3luYyAodXJsKSA9PiB7DQogICAgICAgIHZhciB1cmxDb250ZW50ID0gdXJsLnNwbGl0KCIvIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ik7DQogICAgICAgIHZhciBib29rSWQgPSB1cmxDb250ZW50W3VybENvbnRlbnQubGVuZ3RoIC0gMl07DQogICAgICAgIHZhciBjaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFwdGVySWQgPSB1cmxDb250ZW50W3VybENvbnRlbnQubGVuZ3RoIC0gMV07DQogICAgICAgIGNvbnNvbGUubG9nKCJib29rSWQ6IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iArIGJvb2tJZCkNCiAgICAgICAgY29uc29sZS5sb2coImNoYXB0ZXJJZDoiICsgY2hhcHRlcklkKQ0KICAgICAgICB2YXIgZGF0YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SA9IGF3YWl0IG5ldyBjbGllbnQoKS5wb3N0Rm9ybSgiaHR0cHM6Ly93d3cudGFwcmVhZC5jb20vYWpheC9ib29rL2NoYXB0ZXIiLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB7IGJvb2tJZDogYm9va0lkLCBjaGFwdGVySWQ6IGNoYXB0ZXJJZCB9KQ0KICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLnJlc3VsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CkNCiAgICAgICAgICAgIHJldHVybiBkYXRhLnJlc3VsdC5jb250ZW50Ow0KICAgICAgICByZXR1cm4gIlNvbWV0aGluZyB3ZW50IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Hdyb25nIjsNCg0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5sYXRlc3QgPSBhc3luYyAocGFnZSkgPT4gew0KICAgICAgICB2YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIgdXJsID0gcmV0dXJuT2JqZWN0LmxhdGVzdFVybDsNCiAgICAgICAgdmFyIGRhdGEgPSBhd2FpdCBIdHRwQ2xpZW50LnBvc3RGbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03JtKHVybCwgeyBhbW91bXQ6IDAsIHBhZ2VObzogcGFnZSB9KTsNCiAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICBpZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAoZGF0YSAmJiBkYXRhLnJlc3VsdCAmJiBkYXRhLnJlc3VsdCkgew0KICAgICAgICAgICAgZGF0YS5yZXN1bHQuZm9yRWFjaChpdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVtID0+IHsNCiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZXcgTGlnaHRJdGVtKGFzeW5jICgpID0+IHsNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgcmV0dXJuIChhd2FpdCByZXR1cm5PYmplY3QuZ2V0Tm92ZWwoaXRlbS5ib29rSWQsIHRydWUpKS5pbWFnZQ0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgIH0sIGl0ZW0udGl0bGUsICIiLCBpdGVtLmJvb2tJZCwgcmV0dXJuT2JqZWN0Lm5hbWUpKQ0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgfSk7DQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0NCg0KICAgIHJldHVybiByZXR1cm5PYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mplY3Q7DQp9Ow==&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KICAgIGNvbnN0IHJldHVybk9iamVjdCA9IHt9Ow0KICAgIGNvbnN0IGhDbGllbnQgPSBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgY2xpZW50KCk7DQogICAgaENsaWVudC5hZGRTdGF0aWNIZWFkZXIoInNpdGUtZG9tYWluIiwgIndubXRsLm9yZyIpOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybk9iamVjdC5pZCA9ICIxLndubXRsb3JnIjsNCiAgICByZXR1cm5PYmplY3QuZGV0YWxpSXRlbVR5cGUgPSBEZXRhbGlJdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVtVHlwZS5Ob3ZlbDsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyTGFuZ3VhZ2UgPSAiZW4iOw0KICAgIHJldHVybk9iamVjdC5uYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W1lID0gJ1dubXRsJzsNCiAgICByZXR1cm5PYmplY3QuZGlzcGxheU5hbWUgPSAiVy1NVEwiOw0KICAgIHJldHVybk9iamVjdC5sYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRlc3RVcmwgPSAnaHR0cHM6Ly9hcGkubXlzdG9yeXdhdmUuY29tL3N0b3J5LXdhdmUtYmFja2VuZC9hcGkvdjEvY29udGVudC9ibMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029rcy9jdXN0b20vTGFzdFVwZGF0ZWRMb2NhbCc7DQogICAgcmV0dXJuT2JqZWN0LnVybCA9ICdodHRwOi8vd3d3LndubXRsLm9yZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yc7DQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaFVybCA9ICIiOw0KICAgIHJldHVybk9iamVjdC5wYW5pbmF0aW9uID0gdHJ1ZTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICByZXR1cm5PYmplY3Quc2VhcmNoUGFnaW5hdGlvbiA9IHRydWU7DQogICAgcmV0dXJuT2JqZWN0Lmljb24gPSAnaHR0cHM6LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y9ub3ZlbGZ1bGwuY29tL3dlYi9pbWFnZXMvZmF2aWNvbi5pY28nOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5ncyA9IG5ldyBQYXJzZXJTZWFyY2hTZXR0aW5ncygpOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5yZXMgPSB7DQogICAgICAgIG11bHRpU2VsZWN0aW9uOiBmYWxzZSwNCiAgICAgICAgdmFsdWVzOiBbDQogICAgICAgICAgICBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgbGFiZWxWYWx1ZSgnRmFudGFzeScsIDEpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1NjaS1maScsIDIpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1Nwb3J0cycsIDMpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1VyYmFuJywgNMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnRWFzdGVybiBGYW50YXN5JywgNSksDQogICAgICAgICAgICBuZXcgbGFiZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxWYWx1ZSgnSG9ycm9yJlRocmlsbGVyJywgNiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnVmlkZW8gR2FtZScsIDcpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0hpc3RvcnknLCA4KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdXYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XInLCA5KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdVcmJhbiBSb21hbmNlJywgMTApLA0KICAgICAgICAgICAgbmV3IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxhYmVsVmFsdWUoJ0ZhbnRhc3kgUm9tYW5jZScsIDExKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdIaXN0b3JpY2FsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FJvbWFuY2UnLCAxMiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnVGVlbicsIDEzKSwNCiAgICAgICAgICAgIG5ldyBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJlbFZhbHVlKCdMR0JUKycsIDE0KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdSb21hbmNlJywgMTUpLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbmV3IGxhYmVsVmFsdWUoJ09USEVSUysnLCAxNiksDQogICAgICAgIF0sDQogICAgfQ0KDQoNCiAgICByZXR1cm5PYmplYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03QuZ2V0U2VjdGlvbnMgPSAoa2V5cykgPT4gew0KICAgICAgICB2YXIgc2VjdGlvbnMgPSBbDQogICAgICAgICAgICBuZXcgU2VjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlvbigibGF0ZXN0IiwgIkxhdGVzdCBVcGRhdGUiLCAiTGF0ZXN0IiwgdHJ1ZSksDQogICAgICAgICAgICBuZXcgU2VjdGlvbigiVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJiYW4iLCAiVXJiYW4gTm92ZWwiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIoWzRdKSksDQogICAgICAgICAgICBuZXcgUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VjdGlvbigiUm9tYW5jZSIsICJSb21hbmNlIE5vdmVsIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKFsxNV0pKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgXQ0KDQogICAgICAgIHJldHVybiBzZWN0aW9ucy5maWx0ZXIoeCA9PiAha2V5cyB8fCBrZXlzLmluY2x1ZGVzKHgubmFtZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SkpOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC50cmFuc2xhdGVTZWN0aW9uID0gYXN5bmMgKHNlY3Rpb24sIHBhZ2UpID0+IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HsNCiAgICAgICAgaWYgKHNlY3Rpb24uaWRlbnRpZmllciA9PSAiTGF0ZXN0IikNCiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1cm5PYmplY3QubGF0ZXN0KHBhZ2UpOw0KICAgICAgICBlbHNlDQogICAgICAgICAgICByZXR1cm4gYXdhaXQgcmV0dXJuT2JqZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0LnNlYXJjaChzZWN0aW9uLmZpbHRlciB8fCByZXR1cm5PYmplY3QuZGVmYXVsdEZpbHRlcigpLCBwYWdlKTsNCiAgICB9DQoNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICByZXR1cm5PYmplY3QuZGVmYXVsdEZpbHRlciA9ICgpID0+IHsNCiAgICAgICAgcmV0dXJuIG5ldyBGaWx0ZXIoKTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB9DQoNCiAgICByZXR1cm5PYmplY3Quc2VhcmNoID0gYXN5bmMgKGZpbHRlciwgcGFnZSkgPT4gew0KICAgICAgICB2YXIgdXJsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0gImh0dHBzOi8vYXBpLm15c3Rvcnl3YXZlLmNvbS9zdG9yeS13YXZlLWJhY2tlbmQvYXBpL3YxL2NvbnRlbnQvYm9va3MvcmFuaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y9yZWFkQ291bnRzPyZwYWdlTnVtYmVyPSIgKyBwYWdlICsgIiZwYWdlU2l6ZT0xMDAiDQogICAgICAgIGlmIChmaWx0ZXIuZ2VucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVzICYmIGZpbHRlci5nZW5yZXMubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgdXJsID0gdXJsICsgIiZnZW5yZT0iICsgZmlsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVyLmdlbnJlc1tmaWx0ZXIuZ2VucmVzLmxlbmd0aCAtIDFdOw0KICAgICAgICB9ZWxzZSB1cmwgPSB1cmwgPSAiaHR0cHM6Ly9hcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GkubXlzdG9yeXdhdmUuY29tL3N0b3J5LXdhdmUtYmFja2VuZC9hcGkvdjEvY29udGVudC9ib29rcy9zZWFyY2g/a2V5V29yZD0iIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CsgZmlsdGVyLnRpdGxlICsgIiZwYWdlTnVtYmVyPSIgKyBwYWdlICsgIiZwYWdlU2l6ZT0xMDAiDQogICAgICAgIHZhciBjb250YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WluZXIgPSBhd2FpdCBoQ2xpZW50LkdldEpzb24odXJsKTsNCiAgICAgICAgcmV0dXJuIGNvbnRhaW5lci5kYXRhLmxpc3QubWFwKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HggPT4gew0KICAgICAgICAgICAgcmV0dXJuIG5ldyBMaWdodEl0ZW0oDQogICAgICAgICAgICAgICAgeC5jb3ZlckltZ1VybCwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICB4LnRpdGxlLA0KICAgICAgICAgICAgICAgICcnLA0KICAgICAgICAgICAgICAgICJodHRwczovL2FwaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S5teXN0b3J5d2F2ZS5jb20vc3Rvcnktd2F2ZS1iYWNrZW5kL2FwaS92MS9jb250ZW50L2Jvb2tzLyIgKyB4LmlkLCByZXR1cm5PYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mplY3QubmFtZQ0KICAgICAgICAgICAgKTsNCiAgICAgICAgfSk7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmdldENoYXB0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJzID0gYXN5bmMgKG5vdmVsVXJsKSA9PiB7DQogICAgICAgIHZhciBjaGFwdGVycyA9IFtdOw0KICAgICAgICB2YXIgaWQgPSBubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03ZlbFVybC5zcGxpdCgiLyIpLmxhc3QoKTsNCiAgICAgICAgdmFyIHVybCA9ICJodHRwczovL2FwaS5teXN0b3J5d2F2ZS5jb20vcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03Rvcnktd2F2ZS1iYWNrZW5kL2FwaS92MS9jb250ZW50L2NoYXB0ZXJzL3BhZ2U/c29ydERpcmVjdGlvbj1BU0MmYm9va0lkPSIgKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBpZCArICImcGFnZU51bWJlcj0xJnBhZ2VTaXplPTEwMDAwMCINCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IGF3YWl0IGhDbGllbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nQuR2V0SnNvbih1cmwpOw0KICAgICAgICBpZiAoY29udGFpbmVyLmRhdGEgJiYgY29udGFpbmVyLmRhdGEubGlzdCkNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIGNvbnRhaW5lci5kYXRhLmxpc3QuZm9yRWFjaCgoeCwgaSkgPT4gew0KICAgICAgICAgICAgICAgIGNoYXB0ZXJzLnB1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02gobmV3IENoYXB0ZXIoKHguY2hhcHRlck9yZGVyICE9IHVuZGVmaW5lZCA/IHguY2hhcHRlck9yZGVyIDogaSArIDEpICsgIi0iIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CsgeC50aXRsZSwgImh0dHBzOi8vYXBpLm15c3Rvcnl3YXZlLmNvbS9zdG9yeS13YXZlLWJhY2tlbmQvYXBpL3YxL2NvbnRlbnQvYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02hhcHRlcnMvIiArIHguaWQpKTsNCiAgICAgICAgICAgIH0pDQoNCiAgICAgICAgcmV0dXJuIGNoYXB0ZXJzOw0KICAgIH0NCg0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHJldHVybk9iamVjdC5nZXROb3ZlbCA9IGFzeW5jIChub3ZlbFVybCkgPT4gew0KICAgICAgICB2YXIgY29udGFpbmVyID0gYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XdhaXQgaENsaWVudC5HZXRKc29uKG5vdmVsVXJsKTsNCg0KICAgICAgICB2YXIgY2hhcHRlcnMgPSBhd2FpdCByZXR1cm5PYmplYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03QuZ2V0Q2hhcHRlcnMobm92ZWxVcmwpOw0KICAgICAgICB2YXIgbm92ZWxSZXZpZXdzID0gbmV3IE5vdmVsUmV2aWV3cygpOw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBub3ZlbFJldmlld3MuZ2VucmVzID0gW2NvbnRhaW5lci5kYXRhLmdlbnJlTmFtZV0NCiAgICAgICAgbm92ZWxSZXZpZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XdzLmF1dGhvciA9IGNvbnRhaW5lci5kYXRhLmF1dGhvclBzZXVkb255bTsNCiAgICAgICAgbm92ZWxSZXZpZXdzLnV2b3RlcyA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GNvbnRhaW5lci5kYXRhLnJhdGluZ0NvdW50cyArICIgLyA1IjsNCiAgICAgICAgcmV0dXJuIG5ldyBEZXRhbGlJdGVtKA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgY29udGFpbmVyLmRhdGEuY292ZXJJbWdVcmwsDQogICAgICAgICAgICBjb250YWluZXIuZGF0YS50aXRsZSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIHBhcnNlSHRtbChjb250YWluZXIuZGF0YS5zeW5vcHNpcykuY2xlYW5Jbm5lckhUTUwoKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5vdmVsVXJsLA0KICAgICAgICAgICAgY2hhcHRlcnMsDQogICAgICAgICAgICBub3ZlbFJldmlld3MsDQogICAgICAgICAgICByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1cm5PYmplY3QubmFtZSwNCiAgICAgICAgICAgIHVuZGVmaW5lZCwNCiAgICAgICAgKTsNCiAgICB9DQoNCg0KICAgIHJldHVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0k9iamVjdC5nZXRDaGFwdGVyID0gYXN5bmMgKHVybCkgPT4gew0KICAgICAgICB2YXIgY29udGFpbmVyID0gYXdhaXQgaENsaWVudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5HZXRKc29uKHVybCk7DQogICAgICAgIHZhciBkYXRhID0gY29udGFpbmVyLmRhdGEuY29udGVudC5zcGxpdCgiXG4iKTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgZGF0YSA9IGRhdGEuZmlsdGVyKHggPT4geCAmJiB4Lmxlbmd0aCA+IDApLm1hcCh4ID0+ICI8cD4iICsgeCArICI8L3A+IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ikuam9pbigiIik7DQogICAgICAgIHJldHVybiBwYXJzZUh0bWwoZGF0YSkuY2xlYW5Jbm5lckhUTUwoKTsNCiAgICB9DQoNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CByZXR1cm5PYmplY3QubGF0ZXN0ID0gYXN5bmMgKHBhZ2UpID0+IHsNCiAgICAgICAgdmFyIHVybCA9IHJldHVybk9iamVjdC5sYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRlc3RVcmw7DQogICAgICAgIHZhciBkYXRhID0gYXdhaXQgaENsaWVudC5wb3N0SnNvbih1cmwsIHsgY29uZGl0aW9uSnNvbjogJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03sidGl0bGUiOiJMYXRlc3QgVXBkYXRlcyIsbWF4U2l6ZToxNiwgbW9iaWxlSXRlbXM6MTJ9JywgcGFnZU51bWJlcjogcGFnZSwgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFnZVNpemU6IDIwIH0pOw0KICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgIGlmIChkYXRhLmRhdGEgJiYgZGF0YS5kYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRhLmxpc3QgJiYgZGF0YS5kYXRhLmxpc3QubGVuZ3RoKSB7DQogICAgICAgICAgICBkYXRhLmRhdGEubGlzdC5mb3JFYWNoKHggPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0T4gew0KICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKA0KICAgICAgICAgICAgICAgICAgICBuZXcgTGlnaHRJdGVtKA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICAgeC5jb3ZlckltZ1VybCwNCiAgICAgICAgICAgICAgICAgICAgICAgIHgudGl0bGUsDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICAnJywNCiAgICAgICAgICAgICAgICAgICAgICAgICJodHRwczovL2FwaS5teXN0b3J5d2F2ZS5jbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU020vc3Rvcnktd2F2ZS1iYWNrZW5kL2FwaS92MS9jb250ZW50L2Jvb2tzLyIgKyB4LmlkLCByZXR1cm5PYmplY3QubmFtZQ0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICApKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB9DQoNCiAgICByZXR1cm4gcmV0dXJuT2JqZWN0Ow0KDQp9Ow==&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KICAgIGNvbnN0IHJldHVybk9iamVjdCA9IHt9Ow0KICAgIHJldHVybk9iamVjdC5pZCA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIxLnd1eGlhd29ybGQiOw0KICAgIHJldHVybk9iamVjdC5kZXRhbGlJdGVtVHlwZSA9IERldGFsaUl0ZW1UeXBlLk5vdmVsOw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHJldHVybk9iamVjdC5wYXJzZXJMYW5ndWFnZSA9ICJlbiI7DQogICAgcmV0dXJuT2JqZWN0Lm5hbWUgPSAnV3V4aWF3b3JsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Cc7DQogICAgcmV0dXJuT2JqZWN0LmRpc3BsYXlOYW1lID0gIlctTm92ZWwtV29ybGQiOw0KICAgIHJldHVybk9iamVjdC5sYXRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03RVcmwgPSAnaHR0cHM6Ly93d3cud3V4aWF3b3JsZC5jb20vdXBkYXRlcyc7DQogICAgcmV0dXJuT2JqZWN0LnVybCA9ICdodHRwcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0zovL3d3dy53dXhpYXdvcmxkLmNvbSc7DQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaFVybCA9ICdodHRwczovL3d3dy53dXhpYXdvcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mxkLmNvbS9hcGkvbm92ZWxzL3NlYXJjaCc7DQogICAgcmV0dXJuT2JqZWN0LnBhbmluYXRpb24gPSBmYWxzZTsNCiAgICByZXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m5PYmplY3Quc2VhcmNoUGFnaW5hdGlvbiA9IHRydWU7DQogICAgcmV0dXJuT2JqZWN0Lmljb24gPSAnaHR0cHM6Ly93d3cud3V4aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WF3b3JsZC5jb20vZmF2aWNvbi0zMngzMi5wbmc/dj1qd0VrS1h3OFBZJzsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02V0dGluZ3MgPSBuZXcgUGFyc2VyU2VhcmNoU2V0dGluZ3MoKTsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03MubXVsdGlTZWxlY3Rpb24gPSB0cnVlOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZXMgPQ0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHsNCiAgICAgIG11bHRpU2VsZWN0aW9uOiB0cnVlLA0KICAgICAgdmFsdWVzOiBbDQogICAgICAgIG5ldyBsYWJlbFZhbHVlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CdBY3Rpb24nKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0NoZWF0IFN5c3RlbXMnKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUoJ0Nvb2tpbmcnKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0FsY2hlbXknKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU00NyYWZ0aW5nJyksDQogICAgICAgIG5ldyBsYWJlbFZhbHVlKCdDb21lZHknKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0ZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRhc3knKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0hhcmVtJyksDQogICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNYXR1cmUnKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0tpbmdkb20gQnVpbGRpbmcnKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ01vZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVybiBTZXR0aW5nJyksDQogICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNeXN0ZXJ5JyksDQogICAgICAgIG5ldyBsYWJlbFZhbHVlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CdQb2xpdGljYWwgSW50cmlndWUnKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1BldHMnKSwNCiAgICAgICAgbmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoJ1Bvc3QtYXBvY2FseXB0aWMnKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1JvbWFuY2UnKSwNCiAgICAgICAgbmV3IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxhYmVsVmFsdWUoJ0ZlbWFsZSBQcm90YWdvbmlzdCcpLA0KICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU2NpLWZpJyksDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCdUaHJpbGxlcicpLA0KICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU3VwZXJwb3dlcnMnKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbmV3IGxhYmVsVmFsdWUoJ1RyYWdlZHknKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1ZpcnR1YWwgUmVhbGl0eScpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnWGlhbnhpYScpLA0KICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnV3V4aWEnKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbmV3IGxhYmVsVmFsdWUoJ1h1YW5odWFuJyksDQogICAgICAgIG5ldyBsYWJlbFZhbHVlKCdFc3BvcnRzJyksDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCdDdWx0aXZhdGlvbicpLA0KICAgICAgXSwNCiAgICB9Ow0KDQogICAgcmV0dXJuT2JqZWN0LnBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlclNlYXJjaFNldHRpbmdzLmxhbmd1YWdlcyA9DQogICAgew0KICAgICAgbXVsdGlTZWxlY3Rpb246IGZhbHNlLA0KICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWVzOiBbDQogICAgICAgIG5ldyBsYWJlbFZhbHVlKCdBbnknKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0NoaW5lc2UnKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0VuZ2xpc2gnKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0tvcmVhbicpLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgXSwNCiAgICB9Ow0KDQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLnN0YXR1c2VzID0NCiAgICB7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICBtdWx0aVNlbGVjdGlvbjogZmFsc2UsDQogICAgICB2YWx1ZXM6IFsNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0FueMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ScsIG51bGwpLA0KICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnT25nb2luZycsIHRydWUpLA0KICAgICAgICBuZXcgbGFiZWxWYWx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgnQ29tcGxldGVkJywgZmFsc2UpLA0KICAgICAgXSwNCiAgICB9Ow0KDQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRpbmdzLnNvcnRUeXBlcyA9DQogICAgew0KICAgICAgbXVsdGlTZWxlY3Rpb246IGZhbHNlLA0KICAgICAgdmFsdWVzOiBbDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5ldyBsYWJlbFZhbHVlKCdOYW1lJyksDQogICAgICAgIG5ldyBsYWJlbFZhbHVlKCdQb3B1bGFyJyksDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBsYWJlbFZhbHVlKCdDaGFwdGVycycpLA0KICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTmV3JyksDQogICAgICAgIG5ldyBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJlbFZhbHVlKCdSYXRpbmcnKSwNCiAgICAgIF0sDQogICAgfTsNCg0KDQogICAgcmV0dXJuT2JqZWN0LmdldFNlY3Rpb25zID0gKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GtleXMpID0+IHsNCiAgICAgICAgdmFyIHNlY3Rpb25zID0gWw0KICAgICAgICAgIG5ldyBTZWN0aW9uKCJsYXRlc3QiLCAiTGF0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XN0IFVwZGF0ZSIsICJMYXRlc3QiLCB0cnVlKSwNCiAgICAgICAgICBuZXcgU2VjdGlvbigibmV3IiwgIk5ldyBOb3ZlbCIsICJTZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFyY2giLCBmYWxzZSwgSHR0cENsaWVudC5jbG9uZUl0ZW0ocmV0dXJuT2JqZWN0LmRlZmF1bHRGaWx0ZXIoKSwgeyBzb3J0VHlwZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TogIk5ldyIgfSkpLA0KICAgICAgICAgIG5ldyBTZWN0aW9uKCJwb3B1bGFyIiwgIlBvcHVsYXIgTm92ZWwiLCAiU2VhcmNoIiwgZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsc2UsIEh0dHBDbGllbnQuY2xvbmVJdGVtKHJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyKCksIHsgc29ydFR5cGU6ICJQb3B1bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFyIiB9KSksDQogICAgICAgICAgbmV3IFNlY3Rpb24oImNvbXBsZXRlZCIsICJDb21wbGV0ZWQgTm92ZWwiLCAiU2VhcmNoIiwgZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsc2UsIEh0dHBDbGllbnQuY2xvbmVJdGVtKHJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyKCksIHsgYWN0aXZlOiBmYWxzZSB9KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SkNCiAgICAgICAgXQ0KICAgIA0KICAgICAgICByZXR1cm4gc2VjdGlvbnMuZmlsdGVyKHggPT4gIWtleXMgfHwga2V5cy5pbmNsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WRlcyh4Lm5hbWUpKTsNCiAgICAgIH0NCiAgICANCiAgICAgIHJldHVybk9iamVjdC50cmFuc2xhdGVTZWN0aW9uID0gYXN5bmMgKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HNlY3Rpb24sIHBhZ2UpID0+IHsNCiAgICAgICAgaWYgKHNlY3Rpb24uaWRlbnRpZmllciA9PSAiTGF0ZXN0IikNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CByZXR1cm4gYXdhaXQgcmV0dXJuT2JqZWN0LmxhdGVzdChwYWdlKTsNCiAgICAgICAgZWxzZQ0KICAgICAgICAgIHJldHVybiBhdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02FpdCByZXR1cm5PYmplY3Quc2VhcmNoKHNlY3Rpb24uZmlsdGVyIHx8IHJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyKCksIHBhZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02UpOw0KICAgICAgfQ0KICAgIA0KICAgICAgcmV0dXJuT2JqZWN0LmRlZmF1bHRGaWx0ZXIgPSAoKSA9PiB7DQogICAgICAgIHZhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iBmaWx0ZXIgPSBuZXcgRmlsdGVyKCk7DQogICAgICAgIGZpbHRlci5sYW5ndWFnZSA9IHJldHVybk9iamVjdC5wYXJzZXJTZWFyYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02hTZXR0aW5ncy5sYW5ndWFnZXMudmFsdWVzLmZpbmRBdCgwKS52YWx1ZTsNCiAgICAgICAgZmlsdGVyLnNvcnRUeXBlID0gcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLnNvcnRUeXBlcy52YWx1ZXMuZmluZEF0KDApLnZhbHVlOw0KICAgICAgICBmaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx0ZXIuYWN0aXZlID0gcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLnN0YXR1c2VzLnZhbHVlcy5maW5kQXQoMCkudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWU7DQogICAgICAgIHJldHVybiBmaWx0ZXI7DQogICAgICB9DQogICAgDQogICAgICByZXR1cm5PYmplY3Quc2VhcmNoID0gYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XN5bmMgKGZpbHRlciwgcGFnZSk9PiB7DQogICAgICAgIHZhciBkYXRhID0gYXdhaXQgSHR0cENsaWVudC5wb3N0SnNvbihyZXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m5PYmplY3Quc2VhcmNoVXJsLCBmaWx0ZXIpOw0KICAgICAgICByZXR1cm4gZGF0YSAmJiBkYXRhLml0ZW1zDQogICAgICAgICAgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBkYXRhLml0ZW1zLmZpbHRlcigoeCkgPT4gIXguc25lYWtQZWVrKS5tYXAoDQogICAgICAgICAgICAoeCkgPT4NCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbmV3IExpZ2h0SXRlbSgNCiAgICAgICAgICAgICAgICB4LmNvdmVyVXJsLA0KICAgICAgICAgICAgICAgIHgubmFtZSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICB4LnN5bm9wc2lzLA0KICAgICAgICAgICAgICAgIHguc2x1Zy51cmkoJ2h0dHBzOi8vd3d3Lnd1eGlhdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029ybGQuY29tL25vdmVsLycpLCByZXR1cm5PYmplY3QubmFtZQ0KICAgICAgICAgICAgICApLA0KICAgICAgICAgICkNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICA6IFtdOw0KICAgICAgfQ0KICAgIA0KICAgICAgcmV0dXJuT2JqZWN0LmdldE5vdmVsPSBhc3luYyAobm92ZWxVcmwpID0+IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HsNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5vdmVsVXJsKSk7DQogICAgICAgIGNvbnNvbGUubG9nKGNvbnRhaW5lci5vdXRlckhUTUwoKSk7DQogICAgICAgIHZhciBjaGFwdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVycyA9IFtdOw0KICAgICAgICBjb250YWluZXIuZmluZCgnYScpLnNlYXJjaCh4PT4geC5hdHRyKCJocmVmIikudGV4dCgpLmluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GV4T2YoIi9ub3ZlbCIpKS5mb3JFYWNoKCh4KSA9PiB7DQogICAgICAgICAgY2hhcHRlcnMucHVzaCgNCiAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBDaGFwdGVyKA0KICAgICAgICAgICAgICB4LnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgICB4LmF0dHIoImhyZWYiKS51cmwoKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Q0KICAgICAgICAgICAgKSwNCiAgICAgICAgICApOw0KICAgICAgICB9KTsNCiAgICANCiAgICAgICAgdmFyIGluZm9zID0gY29udMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFpbmVyLnNlbGVjdCgiLmxvYWRpbmctY29udGFpbmVyPiBkaXY6Zmlyc3QtY2hpbGQiKTsNCiAgICAgICAgdmFyIG5vdmVsUmV2aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WV3cyA9IG5ldyBOb3ZlbFJldmlld3MoKTsNCiAgICANCiAgICAgICAgdmFyIG5vZGUgPSBjb250YWluZXIuc2VsZWN0KCIubm92ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WwtYm9keSIpOw0KICAgIA0KICAgICAgICBub3ZlbFJldmlld3MuZ2VucmVzID0gY29udGFpbmVyLmZpbmQoJy5nZW5yZXMgYScpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRleHRBcnJheSgpOw0KICAgICAgICB2YXIgYXV0aG9yID0gbm9kZS5zZWxlY3QoImR0OmNvbnRhaW5zKEF1dGhvcikiKQ0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBub3ZlbFJldmlld3MuYXV0aG9yID0gYXV0aG9yLmNsb3Nlc3QoImRpdiIpLmZpbmQoImRkIikudGV4dChmYWxzZSk7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHJldHVybiBuZXcgRGV0YWxpSXRlbSgNCiAgICAgICAgICBpbmZvcy5zZWxlY3QoJ2ltZycpLmF0dHIoInNyYyIpLnVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CgpLA0KICAgICAgICAgIGluZm9zLnNlbGVjdCgnaDEnKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICBjb250YWluZXIuZmluZCgnLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m5vdmVsLWJvdHRvbSA+ZGl2JykuZXEoMSkuY2xlYW5Jbm5lckhUTUwoKSwNCiAgICAgICAgICBub3ZlbFVybCwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBjaGFwdGVycywNCiAgICAgICAgICBub3ZlbFJldmlld3MsDQogICAgICAgICAgcmV0dXJuT2JqZWN0Lm5hbWUsDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ck7DQogICAgICB9DQogICAgDQogICAgICByZXR1cm5PYmplY3QuZ2V0Q2hhcHRlcj0gYXN5bmMgKHVybCkgPT4gew0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CByZXR1cm4gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBuZXcgY2xpZW50KCkuZ2V0SHRtbCh1cmwpKS5zZWxlY3QoJyNjaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFwdGVyLWNvbnRlbnQnKS5jbGVhbklubmVySFRNTCgpOw0KICAgICAgfQ0KICAgIA0KICAgICAgcmV0dXJuT2JqZWN0LmxhdGVzdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0gYXN5bmMgKHBhZ2UpID0+ew0KICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRwQ2xpZW50LmdldEh0bWwocmV0dXJuT2JqZWN0LmxhdGVzdFVybCkpOw0KICAgICAgICByZXR1cm4gY29udGFpbmVyLmZpbmQoJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5zZWN0aW9uLWNvbnRlbnQgLnRpdGxlIGEnKS5tYXAoKHgpID0+IHsNCiAgICAgICAgICByZXR1cm4gbmV3IExpZ2h0SXRlbShhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03luYyAoKSA9PiB7DQogICAgICAgICAgICB2YXIgZWxlbSA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5nZXRIdG1sKHguYXR0cignaHJlZicpLnVybCgpLCB0cnVlKSkNCiAgICAgICAgICAgIHJldHVybiBlbGVtLnNlbGVjdCgiLmltZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y10aHVtYm5haWwiKS5hdHRyKCJzcmMiKS51cmwoKTsNCiAgICAgICAgICB9LCB4LnRleHQoZmFsc2UpLCAnJywgeC5hdHRyKCdocMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVmJykudXJsKCksIHJldHVybk9iamVjdC5uYW1lKTsNCiAgICAgICAgfSk7DQogICAgICB9DQoNCiAgICByZXR1cm4gcmV0dXJuTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02JqZWN0Ow0KfTs=&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KICAgIGNvbnN0IHJldHVybk9iamVjdCA9IHt9Ow0KICAgIHJldHVybk9iamVjdC5pZCA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIxLnd1eGlhd29ybGRfc2l0ZSI7DQogICAgcmV0dXJuT2JqZWN0LmRldGFsaUl0ZW1UeXBlID0gRGV0YWxpSXRlbVR5cGUuTm92ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ww7DQogICAgcmV0dXJuT2JqZWN0LnBhcnNlckxhbmd1YWdlID0gImVuIjsNCiAgICByZXR1cm5PYmplY3QubmFtZSA9ICdXdXhpYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XdvcmxkLlNpdGUnOw0KICAgIHJldHVybk9iamVjdC5kaXNwbGF5TmFtZSA9ICJXLU5vdmVsLVMiOw0KICAgIHJldHVybk9iamVjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5sYXRlc3RVcmwgPSAnaHR0cHM6Ly93dXhpYXdvcmxkLnNpdGUvcGFnZS97cH0vJzsNCiAgICByZXR1cm5PYmplY3QudXJsID0gJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02h0dHBzOi8vd3V4aWF3b3JsZC5zaXRlJzsNCiAgICByZXR1cm5PYmplY3Quc2VhcmNoVXJsID0gJ2h0dHBzOi8vd3V4aWF3b3JsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5zaXRlL3dwLWFkbWluL2FkbWluLWFqYXgucGhwJzsNCiAgICByZXR1cm5PYmplY3QucGFuaW5hdGlvbiA9IHRydWU7DQogICAgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuT2JqZWN0LnNlYXJjaFBhZ2luYXRpb24gPSB0cnVlOw0KICAgIHJldHVybk9iamVjdC5pY29uID0gJ2h0dHBzOi8vd3V4aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WF3b3JsZC5iLWNkbi5uZXQvd3AtY29udGVudC91cGxvYWRzLzIwMTkvMDQvZmF2aWNvbi0xLmljbyc7DQoNCiAgICByZXR1cm5PYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3MgPSBuZXcgUGFyc2VyU2VhcmNoU2V0dGluZ3MoKTsNCiAgICByZXR1cm5PYmplY3QucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFyc2VyU2VhcmNoU2V0dGluZ3MubXVsdGlTZWxlY3Rpb24gPSB0cnVlOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR0aW5ncy5nZW5yZXMgPQ0KICAgIHsNCiAgICAgICAgbXVsdGlTZWxlY3Rpb246IHRydWUsDQogICAgICAgIHZhbHVlczogWw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0FjdGlvbicsICJhY3Rpb24iKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CdBZHVsdCcsICJhZHVsdCIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkRyYW1hIiwgImRyYW1hIiksDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBuZXcgbGFiZWxWYWx1ZSgiRWNjaGkiLCAiZWNjaGkiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdBZHZlbnR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mUnLCAiYWR2ZW50dXJlIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiR2VuZGVyIEJlbmRlciIsICJnZW5kZXItYmVuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVyIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiSGlzdG9yaWNhbCIsICJoaXN0b3JpY2FsIiksDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBuZXcgbGFiZWxWYWx1ZSgiSG9ycm9yIiwgImhvcnJvciIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIklzZWthaSIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJpc2VrYWkiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJKb3NlaSIsICJqb3NlaSIpLA0KICAgICAgICAgICAgbmV3IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxhYmVsVmFsdWUoIkxHQlQrIiwgImxnYnQiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJNYWdpY2FsIFJlYWxpc20iLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAibWFnaWNhbC1yZWFsaXNtIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTWFuaHdhIiwgIm1hbmh3YSIpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbmV3IGxhYmVsVmFsdWUoIk1hcnRpYWwgQXJ0cyIsICJtYXJ0aWFsLWFydHMiKSwNCiAgICAgICAgICAgIG5ldyBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJlbFZhbHVlKCJNYXR1cmUiLCAibWF0dXJlIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTWVjaGEiLCAibWVjaGEiKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJQc3ljaG9sb2dpY2FsIiwgInBzeWNob2xvZ2ljYWwiKSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCJSZWluY2FybmF0aW9uIiwgInJlaW5jYXJuYXRpb24iKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FZhbHVlKCJTY2hvb2wgTGlmZSIsICJzY2hvb2wtbGlmZSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNlaW5lbiIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJzZWluZW4iKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTaG91am8iLCAic2hvdWpvIiksDQogICAgICAgICAgICBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgbGFiZWxWYWx1ZSgiU2hvdWpvLUFpIiwgInNob3Vqby1haSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNob3VuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W4iLCAic2hvdW5lbiIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNob3VuZW4tQWkiLCAic2hvdW5lbi1haSIpLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNsaWNlIG9mIExpZmUiLCAic2xpY2Utb2YtbGlmZSIpLA0KICAgICAgICAgICAgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV3IGxhYmVsVmFsdWUoIlNtdXQiLCAic211dCIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlN1cGVybmF0dXJhbCIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJzdXBlcm5hdHVyYWwiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJUaHJpbGxlciIsICJ0aHJpbGxlciIpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlRlZW4iLCAidGVlbiIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlZpZGVvIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EdhbWVzIiwgInZpZGVvLWdhbWVzIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiV2ViY29taWNzIiwgIndlYmNvbWljcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0NvbWVkeScsICJjb21lZHkiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FZhbHVlKCdGYW50YXN5JywgImZhbnRhc3kiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdIYXJlbScsICJoYXJlbS1ubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03ZlbCIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1lhb2knLCAieWFvaSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoIll1cmkiLCAieXVyaSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0tpbmdkb20gQnVpbGRpbmcnKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNb2Rlcm4gU2V0dGluZycpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ015cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03RlcnknLCAibXlzdGVyeSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1JvbWFuY2UnLCAicm9tYW5jZSIpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1NjaS1maScsICJzY2ktZmkiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdUcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFnZWR5JywgInRyYWdlZHkiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdWaXJ0dWFsIFJlYWxpdHknKSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5ldyBsYWJlbFZhbHVlKCdYaWFueGlhJywgInhpYW54aWEiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdXdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XhpYScsICJ3dXhpYSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1h1YW5odWFuJywgInh1YW5odWFuIiksDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU3BvcnRzJywgInNwb3J0cyIpLA0KICAgICAgICBdLA0KICAgIH07DQoNCiAgICByZXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3Muc3RhdHVzZXMgPQ0KICAgIHsNCiAgICAgICAgbXVsdGlTZWxlY3Rpb246IGZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HNlLA0KICAgICAgICB2YWx1ZXM6IFsNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdPbmdvaW5nJywgIm9uLWdvaW5nIiksDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnQ29tcGxldGVkJywgImVuZCIpLA0KICAgICAgICBdLA0KICAgIH07DQoNCg0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHJldHVybk9iamVjdC5nZXRTZWN0aW9ucyA9IChrZXlzKSA9PiB7DQogICAgICAgIHZhciBzZWN0aW9ucyA9IFsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5ldyBTZWN0aW9uKCJsYXRlc3QiLCAiTGF0ZXN0IFVwZGF0ZSIsICJMYXRlc3QiLCB0cnVlKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBTZWN0aW9uKCJtYW5nYSIsICJDb21pY3MiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIoWyJ3ZWJjb21pY3MiXSkpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgbmV3IFNlY3Rpb24oImFjdGlvbiIsICJBY3Rpb24gTm92ZWwiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx0ZXIoWyJhY3Rpb24iXSkpLA0KICAgICAgICAgICAgbmV3IFNlY3Rpb24oImFkdWx0IiwgIkFkdWx0IE5vdmVsIiwgIlNlYXJjaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIsIGZhbHNlLCBuZXcgRmlsdGVyKFsiYWR1bHQiXSkpLA0KICAgICAgICAgICAgbmV3IFNlY3Rpb24oInJvbWFuY2UiLCAiUm9tYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5jZSBOb3ZlbCIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcihbInJvbWFuY2UiXSkpLA0KICAgICAgICAgICAgbmV3IFNlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03Rpb24oImRyYW1hIiwgIkRyYW1hIE5vdmVsIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKFsiZHJhbWEiXSkpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbmV3IFNlY3Rpb24oImNvbXBsZXRlZCIsICJDb21wbGV0ZWQgTm92ZWwiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx0ZXIodW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgImVuZCIpKQ0KICAgICAgICBdDQoNCiAgICAgICAgcmV0dXJuIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HNlY3Rpb25zLmZpbHRlcih4ID0+ICFrZXlzIHx8IGtleXMuaW5jbHVkZXMoeC5uYW1lKSk7DQogICAgfQ0KDQogICAgcmV0dXJuTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02JqZWN0LnRyYW5zbGF0ZVNlY3Rpb24gPSBhc3luYyAoc2VjdGlvbiwgcGFnZSkgPT4gew0KICAgICAgICB0cnkgew0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgaWYgKHNlY3Rpb24uaWRlbnRpZmllciA9PSAiTGF0ZXN0IikNCiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuT2JqZWN0LmxhdGVzdChwYWdlKTsNCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuT2JqZWN0LnNlYXJjaChzZWN0aW9uLmZpbHRlciB8fCByZXR1cm5PYmplY3QuZGVmYXVsdEZpbHRlcigpLCBwYWdlKTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQ0KICAgICAgICAgICAgcmV0dXJuIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FtdOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmRlZmF1bHRGaWx0ZXIgPSAoKSA9PiB7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybiBuZXcgRmlsdGVyKCk7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmdldFR5cGUgPSAodXJsKSA9PiB7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHZhciB1cmwgPSB1cmwudG9Mb3dlckNhc2UoKTsNCiAgICAgICAgaWYgKHVybC5pbmRleE9mKCJtYW5nYSIpICE9IC0xIHx8IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybC5pbmRleE9mKCJjb21pYyIpICE9IC0xIHx8IHVybC5pbmRleE9mKCJjb21pY3MiKSAhPSAtMSB8fCB1cmwuaW5kZXhPZigidMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02ViY29taWNzIikgIT0gLTEpDQogICAgICAgICAgICByZXR1cm4gRGV0YWxpSXRlbVR5cGUuTWFuYWdhOw0KICAgICAgICByZXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m4gRGV0YWxpSXRlbVR5cGUuTm92ZWw7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmdldEJ5R2VucmVzID0gYXN5bmMgKGZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlciwgcGFnZSkgPT4gew0KICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgIHZhciBhZHZhbmNlZFNlYWNoVXJsID0gIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mh0dHBzOi8vd3V4aWF3b3JsZC5zaXRlL3BhZ2UvIitwYWdlKyIvP3M9JnBvc3RfdHlwZT13cC1tYW5nYSZ7Z30mb3AmYXV0aG9yJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFydGlzdCZyZWxlYXNlJmFkdWx0JntzfSINCiAgICAgICAgaWYgKGZpbHRlci5nZW5yZXMubGVuZ3RoID4gMCkNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIGFkdmFuY2VkU2VhY2hVcmwgPSBhZHZhbmNlZFNlYWNoVXJsLnJlcGxhY2UoIntnfSIsIGZpbHRlci5nZW5yZXMubWFwKHggPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0T4gImdlbnJlJTVCJTVEPSIgK3gpLmpvaW4oIiYiKSkNCiAgICAgICAgZWxzZSBhZHZhbmNlZFNlYWNoVXJsID0gYWR2YW5jZWRTZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFjaFVybC5yZXBsYWNlKCIme2d9IiwgIiIpDQoNCiAgICAgICAgaWYgKGZpbHRlci5hY3RpdmUgJiYgZmlsdGVyLmFjdGl2ZSAhPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SAiIikNCiAgICAgICAgICAgIGFkdmFuY2VkU2VhY2hVcmwgPSBhZHZhbmNlZFNlYWNoVXJsLnJlcGxhY2UoIntzfSIsIGZpbHRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5hY3RpdmUpOw0KICAgICAgICBlbHNlIGFkdmFuY2VkU2VhY2hVcmwgPSBhZHZhbmNlZFNlYWNoVXJsLnJlcGxhY2UoIiZ7c30iLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAiIik7DQogICAgICAgIHZhciBjb250YWluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRtbChhZHZhbmNlZFNlYWNoVXJsKSk7DQogICAgICAgIGNvbnRhaW5lci5maW5kKCIuYy10YWJzLWl0ZW1fX2NvbnRlbnQiKS5mbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03JFYWNoKHggPT4gew0KICAgICAgICAgICAgcmVzdWx0LnB1c2goDQogICAgICAgICAgICAgICAgbmV3IExpZ2h0SXRlbSgNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgeC5zZWxlY3QoIi50YWItdGh1bWIgaW1nIikuYXR0cigic3JjIHwgc3Jjc2V0IikudXJsKCksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgIHguc2VsZWN0KCIudGFiLXRodW1iIGEiKS5hdHRyKCJ0aXRsZSIpLnRleHQoKSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIiIsDQogICAgICAgICAgICAgICAgICAgIHguc2VsZWN0KCIudGFiLXRodW1iIGEiKS5hdHRyKCJocmVmIikudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJsKCksDQogICAgICAgICAgICAgICAgICAgIHJldHVybk9iamVjdC5uYW1lLA0KICAgICAgICAgICAgICAgICAgICByZXR1cm5PYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mplY3QuZ2V0VHlwZSh4LnNlbGVjdCgiLnRhYi10aHVtYiBhIikuYXR0cigiaHJlZiIpLnVybCgpKQ0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CkNCiAgICAgICAgICAgICkNCiAgICAgICAgfSkNCiAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICB9DQoNCg0KICAgIHJldHVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0k9iamVjdC5zZWFyY2ggPSBhc3luYyAoZmlsdGVyLCBwYWdlKSA9PiB7DQogICAgICAgIGlmICghZmlsdGVyLnRpdGxlKQ0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBmaWx0ZXIudGl0bGUgPSIiOw0KICAgICAgICBpZiAoKGZpbHRlci50aXRsZS5pc0VtcHR5T3JTcGFjZXMoKSkgJiYgKGZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlci5nZW5yZXMubGVuZ3RoID4gMCB8fCAoIWZpbHRlci5hY3RpdmUgJiYgZmlsdGVyLmFjdGl2ZSAhPSAiIikpKQ0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgcmV0dXJuIGF3YWl0IHJldHVybk9iamVjdC5nZXRCeUdlbnJlcyhmaWx0ZXIsIHBhZ2UpOw0KDQogICAgICAgIGlmIChmaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx0ZXIudGl0bGUuaXNFbXB0eU9yU3BhY2VzKCkpDQogICAgICAgICAgICByZXR1cm4gW107DQoNCg0KICAgICAgICB2YXIganNvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iA9IGF3YWl0IEh0dHBDbGllbnQucG9zdEZvcm0ocmV0dXJuT2JqZWN0LnNlYXJjaFVybCwgeyBhY3Rpb246ICJ3cC1tYW5nYS1zZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFyY2gtbWFuZ2EiLCB0aXRsZTogZmlsdGVyLnRpdGxlIH0pOw0KDQogICAgICAgIGlmIChqc29uICYmIGpzb24uZGF0YSAmJiBqcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029uLmRhdGEubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgcmV0dXJuIGpzb24uZGF0YS5tYXAoeCA9PiB7DQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgcmV0dXJuIG5ldyBMaWdodEl0ZW0oDQogICAgICAgICAgICAgICAgICAgIGFzeW5jICgpID0+IChhd2FpdCByZXR1cm5PYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mplY3QuZ2V0Tm92ZWwoeC51cmwudXJpKHJldHVybk9iamVjdC51cmwpLCB0cnVlKSkuaW1hZ2UsDQogICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHgudGl0bGUsDQogICAgICAgICAgICAgICAgICAgICIiLA0KICAgICAgICAgICAgICAgICAgICB4LnVybC51cmkocmV0dXJuTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02JqZWN0LnVybCksDQogICAgICAgICAgICAgICAgICAgIHJldHVybk9iamVjdC5uYW1lLA0KICAgICAgICAgICAgICAgICAgICByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1cm5PYmplY3QuZ2V0VHlwZSh4LnR5cGUgfHwgeC51cmwpDQogICAgICAgICAgICAgICAgKQ0KICAgICAgICAgICAgfSkNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgfQ0KICAgICAgICByZXR1cm4gW107DQoNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QuZ2V0Q2hhcHRlcnMgPSBhc3luYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yAoY29udGFpbmVyKSA9PiB7DQogICAgICAgIHZhciB1cmwgPSAiaHR0cHM6Ly93dXhpYXdvcmxkLnNpdGUvd3AtYWRtaW4vYWRtaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W4tYWpheC5waHAiOw0KICAgICAgICB2YXIgY2hhcHRlcnMgPSBjb250YWluZXIuc2VsZWN0KCIubGlzdGluZy1jaGFwdGVyc193cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFwIikuaGFzRWxlbWVudCgpICYmIGNvbnRhaW5lci5maW5kKCIubGlzdGluZy1jaGFwdGVyc193cmFwIGEiKS5sZW5ndGgoKSA+IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0DEgPyBjb250YWluZXIuZmluZCgiLmxpc3RpbmctY2hhcHRlcnNfd3JhcCBhIikgOiByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wl0IEh0dHBDbGllbnQucG9zdEZvcm0odXJsLCB7IGFjdGlvbjogIm1hbmdhX2dldF9jaGFwdGVycyIsIG1hbmdhOiBjb250YWluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIuc2VsZWN0KCIucmF0aW5nLXBvc3QtaWQiKS5hdHRyKCJ2YWx1ZSIpLnRleHQoKSB9KSkuZmluZCgiYSIpOw0KICAgICAgICByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1cm4gY2hhcHRlcnMubWFwKCh4KSA9PiB7DQogICAgICAgICAgICByZXR1cm4gbmV3IENoYXB0ZXIoDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgeC50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgICB4LmF0dHIoImhyZWYiKS51cmwoKQ0KICAgICAgICAgICAgKTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgfSk7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmdldE5vdmVsID0gYXN5bmMgKG5vdmVsVXJsLCBpZ25vcmVDaGFwdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVycykgPT4gew0KICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mdldEh0bWwobm92ZWxVcmwsIGlnbm9yZUNoYXB0ZXJzKSk7DQogICAgICAgIHZhciBjaGFwdGVycyA9IFtdOw0KICAgICAgICBpZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAoIWlnbm9yZUNoYXB0ZXJzKSB7DQogICAgICAgICAgICBjaGFwdGVycyA9IGF3YWl0IHJldHVybk9iamVjdC5nZXRDaGFwdGVycMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yhjb250YWluZXIpOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG5vdmVsUmV2aWV3cyA9IG5ldyBOb3ZlbFJldmlld3MoKTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgaWYgKCFpZ25vcmVDaGFwdGVycykgew0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLnV2b3RlcyA9IGNvbnRhaW5lcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5zZWxlY3QoIi52b3RlLWRldGFpbHMiKS5yZW1vdmUoJ1twcm9wZXJ0eT0iaXRlbVJldmlld2VkIl0nKS50ZXh0KGZhbHNlKTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIG5vdmVsUmV2aWV3cy5hdXRob3IgPSBjb250YWluZXIuZmluZCgiLmF1dGhvci1jb250ZW50IGEiKS50ZXh0KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GZhbHNlKTsNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cy5nZW5yZXMgPSBjb250YWluZXIuZmluZCgiLmdlbnJlcy1jb250ZW50IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GEiKS50ZXh0QXJyYXkoKTsNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cy5jb21wbGV0ZWQgPSBjb250YWluZXIuZmluZCgiLnBvcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03QtY29udGVudF9pdGVtIikud2hlcmUoeCA9PiB4LmlubmVySFRNTCgpLmluZGV4T2YoIkNvbXBsZXRlZCIpICE9IC0xKS5oYXNFbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVtZW50KCkgPyAiU3RhdHVzOkNvbXBsZXRlZCIgOiAiU3RhdHVzOk9uZ29pbmciOw0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mRlc2NyaXB0aW9uID0gY29udGFpbmVyLnNlbGVjdCgiLmRlc2NyaXB0aW9uLXN1bW1hcnkiKS5jbGVhbklubmVySFRNTCgpOw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIG5ldyBEZXRhbGlJdGVtKA0KICAgICAgICAgICAgY29udGFpbmVyLnNlbGVjdCgnLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nN1bW1hcnlfaW1hZ2UgaW1nJykuYXR0cigic3JjIHwgc3Jjc2V0IikudXJsKCksDQogICAgICAgICAgICBjb250YWluZXIuc2VsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0KCcucG9zdC10aXRsZScpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLmRlc2NyaXB0aW9uIHx8ICIiLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgbm92ZWxVcmwsDQogICAgICAgICAgICBjaGFwdGVycy5yZXZlcnNlKCksDQogICAgICAgICAgICBub3ZlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FJldmlld3MsDQogICAgICAgICAgICByZXR1cm5PYmplY3QubmFtZSwNCiAgICAgICAgICAgICIiLA0KICAgICAgICAgICAgcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuT2JqZWN0LmdldFR5cGUobm92ZWxVcmwpDQogICAgICAgICk7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmdldENoYXB0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIgPSBhc3luYyAodXJsKSA9PiB7DQogICAgICAgIHZhciBjb250YWluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBjbGllbnQoKS5nZXRIdG1sKHVybCkpLnJlbW92ZSgic2NyaXB0IikucmVtb3ZlKCJzdHlsZSIpOw0KICAgICAgICB2YXIgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVzdWx0ID0gIiI7DQogICAgICAgIGlmIChyZXR1cm5PYmplY3QuZ2V0VHlwZSh1cmwpID09PSBEZXRhbGlJdGVtVHlwZS5NYW5hZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02EpDQogICAgICAgICAgICByZXN1bHQgPSBjb250YWluZXIuZmluZCgiLnJlYWRpbmctY29udGVudCBpbWciKS5tYXAoeCA9PiB4LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mF0dHIoInNyYyIpLmhhc1ZhbHVlKCkgPyB4LmF0dHIoInNyYyIpLnVybCgpIDogIiIpLmZpbHRlcih4ID0+ICF4LmlzRW1wdHlPcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0lNwYWNlcygpKTsNCiAgICAgICAgZWxzZQ0KICAgICAgICAgICAgcmVzdWx0ID0gY29udGFpbmVyLnNlbGVjdCgiLnJlYWRpbmctYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029udGVudCIpLmNsZWFuSW5uZXJIVE1MKCk7DQogICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0LmxhdGVzdCA9IGFzeW5jIChwYWdlKSA9PiB7DQogICAgICAgIHZhciBjb250YWluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbChyZXR1cm5PYmplY3QubGF0ZXN0VXJsLnJlcGxhY2UoIntwfSIsIHBhZ2UudG9TdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJpbmcoKSkpKTsNCg0KICAgICAgICByZXR1cm4gY29udGFpbmVyLmZpbmQoIi5wYWdlLWl0ZW0tZGV0YWlsIikubWFwKHggPT4geMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICAgICAgcmV0dXJuIG5ldyBMaWdodEl0ZW0oDQogICAgICAgICAgICAgICAgeC5zZWxlY3QoImltZyIpLmF0dHIoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNyYyB8IHNyY3NldCIpLnVybCgpLA0KICAgICAgICAgICAgICAgIHguc2VsZWN0KCIucG9zdC10aXRsZSBhIikudGV4dCgpLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICIiLA0KICAgICAgICAgICAgICAgIHguc2VsZWN0KCIucG9zdC10aXRsZSBhIikuYXR0cigiaHJlZiIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nVybCgpLA0KICAgICAgICAgICAgICAgIHJldHVybk9iamVjdC5uYW1lLA0KICAgICAgICAgICAgICAgIHJldHVybk9iamVjdC5nZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRUeXBlKHguc2VsZWN0KCIucG9zdC10aXRsZSBhIikuYXR0cigiaHJlZiIpLnVybCgpKQ0KICAgICAgICAgICAgKQ0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB9KQ0KICAgIH0NCg0KDQogICAgcmV0dXJuIHJldHVybk9iamVjdDsNCn07&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KICAgIGNvbnN0IHJldHVybk9iamVjdCA9IHt9Ow0KICAgIHJldHVybk9iamVjdC5pZCA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIxLnppbm5vdmVsIjsNCiAgICByZXR1cm5PYmplY3QuZGV0YWxpSXRlbVR5cGUgPSBEZXRhbGlJdGVtVHlwZS5Ob3ZlbDsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CByZXR1cm5PYmplY3QucGFyc2VyTGFuZ3VhZ2UgPSAiZW4iOw0KICAgIHJldHVybk9iamVjdC5uYW1lID0gJ1ppbk5vdmVsJzsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICByZXR1cm5PYmplY3QuZGlzcGxheU5hbWUgPSAiWi1Ob3ZlbCI7DQogICAgcmV0dXJuT2JqZWN0LmxhdGVzdFVybCA9ICdodMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRwczovL3ppbm5vdmVsLmNvbS9wYWdlL3twfS8nOw0KICAgIHJldHVybk9iamVjdC51cmwgPSAnaHR0cHM6Ly96aW5ub3ZlbC5jbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU020vJzsNCiAgICByZXR1cm5PYmplY3Quc2VhcmNoVXJsID0gJyc7DQogICAgcmV0dXJuT2JqZWN0LnBhbmluYXRpb24gPSB0cnVlOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgIHJldHVybk9iamVjdC5zZWFyY2hQYWdpbmF0aW9uID0gZmFsc2U7DQogICAgcmV0dXJuT2JqZWN0Lmljb24gPSAnaHR0cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HM6Ly96aW5ub3ZlbC5jb20vd3AtY29udGVudC91cGxvYWRzLzIwMjAvMDcvY3JvcHBlZC1VbnRpdGxlZC0yLTMyeDMyLmpwZyc7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzID0gbmV3IFBhcnNlclNlYXJjaFNldHRpbmdzKCk7DQogICAgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLmdlbnJlcyA9IHsNCiAgICAgICAgbXVsdGlTZWxlY3Rpb246IHRydWUsDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIHZhbHVlczogW10sDQogICAgfTsNCg0KDQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLnNvcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRUeXBlcyA9IHsNCiAgICAgICAgbXVsdGlTZWxlY3Rpb246IHRydWUsDQogICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV3IGxhYmVsVmFsdWUoJ09uZ29pbmcnLCAnb24tZ29pbmcnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdDb21wbGV0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WQgTm92ZWwnLCAnZW5kJyksDQogICAgICAgIF0sDQogICAgfTsNCg0KDQogICAgcmV0dXJuT2JqZWN0LmxvYWRTZXR0aW5ncyA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFzeW5jICgpID0+IHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGlmIChyZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GluZ3MuZ2VucmVzLnZhbHVlcy5sZW5ndGggPD0gMCkgew0KICAgICAgICAgICAgICAgIHZhciBjb250YWluZXIgPSByZXR1cm5PYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbCgiaHR0cHM6Ly96aW5ub3ZlbC5jb20vP3M9JnBvc3RfdHlwZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0T13cC1tYW5nYSIpKQ0KICAgICAgICAgICAgICAgIGNvbnRhaW5lci5maW5kKCIjc2VhcmNoLWFkdmFuY2VkIC5jaGVja2JveC1ncMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m91cCAuY2hlY2tib3giKS5mb3JFYWNoKGEgPT4gew0KICAgICAgICAgICAgICAgICAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mNoU2V0dGluZ3MuZ2VucmVzLnZhbHVlcy5wdXNoKG5ldyBsYWJlbFZhbHVlKGEuZmluZCgibGFiZWwiKS50ZXh0KCksIGEuZmluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CgiaW5wdXQiKS5hdHRyKCJ2YWx1ZSIpLnRleHQoKSkpOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZygpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuT2JqZWN0LmdldFNlY3Rpb25zID0gKGtleXMpID0+IHsNCiAgICAgICAgdmFyIHNlY3Rpb25zID0gWw0KICAgICAgICAgICAgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV3IFNlY3Rpb24oImxhdGVzdCIsICJMYXRlc3QgVXBkYXRlIiwgIkxhdGVzdCIsIHRydWUpLA0KICAgICAgICAgICAgbmV3IFNlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03Rpb24oImFjdGlvbiIsICJBY3Rpb24gTm92ZWwiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIoWyJhY3Rpb24iXSkpLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbmV3IFNlY3Rpb24oInJvbWFuY2UiLCAiUm9tYW5jZSBOb3ZlbCIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlcihbInJvbWFuY2UiXSkpLA0KICAgICAgICAgICAgbmV3IFNlY3Rpb24oIm9uZ29pbmciLCAiT25nb2luZyBOb3ZlbCIsICJTZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsICJlbmQiKSksDQogICAgICAgICAgICBuZXcgU2VjdGlvbigiY29tcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxldGVkIiwgIkNvbXBsZXRlZCBOb3ZlbCIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsICJlbmQiKSkNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0g0KICAgICAgICBdDQoNCiAgICAgICAgcmV0dXJuIHNlY3Rpb25zLmZpbHRlcih4ID0+ICFrZXlzIHx8IGtleXMuaW5jbHVkZXMoeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5uYW1lKSk7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LnRyYW5zbGF0ZVNlY3Rpb24gPSBhc3luYyAoc2VjdGlvbiwgcGFnZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SkgPT4gew0KICAgICAgICBpZiAoc2VjdGlvbi5pZGVudGlmaWVyID09ICJMYXRlc3QiKQ0KICAgICAgICAgICAgcmV0dXJuIGF3YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wl0IHJldHVybk9iamVjdC5sYXRlc3QocGFnZSk7DQogICAgICAgIGVsc2UNCiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m5PYmplY3Quc2VhcmNoKHNlY3Rpb24uZmlsdGVyIHx8IHJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyKCksIHBhZ2UpOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0H0NCg0KICAgIHJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyID0gKCkgPT4gew0KICAgICAgICB2YXIgZmlsdGVyID0gbmV3IEZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlcigpOw0KICAgICAgICByZXR1cm4gZmlsdGVyOw0KICAgIH0NCiAgICAvL2h0dHBzOi8vemlubm92ZWwuY29tLz9zPXtzfSZwbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03N0X3R5cGU9d3AtbWFuZ2EmZ2VucmUlNUIlNUQ9YWN0aW9uJmdlbnJlJTVCJTVEPWFkdmVudHVyZSZvcD0mYXV0aG9yPSZhcnRpcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03Q9JnJlbGVhc2U9JmFkdWx0PSZzdGF0dXMlNUIlNUQ9ZW5kJnN0YXR1cyU1QiU1RD1vbi1nb2luZw0KICAgIHJldHVybk9iamVjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5zZWFyY2ggPSBhc3luYyAoZmlsdGVyLCBwYWdlKSA9PiB7DQogICAgICAgIHZhciB1cmwgPSAiaHR0cHM6Ly96aW5ub3ZlbC5jbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU020vP3M9IiArKGZpbHRlci50aXRsZSB8fCAiIikrIiZwb3N0X3R5cGU9d3AtbWFuZ2Eme2dlbnJlfSZvcD0mYXV0aG9yPSZhcnRpcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03Q9JnJlbGVhc2U9JmFkdWx0PSZ7c3RhdHVzfSINCiAgICAgICAgaWYgKGZpbHRlci5nZW5yZXMubGVuZ3RoID4gMCkgew0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoIntnZW5yZX0iLCBmaWx0ZXIuZ2VucmVzLm1hcCh4ID0+ICJnZW5yZSU1QiU1RD0iKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03gpLmpvaW4oIiYiKSk7DQogICAgICAgIH0gZWxzZSB1cmwgPSB1cmwucmVwbGFjZSgiJntnZW5yZX0iLCAiIik7DQoNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgaWYgKGZpbHRlci5zb3J0VHlwZSAmJiBmaWx0ZXIuc29ydFR5cGUubGVuZ3RoID4gMSkNCiAgICAgICAgICAgIHVybCA9IHVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5yZXBsYWNlKCJ7c3RhdHVzfSIsICJzdGF0dXMlNUIlNUQ9IiArZmlsdGVyLnNvcnRUeXBlKTsNCiAgICAgICAgZWxzZSB1cmwgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SB1cmwucmVwbGFjZSgiJntzdGF0dXN9IiwgIiIpOw0KDQogICAgICAgIHZhciBjb250YWluZXIgPSByZXR1cm5PYmplY3QucGFycMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbCh1cmwpKTsNCiAgICAgICAgdmFyIHJlc3VsdCA9IFtdDQogICAgICAgIGNvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRhaW5lci5maW5kKCcuYy10YWJzLWl0ZW0gLnJvdycpLmZvckVhY2goKHgpID0+IHsNCiAgICAgICAgICAgIHJlc3VsdC5wdXNoKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgICAgIG5ldyBMaWdodEl0ZW0oeC5maW5kKCJpbWciKS5hdHRyKCJkYXRhLXNyYyIpLnVybCgpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICB4LnNlbGVjdCgnLnBvc3QtdGl0bGUgYScpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAnJywNCiAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoJy5wb3N0LXRpdGxlIGEnKS5hdHRyKCJocmVmIikudXJsKCksIHJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybk9iamVjdC5uYW1lDQogICAgICAgICAgICAgICAgKSwNCiAgICAgICAgICAgICk7DQogICAgICAgIH0pOw0KDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybiByZXN1bHQ7DQogICAgfQ0KDQoNCg0KICAgIHJldHVybk9iamVjdC5nZXROb3ZlbCA9IGFzeW5jIChub3ZlbFVybCkgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0T4gew0KICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wwobm92ZWxVcmwpKTsNCiAgICAgICAgdmFyIGNoYXB0ZXJzID0gY29udGFpbmVyLmZpbmQoIi5saXN0aW5nLWNoYXB0ZXJzX3dyYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XAgbGkgYSIpLm1hcCh4ID0+IG5ldyBDaGFwdGVyKHgudGV4dChmYWxzZSksIHguYXR0cigiaHJlZiIpLnVybCgpKSkucmV2ZXJzZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgpDQogICAgICAgIHZhciBub3ZlbFJldmlld3MgPSBuZXcgTm92ZWxSZXZpZXdzKCk7DQoNCiAgICAgICAgbm92ZWxSZXZpZXdzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mdlbnJlcyA9IGNvbnRhaW5lci5maW5kKCIuZ2VucmVzLWNvbnRlbnQgYSIpLm1hcCh4ID0+IHgudGV4dChmYWxzZSkpOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBub3ZlbFJldmlld3MuYXV0aG9yID0gY29udGFpbmVyLmZpbmQoIi5hdXRob3ItY29udGVudCBhIikubWFwKHggPT4geC50ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Xh0KGZhbHNlKSkuam9pbigiLCAiKTsNCiAgICAgICAgbm92ZWxSZXZpZXdzLnV2b3RlcyA9IGNvbnRhaW5lci5zZWxlY3QoIi5wbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03N0LXJhdGluZyAudG90YWxfdm90ZXMiKS50ZXh0KGZhbHNlKSArICIgLyA1IjsNCiAgICAgICAgbm92ZWxSZXZpZXdzLmNvbXBsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRlZCA9IGNvbnRhaW5lci5zZWxlY3QoIi5wb3N0LXN0YXR1cyAucG9zdC1jb250ZW50X2l0ZW0gLnN1bW1hcnktY29udGVudCIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRleHQoZmFsc2UpID09PSAiQ29tcGxldGVkIiA/ICJTdGF0dXM6Q29tcGxldGVkIiA6ICJTdGF0dXM6T25nb2luZyI7DQoNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgcmV0dXJuIG5ldyBEZXRhbGlJdGVtKA0KICAgICAgICAgICAgY29udGFpbmVyLnNlbGVjdCgnLnN1bW1hcnlfaW1hZ2UgaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W1nJykuYXR0cigiZGF0YS1zcmMiKS51cmwoKSwNCiAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoJy5wb3N0LXRpdGxlJykudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GV4dChmYWxzZSksDQogICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCcuZGVzY3JpcHRpb24tc3VtbWFyeScpLmNsZWFuSW5uZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJIVE1MKCksDQogICAgICAgICAgICBub3ZlbFVybCwNCiAgICAgICAgICAgIGNoYXB0ZXJzLA0KICAgICAgICAgICAgbm92ZWxSZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XZpZXdzLA0KICAgICAgICAgICAgcmV0dXJuT2JqZWN0Lm5hbWUsDQogICAgICAgICAgICB1bmRlZmluZWQsDQogICAgICAgICk7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgfQ0KDQoNCiAgICByZXR1cm5PYmplY3QuZ2V0Q2hhcHRlciA9IGFzeW5jICh1cmwpID0+IHsNCiAgICAgICAgcmV0dXJuIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgbmV3IGNsaWVudCgpLmdldEh0bWwodXJsKSkuc2VsZWN0KCcucmVhZGluZy1jbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0250ZW50JykuY2xlYW5Jbm5lckhUTUwoKTsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QubGF0ZXN0ID0gYXN5bmMgKHBhZ2UpIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0+IHsNCiAgICAgICAgdmFyIHVybCA9IHJldHVybk9iamVjdC5sYXRlc3RVcmwucmVwbGFjZSgne3B9JywgcGFnZS50b1N0cmluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ygpKTsNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G1sKHVybCkpOw0KICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgIGNvbnRhaW5lci5maW5kKCcucGFnZS1jb250ZW50LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wxpc3RpbmcgLnBhZ2UtaXRlbS1kZXRhaWwnKS5mb3JFYWNoKCh4KSA9PiB7DQogICAgICAgICAgICBpZiAoeC5zZWxlY3QoJ2ltZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ycpLmF0dHIoInNyYyIpLmhhc1ZhbHVlKCkpDQogICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goDQogICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBMaWdodEl0ZW0oeC5maW5kKCJpbWciKS5hdHRyKCJkYXRhLXNyYyIpLnVybCgpLA0KICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgeC5zZWxlY3QoJy5wb3N0LXRpdGxlIGEnKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICcnLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoJy5wb3N0LXRpdGxlIGEnKS5hdHRyKCJocmVmIikudXJsKCksIHJldHVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0k9iamVjdC5uYW1lDQogICAgICAgICAgICAgICAgICAgICkpOw0KICAgICAgICB9KTsNCg0KICAgICAgICByZXR1cm4gcmVzdWx0OMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgIH0NCg0KICAgIHJldHVybiByZXR1cm5PYmplY3Q7DQp9Ow==&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCkgPT4gew0KICAgIHJldHVybiB7DQogICAgICAgIHR5cGU6ICItLXBsdWdpbi0tIg0KICAgIH0NCn07