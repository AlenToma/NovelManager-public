K002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nNlSHRtbCkgPT4gew0KICAgIHJldHVybiB7DQogICAgICAgIG5hbWU6ICJpbmNsdWRlZFBhcnNlcnMiLCBkYXRhOiBbDQogICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICB7DQogICAgICAgICAgICAgICAgImZpbGUiOiAiUmVhZE5vdmVsRnVsbCIsDQogICAgICAgICAgICAgICAgImRlYnVnT002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd65425seSI6IGZhbHNlDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICJmaWxlIjogIld1eGlhd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd65429ybGQiLA0KICAgICAgICAgICAgICAgICJkZWJ1Z09ubHkiOiBmYWxzZQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICAgICAgICAgICAgICAiZmlsZSI6ICJNYW5nYW5FbG8iLA0KICAgICAgICAgICAgICAgICJkZWJ1Z09ubHkiOiBmYWxzZQ0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAiZmlsZSI6ICJOb3ZlbEZ1bGwiLA0KICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICJkZWJ1Z09ubHkiOiBmYWxzZQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAiZmlsZSI6ICJCb3hOb3ZlbCIsDQogICAgICAgICAgICAgICAgImRlYnVnT25seSI6IGZhbHNlDQogICAgICAgICAgICB9LA0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICJmaWxlIjogIlctTVRMIiwNCiAgICAgICAgICAgICAgICAiZGVidWdPbmx5I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654jogZmFsc2UNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgImZpbGUiOiAiQWxsTm92ZWwiL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654A0KICAgICAgICAgICAgICAgICJkZWJ1Z09ubHkiOiBmYWxzZQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAiZmlsZSI6ICJDb21yYWRlbWFvIiwNCiAgICAgICAgICAgICAgICAiZGVidWdPbmx5IjogZmFsc2UNCiAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgImZpbGUiOiAiTGlnaHROb3ZlbFB1YiIsDQogICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgImRlYnVnT25seSI6IGZhbHNlDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CJmaWxlIjogIk5vdmVsT25saW5lRnVsbCIsDQogICAgICAgICAgICAgICAgImRlYnVnT25seSI6IGZhbHNlDQogICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICJmaWxlIjogIlJlYWRMaWdodE5vdmVsIiwNCiAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAiZGVidWdPbmx5IjogdHJ1ZQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAiZmlsZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SI6ICJSb3lhbFJvYWQiLA0KICAgICAgICAgICAgICAgICJkZWJ1Z09ubHkiOiBmYWxzZQ0KICAgICAgICAgICAgfSwNCiAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgIHsNCiAgICAgICAgICAgICAgICAiZmlsZSI6ICJOb3ZlbEhhbGwiLA0KICAgICAgICAgICAgICAgICJkZWJ1Z09ubHkiO002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iBmYWxzZQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAiZmlsZSI6ICJTY3JpYmJsZUh1Y002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iIsDQogICAgICAgICAgICAgICAgImRlYnVnT25seSI6IGZhbHNlDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgICJmaWxlIjogIlppbk5vdmVsIiwNCiAgICAgICAgICAgICAgICAiZGVidWdPbmx5IjogZmFsc2UNCiAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgImZpbGUiOiAiVGFwUmVhZCIsDQogICAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgImRlYnVnT25seSI6IGZhbHNlDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICJmaWxlI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654jogIk10bE5vdmVsIiwNCiAgICAgICAgICAgICAgICAiZGVidWdPbmx5IjogdHJ1ZQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIHsNCiAgICAgICAgICAgICAgICAiZmlsZSI6ICJLb2xOb3ZlbCIsDQogICAgICAgICAgICAgICAgImRlYnVnT25seSI6IHRyd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgImZpbGUiOiAiV3V4aWF3b3JsZC5TaXRlI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iwNCiAgICAgICAgICAgICAgICAiZGVidWdPbmx5IjogdHJ1ZQ0KICAgICAgICAgICAgfQ0KICAgICAgICBdDQogICAgfQ0KfQ=&K002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50KSA9PiB7DQogICAgdmFyIHJld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HVybk9iamVjdCA9IHt9Ow0KICAgIHJldHVybk9iamVjdC5pZCA9ICIxLmFsbG5vdmVsIjsNCiAgICByZXR1cm5PYmplY3QuZGV0Y002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WxpSXRlbVR5cGUgPSBEZXRhbGlJdGVtVHlwZS5Ob3ZlbDsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyTGFuZ3VhZ2UgPSAiZW4iO002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654w0KICAgIHJldHVybk9iamVjdC5uYW1lID0gJ0FsbE5vdmVsJzsNCiAgICByZXR1cm5PYmplY3QuZGlzcGxheU5hbWUgPSByZXR1c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654m5PYmplY3QubmFtZTsNCiAgICByZXR1cm5PYmplY3QubGF0ZXN0VXJsID0gJ2h0dHBzOi8vYWxsbm92ZWwubmV0Lyc7DQogICAgc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mV0dXJuT2JqZWN0LnVybCA9ICdodHRwczovL2FsbG5vdmVsLm5ldC8nOw0KICAgIHJldHVybk9iamVjdC5zZWFyY2hVcmwgPSAna002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HR0cHM6Ly9hbGxub3ZlbC5uZXQvc2VhcmNoLnBocD9rZXl3b3JkPXtxfSc7DQogICAgcmV0dXJuT2JqZWN0LnBhbmluYXRpb24gP002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SBmYWxzZTsNCiAgICByZXR1cm5PYmplY3Quc2VhcmNoUGFnaW5hdGlvbiA9IHRydWU7DQogICAgcmV0dXJuT2JqZWN0Lmljb24gP002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SAnaHR0cHM6Ly9hbGxub3ZlbC5uZXQvbWVkaWEvZmF2aWNvbi5wbmcnOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XR0aW5ncyA9IG5ldyBQYXJzZXJTZWFyY2hTZXR0aW5ncygpOw0KDQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mdzLmdlbnJlcyA9IHsNCiAgICAgICAgbXVsdGlTZWxlY3Rpb246IGZhbHNlLA0KICAgICAgICB2YWx1ZXM6IFsNCiAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIG5ldyBsYWJlbFZhbHVlKCJSb21hbmNlIiwgInJvbWFuY2UuaHRtbD9wYWdlPXtwfSIpLA0KICAgICAgICAgICAgbmV3IGxhY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVsVmFsdWUoIkFkdmVudHVyZSIsICJhZHZlbnR1cmUuaHRtbD9wYWdlPXtwfSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WUoIlRocmlsbGVyIiwgInRocmlsbGVyLmh0bWw/cGFnZT17cH0iKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJGYW50Y002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XN5IiwgImZhbnRhc3kuaHRtbD9wYWdlPXtwfSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIllvdW5nIEFkdWx0IiwgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nlvdW5nLWFkdWx0Lmh0bWw/cGFnZT17cH0iKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJNeXN0ZXJ5IiwgIm15c3Rlc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nkuaHRtbD9wYWdlPXtwfSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkhpc3RvcmljYWwiLCAiaGlzdG9yaWNhbC5od002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654G1sP3BhZ2U9e3B9IiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiSG9ycm9yIiwgImhvcnJvci5odG1sP3BhZ2U9e3B9I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2NpZW5jZSBGaWN0aW9uIiwgInNjaWVuY2UtZmljdGlvbi5odG1sP3BhZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542U9e3B9IiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiSHVtb3JvdXMiLCAiaHVtb3JvdXMuaHRtbD9wYWdlPXtwfSIpL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654A0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkNocmlzdGlhbiIsICJjaHJpc3RpYW4uaHRtbD9wYWdlPXtwfSIpLA0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgbmV3IGxhYmVsVmFsdWUoIldlc3Rlcm4iLCAid2VzdGVybi5odG1sP3BhZ2U9e3B9IikNCiAgICAgICAgXQ0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654H0NCiAgICByZXR1cm5PYmplY3QuZ2V0U2VjdGlvbnMgPSAoa2V5cykgPT4gew0KICAgICAgICB2YXIgc2VjdGlvbnMgPSBbDQogI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICBuZXcgU2VjdGlvbigibGF0ZXN0IiwgIkxhdGVzdCBVcGRhdGUiLCAiTGF0ZXN0IiwgdHJ1ZSksDQogICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICBuZXcgU2VjdGlvbigicm9tYW5jZSIsICJSb21hbmNlIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKFsicm9tYW5jZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654S5odG1sP3BhZ2U9e3B9Il0pKSwNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJ5b3VuZy1hZHVsdCIsICJZb3VuZyBBZHVsdCIsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcihbInlvdW5nLWFkdWx0Lmh0bWw/cGFnZT17cH0iXSkpLA0KICAgICAgICBdDQoNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICAgICAgcmV0dXJuIHNlY3Rpb25zLmZpbHRlcih4ID0+ICFrZXlzIHx8IGtleXMuaW5jbHVkZXMoeC5uYW1lKSk7DQogICAgf002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Q0KDQogICAgcmV0dXJuT2JqZWN0LnRyYW5zbGF0ZVNlY3Rpb24gPSBhc3luYyAoc2VjdGlvbiwgcGFnZSkgPT4gew0KICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CBpZiAoc2VjdGlvbi5pZGVudGlmaWVyID09ICJMYXRlc3QiKQ0KICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHJldHVybk9iamVjd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654C5sYXRlc3QocGFnZSk7DQogICAgICAgIGVsc2UNCiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZXR1cm5PYmplY3Quc2VhcmNoK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HNlY3Rpb24uZmlsdGVyIHx8IHJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyKCksIHBhZ2UpOw0KICAgIH0NCg0KICAgIHJldHVyb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654k9iamVjdC5kZWZhdWx0RmlsdGVyID0gKCkgPT4gew0KICAgICAgICB2YXIgZmlsdGVyID0gbmV3IEZpbHRlcigpOw0KICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CByZXR1cm4gZmlsdGVyOw0KICAgIH07DQoNCiAgICByZXR1cm5PYmplY3Quc2VhcmNoID0gYXN5bmMgKGZpbHRlciwgcGFnZSkgP002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654T4gew0KICAgICAgICBpZiAoIWZpbHRlci50aXRsZSkNCiAgICAgICAgICAgIGZpbHRlci50aXRsZSA9ICIiOw0KICAgICAgICBpZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAoZmlsdGVyLmdlbnJlcy5sZW5ndGggPD0gMCAmJiBmaWx0ZXIudGl0bGUgPT0gIiIpDQogICAgICAgICAgICByZXR1cm4gW107D002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QogICAgICAgIHZhciB1cmwgPSBmaWx0ZXIuZ2VucmVzLmxlbmd0aCA+IDAgPyBmaWx0ZXIuZ2VucmVzWzBdLnRvU3RyaW5nKCkud002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJpKHJldHVybk9iamVjdC51cmwpLnJlcGxhY2UoIntwfSIsIHBhZ2UpIDogcmV0dXJuT2JqZWN0LnNlYXJjaFVybC5yZXBsYWNlK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CJ7cX0iLCBmaWx0ZXIudGl0bGUpOw0KICAgICAgICB2YXIgcmVzdWx0ID0gW10NCiAgICAgICAgcmV0dXJuT2JqZWN0LnBhcnNlc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654i5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwodXJsKSkuZmluZCgiLmxpc3Qtbm92ZWwgYSIpLmZvckVhY2goeCA9PiB7DQogI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICByZXN1bHQucHVzaChuZXcgTGlnaHRJdGVtKA0KICAgICAgICAgICAgICAgIHguc2VsZWN0KCJpbWciKS5hdHRyK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CJzcmMiKS51cmwoKSwNCiAgICAgICAgICAgICAgICB4LnNlbGVjdCgiLnRpdGxlLWhvbWUtbm92ZWwiKS50ZXh0KCksDQogICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgIiIsDQogICAgICAgICAgICAgICAgeC5hdHRyKCJocmVmIikudXJsKCksDQogICAgICAgICAgICAgICAgcmV0d002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJuT2JqZWN0Lm5hbWUpKTsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICB9DQoNCiAgICByZXR1c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654m5PYmplY3QuZ2V0Tm92ZWwgPSBhc3luYyAobm92ZWxVcmwpID0+IHsNCg0KICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwobm92ZWxVcmwpKTsNCiAgICAgICAgdmFyIGNoYXB0ZXJzI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654D0gY29udGFpbmVyLmZpbmQoIi5saXN0LXBhZ2Utbm92ZWwgYSIpLm1hcCh4ID0+IG5ldyBDaGFwdGVyKHgudGV4dChmYWxzZSksI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HguYXR0cigiaHJlZiIpLnVybCgpKSk7DQogICAgICAgIHZhciBub3ZlbFJldmlld3MgPSBuZXcgTm92ZWxSZXZpZXdzKCk7DQogI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgIHZhciBpbmZvID0gY29udGFpbmVyLmZpbmQoIi5saXN0LWluZm8iKTsNCiAgICAgICAgbm92ZWxSZXZpZXdzLmdlbnJlc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654yA9IGluZm8uZXEoMSkuZmluZCgiYSIpLnRleHRBcnJheSgpOw0KICAgICAgICBub3ZlbFJldmlld3MuYXV0aG9yID0gaW5mby5lc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SgwKS5zZWxlY3QoImEiKS50ZXh0KGZhbHNlKTsNCiAgICAgICAgbm92ZWxSZXZpZXdzLnV2b3RlcyA9IGluZm8uZXEoMikuc2VsZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WN0KCJzcGFuIikuaGFzRWxlbWVudCgpID8gaW5mby5lcSgyKS5zZWxlY3QoInNwYW4iKS50ZXh0KGZhbHNlKSArICIgVmlld3MiI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654DogIiI7DQogICAgICAgIHJldHVybiBuZXcgRGV0YWxpSXRlbSgNCiAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoIi5yb3cga002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W1nIikuYXR0cigic3JjIikudXJsKCksDQogICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCIuZGV0YWlsLW5vdmVsIGgxIikud002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GV4dChmYWxzZSksDQogICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCIuZGVzLW5vdmVsIikuY2xlYW5Jbm5lckhUTUwoKSwNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICAgICAgICAgIG5vdmVsVXJsLA0KICAgICAgICAgICAgY2hhcHRlcnMsDQogICAgICAgICAgICBub3ZlbFJldmlld3MsDQogI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICByZXR1cm5PYmplY3QubmFtZSwNCiAgICAgICAgICAgIHVuZGVmaW5lZCwNCiAgICAgICAgKTsNCiAgICB9DQoNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICByZXR1cm5PYmplY3QuZ2V0Q2hhcHRlciA9IGFzeW5jICh1cmwpID0+IHsNCiAgICAgICAgcmV0dXJuIHJldHVybk9iamVjd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654C5wYXJzZXIuanEoYXdhaXQgbmV3IGNsaWVudCgpLmdldEh0bWwodXJsKSkucmVtb3ZlKCIuYWQtY29udGFpbmVyIikuc2VsZWN0K002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CIuY29udGVudF9ub3ZlbCIpLmNsZWFuSW5uZXJIVE1MKCk7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmxhdGVzdCA9IGFze002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W5jIChwYWdlKSA9PiB7DQogICAgICAgIHZhciB1cmwgPSByZXR1cm5PYmplY3QubGF0ZXN0VXJsLnJlcGxhY2UoIntwfSIsIHBhZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542UudG9TdHJpbmcoKSk7DQogICAgICAgIHZhciBjb250YWluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GllbnQuZ2V0SHRtbCh1cmwpKTsNCiAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICBjb250YWluZXIuZmluZCgiLmxpc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543Qtbm92ZWwgYSIpLmZvckVhY2goeCA9PiB7DQogICAgICAgICAgICByZXN1bHQucHVzaChuZXcgTGlnaHRJdGVtKA0KICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgIHguc2VsZWN0KCJpbWciKS5hdHRyKCJzcmMiKS51cmwoKSwNCiAgICAgICAgICAgICAgICB4LnNlbGVjdCgiLnRpd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GxlLWhvbWUtbm92ZWwiKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgICAiIiwNCiAgICAgICAgICAgICAgICB4LmF0dHIoI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mhyZWYiKS51cmwoKSwNCiAgICAgICAgICAgICAgICByZXR1cm5PYmplY3QubmFtZSkpOw0KICAgICAgICB9KTsNCg0KICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CByZXR1cm4gcmVzdWx0Ow0KICAgIH0NCg0KICAgIHJldHVybiByZXR1cm5PYmplY3Q7DQp9Ow=&K002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIpID0+I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HsNCiAgICBjb25zdCByZXR1cm5PYmplY3QgPSB7fTsNCiAgICByZXR1cm5PYmplY3QuaWQgPSAiMS5ib3hub3ZlbCI7DQogICAgc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mV0dXJuT2JqZWN0LnBhcnNlckxhbmd1YWdlID0gImVuIjsNCiAgICByZXR1cm5PYmplY3QubmFtZSA9ICdCb3hOb3ZlbCc7DQogI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgcmV0dXJuT2JqZWN0LmRpc3BsYXlOYW1lID0gcmV0dXJuT2JqZWN0Lm5hbWU7DQogICAgcmV0dXJuT2JqZWN0LmRldGFsaUl0Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W1UeXBlID0gRGV0YWxpSXRlbVR5cGUuTm92ZWw7DQogICAgcmV0dXJuT2JqZWN0LmxhdGVzdFVybCA9ICdodHRwczovL2JveG5vd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVsLmNvbS9wYWdlL3twfSc7DQogICAgcmV0dXJuT2JqZWN0LnVybCA9ICdodHRwczovL2JveG5vdmVsLmNvbSc7DQogICAgcmV0d002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJuT2JqZWN0LnNlYXJjaFVybCA9ICcnOw0KICAgIHJldHVybk9iamVjdC5wYW5pbmF0aW9uID0gdHJ1ZTsNCiAgICByZXR1cm5PY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mplY3Quc2VhcmNoUGFnaW5hdGlvbiA9IHRydWU7DQogICAgcmV0dXJuT2JqZWN0Lmljb24gPSAnaHR0cHM6Ly9ib3hub3ZlbC5jb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd65420vd3AtY29udGVudC91cGxvYWRzLzIwMTgvMDQvYm94LWljb24tMTUweDE1MC5wbmcnOw0KICAgIHJldHVybk9iamVjdC5wYXJzZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJTZWFyY2hTZXR0aW5ncyA9IG5ldyBQYXJzZXJTZWFyY2hTZXR0aW5ncygpOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542hTZXR0aW5ncy5nZW5yZXMgPSB7DQogICAgICAgIG11bHRpU2VsZWN0aW9uOiB0cnVlLA0KICAgICAgICB2YWx1ZXM6IFsNCiAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgXSwNCiAgICB9Ow0KDQogICAgcmV0dXJuT2JqZWN0LmxvYWRTZXR0aW5ncyA9IGFzeW5jICgpID0+IHsNCiAgICAgICAgd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKCJodHRwczovL2Jve002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654G5vdmVsLmNvbS8/cz0mcG9zdF90eXBlPXdwLW1hbmdhIikpOw0KICAgICAgICBjb250YWluZXIuZmluZCgiLmNoZWNrYm94LWdyb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543VwIC5jaGVja2JveCIpLmZvckVhY2goeCA9PiB7DQogICAgICAgICAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543MuZ2VucmVzLnZhbHVlcy5wdXNoKG5ldyBsYWJlbFZhbHVlKHguc2VsZWN0KCJsYWJlbCIpLnRleHQoKSwgeC5zZWxlY3QoImluc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HV0IikuYXR0cigidmFsdWUiKS50ZXh0KCkpKTsNCiAgICAgICAgfSkNCiAgICB9DQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJjaFNldHRpbmdzLnNvcnRUeXBlcyA9IHsNCiAgICAgICAgbXVsdGlTZWxlY3Rpb246IGZhbHNlLA0KICAgICAgICB2YWx1ZXM6I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654FsNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdMYXRlc3QgUmVsZWFzZSBOb3ZlbCcsICdsYXRlc3QnKSwNCiAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIG5ldyBsYWJlbFZhbHVlKCdSZWxldmFuY2UnLCAnJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnUmF0aW5nJywgJ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543JhdGluZycpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1RyZW5kaW5nJywgJ3RyZW5kaW5nJyksDQogICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CBuZXcgbGFiZWxWYWx1ZSgnTW9zdCBWaWV3cycsICd2aWV3cycpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ05ldycsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CduZXctbWFuZ2EnKSwNCiAgICAgICAgXSwNCiAgICB9Ow0KICAgIHJldHVybk9iamVjdC5nZXRTZWN0aW9ucyA9IChrZXlzKSA9P002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iB7DQogICAgICAgIHZhciBzZWN0aW9ucyA9IFsNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJsYXRlc3QiLCAiTGF0ZXN0IFVwZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GF0ZSIsICJMYXRlc3QiLCB0cnVlKSwNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJuZXciLCAiTmV3IE5vdmVscyIsICJTZWFyY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsICJuZXctbWFuZ2EiKSksDQogICAgICAgICAgICBuZXcgU2VjdGlvbigiT002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W9zdCBWaWV3cyIsICJNb3N0IFZpZXdzIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKHVuZGVmaW5lZCwgInZpZXdzIikpL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654A0KICAgICAgICBdDQogICAgICAgIHJldHVybiBzZWN0aW9ucy5maWx0ZXIoeCA9PiAha2V5cyB8fCBrZXlzLmluY2x1ZGVzKHgub002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mFtZSkpOw0KICAgIH0NCiAgICByZXR1cm5PYmplY3QudHJhbnNsYXRlU2VjdGlvbiA9IGFzeW5jIChzZWN0aW9uLCBwYWdlKSA9P002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iB7DQogICAgICAgIGlmIChzZWN0aW9uLmlkZW50aWZpZXIgPT0gIkxhdGVzdCIpIHJldHVybiBhd2FpdCByZXR1cm5PYmplY3Qub002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GF0ZXN0KHBhZ2UpOw0KICAgICAgICBlbHNlIHJldHVybiBhd2FpdCByZXR1cm5PYmplY3Quc2VhcmNoKHNlY3Rpb24uZmlsdGVyI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Hx8IHJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyKCksIHBhZ2UpOw0KICAgIH0NCiAgICByZXR1cm5PYmplY3QuZGVmYXVsdEZpb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HRlciA9ICgpID0+IHsNCiAgICAgICAgdmFyIGZpbHRlciA9IG5ldyBGaWx0ZXIoKTsNCiAgICAgICAgcmV0dXJuIGZpbHRlcjsNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICB9Ow0KDQogICAgLy9odHRwczovL2JveG5vdmVsLmNvbS9wYWdlLzIvP3MmcG9zdF90eXBlPXdwLW1hbmdhJmdlbnJlJTVCM002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CU1RD1hY3Rpb24mZ2VucmUlNUIxJTVEPWFkdmVudHVyZSZvcCZhdXRob3ImYXJ0aXN0JnJlbGVhc2UmYWR1bHQmbV9vcmRlcmJ5P002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WxhdGVzdA0KICAgIHJldHVybk9iamVjdC5zZWFyY2ggPSBhc3luYyAoZmlsdGVyLCBwYWdlKSA9PiB7DQogICAgICAgIHZhciB1c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mwgPSBgaHR0cHM6Ly9ib3hub3ZlbC5jb20vcGFnZS8ke3BhZ2V9Lz9zPSR7ZmlsdGVyLnRpdGxlIHx8ICIifSZwb3N0X3R5cGU9d002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543AtbWFuZ2Eme2dlbnJlfSZvcCZhdXRob3ImYXJ0aXN0JnJlbGVhc2UmYWR1bHQmbV9vcmRlcmJ5PSR7ZmlsdGVyLnNvcnRUeXBlI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Hx8ICIifWANCiAgICAgICAgaWYgKGZpbHRlci5nZW5yZXMgJiYgZmlsdGVyLmdlbnJlcy5sZW5ndGggPiAwKSB7DQogICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICB1cmwgPSB1cmwucmVwbGFjZSgie2dlbnJlfSIsIGZpbHRlci5nZW5yZXMubWFwKHggPT4gImdlbnJlJTVCMCU1RD0iICsge002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Ckuam9pbigiJiIpKQ0KICAgICAgICB9IGVsc2UgdXJsID0gdXJsLnJlcGxhY2UoIiZ7Z2VucmV9IiwgIiIpDQogICAgICAgIHZhc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iBjb250YWluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbCh1cmwpKTsNCiAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICBjb250YWluZXIuZmluZCgnLnRhYi1jb250ZW50LXdyYXAgLmMtdGFicy1pdGVtI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654C50YWItdGh1bWIgYScpLmZvckVhY2goKHgpID0+IHsNCiAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBMaWdodEl0ZW0oeC5zZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WxlY3QoJ2ltZycpLmF0dHIoInNyYyIpLnVybCgpLCB4LmF0dHIoInRpdGxlIikudGV4dCgpLCAnJywgeC5hdHRyKCJocmVmIikud002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJsKCksIHJldHVybk9iamVjdC5uYW1lKSk7DQogICAgICAgIH0pOw0KICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0NCiAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CByZXR1cm5PYmplY3QuZ2V0Q2hhcHRlcnMgPSBhc3luYyAobm92ZWxVcmwpID0+IHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIHZhciBjaGFwdGVycyA9IFtdOw0KICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XdhaXQgSHR0cENsaWVudC5wb3N0Rm9ybSgiYWpheC9jaGFwdGVycyIudXJpKG5vdmVsVXJsKSwge2tleTogInRlc3QifSkpOw0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgY29udGFpbmVyLmZpbmQoJy5saXN0aW5nLWNoYXB0ZXJzX3dyYXAgYScpLmZvckVhY2goeCA9PiB7DQogICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgY2hhcHRlcnMucHVzaChuZXcgQ2hhcHRlcih4LnRleHQoZmFsc2UpLCB4LmF0dHIoImhyZWYiKS51cmwoKSkpO002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654w0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICByZXR1cm4gY2hhcHRlcnMucmV2ZXJzZSgpOw0KICAgICAgICB9IGNhdGNoI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ChlKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhlKQ0KICAgICAgICAgICAgdGhyb3cgZQ0KICAgICAgICB9DQogICAgfQ0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIHJldHVybk9iamVjdC5nZXROb3ZlbCA9IGFzeW5jIChub3ZlbFVybCkgPT4gew0KICAgICAgICB2YXIgY29udGFpbmVyID0gc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwobm92ZWxVcmwpKTsNCiAgICAgICAgdmFyIGNoY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XB0ZXJzID0gYXdhaXQgcmV0dXJuT2JqZWN0LmdldENoYXB0ZXJzKG5vdmVsVXJsKTsNCiAgICAgICAgdmFyIGl0ZW0gPSBuZXcgT002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654m92ZWxSZXZpZXdzKCk7DQogICAgICAgIGl0ZW0uZ2VucmVzID0gY29udGFpbmVyLmZpbmQoIi5nZW5yZXMtY29udGVudCBhIikud002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GV4dEFycmF5KCk7DQogICAgICAgIGl0ZW0uYXV0aG9yID0gY29udGFpbmVyLmZpbmQoIi5hdXRob3ItY29udGVudCBhIikudGV4d002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ChmYWxzZSkNCiAgICAgICAgaXRlbS5jb21wbGV0ZWQgPSAiU3RhdHVzOiIgKyBjb250YWluZXIuZmluZCgiLnBvc3Qtc3RhdHVzI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654C5wb3N0LWNvbnRlbnRfaXRlbSIpLmxhc3QoKS5zZWxlY3QoIi5zdW1tYXJ5LWNvbnRlbnQiKS50ZXh0KGZhbHNlKQ0KICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CBpdGVtLnV2b3RlcyA9ICJSYXRpbmc6IiArIGNvbnRhaW5lci5zZWxlY3QoIi50b3RhbF92b3RlcyIpLnRleHQoZmFsc2UpICsgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654i81IjsNCiAgICAgICAgcmV0dXJuIG5ldyBEZXRhbGlJdGVtKGNvbnRhaW5lci5zZWxlY3QoJy5zdW1tYXJ5X2ltYWdlIGltZycpL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mF0dHIoInNyYyIpLnVybCgpLCBjb250YWluZXIuc2VsZWN0KCcucG9zdC10aXRsZSBoMScpLnRleHQoZmFsc2UpLCBjb250YWluZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XIuc2VsZWN0KCcuc3VtbWFyeV9fY29udGVudCcpLmNsZWFuSW5uZXJIVE1MKCksIG5vdmVsVXJsLCBjaGFwdGVycywgaXRlbSwgc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mV0dXJuT2JqZWN0Lm5hbWUsIHVuZGVmaW5lZCk7DQogICAgfQ0KICAgIHJldHVybk9iamVjdC5nZXRDaGFwdGVyID0gYXN5bmMgK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HVybCkgPT4gew0KICAgICAgICByZXR1cm4gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBuZXcgY2xpZW50KCkuZ2V0SHRtb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Ch1cmwpKS5zZWxlY3QoJy5yZWFkaW5nLWNvbnRlbnQnKS5jbGVhbklubmVySFRNTCgpOw0KICAgIH0NCiAgICByZXR1cm5PYmplY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543QubGF0ZXN0ID0gYXN5bmMgKHBhZ2UpID0+IHsNCiAgICAgICAgdmFyIHVybCA9IHJldHVybk9iamVjdC5sYXRlc3RVcmwucmVwb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GFjZSgne3B9JywgcGFnZS50b1N0cmluZygpKTsNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIua002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKHVybCkpOw0KICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgIGNvbnRha002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W5lci5maW5kKCcucGFnZS1saXN0aW5nLWl0ZW0gLnJvdycpLmZvckVhY2goKHgpID0+IHsNCiAgICAgICAgICAgIHJlc3VsdC5wd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XNoKG5ldyBMaWdodEl0ZW0oeC5zZWxlY3QoJ2ltZycpLmF0dHIoInNyYyIpLnVybCgpLCB4LnNlbGVjdCgnLnBvc3QtdGl0bGUgY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ScpLnRleHQoKSwgJycsIHguc2VsZWN0KCcucG9zdC10aXRsZSBhJykuYXR0cigiaHJlZiIpLnVybCgpLCByZXR1cm5PYmplY3Qub002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mFtZSkpOw0KICAgICAgICB9KTsNCiAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICB9DQogICAgcmV0dXJuIHJldHVybk9iamVjd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654DsNCn0&K002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50KSA9PiB7DQogICAgdmFyIHJld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HVybk9iamVjdCA9IHt9Ow0KICAgIHJldHVybk9iamVjdC5pZCA9ICIxLmNvbXJhZGVtYW8iOw0KICAgIHJldHVybk9iamVjdC5kZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XRhbGlJdGVtVHlwZSA9IERldGFsaUl0ZW1UeXBlLk5vdmVsOw0KICAgIHJldHVybk9iamVjdC5uYW1lID0gJ0NvbXJhZGVtYW8nO002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654w0KICAgIHJldHVybk9iamVjdC5kaXNwbGF5TmFtZSA9ICJHb29nbGUgVHJhbnNsYXRlZCBub3ZlbHMiOw0KICAgIHJldHVybk9ia002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVjdC5sYXRlc3RVcmwgPSAnaHR0cHM6Ly9jb21yYWRlbWFvLmNvbS9wYWdlL3twfS8nOw0KICAgIHJldHVybk9iamVjdC51cmwgP002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SAnaHR0cHM6Ly9jb21yYWRlbWFvLmNvbSc7DQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaFVybCA9ICdodHRwczovL2NvbXJhZGVtY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W8uY29tL3BhZ2Uve3B9Lz9zPXtxfSZwb3N0X3R5cGU9bm92ZWwnOw0KICAgIHJldHVybk9iamVjdC5wYW5pbmF0aW9uID0gdHJ1Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654TsNCiAgICByZXR1cm5PYmplY3Quc2VhcmNoUGFnaW5hdGlvbiA9IHRydWU7DQogICAgcmV0dXJuT2JqZWN0Lmljb24gPSAnaHR0c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HM6Ly93d3cuZ29vZ2xlLmNvbS9zMi9mYXZpY29ucz9kb21haW49aHR0cHM6Ly9jb21yYWRlbWFvLmNvbSc7DQogICAgcmV0dXJuT002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzID0gbmV3IFBhcnNlclNlYXJjaFNldHRpbmdzKCk7DQogICAgcmV0dXJuT2JqZWN0L002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nBhcnNlckxhbmd1YWdlID0gImVuIjsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3MuZ2VucmVzID0gew0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICBtdWx0aVNlbGVjdGlvbjogZmFsc2UsDQogICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WUoJ0FjdGlvbicpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0NvbWVkeScpLA0KICAgICAgICAgICAgbmV3IGxhYmVsV002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mFsdWUoJ0ZhbnRhc3knKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdIYXJlbScpLA0KICAgICAgICAgICAgbmV3IGxhY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVsVmFsdWUoJ01hdHVyZScpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ015c3RlcnknKSwNCiAgICAgICAgICAgIG5ld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654yBsYWJlbFZhbHVlKCdSb21hbmNlJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU2NpLWZpJyksDQogICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CBuZXcgbGFiZWxWYWx1ZSgnVHJhZ2VkeScpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1hpYW54aWEnKSwNCiAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgIG5ldyBsYWJlbFZhbHVlKCdXdXhpYScpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1h1YW5odWFuJyksDQogI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnQWR2ZW50dXJlJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU3VwZXJuY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XR1cmFsJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnRHJhbWEnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CdNYXJ0aWFsIEFydHMnLCAiTWFydGlhbC1BcnRzIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU2VpbmVuJyksDQogI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnUHN5Y2hvbG9naWNhbCcpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1Nsa002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WNlIG9mIExpZmUnLCAic2xpY2Utb2YtbGlmZSIpLA0KICAgICAgICBdLA0KICAgIH07DQoNCg0KDQogICAgcmV0dXJuT2JqZWN0L002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nBhcnNlclNlYXJjaFNldHRpbmdzLnNvcnRUeXBlcyA9IHsNCiAgICAgICAgbXVsdGlTZWxlY3Rpb246IGZhbHNlLA0KICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CB2YWx1ZXM6IFsNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdDaGluZXNlJywgJ2NoaW5lc2UnKSwNCiAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654G5ldyBsYWJlbFZhbHVlKCdKYXBhbmVzZScsICdqYXBhbmVzZScpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0tvcmVhb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654icsICdrb3JlYW4nKSwNCiAgICAgICAgXSwNCiAgICB9Ow0KDQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nN0YXR1c2VzID0gew0KICAgICAgICBtdWx0aVNlbGVjdGlvbjogZmFsc2UsDQogICAgICAgIHZhbHVlczogWw0KICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgbmV3IGxhYmVsVmFsdWUoIkNvbXBsZXRlIiwgImNvbXBsZXRlIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiT25Hb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542luZyIsICJvbi1nb2luZyIpDQogICAgICAgIF0NCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QuZ2V0U2VjdGlvbnMgPSAoa2V5c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ykgPT4gew0KICAgICAgICB2YXIgc2VjdGlvbnMgPSBbDQogICAgICAgICAgICBuZXcgU2VjdGlvbigibGF0ZXN0IiwgIkxhdGVzd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CBVcGRhdGUiLCAiTGF0ZXN0IiwgdHJ1ZSksDQogICAgICAgICAgICBuZXcgU2VjdGlvbigiY29tcGxldGVkIiwgIkNvbXBsZXRlZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCAiY29tcGxldGUiK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SksDQogICAgICAgICAgICBuZXcgU2VjdGlvbigiY2hpbmVzZSIsICJDaGluZXNlIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GVyKHVuZGVmaW5lZCwgImNoaW5lc2UiKSksDQogICAgICAgICAgICBuZXcgU2VjdGlvbigiamFwYW5lc2UiLCAiSmFwYW5lc2UiL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIodW5kZWZpbmVkLCAiamFwYW5lc2UiKSksDQogICAgICAgICAgICBuZXcgU2Vjd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Glvbigia29yZWFuIiwgIktvcmVhbiIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsICJrb3JlYW4iKSkNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICAgICAgXQ0KDQogICAgICAgIHJldHVybiBzZWN0aW9ucy5maWx0ZXIoeCA9PiAha2V5cyB8fCBrZXlzLmluY2x1ZGVzKHgub002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mFtZSkpOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC50cmFuc2xhdGVTZWN0aW9uID0gYXN5bmMgKHNlY3Rpb24sIHBhZ2UpI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654D0+IHsNCiAgICAgICAgaWYgKHNlY3Rpb24uaWRlbnRpZmllciA9PSAiTGF0ZXN0IikNCiAgICAgICAgICAgIHJldHVybiBhd2Fpd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CByZXR1cm5PYmplY3QubGF0ZXN0KHBhZ2UpOw0KICAgICAgICBlbHNlDQogICAgICAgICAgICByZXR1cm4gYXdhaXQgcmV0dXJuT002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542JqZWN0LnNlYXJjaChzZWN0aW9uLmZpbHRlciB8fCByZXR1cm5PYmplY3QuZGVmYXVsdEZpbHRlcigpLCBwYWdlKTsNCiAgICB9D002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QoNCiAgICByZXR1cm5PYmplY3QuZGVmYXVsdEZpbHRlciA9ICgpID0+IHsNCiAgICAgICAgdmFyIGZpbHRlciA9IG5ldyBGaWx0Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XIoKTsNCiAgICAgICAgcmV0dXJuIGZpbHRlcjsNCiAgICB9DQoNCg0KICAgIHJldHVybk9iamVjdC5zZWFyY2ggPSBhc3luYyAoZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mlsdGVyLCBwYWdlKSA9PiB7DQogICAgICAgIHZhciBzb3J0VHlwZVVyaSA9ICJodHRwczovL2NvbXJhZGVtYW8uY29tL210eXBlL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543tzfS9wYWdlL3twfS8iDQogICAgICAgIHZhciBzb3J0VHlwZVVybCA9IHNvcnRUeXBlVXJpLnJlcGxhY2UoIntzfSIsIGZpbHRlc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654i5zb3J0VHlwZSkucmVwbGFjZSgie3B9IiwgcGFnZS50b1N0cmluZygpKTsNCg0KICAgICAgICB2YXIgdXJsID0gZmlsdGVyLnNvc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nRUeXBlICYmIGZpbHRlci5zb3J0VHlwZSAhPSAiIiA/IHNvcnRUeXBlVXJsIDogcmV0dXJuT2JqZWN0LnNlYXJjaFVybC5yZXBsY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WNlKCd7cX0nLCBmaWx0ZXIudGl0bGUgfHwgIiIpLnJlcGxhY2UoIntwfSIsIHBhZ2UudG9TdHJpbmcoKSk7DQogICAgICAgIGlmI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ChmaWx0ZXIuZ2VucmVzLmxlbmd0aCAmJiBmaWx0ZXIuZ2VucmVzLmxlbmd0aCA+IDApDQogICAgICAgICAgICB1cmwgPSAoImdlb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nJlLyIgKyBmaWx0ZXIuZ2VucmVzWzBdICsgIi9wYWdlL3twfSIpLnJlcGxhY2UoIntwfSIsIHBhZ2UudG9TdHJpbmcoKSkudXJpK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HJldHVybk9iamVjdC51cmwpOw0KICAgICAgICBlbHNlDQogICAgICAgIGlmIChmaWx0ZXIuYWN0aXZlICYmICghZmlsdGVyLnNvc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nRUeXBlIHx8IGZpbHRlci5zb3J0VHlwZSA9PSAiIikpDQogICAgICAgICAgICB1cmwgPSAoInN0YXR1cy8iICsgZmlsdGVyLmFjd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Gl2ZSArICIvcGFnZS97cH0iKS5yZXBsYWNlKCJ7cH0iLCBwYWdlLnRvU3RyaW5nKCkpLnVyaShyZXR1cm5PYmplY3QudXJsKTsNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654g0KICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwod002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJsKSk7DQogICAgICAgIHZhciBteWJveCA9IGNvbnRhaW5lci5zZWxlY3QoIi5teWJveCIpLmhhc0VsZW1lbnQoKTsNCiAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgdmFyIGl0ZW0gPSAhbXlib3ggPyBjb250YWluZXIuZmluZCgic2VjdGlvbiAuY29sdW1ucyIpIDogY29udGFpbmVyLmZpbmQoI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654i5teWJveCBsaSIpOw0KDQogICAgICAgIHZhciByZXN1bHQgPSBbXTsNCiAgICAgICAgaXRlbS5mb3JFYWNoKHggPT4gew0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgdmFyIGEgPSBteWJveCA/IHguc2VsZWN0KCJoMyBhIikgOiB4LmZpbmQoImEiKS5sYXN0KCk7DQogICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CByZXN1bHQucHVzaChuZXcgTGlnaHRJdGVtKA0KICAgICAgICAgICAgICAgIHguc2VsZWN0KCJpbWciKS5hdHRyKCJzcmMiKS51c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mwoKSwNCiAgICAgICAgICAgICAgICBhLnRleHQoZmFsc2UpLCAiIiwNCiAgICAgICAgICAgICAgICBhLmF0dHIoImhyZWYiKS51c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mwoKSwgcmV0dXJuT2JqZWN0Lm5hbWUpKTsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICB9DQoNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICByZXR1cm5PYmplY3QuZ2V0Q2hhcHRlcnMgPSBhc3luYyAodXJsKSA9PiB7DQogICAgICAgIHZhciByZXN1bHQgPSB7fTsNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICAgICAgdmFyIHBhZ2UgPSAxOw0KDQogICAgICAgIHdoaWxlICh0cnVlKSB7DQoNCiAgICAgICAgICAgIHZhciBwVXJsID0gK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CIvcGFnZS97cGFnZX0vIikudXJpKHVybCk7DQogICAgICAgICAgICB2YXIgaXRlbSA9IHJldHVybk9iamVjdC5wYXJzZXIucmVuZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GVyQ291bnRlckNhbGxzKHBhZ2UsIHBVcmwpOw0KICAgICAgICAgICAgcGFnZSA9IGl0ZW0ucGFnZTsNCiAgICAgICAgICAgIHZhc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iB2YWx1ZXMgPSBhd2FpdCBQcm9taXNlLmFsbChpdGVtLnByb21pc2VzKTsNCiAgICAgICAgICAgIHZhciBicmVha0l0ID0gZmFsc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542U7DQoNCiAgICAgICAgICAgIHZhbHVlcy5mb3JFYWNoKHggPT4gew0KICAgICAgICAgICAgICAgIGlmICghYnJlYWtJdCkgew0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgICAgICAgICB2YXIgaXRlbXMgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKHgpLmZpbmQoInRib2R5IHRyIHRoI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GEiKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCFpdGVtcy5oYXNFbGVtZW50cygpKSB7DQogICAgICAgICAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICBicmVha0l0ID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIHZhciByZXN1b002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HRBID0gaXRlbXMucmVkdWNlKChhcnIsIHgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGFyclt4LnRleHQoKSArIHguY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XR0cigiaHJlZiIpLnVybCgpXSA9IG5ldyBDaGFwdGVyKHgudGV4dChmYWxzZSksIHguYXR0cigiaHJlZiIpLnVybCgpKTsNCiAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgICAgICAgfSwge30pOw0KDQogICAgICAgICAgICAgICAgICAgIGlmIChyZXR1cm5PYmplY3QucGFyc2VyLnZhb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GlkYXRlQ2hhcHRlcnMocmVzdWx0QSwgcmVzdWx0KSA9PSBmYWxzZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtJd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIH0pDQogICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICBpZiAoYnJlYWtJdCkNCiAgICAgICAgICAgICAgICBicmVhazsNCg0KICAgICAgICB9DQogICAgICAgIHJldHVybiBPY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mplY3QudmFsdWVzKHJlc3VsdCk7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmdldE5vdmVsID0gYXN5bmMgKG5vdmVsVXJsL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CBiYXNpY0luZm8pID0+IHsNCg0KICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBId002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HRwQ2xpZW50LmdldEh0bWwobm92ZWxVcmwsIGJhc2ljSW5mbykpOw0KICAgICAgICB2YXIgY2hhcHRlcnMgPSBiYXNpY0luZm8gP002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654T09IHRydWUgPyBbXSA6IGF3YWl0IHJldHVybk9iamVjdC5nZXRDaGFwdGVycyhub3ZlbFVybCk7DQogICAgICAgIHZhciBub3Zlb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654FJldmlld3MgPSBuZXcgTm92ZWxSZXZpZXdzKCk7DQogICAgICAgIGlmICghYmFzaWNJbmZvKSB7DQogICAgICAgICAgICB0cnkge002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654w0KICAgICAgICAgICAgICAgIHZhciBub2RlID0gY29udGFpbmVyLmZpbmQoIiNOb3ZlbEluZm8gPiBwIik7DQoNCiAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICBub3ZlbFJldmlld3MuZ2VucmVzID0gbm9kZS5lcSgxKS5maW5kKCJhIikubWFwKHggPT4geC50ZXh0KCkpOw0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgIG5vdmVsUmV2aWV3cy5hdXRob3IgPSBub2RlLmVxKDIpLnNlbGVjdCgiYSIpLnRleHQoKTsNCiAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICBub3ZlbFJldmlld3MuY29tcGxldGVkID0gbm9kZS5sYXN0KCkuc2VsZWN0KCJhIikudGV4dCgpID09PSAiQ29tcGxld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GUiID8gIlN0YXR1czpDb21wbGV0ZWQiIDogIlN0YXR1czpPbmdvaW5nIjsNCiAgICAgICAgICAgICAgICBub3ZlbFJldmlld3MuY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XV0aG9yVXJsID0gbm9kZS5lcSgyKS5zZWxlY3QoImEiKS5hdHRyKCJocmVmIikudGV4dCgpOw0KDQogICAgICAgICAgICB9IGNhd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GNoIChlKSB7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgfQ0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICByZXR1cm4gbmV3IERldGFsaUl0ZW0oDQogICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCcjTm92ZWxJbmZvIGltZycpL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mF0dHIoInNyYyIpLnVybCgpLA0KICAgICAgICAgICAgY29udGFpbmVyLnNlbGVjdCgndGl0bGUnKS50ZXh0KCkucmVwbGFjZSgiQ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd65429tcmFkZSBNYW8iLCAiIikucmVwbGFjZSgiLSIsICIiKS50cmltKCksDQogICAgICAgICAgICBjb250YWluZXIuZmluZCgnI05vd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVsSW5mbyAuY29sdW1ucyAuY29sdW1uJykubGFzdCgpLmNsZWFuSW5uZXJIVE1MKCksDQogICAgICAgICAgICBub3ZlbFVybCwNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICAgICAgICAgIGNoYXB0ZXJzLnJldmVyc2UoKSwNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cywNCiAgICAgICAgICAgIHJld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HVybk9iamVjdC5uYW1lLA0KICAgICAgICAgICAgdW5kZWZpbmVkLA0KICAgICAgICApDQogICAgfQ0KDQogICAgcmV0dXJuT2JqZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WN0LmdldENoYXB0ZXIgPSBhc3luYyAodXJsKSA9PiB7DQogICAgICAgIHJldHVybiByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3Y002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Wl0IG5ldyBjbGllbnQoKS5nZXRIdG1sKHVybCkpLnNlbGVjdCgiI2NvbnRlbnQiKS5jbGVhbklubmVySFRNTCgpOw0KICAgIH0NC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654g0KICAgIHJldHVybk9iamVjdC5sYXRlc3QgPSBhc3luYyAocGFnZSkgPT4gew0KICAgICAgICB2YXIgdXJsID0gcmV0dXJuT2JqZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WN0LmxhdGVzdFVybC5yZXBsYWNlKCJ7cH0iLCBwYWdlLnRvU3RyaW5nKCkpOw0KICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0d002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwodXJsKSk7DQogICAgICAgIHZhciByZXN1bHQgPSBbX002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654TsNCiAgICAgICAgY29udGFpbmVyLmZpbmQoInRib2R5ID4gdHIgPiB0aDpmaXJzdC1jaGlsZCA+IGEiKS5mb3JFYWNoKHggPT4ge002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654w0KICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IExpZ2h0SXRlbShhc3luYyAoKSA9PiAoYXdhaXQgcmV0dXJuT2JqZWN0Lmdld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654E5vdmVsKHguYXR0cigiaHJlZiIpLnVybCgpLCB0cnVlKSkuaW1hZ2UsDQogICAgICAgICAgICAgICAgeC50ZXh0KGZhbHNlKSwgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iIsIHguYXR0cigiaHJlZiIpLnVybCgpLCByZXR1cm5PYmplY3QubmFtZSkpOw0KICAgICAgICB9KTsNCiAgICAgICAgcmV0dXJuI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HJlc3VsdDsNCiAgICB9DQoNCiAgICByZXR1cm4gcmV0dXJuT2JqZWN0Ow0KfTs&K002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50KSA9PiB7DQogICAgY29uc3Qgc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mV0dXJuT2JqZWN0PSB7fTsNCiAgICByZXR1cm5PYmplY3QuaWQgPSAiMS5rb2xub3ZlbCI7DQogICAgcmV0dXJuT2JqZWN0LmRld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GFsaUl0ZW1UeXBlID0gRGV0YWxpSXRlbVR5cGUuTm92ZWw7DQogICAgcmV0dXJuT2JqZWN0LnBhcnNlckxhbmd1YWdlID0gImFyI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654jsNCiAgICByZXR1cm5PYmplY3QubmFtZSA9ICdLb2xOb3ZlbCc7DQogICAgcmV0dXJuT2JqZWN0LmRpc3BsYXlOYW1lID0gcmV0d002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJuT2JqZWN0Lm5hbWU7DQogICAgcmV0dXJuT2JqZWN0LmxhdGVzdFVybCA9ICdodHRwOi8va29sbm92ZWwuY29tL3Nlcmllcz9wY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WdlPXtwfSZzdGF0dXM9JnR5cGU9Jm9yZGVyPXVwZGF0ZSc7DQogICAgcmV0dXJuT2JqZWN0LnVybCA9ICJodHRwczovL2tvbG5vd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVsLmNvbSI7DQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaFVybCA9ICJodHRwczovL2tvbG5vdmVsLmNvbS9zZXJpZXM/cGFnZT17c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654H0mb3JkZXI9IjsNCiAgICByZXR1cm5PYmplY3QucGFuaW5hdGlvbiA9IHRydWU7DQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaFBhZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542luYXRpb24gPSB0cnVlOw0KICAgIHJldHVybk9iamVjdC5pY29uID0gJ2h0dHBzOi8va29sbm92ZWwuY29tL3dwLWNvbnRlbnQvd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XBsb2Fkcy8yMDE5LzA2L2Nyb3BwZWQt2KPZitmC2YjZhi0xLTEtMTUweDE1MC5wbmcnOw0KICAgIHJldHVybk9iamVjdC5wYXJzZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJTZWFyY2hTZXR0aW5ncyA9IG5ldyBQYXJzZXJTZWFyY2hTZXR0aW5ncygpOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542hTZXR0aW5ncy5nZW5yZXMgPSB7DQogICAgICAgIG11bHRpU2VsZWN0aW9uOiB0cnVlLA0KICAgICAgICB2YWx1ZXM6IFsNCiAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJXdXhpYSIsICd3dXhpYScpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlhpY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W54aWEiLCAieGlhbnhpYSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlhVQU5IVUFOIiwgInh1YW5odWFuIiksDQogI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgi2KPYtdmE2YrYqSIsICJvcmlnaW5hbCIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsV002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mFsdWUoItij2YPYtNmGIiwgImFjdGlvbiIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoItil2KvYp9ix2KkiLCAiZXhja002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XRlbWVudCIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoItil2YbYqtmC2KfZhCDYp9mE2Ykg2LnYp9mE2YUg2KPYrtixI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iwgImlzZWthaSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoItil2YrYqti02YoiLCAiZXRjaGkiKSwNCiAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIG5ldyBsYWJlbFZhbHVlKCLYp9mE2K7Zitin2YQg2KfZhNi52YTZhdmKIiwgInNjaS1maSIpLA0KICAgICAgICAgICAgbmV3I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GxhYmVsVmFsdWUoItio2YjZhNmK2LPZiiIsICJwb2xpY3kiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCLYqtin2LHZi002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654tiu2YoiLCAiaGlzdG9yaWNhbCIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoItiq2YLZhdi1INi02K7YtdmK2KfYqiIsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CJycGciKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCLYrNix2YrZhdipIiwgImNyaW1lIiksDQogICAgICAgICAgICBuZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XcgbGFiZWxWYWx1ZSgi2KzZiNiz2YkiLCAiam9zZWkiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCLYrdix2YrZhSIsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CJoYXJlbSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoItit2YrYp9ipINmF2K/Ysdiz2YrYqSIsICJzY2hvb2wtbGlmZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoItiu2KfYsdmC2Kkg2YTZhNi32KjZiti52KkiLCAic3VwZXJuYXR1cmFsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgi2K7Zitin2YTZiiIsICJmYW50YXN5IiksDQogICAgICAgICAgICBuZXcgb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GFiZWxWYWx1ZSgi2K/Ysdin2YXYpyIsICJkcmFtYSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoItix2LnYqCIsICJob002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543Jyb3IiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCLYsdmI2YXYp9mG2LPZiiIsICJyb21hbnRpYyIpLA0KICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgbmV3IGxhYmVsVmFsdWUoItiz2K3YsSIsICJtYWdpYyIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoItiz2YrZh002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654tmGIiwgInNlbmVuIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgi2LTYsdmK2K3YqSDZhdmGINin2YTYrdmK2KfYqSIsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CJzbGljZS1vZi1saWZlIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgi2LTZiNmG2YrZhiIsICJzaG9uZW4iKSwNCiAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCLYtdmK2YbZiiIsICJjaGluZXNlIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Sgi2LrZhdmI2LYiLCAibXlzdGVyaWVzIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgi2YHZhtmI2YYg2KfZhNmC2KrYp002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6549mEIiwgIm1hcnRpYWwtYXJ0cyIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoItmC2YjZiSDYrtin2LHZgtipIiwgInN1c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GVycG93ZXIiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCLZg9mI2LHZiiIsICJrb3JlYW4iKSwNCiAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654G5ldyBsYWJlbFZhbHVlKCLZg9mI2YXZitiv2YkiLCAiY29tZWR5IiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgi2YXYo002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6549iz2KfZiNmKIiwgInRyYWdlZHkiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCLZhdinINio2LnYryDYp9mE2YPYp9ix2002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654KvYqSIsICJhZnRlci10aGUtZGlzYXN0ZXIiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCLZhdi62KfZhdix2KkiLCAiY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WR2ZW50dXJlIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgi2YXZitmD2KciLCAibWVjaGFuaWNhbCIpLA0KICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgbmV3IGxhYmVsVmFsdWUoItmG2KfYttisIiwgIm1hdHVyZSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoItmG2002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654YHYs9mKIiwgInBzeWNob2xvZ2ljYWwiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCLZitin2KjYp9mG2YoiLCAiamFwY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W5lc2UiKSwNCg0KDQogICAgICAgIF0sDQogICAgfTsNCg0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5zd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GF0dXNlcyA9IHsNCiAgICAgICAgbXVsdGlTZWxlY3Rpb246IHRydWUsDQogICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mV3IGxhYmVsVmFsdWUoJ09uR29pbmcnLCAnb25nb2luZycpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0hpYXR1cycsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CdoaWF0dXMnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdDb21wbGV0ZWQnLCAnY29tcGxldGVkJyksDQogICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654F0sDQogICAgfTsNCg0KICAgIHJldHVybk9iamVjdC5nZXRTZWN0aW9ucyA9IChrZXlzKSA9PiB7DQogICAgICAgIHZhciBzZWN0a002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W9ucyA9IFsNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJsYXRlc3QiLCAiTGF0ZXN0IFVwZGF0ZSIsICJMYXRlc3QiLCB0cnVlK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SwNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJjb21wbGV0ZWQiLCAiQ29tcGxldGVkIE5vdmVsIiwgIlNlYXJjaCIsIGZhbHNlL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CBuZXcgRmlsdGVyKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsICJjb21wbGV0ZWQiKSkNCiAgICAgICAgXQ0KDQogI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgIHJldHVybiBzZWN0aW9ucy5maWx0ZXIoeCA9PiAha2V5cyB8fCBrZXlzLmluY2x1ZGVzKHgubmFtZSkpOw0KICAgIH0NC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654g0KICAgIHJldHVybk9iamVjdC50cmFuc2xhdGVTZWN0aW9uID0gYXN5bmMgKHNlY3Rpb24sIHBhZ2UpID0+IHsNCiAgICAgICAga002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WYgKHNlY3Rpb24uaWRlbnRpZmllciA9PSAiTGF0ZXN0IikNCiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZXR1cm5PYmplY3Qub002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GF0ZXN0KHBhZ2UpOw0KICAgICAgICBlbHNlDQogICAgICAgICAgICByZXR1cm4gYXdhaXQgcmV0dXJuT2JqZWN0LnNlYXJjaChzZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WN0aW9uLmZpbHRlciB8fCByZXR1cm5PYmplY3QuZGVmYXVsdEZpbHRlcigpLCBwYWdlKTsNCiAgICB9DQoNCiAgICByZXR1cm5PY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mplY3QuZGVmYXVsdEZpbHRlciA9ICgpID0+IHsNCiAgICAgICAgdmFyIGZpbHRlciA9IG5ldyBGaWx0ZXIoKTsNCiAgICAgICAgc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mV0dXJuIGZpbHRlcjsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3Quc2VhcmNoID0gYXN5bmMgKGZpbHRlciwgcGFnZSkgPT4ge002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654w0KICAgICAgICB2YXIgdXJsID0gcmV0dXJuT2JqZWN0LnNlYXJjaFVybC5yZXBsYWNlKCJ7cH0iLCBwYWdlLnRvU3RyaW5nKCkpO002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654w0KICAgICAgICBpZiAoZmlsdGVyLnRpdGxlICYmICFmaWx0ZXIudGl0bGUuaXNFbXB0eU9yU3BhY2VzKCkpDQogICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CB1cmwgKz0gIiZzPSIgKyBmaWx0ZXIudGl0bGU7DQogICAgICAgIGlmIChmaWx0ZXIuZ2VucmVzLmxlbmd0aCA+IDApDQogICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICB1cmwgKz0gIiYiICsgZmlsdGVyLmdlbnJlcy5tYXAoeCA9PiAiZ2VucmVbXT0iICsgeCkuam9pbigiJiIpOw0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICBpZiAoZmlsdGVyLmFjdGl2ZSAmJiBmaWx0ZXIuYWN0aXZlLmxlbmd0aCA+IDApDQogICAgICAgICAgICB1cmwgKz0gIiZzd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GF0dXM9IiArIGZpbHRlci5hY3RpdmU7DQogICAgICAgIHZhciBjb250YWluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3Y002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Wl0IEh0dHBDbGllbnQuZ2V0SHRtbCh1cmwpKTsNCiAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICBjb250YWluZXIuZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mluZCgnLmxpc3R1cGQgYScpLmZvckVhY2goKHgpID0+IHsNCiAgICAgICAgICAgIGlmICh4LnNlbGVjdCgnaW1nJykuYXR0cigic002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543JjIikuaGFzVmFsdWUoKSkNCiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCgNCiAgICAgICAgICAgICAgICAgICAgbmV3IExpZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542h0SXRlbSh4LnNlbGVjdCgnaW1nJykuYXR0cigic3JjIikudXJsKCksDQogICAgICAgICAgICAgICAgICAgICAgICB4LnNlbGVjd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CgnLm50aXRsZScpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgICAgICAgICAgICAgJycsDQogICAgICAgICAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICB4LmF0dHIoImhyZWYiKS51cmwoKSwgcmV0dXJuT2JqZWN0Lm5hbWUNCiAgICAgICAgICAgICAgICAgICAgKSwNCiAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICApOw0KICAgICAgICB9KTsNCg0KICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0NCg0KICAgIHJldHVybk9ia002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVjdC5nZXROb3ZlbCA9IGFzeW5jIChub3ZlbFVybCkgPT4gew0KICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0L002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwobm92ZWxVcmwpKTsNCiAgICAgICAgdmFyIGNoYXB0ZXJzID0gY29ud002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GFpbmVyLmZpbmQoIi5lcGxpc3RlciBsaSBhIikubWFwKHggPT4gbmV3IENoYXB0ZXIoeC5zZWxlY3QoIi5lcGwtbnVtIikudGV4d002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ChmYWxzZSkgKyAiICIgKyB4LnNlbGVjdCgiLmVwbC10aXRsZSIpLnRleHQoZmFsc2UpLCB4LmF0dHIoImhyZWYiKS51cmwoKSkpD002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QogICAgICAgIHZhciBub3ZlbFJldmlld3MgPSBuZXcgTm92ZWxSZXZpZXdzKCk7DQogICAgICAgIHZhciBpbmZvcyA9IGNvbnRha002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W5lci5maW5kKCIubmluZm8iKTsNCiAgICAgICAgbm92ZWxSZXZpZXdzLmdlbnJlcyA9IGNvbnRhaW5lci5maW5kKCIuZ2VueGVkI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GEiKS5tYXAoeCA9PiB4LnRleHQoZmFsc2UpKTsNCiAgICAgICAgbm92ZWxSZXZpZXdzLmF1dGhvciA9IGluZm9zLmVxKDApLmZpb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mQoIi5pbmZvLWNvbnRlbnQgLnNwZSBzcGFuIikuZXEoMikuZmluZCgiYSIpLnRleHRBcnJheSgpLmpvaW4oIiwiKTsNCiAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgbm92ZWxSZXZpZXdzLnV2b3RlcyA9IGNvbnRhaW5lci5zZWxlY3QoIi5yYXRpbmcgc3Ryb25nIikudGV4dCgpLm51bWJlcigpI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CsgIiAvIDEwIjsNCiAgICAgICAgbm92ZWxSZXZpZXdzLmNvbXBsZXRlZCA9IGNvbnRhaW5lci5maW5kKCIuaW5mby1jb250ZW50I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654C5zcGUgc3BhbiIpLmVxKDApLnJlbW92ZSgiYiIpLnRleHQoZmFsc2UpID09PSAiQ29tcGxldGVkIiA/ICJTdGF0dXM6Q29tcGxld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GVkIiA6ICJTdGF0dXM6T25nb2luZyI7DQoNCiAgICAgICAgcmV0dXJuIG5ldyBEZXRhbGlJdGVtKA0KICAgICAgICAgICAgY29ud002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GFpbmVyLnNlbGVjdCgnLnRodW1iIGltZycpLmF0dHIoInNyYyIpLnVybCgpLA0KICAgICAgICAgICAgY29udGFpbmVyLnNlbGVjd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CgnLmVudHJ5LXRpdGxlJykudGV4dChmYWxzZSksDQogICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCcuZW50cnktY29udGVud002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CcpLmNsZWFuSW5uZXJIVE1MKCksDQogICAgICAgICAgICBub3ZlbFVybCwNCiAgICAgICAgICAgIGNoYXB0ZXJzLnJldmVyc2UoK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SwNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cywNCiAgICAgICAgICAgIHJldHVybk9iamVjdC5uYW1lLA0KICAgICAgICAgICAgd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W5kZWZpbmVkLA0KICAgICAgICApOw0KICAgIH0NCg0KDQogICAgcmV0dXJuT2JqZWN0LmdldENoYXB0ZXIgPSBhc3luYyAodXJsK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SA9PiB7DQogICAgICAgIHJldHVybiByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IG5ldyBjbGllbnQoKS5nZXRIdG1sKHVyb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CkpLnNlbGVjdCgnLmVudHJ5LWNvbnRlbnQnKS5jbGVhbklubmVySFRNTCgpOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5sY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XRlc3QgPSBhc3luYyAocGFnZSkgPT4gew0KICAgICAgICB2YXIgdXJsID0gcmV0dXJuT2JqZWN0LmxhdGVzdFVybC5yZXBsYWNlK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Cd7cH0nLCBwYWdlLnRvU3RyaW5nKCkpOw0KICAgICAgICB2YXIgaHRtbCA9YXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKHVybCk7D002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QogICAgICAgIGNvbnNvbGUubG9nKGh0bWwpDQogICAgICAgIHZhciBjb250YWluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Gh0bWwpOw0KICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgIGNvbnRhaW5lci5maW5kKCcubGlzdHVwZCBhJykuZm9yR002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WFjaCgoeCkgPT4gew0KICAgICAgICAgICAgaWYgKHguc2VsZWN0KCdpbWcnKS5hdHRyKCJzcmMiKS5oYXNWYWx1ZSgpKQ0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgIHJlc3VsdC5wdXNoKA0KICAgICAgICAgICAgICAgICAgICBuZXcgTGlnaHRJdGVtKHguc2VsZWN0KCdpbWcnK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654S5hdHRyKCJzcmMiKS51cmwoKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHguc2VsZWN0KCcubnRpdGxlJykudGV4dChmYWxzZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SksDQogICAgICAgICAgICAgICAgICAgICAgICAnJywNCiAgICAgICAgICAgICAgICAgICAgICAgIHguYXR0cigiaHJlZiIpLnVyb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CgpLCByZXR1cm5PYmplY3QubmFtZQ0KICAgICAgICAgICAgICAgICAgICApLA0KICAgICAgICAgICAgICAgICk7DQogICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654H0pOw0KDQogICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgfQ0KDQogICAgcmV0dXJuIHJldHVybk9iamVjdDsNCn0&K002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50KSA9PiB7DQogICAgY29uc3Qgc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mV0dXJuT2JqZWN0ID0ge307DQogICAgcmV0dXJuT2JqZWN0LmlkID0gIjEubGlnaHRub3ZlbHB1YiI7DQogICAgcmV0dXJuT2JqZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WN0LmRldGFsaUl0ZW1UeXBlID0gRGV0YWxpSXRlbVR5cGUuTm92ZWw7DQogICAgcmV0dXJuT2JqZWN0LnBhcnNlckxhbmd1YWdlI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654D0gImVuIjsNCiAgICByZXR1cm5PYmplY3QubmFtZSA9ICdMaWdodE5vdmVsUHViJzsNCiAgICByZXR1cm5PYmplY3QuZGlzcGxhe002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654U5hbWUgPSAiTGlnaHQtTm92ZWwiOw0KICAgIHJldHVybk9iamVjdC5sYXRlc3RVcmwgPSAnaHR0cHM6Ly93d3cubGlnaHRub3Zlb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HB1Yi5jb20vYnJvd3NlL2FsbC91cGRhdGVkL2FsbC97cH0nOw0KICAgIHJldHVybk9iamVjdC51cmwgPSAnaHR0cHM6Ly93d3cub002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GlnaHRub3ZlbHB1Yi5jb20nOw0KICAgIHJldHVybk9iamVjdC5zZWFyY2hVcmwgPSAnaHR0cHM6Ly93d3cubGlnaHRub3ZlbHB1Y002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654i5jb20vbG53c2VhcmNobGl2ZT9pbnB1dENvbnRlbnQ9e3F9JzsNCiAgICByZXR1cm5PYmplY3QucGFuaW5hdGlvbiA9IHRydWU7D002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QogICAgcmV0dXJuT2JqZWN0LnNlYXJjaFBhZ2luYXRpb24gPSB0cnVlOw0KICAgIHJldHVybk9iamVjdC5pY29uID0gJ2h0dHBzO002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654i8vc3RhdGljLmxpZ2h0bm92ZWxwdWIuY29tL2NvbnRlbnQvaW1nL2xpZ2h0bm92ZWxwdWIvYXBwbGUtdG91Y2gtaWNvbi5wbmcnO002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654w0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncyA9IG5ldyBQYXJzZXJTZWFyY2hTZXR0aW5ncygpOw0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5tdWx0aVNlbGVjdGlvbiA9IHRydWU7DQogICAgcmV0dXJuT2JqZWN0L002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nBhcnNlclNlYXJjaFNldHRpbmdzLmdlbnJlcyA9IHsNCiAgICAgICAgbXVsdGlTZWxlY3Rpb246IHRydWUsDQogICAgICAgIHZhb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HVlczogWw0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkFjdGlvbiIsIDEpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WUoIkFkdWx0IiwgNDgpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkFkdmVudHVyZSIsIDIpLA0KICAgICAgICAgICAgb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mV3IGxhYmVsVmFsdWUoIkNvbWVkeSIsIDEyKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJDb250ZW1wb3JhcnkgUm9tY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W5jZSIsIDU5KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJEcmFtYSIsIDMpLA0KICAgICAgICAgICAgbmV3IGxhYmVsV002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mFsdWUoIkVhc3Rlcm4gRmFudGFzeSIsIDU4KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJFY2NoaSIsIDExKSwNCiAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJGYW50YXN5IiwgNCksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiRmFudGFze002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SBSb21hbmNlIiwgNjApLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkdlbmRlciBCZW5kZXIiLCA1MiksDQogICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICBuZXcgbGFiZWxWYWx1ZSgiSGFyZW0iLCA1KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJIaXN0b3JpY2FsIiwgN002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654DYpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkhvcnJvciIsIDQ0KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CJKb3NlaSIsIDIzKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJMb2xpY29uIiwgNTEpLA0KICAgICAgICAgICAgbmV3I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GxhYmVsVmFsdWUoIk1hZ2ljYWwgUmVhbGlzbSIsIDU3KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJNYXJ0aWFsIEFyd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HMiLCA2KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJNYXR1cmUiLCA3KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HVlKCJNZWNoYSIsIDQ1KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJNeXN0ZXJ5IiwgMTQpLA0KICAgICAgICAgICAgb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mV3IGxhYmVsVmFsdWUoIlBzeWNob2xvZ2ljYWwiLCAxOCksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiUm9tYW5jZSIsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654DgpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNjaG9vbCBMaWZlIiwgMjEpLA0KICAgICAgICAgICAgbmV3IGxhYmVsV002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mFsdWUoIlNjaS1maSIsIDE5KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTZWluZW4iLCA0OSksDQogICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CBuZXcgbGFiZWxWYWx1ZSgiU2hvdWpvIiwgNDcpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNob3VqbyBBaSIsIDYxK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTaG91bmVuIiwgNDMpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654lNob3VuZW4gQWkiLCA1MyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2xpY2Ugb2YgTGlmZSIsIDEzKSwNCiAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgIG5ldyBsYWJlbFZhbHVlKCJTbXV0IiwgNTYpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNwb3J0cyIsIDUwK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTdXBlcm5hdHVyYWwiLCAxNiksDQogICAgICAgICAgICBuZXcgbGFiZWxWY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Wx1ZSgiVHJhZ2VkeSIsIDkpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlZpZGVvIEdhbWVzIiwgNTUpLA0KICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgbmV3IGxhYmVsVmFsdWUoIld1eGlhIiwgNDIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlhpYW54aWEiLCAyM002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiWHVhbmh1YW4iLCAxMCksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SgiWWFvaSIsIDU0KQ0KICAgICAgICBdDQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLnN0Y002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XR1c2VzID0gew0KICAgICAgICBtdWx0aVNlbGVjdGlvbjogdHJ1ZSwNCiAgICAgICAgdmFsdWVzOiBbDQogICAgICAgICAgICBuZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XcgbGFiZWxWYWx1ZSgiQ29tcGxldGVkIiwgMSksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiT25nb2luZyIsIDIpLA0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICBdDQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLmxhbmd1YWdlcyA9IHsNCiAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgbXVsdGlTZWxlY3Rpb246IHRydWUsDQogICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654kNoaW5lc2UgTm92ZWwiLCA0KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJLb3JlYW4gTm92ZWwiLCA1KSwNCiAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgIG5ldyBsYWJlbFZhbHVlKCJMaWdodCBOb3ZlbCIsIDYpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkxpZ2h0I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654E5vdmVsIChKUCkiLCA5KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJMaWdodCBOb3ZlbCAoS1IpIiwgMTApLA0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlB1Ymxpc2hlZCBOb3ZlbCAoQ04pIiwgMTEpLA0KICAgICAgICAgICAgbmV3IGxhYmVsV002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mFsdWUoIlB1Ymxpc2hlZCBOb3ZlbCAoS1IpIiwgOCksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiV2ViIE5vdmVsIiwgN002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654yksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiV2ViIE5vdmVsIChDTikiLCAxKSwNCiAgICAgICAgICAgIG5ldyBsYWJlb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654FZhbHVlKCJXZWIgTm92ZWwgKEpQKSIsIDMpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIldlYiBOb3ZlbCAoS1IpIiwgM002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ikNCiAgICAgICAgXQ0KICAgIH0NCg0KDQogICAgcmV0dXJuT2JqZWN0LmdldFNlY3Rpb25zID0gKGtleXMpID0+IHsNCiAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgdmFyIHNlY3Rpb25zID0gWw0KICAgICAgICAgICAgbmV3IFNlY3Rpb24oImxhdGVzdCIsICJMYXRlc3QgVXBkYXRlIiwgIkxhd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GVzdCIsIHRydWUpLA0KICAgICAgICAgICAgbmV3IFNlY3Rpb24oInJvbWFuY2UiLCAiUm9tYW5jZSIsICJTZWFyY2giLCBmYWxzZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SwgbmV3IEZpbHRlcihbOF0pKSwNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJhY3Rpb24iLCAiQWN0aW9uIiwgIlNlYXJjaCIsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GZhbHNlLCBuZXcgRmlsdGVyKFsxXSkpLA0KICAgICAgICAgICAgbmV3IFNlY3Rpb24oIm15c3RlcnkiLCAiTXlzdGVyeSIsICJTZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcihbMTRdKSksDQogICAgICAgIF0NCg0KICAgICAgICByZXR1cm4gc2VjdGlvbnMuZmlsd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GVyKHggPT4gIWtleXMgfHwga2V5cy5pbmNsdWRlcyh4Lm5hbWUpKTsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QudHJhbnNsY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XRlU2VjdGlvbiA9IGFzeW5jIChzZWN0aW9uLCBwYWdlKSA9PiB7DQogICAgICAgIGlmIChzZWN0aW9uLmlkZW50aWZpZXIgPT0gI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654kxhdGVzdCIpDQogICAgICAgICAgICByZXR1cm4gYXdhaXQgcmV0dXJuT2JqZWN0LmxhdGVzdChwYWdlKTsNCiAgICAgICAgZWxzZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Q0KICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHJldHVybk9iamVjdC5zZWFyY2goc2VjdGlvbi5maWx0ZXIgfHwgcmV0dXJuT2JqZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WN0LmRlZmF1bHRGaWx0ZXIoKSwgcGFnZSk7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmRlZmF1bHRGaWx0ZXIgPSAoKSA9P002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iB7DQogICAgICAgcmV0dXJuIG5ldyBGaWx0ZXIoKTsNCiAgICB9Ow0KDQogICAgcmV0dXJuT2JqZWN0LmdldEdlbnJlcyA9IGFze002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W5jIChmaWx0ZXIsIHBhZ2UpID0+IHsNCiAgICAgICAgdmFyIHVybCA9ICJodHRwczovL3d3dy5saWdodG5vdmVscHViLmNvbS9zZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WFyY2hhZHY/Y3RnY29uPWFuZCZ0YWdjb249YW5kJnJhdGNvbj1taW4mcmF0aW5nPTAmc29ydD1zZGF0ZSZwYWdlTm89IiArIHBhZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542U7DQogICAgICAgIGlmIChmaWx0ZXIuYWN0aXZlKQ0KICAgICAgICAgICAgdXJsID0gdXJsICsgIiZzdGF0dXM9IiArIGZpbHRlc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654i5hY3RpdmU7DQogICAgICAgIGlmIChmaWx0ZXIubGFuZ3VhZ2UgJiYgZmlsdGVyLmxhbmd1YWdlICE9ICIiKQ0KICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgdXJsID0gdXJsICsgIiZnZW5yZXR5cGVzPSIgKyBmaWx0ZXIubGFuZ3VhZ2U7DQoNCiAgICAgICAgaWYgKGZpbHRlci5nZW5yZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XMubGVuZ3RoID4gMCkNCiAgICAgICAgICAgIHVybCA9IHVybCArICImY2F0ZWdvcmllcz0iICsgZmlsdGVyLmdlbnJlcy5qb2luK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CIlMkMiKTsNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XRIdG1sKHVybCkpOw0KICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgIGNvbnRhaW5lci5maW5kKCIubm92ZWwtaXRlb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SIpLmZvckVhY2goeCA9PiB7DQogICAgICAgICAgICByZXN1bHQucHVzaChuZXcgTGlnaHRJdGVtKHguc2VsZWN0KCJpbWciKS5hd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HRyKCJkYXRhLXNyYyB8IHNyYyIpLnVybCgpLA0KICAgICAgICAgICAgICAgIHguc2VsZWN0KCIubm92ZWwtdGl0bGUgYSIpLnRle002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HQoZmFsc2UpLA0KICAgICAgICAgICAgICAgICIiLA0KICAgICAgICAgICAgICAgIHguc2VsZWN0KCIubm92ZWwtdGl0bGUgYSIpL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mF0dHIoImhyZWYiKS51cmwoKSwNCiAgICAgICAgICAgICAgICByZXR1cm5PYmplY3QubmFtZSkpOw0KICAgICAgICB9KTsNCg0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5zZWFyY2ggPSBhc3luYyAoZmlsdGVyLCBwY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WdlKSA9PiB7DQogICAgICAgIGlmICghZmlsdGVyLnRpdGxlKQ0KICAgICAgICAgICAgZmlsdGVyLnRpdGxlID0gIiI7DQogICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIHZhciB1cmwgPSByZXR1cm5PYmplY3Quc2VhcmNoVXJsLnJlcGxhY2UoIntwfSIsIHBhZ2UudG9TdHJpbmcoKSkucmVwbGFjZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Sgie3F9IiwgZmlsdGVyLnRpdGxlKTsNCiAgICAgICAgaWYgKGZpbHRlci5nZW5yZXMubGVuZ3RoID4gMCB8fCBmaWx0ZXIubGFuZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543VhZ2UgIT0gIiIgfHwgZmlsdGVyLmFjdGl2ZSkNCiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZXR1cm5PYmplY3QuZ2V0R2Vuc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVzKGZpbHRlciwgcGFnZSk7DQogICAgICAgIHZhciBjb250YWluZXIgPSBhd2FpdCBIdHRwQ2xpZW50LkdldEpzb24odXJsKTsNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICAgICAgdmFyIGh0bWwgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKGNvbnRhaW5lci5yZXN1bHR2aWV3LnRvSHRtbCgpKTsNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICBodG1sLmZpbmQoIi5ub3ZlbC1pdGVtIikuZm9yRWFjaCh4ID0+IHsNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBMaWdodEl0ZW0oeC5zZWxlY3QoImltZyIpLmF0dHIoImRhdGEtc3JjIHwgc3JjI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ikudXJsKCksDQogICAgICAgICAgICAgICAgeC5zZWxlY3QoIi5ub3ZlbC10aXRsZSIpLnRleHQoZmFsc2UpLA0KICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICIiLA0KICAgICAgICAgICAgICAgIHguc2VsZWN0KCJhIikuYXR0cigiaHJlZiIpLnVybCgpLA0KICAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIHJldHVybk9iamVjdC5uYW1lKSk7DQogICAgICAgIH0pOw0KICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0NCg0KDQogI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgcmV0dXJuT2JqZWN0LmdldENoYXB0ZXJzID0gYXN5bmMgKG5vdmVsVXJsKSA9PiB7DQogICAgICAgIHZhciBwYWdlID0gMTsNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICAgICAgdmFyIHJlc3VsdCA9IHt9Ow0KICAgICAgICB3aGlsZSAodHJ1ZSkgew0KICAgICAgICAgICAgdmFyIHVybCA9IG5vd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVsVXJsICsgIi9wYWdlLXtwYWdlfSI7DQogICAgICAgICAgICB2YXIgaXRlbSA9IHJldHVybk9iamVjdC5wYXJzZXIucmVuZGVyQ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654291bnRlckNhbGxzKHBhZ2UsIHVybCk7DQogICAgICAgICAgICBwYWdlID0gaXRlbS5wYWdlOw0KICAgICAgICAgICAgdmFyIHZhb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HVlcyA9IGF3YWl0IFByb21pc2UuYWxsKGl0ZW0ucHJvbWlzZXMpOw0KICAgICAgICAgICAgdmFyIGJyZWFrSXQgPSBmYWxzZTsNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654g0KICAgICAgICAgICAgdmFsdWVzLmZvckVhY2goeCA9PiB7DQogICAgICAgICAgICAgICAgaWYgKCFicmVha0l0KSB7DQogICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgICAgIHZhciBpdGVtcyA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoeCkuZmluZCgiLmNoYXB0ZXItbGlzdCBhI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ik7DQogICAgICAgICAgICAgICAgICAgIGlmICghaXRlbXMuaGFzRWxlbWVudHMoKSkgew0KICAgICAgICAgICAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgYnJlYWtJdCA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0Q002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SA9IGl0ZW1zLnJlZHVjZSgoYXJyLCB4KSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBhcnJbeC5hdHRyKCJ0aXRsZSIpL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nRleHQoKSArIHguYXR0cigiaHJlZiIpLnVybCgpXSA9IG5ldyBDaGFwdGVyKHguYXR0cigidGl0bGUiKS50ZXh0KCksIHguYXR0c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654igiaHJlZiIpLnVybCgpKTsNCiAgICAgICAgICAgICAgICAgICAgfSwge30pOw0KDQogICAgICAgICAgICAgICAgICAgIGlmIChyZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XR1cm5PYmplY3QucGFyc2VyLnZhbGlkYXRlQ2hhcHRlcnMocmVzdWx0QSwgcmVzdWx0KSA9PSBmYWxzZSkgew0KICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgICAgYnJlYWtJdCA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQoNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICAgICAgICAgIH0pDQoNCiAgICAgICAgICAgIGlmIChicmVha0l0KQ0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CB9DQoNCiAgICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXMocmVzdWx0KTsNCg0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5nZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XROb3ZlbCA9IGFzeW5jIChub3ZlbFVybCkgPT4gew0KICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654i5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwobm92ZWxVcmwpKTsNCiAgICAgICAgdmFyIGNoYXB0ZXJVcmwgPSBjb250YWluZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XIuc2VsZWN0KCIuY2hhcHRlci1sYXRlc3QtY29udGFpbmVyIikuYXR0cigiaHJlZiIpLnVybCgpOw0KICAgICAgICBpZiAoIWNoY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XB0ZXJVcmwgfHwgY2hhcHRlclVybCA9PSAiIikNCiAgICAgICAgICAgIGNoYXB0ZXJVcmwgPSBub3ZlbFVybDsNCiAgICAgICAgd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mFyIGNoYXB0ZXJzID0gYXdhaXQgcmV0dXJuT2JqZWN0LmdldENoYXB0ZXJzKGNoYXB0ZXJVcmwpOw0KICAgICAgICB2YXIgbm92Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WxSZXZpZXdzID0gbmV3IE5vdmVsUmV2aWV3cygpOw0KICAgICAgICB2YXIgaW5mbyA9IGNvbnRhaW5lci5zZWxlY3QoIi5ub3Zlb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654C1pbmZvIik7DQogICAgICAgIG5vdmVsUmV2aWV3cy5nZW5yZXMgPSBpbmZvLmZpbmQoIi5jYXRlZ29yaWVzIGEiKS50ZXh0QXJyY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XkoKTsNCiAgICAgICAgbm92ZWxSZXZpZXdzLmF1dGhvciA9IGluZm8uc2VsZWN0KCIuYXV0aG9yIGEiKS50ZXh0KGZhbHNlKTsNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICAgICAgbm92ZWxSZXZpZXdzLnV2b3RlcyA9ICJSYXRpbmc6IiArIGNvbnRhaW5lci5zZWxlY3QoIi5yYXRpbmctc3RhciBzd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HJvbmciKS50ZXh0KGZhbHNlKSArICIvNSI7DQogICAgICAgIG5vdmVsUmV2aWV3cy5kZXNjcmlwdGlvbiA9IGNvbnRhaW5lci5zZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WxlY3QoIiNpbmZvIC5zdW1tYXJ5IikuY2xlYW5Jbm5lckhUTUwoKTsNCiAgICAgICAgbm92ZWxSZXZpZXdzLmNvbXBsZXRlZCA9I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GluZm8udGV4dChmYWxzZSkgPT09ICJDb21wbGV0ZWQiID8gIlN0YXR1czpDb21wbGV0ZWQiIDogIlN0YXR1czpPbmdvaW5nIjsNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654g0KICAgICAgICByZXR1cm4gbmV3IERldGFsaUl0ZW0oDQogICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCIuY292ZXIgaW1nI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ikuYXR0cigiZGF0YS1zcmMgfCBzcmMiKS51cmwoKSwNCiAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoIi5ub3ZlbC10aXRsZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SIpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLmRlc2NyaXB0aW9uLA0KICAgICAgICAgICAgbm92ZWxVc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mwsDQogICAgICAgICAgICBjaGFwdGVycywNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cywNCiAgICAgICAgICAgIHJldHVybk9ia002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVjdC5uYW1lLA0KICAgICAgICAgICAgdW5kZWZpbmVkLA0KICAgICAgICApDQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0Lmdld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ENoYXB0ZXIgPSBhc3luYyAodXJsKSA9PiB7DQogICAgICAgIHJldHVybiByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IG5ld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654yBjbGllbnQoKS5nZXRIdG1sKHVybCkpLnNlbGVjdCgiI2NoYXB0ZXItY29udGFpbmVyIikuY2xlYW5Jbm5lckhUTUwoKTsNCiAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CB9DQoNCiAgICByZXR1cm5PYmplY3QubGF0ZXN0ID0gYXN5bmMgKHBhZ2UpID0+IHsNCiAgICAgICAgdmFyIHVybCA9IHJldHVyb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654k9iamVjdC5sYXRlc3RVcmwucmVwbGFjZSgie3B9IiwgcGFnZS50b1N0cmluZygpKTsNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKHVybCkpOw0KICAgICAgICB2YXIgcmVzdWx0I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654D0gW107DQogICAgICAgIGNvbnRhaW5lci5maW5kKCIubm92ZWwtaXRlbSIpLmZvckVhY2goeCA9PiB7DQogICAgICAgICAgICByZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XN1bHQucHVzaChuZXcgTGlnaHRJdGVtKHguc2VsZWN0KCIubm92ZWwtY292ZXIgaW1nIikuYXR0cigiZGF0YS1zcmMgfCBzcmMiK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654S51cmwoKSwNCiAgICAgICAgICAgICAgICB4LnNlbGVjdCgiLm5vdmVsLXRpdGxlIikudGV4dCgpLA0KICAgICAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CIiLA0KICAgICAgICAgICAgICAgIHguc2VsZWN0KCIuY292ZXItd3JhcCBhIikuYXR0cigiaHJlZiIpLnVybCgpLA0KICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgIHJldHVybk9iamVjdC5uYW1lKSk7DQogICAgICAgIH0pOw0KICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0NC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654g0KICAgIHJldHVybiByZXR1cm5PYmplY3Q7DQoNCn0&K002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIpID0+I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HsNCiAgICBjb25zdCByZXR1cm5PYmplY3QgPSB7fTsNCiAgICByZXR1cm5PYmplY3QuaWQgPSAiMS5tYW5nYW5lbG8iOw0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HJldHVybk9iamVjdC5kZXRhbGlJdGVtVHlwZSA9IERldGFsaUl0ZW1UeXBlLk1hbmFnYTsNCiAgICByZXR1cm5PYmplY3QucGFyc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542VyTGFuZ3VhZ2UgPSAiZW4iOw0KICAgIHJldHVybk9iamVjdC5uYW1lID0gJ01hbmdhbkVsbyc7DQogICAgcmV0dXJuT2JqZWN0L002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mRpc3BsYXlOYW1lID0gIk1hbmdhLVNlY3RvciI7DQogICAgcmV0dXJuT2JqZWN0LmxhdGVzdFVybCA9ICdodHRwczovL21hbmdhb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVsby5jb20vZ2VucmUtYWxsL3twfSc7DQogICAgcmV0dXJuT2JqZWN0LnVybCA9ICdodHRwczovL21hbmdhbmVsby5jb20vJzsNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICByZXR1cm5PYmplY3Quc2VhcmNoVXJsID0gJ2h0dHBzOi8vbWFuZ2FuZWxvLmNvbS9hZHZhbmNlZF9zZWFyY2g/cz1hbGwmc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GFnZT17cH0nOw0KICAgIHJldHVybk9iamVjdC5wYW5pbmF0aW9uID0gdHJ1ZTsNCiAgICByZXR1cm5PYmplY3Quc2VhcmNoUGFna002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W5hdGlvbiA9IHRydWU7DQogICAgcmV0dXJuT2JqZWN0Lmljb24gPSAnaHR0cHM6Ly9tYW5nYW5lbG8uY29tL2Zhdmljb24ucG5nJ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654zsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3MgPSBuZXcgUGFyc2VyU2VhcmNoU2V0dGluZ3MoKTsNCiAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3MubXVsdGlTZWxlY3Rpb24gPSB0cnVlOw0KICAgIHJldHVybk9iamVjd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654C5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZXMgPSB7DQogICAgICAgIG11bHRpU2VsZWN0aW9uOiBmYWxzZSwNCiAgICAgICAgd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mFsdWVzOiBbDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnQWN0aW9uJywgMiksDQogICAgICAgICAgICBuZXcgbGFiZWxWY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Wx1ZSgnQWR1bHQnLCAzKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdBZHZlbnR1cmUnLCA0KSwNCiAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654G5ldyBsYWJlbFZhbHVlKCdDb21lZHknLCA2KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdDb29raW5nJywgNyksDQogI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnRG91amluc2hpJywgOSksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnRHJhb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WEnLCAxMCksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnRWNjaGknLCAxMSksDQogICAgICAgICAgICBuZXcgbGFiZWxWY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Wx1ZSgnRmFudGFzeScsIDEyKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdHZW5kZXIgYmVuZGVyJywgMTMpLA0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0hhcmVtJywgMTQpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0hpc3RvcmljY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WwnLCAxNSksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnSG9ycm9yJywgMTYpLA0KICAgICAgICAgICAgbmV3IGxhYmVsV002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mFsdWUoJ0lzZWthaScsIDQ1KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdKb3NlaScsIDE3KSwNCiAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654G5ldyBsYWJlbFZhbHVlKCdNYW5odWEnLCA0NCksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTWFuaHdhJywgNDMpLA0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ01hcnRpYWwgYXJ0cycsIDE5KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CdNYXR1cmUnLCAyMCksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTWVjaGEnLCAyMSksDQogICAgICAgICAgICBuZXcgb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GFiZWxWYWx1ZSgnTWVkaWNhbCcsIDIyKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNeXN0ZXJ5JywgMjQpLA0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ09uZSBzaG90JywgMjUpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1BzeWNob002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542xvZ2ljYWwnLCAyNiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnUm9tYW5jZScsIDI3KSwNCiAgICAgICAgICAgIG5ld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654yBsYWJlbFZhbHVlKCdTY2hvb2wgbGlmZScsIDI4KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTY2kgZmknLCAyOSksD002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU2VpbmVuJywgMzApLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1Nob002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543VqbycsIDMxKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTaG91am8gYWknLCAzMiksDQogICAgICAgICAgICBuZXcgb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GFiZWxWYWx1ZSgnU2hvdW5lbicsIDMzKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTaG91bmVuIGFpJywgMzQpLA0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1NsaWNlIG9mIGxpZmUnLCAzNSksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SgnU211dCcsIDM2KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTcG9ydHMnLCAzNyksDQogICAgICAgICAgICBuZXcgb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GFiZWxWYWx1ZSgnU3VwZXJuYXR1cmFsJywgMzgpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1RyYWdlZHknLCAzOSksD002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnV2VidG9vbnMnLCA0MCksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnW002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WFvaScsIDQxKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdZdXJpJywgNDIpLA0KICAgICAgICBdLA0KICAgIH07DQoNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3Muc29ydFR5cGVzID0gew0KICAgICAgICBtdWx0aVNlbGVjdGlvb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654jogZmFsc2UsDQogICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0xhdGVzdCBSZWxlYXNlJywgJ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ycpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ05ld2VzdCcsICduZXdlc3QnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654FZhbHVlKCdUb3AgdmlldycsICd0b3B2aWV3JyksDQogICAgICAgIF0sDQogICAgfTsNCg0KICAgIHJldHVybk9iamVjdC5wYXJzZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJTZWFyY2hTZXR0aW5ncy5zdGF0dXNlcyA9IHsNCiAgICAgICAgbXVsdGlTZWxlY3Rpb246IGZhbHNlLA0KICAgICAgICB2YWx1Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XM6IFsNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJDb21wbGV0ZWQiLCAiY29tcGxldGVkIiksDQogICAgICAgICAgICBuZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XcgbGFiZWxWYWx1ZSgib25nb2luZyIsICJvbmdvaW5nIikNCiAgICAgICAgXQ0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5nZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XRTZWN0aW9ucyA9IChrZXlzKSA9PiB7DQogICAgICAgIHZhciBzZWN0aW9ucyA9IFsNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CJsYXRlc3QiLCAiTGF0ZXN0IFVwZGF0ZSIsICJMYXRlc3QiLCB0cnVlKSwNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJob3QiL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAiTmV3ZXN0IiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKHVuZGVmaW5lZCwgIm5ld2VzdCIpKSwNCiAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654G5ldyBTZWN0aW9uKCJjb21wbGV0ZWQiLCAiQ29tcGxldGVkIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKHVuZGVmaW5lZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CwgdW5kZWZpbmVkLCB1bmRlZmluZWQsICJjb21wbGV0ZWQiKSksDQogICAgICAgICAgICBuZXcgU2VjdGlvbigicG9wdWxhciIsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CJNb3N0IFBvcHVsYXIiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIodW5kZWZpbmVkLCAidG9wdmlldyIpKQ0KICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CBdDQoNCiAgICAgICAgcmV0dXJuIHNlY3Rpb25zLmZpbHRlcih4ID0+ICFrZXlzIHx8IGtleXMuaW5jbHVkZXMoeC5uYW1lKSk7D002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LnRyYW5zbGF0ZVNlY3Rpb24gPSBhc3luYyAoc2VjdGlvbiwgcGFnZSkgPT4gew0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICBpZiAoc2VjdGlvbi5pZGVudGlmaWVyID09ICJMYXRlc3QiKQ0KICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHJldHVyb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654k9iamVjdC5sYXRlc3QocGFnZSk7DQogICAgICAgIGVsc2UNCiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZXR1cm5PYmplY3Quc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542VhcmNoKHNlY3Rpb24uZmlsdGVyIHx8IHJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyKCksIHBhZ2UpOw0KICAgIH0NCg0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyID0gKCkgPT4gew0KICAgICAgICB2YXIgZmlsdGVyID0gbmV3IEZpbHRlcigpOw0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICByZXR1cm4gZmlsdGVyOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5zZWFyY2ggPSBhc3luYyAoZmlsdGVyLCBwY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WdlKSA9PiB7DQogICAgICAgIHZhciB1cmwgPSByZXR1cm5PYmplY3Quc2VhcmNoVXJsLnJlcGxhY2UoIntwfSIsIHBhZ2UudG9Td002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HJpbmcoKSk7DQogICAgICAgIGlmIChmaWx0ZXIuZ2VucmVzLmxlbmd0aCA+IDApDQogICAgICAgICAgICB1cmwgPSAoIiZnX2k9X002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654yIgKyBmaWx0ZXIuZ2VucmVzLmpvaW4oIl8iKSkudXJpKHVybCk7DQogICAgICAgIGlmIChmaWx0ZXIuc29ydFR5cGUgJiYgZmlsd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GVyLnNvcnRUeXBlICE9ICIiKQ0KICAgICAgICAgICAgdXJsID0gKCImb3JieT0iICsgZmlsdGVyLnNvcnRUeXBlKS51cmkodXJsK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654TsNCiAgICAgICAgaWYgKGZpbHRlci5hY3RpdmUgJiYgZmlsdGVyLmFjdGl2ZSAhPSAiIikNCiAgICAgICAgICAgIHVybCA9ICgiJ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nN0cz0iICsgZmlsdGVyLmFjdGl2ZSkudXJpKHVybCk7DQogICAgICAgIGlmIChmaWx0ZXIudGl0bGUgJiYgZmlsdGVyLnRpdGxlL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nRyaW0oKS5sZW5ndGggPiAwKQ0KICAgICAgICAgICAgdXJsID0gKCIma2V5dz0iICsgZmlsdGVyLnRpdGxlLnJlcGxhY2UoL1sgX002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654S9nLCAiXyIpKS51cmkodXJsKTsNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgS002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HR0cENsaWVudC5nZXRIdG1sKHVybCkpOw0KICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgIGNvbnRhaW5lci5maW5kK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CcuY29udGVudC1nZW5yZXMtaXRlbScpLmZvckVhY2goKHgpID0+IHsNCiAgICAgICAgICAgIGlmICh4LnNlbGVjdCgnLmdlbnJlc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654y1pdGVtLWltZyBpbWcnKS5hdHRyKCJzcmMiKS5oYXNWYWx1ZSgpKQ0KICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKA0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgICAgICBuZXcgTGlnaHRJdGVtKA0KICAgICAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoJy5nZW5yZXMta002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XRlbS1pbWcgaW1nJykuYXR0cigic3JjIikudXJsKCksDQogICAgICAgICAgICAgICAgICAgICAgICB4LnNlbGVjdCgnLmdlbnJlc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654y1pdGVtLWltZycpLmF0dHIoInRpdGxlIikudGV4dCgpLA0KICAgICAgICAgICAgICAgICAgICAgICAgJycsDQogICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgICB4LnNlbGVjdCgnLmdlbnJlcy1pdGVtLWltZycpLmF0dHIoImhyZWYiKS51cmwoKSwNCiAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgIHJldHVybk9iamVjdC5uYW1lDQogICAgICAgICAgICAgICAgICAgICksDQogICAgICAgICAgICAgICAgKTsNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICAgICAgfSk7DQoNCiAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICB9DQoNCg0KDQogICAgcmV0dXJuT2JqZWN0LmdldE5vd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVsID0gYXN5bmMgKG5vdmVsVXJsKSA9PiB7DQogICAgICAgIHZhciBjb250YWluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbChub3ZlbFVybCkpOw0KDQogICAgICAgIHZhciBpdGVtID0gbmV3IE5vdmVsUmV2aWV3c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ygpOw0KICAgICAgICB2YXIgdGJJbmZvID0gY29udGFpbmVyLmZpbmQoIi52YXJpYXRpb25zLXRhYmxlSW5mbyB0ciIpDQogICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIGlmICh0YkluZm8ubGVuZ3RoKCkgPiAzKQ0KICAgICAgICAgICAgaXRlbS5nZW5yZXMgPSB0YkluZm8uZXEoMykuZmluZCgiL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nRhYmxlLXZhbHVlIGEiKS5tYXAoeCA9PiB4LnRleHQoZmFsc2UpKTsNCiAgICAgICAgZWxzZSBpZiAodGJJbmZvLmxlbmd0aCgpI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654D09IDMpDQogICAgICAgICAgICBpdGVtLmdlbnJlcyA9IHRiSW5mby5lcSgyKS5maW5kKCIudGFibGUtdmFsdWUgYSIpLm1hcCh4I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654D0+IHgudGV4dChmYWxzZSkpOw0KICAgICAgICBpdGVtLmRlc2NyaXB0aW9uID0gY29udGFpbmVyLnNlbGVjdCgiLnBhbmVsLXN0b002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543J5LWluZm8tZGVzY3JpcHRpb24iKS50ZXh0KGZhbHNlKQ0KDQogICAgICAgIGl0ZW0udXZvdGVzID0gY29udGFpbmVyLnNlbGVjd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CgiZW1bdHlwZW9mPSd2OlJhdGluZyddIikudGV4dChmYWxzZSkucmVtb3ZlTmV3TGluZSgiICIpOw0KICAgICAgICBpdGVtLmFsd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GVybmF0aXZlTmFtZXMgPSB0YkluZm8ubGVuZ3RoKCkgPiAzID8gdGJJbmZvLmVxKDApLnNlbGVjdCgiI2VkaXRhc3NvY2lhdGVkI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ikudGV4dChmYWxzZSkgOiAiIjsNCiAgICAgICAgaWYgKHRiSW5mby5sZW5ndGgoKSA+IDMpDQogICAgICAgICAgICBpdGVtLmF1d002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GhvciA9IHRiSW5mby5lcSgxKS5zZWxlY3QoIi50YWJsZS12YWx1ZSIpLnRleHQoZmFsc2UpOw0KICAgICAgICBlbHNlIGlmICh0Y002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654kluZm8ubGVuZ3RoKCkgPiAwKQ0KICAgICAgICAgICAgaXRlbS5hdXRob3IgPSB0YkluZm8uZXEoMCkuc2VsZWN0KCIudGFibGUtd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mFsdWUiKS50ZXh0KGZhbHNlKTsNCiAgICAgICAgaXRlbS5sYW5nID0gIiI7DQogICAgICAgIGlmICh0YkluZm8ubGVuZ3RoKCkgP002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAzKQ0KICAgICAgICAgICAgaXRlbS5jb21wbGV0ZWQgPSB0YkluZm8uZXEoMikudGV4dChmYWxzZSkucmVtb3ZlTmV3TGluZSgiI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CIpOw0KICAgICAgICBlbHNlIGlmICh0YkluZm8ubGVuZ3RoKCkgPT0gMykNCiAgICAgICAgICAgIGl0ZW0uY29tcGxldGVkID0gd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GJJbmZvLmVxKDEpLnRleHQoZmFsc2UpLnJlbW92ZU5ld0xpbmUoIiAiKTsNCiAgICAgICAgdmFyIGNoYXB0ZXJzID0gY29udGFpb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVyLmZpbmQoIi5yb3ctY29udGVudC1jaGFwdGVyIGEiKS5tYXAoeCA9PiBuZXcgQ2hhcHRlcih4LnRleHQoZmFsc2UpLCB4LmF0d002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HIoImhyZWYiKS51cmwoKSkpOw0KICAgICAgICByZXR1cm4gbmV3IERldGFsaUl0ZW0oDQogICAgICAgICAgICBjb250YWluZXIuc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542VsZWN0KCcuaW5mby1pbWFnZSBpbWcnKS5hdHRyKCJzcmMiKS51cmwoKSwNCiAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoJ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654y5zdG9yeS1pbmZvLXJpZ2h0IGgxJykudGV4dChmYWxzZSksDQogICAgICAgICAgICBpdGVtLmRlc2NyaXB0aW9uLA0KICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgbm92ZWxVcmwsDQogICAgICAgICAgICBjaGFwdGVycy5yZXZlcnNlKCksDQogICAgICAgICAgICBpdGVtLA0KICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgcmV0dXJuT2JqZWN0Lm5hbWUsDQogICAgICAgICAgICB1bmRlZmluZWQsDQogICAgICAgICk7DQogICAgfQ0KDQogICAgc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mV0dXJuT2JqZWN0LmdldENoYXB0ZXIgPSBhc3luYyAodXJsKSA9PiB7DQogICAgICAgIHJldHVybiByZXR1cm5PYmplY3QucGFyc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542VyLmpxKGF3YWl0IG5ldyBjbGllbnQoKS5nZXRIdG1sKHVybCkpLmZpbmQoIi5jb250YWluZXItY2hhcHRlci1yZWFkZXIgaW1nI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ikubWFwKHggPT4geC5hdHRyKCJzcmMiKS51cmwoKSkuZmlsdGVyKHggPT4geCAmJiB4ICE9ICIiKTsNCiAgICB9DQoNCiAgICByZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XR1cm5PYmplY3QubGF0ZXN0ID0gYXN5bmMgKHBhZ2UpID0+IHsNCiAgICAgICAgdmFyIHVybCA9IHJldHVybk9iamVjdC5sYXRlc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543RVcmwucmVwbGFjZSgne3B9JywgcGFnZS50b1N0cmluZygpKTsNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654C5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKHVybCkpOw0KICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIGNvbnRhaW5lci5maW5kKCcuY29udGVudC1nZW5yZXMtaXRlbScpLmZvckVhY2goeCA9PiB7DQogICAgICAgICAgICBpZiAoe002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654C5zZWxlY3QoJy5nZW5yZXMtaXRlbS1pbWcgaW1nJykuYXR0cigic3JjIikuaGFzVmFsdWUoKSkNCiAgICAgICAgICAgICAgICByZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XN1bHQucHVzaCgNCiAgICAgICAgICAgICAgICAgICAgbmV3IExpZ2h0SXRlbSgNCiAgICAgICAgICAgICAgICAgICAgICAgIHguc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542VsZWN0KCIuZ2VucmVzLWl0ZW0taW1nIGltZyIpLmF0dHIoInNyYyIpLnRleHQoKSwNCiAgICAgICAgICAgICAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Hguc2VsZWN0KCIuZ2VucmVzLWl0ZW0taW1nIikuYXR0cigidGl0bGUiKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICcnLA0KICAgICAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoJy5nZW5yZXMtaXRlbS1pbWcnKS5hdHRyKCJocmVmI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ikudXJsKCksDQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5PYmplY3QubmFtZQ0KICAgICAgICAgICAgICAgICAgICApL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654A0KICAgICAgICAgICAgICAgICk7DQogICAgICAgIH0pOw0KDQogICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgfQ0KDQogICAgc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mV0dXJuIHJldHVybk9iamVjdDsNCn0&K002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50KSA9PiB7DQogICAgY29uc3Qgc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mV0dXJuT2JqZWN0ID0ge307DQogICAgcmV0dXJuT2JqZWN0LmlkID0gIjEubXRsbm92ZWwiOw0KICAgIHJldHVybk9iamVjdC5kZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XRhbGlJdGVtVHlwZSA9IERldGFsaUl0ZW1UeXBlLk5vdmVsOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJMYW5ndWFnZSA9ICJlb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iI7DQogICAgcmV0dXJuT2JqZWN0Lm5hbWUgPSAnTXRsTm92ZWwnOw0KICAgIHJldHVybk9iamVjdC5kaXNwbGF5TmFtZSA9IHJld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HVybk9iamVjdC5uYW1lOw0KICAgIHJldHVybk9iamVjdC5sYXRlc3RVcmwgPSAnaHR0cHM6Ly93d3cubXRsbm92ZWwuY29tL3dwL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WFkbWluL2FkbWluLWFqYXgucGhwP2FjdGlvbj1yY250X3VwZGF0ZSZ2aWV3X2FsbD15ZXMmbW9yZUl0ZW1zUGFnZUluZGV4PXtwf002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SZfX2FtcF9zb3VyY2Vfb3JpZ2luPWh0dHBzJTNBJTJGJTJGd3d3Lm10bG5vdmVsLmNvbSc7DQogICAgcmV0dXJuT2JqZWN0LnVyb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CA9ICdodHRwczovL3d3dy5tdGxub3ZlbC5jb20nOw0KICAgIHJldHVybk9iamVjdC5zZWFyY2hVcmwgPSAnaHR0cHM6Ly93d3cub002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XRsbm92ZWwuY29tL3dwLWFkbWluL2FkbWluLWFqYXgucGhwP2FjdGlvbj1hdXRvc3VnZ2VzdCZxPXtxfSZtb3JlSXRlbXNQYWdlS002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W5kZXg9e3B9Jl9fYW1wX3NvdXJjZV9vcmlnaW49aHR0cHMlM0ElMkYlMkZ3d3cubXRsbm92ZWwuY29tJzsNCiAgICByZXR1cm5PY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mplY3QucGFuaW5hdGlvbiA9IHRydWU7DQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaFBhZ2luYXRpb24gPSB0cnVlOw0KICAgIHJld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HVybk9iamVjdC5pY29uID0gJ2h0dHBzOi8vd3d3Lm10bG5vdmVsLm5ldC90aGVtZXMvbXRsbm92ZWwvaW1hZ2VzL210bG5vdmVsL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654TMyLmljbyc7DQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzID0gbmV3IFBhcnNlclNlYXJjaFNldHRpbmdzK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Ck7DQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLm11bHRpU2VsZWN0aW9uID0gZmFsc2U7DQogICAgcmV0d002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLmdlbnJlcyA9IHsNCiAgICAgICAgbXVsdGlTZWxlY3Rpb246IGZhbHNlLA0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICB2YWx1ZXM6IFsNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdBY3Rpb24nKSwNCiAgICAgICAgICAgIG5ldyBsY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WJlbFZhbHVlKCdBZHVsdCcpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0NvbWVkeScpLA0KICAgICAgICAgICAgbmV3I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GxhYmVsVmFsdWUoJ0FkdmVudHVyZScpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0RyYW1hJyksDQogICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CBuZXcgbGFiZWxWYWx1ZSgnRWNjaGknKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdFcmNpeXVhbicpLA0KICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgbmV3IGxhYmVsVmFsdWUoJ0Zhbi1GaWN0aW9uJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnRmFudGFzeScpL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654A0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0dhbWUnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdHZW5kZXIgQ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVuZGVyJywgImdlbmRlci1iZW5kZXIiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdIYXJlbScpLA0KICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgbmV3IGxhYmVsVmFsdWUoJ0hpc3RvcmljYWwnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdIb3Jyb3InKSwNCiAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdKb3NlaScpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ01hcnRpYWwgQXJ0c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ycsICJtYXJ0aWFsLWFydHMiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNYXR1cmUnKSwNCiAgICAgICAgICAgIG5ld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654yBsYWJlbFZhbHVlKCdNZWNoYScpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ01pbGl0YXJ5JyksDQogICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CBuZXcgbGFiZWxWYWx1ZSgnTXlzdGVyeScpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1BzeWNob2xvZ2ljYWwnKSwNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdSb21hbmNlJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU2Nob29sI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ExpZmUnLCAnc2Nob29sLWxpZmUnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTY2ktZmknKSwNCiAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654G5ldyBsYWJlbFZhbHVlKCdTZWluZW4nKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTaG91am8nKSwNCiAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIG5ldyBsYWJlbFZhbHVlKCdTaG91am8gQWknLCAic2hvdWpvLWFpIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542hvdW5lbicpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1Nob3VuZW4gQWknLCAic2hvdW5lbi1haSIpLA0KICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgbmV3IGxhYmVsVmFsdWUoJ1NsaWNlIG9mIExpZmUnLCAic2xpY2Utb2YtbGlmZSIpLA0KICAgICAgICAgICAgbmV3IGxhY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVsVmFsdWUoJ1NtdXQnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTcG9ydHMnKSwNCiAgICAgICAgICAgIG5ldyBsY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WJlbFZhbHVlKCdTdXBlcm5hdHVyYWwnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdUcmFnZWR5JyksDQogICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICBuZXcgbGFiZWxWYWx1ZSgnVHdvLWRpbWVuc2lvbmFsJywgInR3by1kaW1lbnNpb25hbC1ub3ZlbCIpLA0KICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgbmV3IGxhYmVsVmFsdWUoJ1VyYmFuIExpZmUnLCAidXJiYW4tZmljdGlvbiIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WUoJ1d1eGlhJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnWGlhbnhpYScpLA0KICAgICAgICAgICAgbmV3IGxhYmVsV002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mFsdWUoJ1h1YW5odWFuJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnWWFvaScpLA0KICAgICAgICAgICAgbmV3IGxhY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVsVmFsdWUoJ1l1cmknKSwNCg0KICAgICAgICBdLA0KICAgIH07DQoNCiAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0d002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GluZ3Muc3RhdHVzZXMgPSB7DQogICAgICAgIG11bHRpU2VsZWN0aW9uOiBmYWxzZSwNCiAgICAgICAgdmFsdWVzOiBbDQogICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICBuZXcgbGFiZWxWYWx1ZSgnQ29tcGxldGVkJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnRHJvcHBlZCcpL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654A0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0hpYXR1cycpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0luY29tc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GxldGUnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdPbmdvaW5nJyksDQogICAgICAgIF0sDQogICAgfTsNCg0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HJldHVybk9iamVjdC5nZXRTZWN0aW9ucyA9IChrZXlzKSA9PiB7DQogICAgICAgIHZhciBzZWN0aW9ucyA9IFsNCiAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIG5ldyBTZWN0aW9uKCJsYXRlc3QiLCAiTGF0ZXN0IFVwZGF0ZSIsICJMYXRlc3QiLCB0cnVlKSwNCiAgICAgICAgICAgIG5ld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654yBTZWN0aW9uKCJjb21wbGV0ZWQiLCAiQ29tcGxldGVkIE5vdmVsIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKHVuZGVma002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsICJjb21wbGV0ZWQiKSksDQogICAgICAgICAgICBuZXcgU2VjdGlvbigib25nb2luZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654yIsICJPbmdvaW5nIE5vdmVsIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mluZWQsICJvbmdvaW5nIikpLA0KICAgICAgICBdDQoNCiAgICAgICAgcmV0dXJuIHNlY3Rpb25zLmZpbHRlcih4ID0+ICFrZXlzI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Hx8IGtleXMuaW5jbHVkZXMoeC5uYW1lKSk7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LnRyYW5zbGF0ZVNlY3Rpb24gPSBhc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543luYyAoc2VjdGlvbiwgcGFnZSkgPT4gew0KICAgICAgICBpZiAoc2VjdGlvbi5pZGVudGlmaWVyID09ICJMYXRlc3QiKQ0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgcmV0dXJuIGF3YWl0IHJldHVybk9iamVjdC5sYXRlc3QocGFnZSk7DQogICAgICAgIGVsc2UNCiAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HJldHVybiBhd2FpdCByZXR1cm5PYmplY3Quc2VhcmNoKHNlY3Rpb24uZmlsdGVyIHx8IHJldHVybk9iamVjdC5kZWZhdWx0Rmlsd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GVyKCksIHBhZ2UpOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyID0gKCkgPT4gew0KICAgICAgICB2Y002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XIgZmlsdGVyID0gbmV3IEZpbHRlcigpOw0KICAgICAgICByZXR1cm4gZmlsdGVyOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654C5nZXRCeUdlbnJlcyA9IGFzeW5jIChmaWx0ZXIsIHBhZ2UpID0+IHsNCiAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CB0cnkgew0KICAgICAgICAgICAgdmFyIGdlbnJlVXJsID0gImdlbnJlL3tnfS9wYWdlL3twfS8iLnVyaShyZXR1cm5PYmplY3Qud002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJsKS5yZXBsYWNlKCJ7cH0iLCBwYWdlLnRvU3RyaW5nKCkpOw0KICAgICAgICAgICAgdmFyIHN0YXR1c1VybCA9ICJzdGF0dXMve002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543N9L3BhZ2Uve3B9LyIudXJpKHJldHVybk9iamVjdC51cmwpLnJlcGxhY2UoIntwfSIsIHBhZ2UudG9TdHJpbmcoKSk7DQogICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICB2YXIgcSA9DQogICAgICAgICAgICAgICAgZmlsdGVyLmdlbnJlcy5sZW5ndGggPiAwID8NCiAgICAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CBnZW5yZVVybC5yZXBsYWNlKCJ7Z30iLCBmaWx0ZXIuZ2VucmVzWzBdLnRvTG93ZXJDYXNlKCkpIDoNCiAgICAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CBmaWx0ZXIuYWN0aXZlICYmIGZpbHRlci5hY3RpdmUgIT0gJycgPw0KICAgICAgICAgICAgICAgIHN0YXR1c1VybC5yZXBsYWNlK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CJ7c30iLCBmaWx0ZXIuYWN0aXZlLnRvTG93ZXJDYXNlKCkpIDoNCiAgICAgICAgICAgICAgICB1bmRlZmluZWQ7DQogICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwocSB8fCAiI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ikpOw0KICAgICAgICAgICAgdmFyIGRhdGEgPSBjb250YWluZXIuZmluZCgnLmJveCcpOw0KICAgICAgICAgICAgdmFyIHJlc3Vsd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CA9IFtdOw0KICAgICAgICAgICAgZGF0YS5mb3JFYWNoKCh4KSA9PiB7DQogICAgICAgICAgICAgICAgdmFyIGhyZWYgPSB4LnNlb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GVjdCgiLmxpc3QtYSIpLmF0dHIoImhyZWYiKS50ZXh0KCkNCiAgICAgICAgICAgICAgICB2YXIgdGl0bGUgPSBjb250YWluZXIuZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mluZCgiLmxpc3QtdGl0bGUiKS53aGVyZSh4ID0+IHguYXR0cigiaHJlZiIpLnRleHQoKSA9PSBocmVmKS50ZXh0KCk7DQogICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgcmVzdWx0LnB1c2goDQogICAgICAgICAgICAgICAgICAgIG5ldyBMaWdodEl0ZW0oeC5zZWxlY3QoJy5saXN0L002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WltZycpLmF0dHIoJ3NyYycpLnVybCgpLCB0aXRsZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICcnLA0KICAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgaHJlZi51cmkocmV0dXJuT2JqZWN0LnVybCksIHJldHVybk9iamVjdC5uYW1lDQogICAgICAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICksDQogICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgIH0pOw0KDQoNCiAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgY29uc29sZS5sb2coZSk7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICB9DQoNCiAgICByZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XR1cm5PYmplY3Quc2VhcmNoID0gYXN5bmMgKGZpbHRlciwgcGFnZSkgPT4gew0KDQogICAgICAgIGlmIChmaWx0ZXIuZ2VucmVzL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mxlbmd0aCA+IDAgfHwgKGZpbHRlci5hY3RpdmUgJiYgZmlsdGVyLmFjdGl2ZSAhPSAiIikpDQogICAgICAgICAgICByZXR1cm4gY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XdhaXQgcmV0dXJuT2JqZWN0LmdldEJ5R2VucmVzKGZpbHRlciwgcGFnZSk7DQoNCiAgICAgICAgaWYgKCFmaWx0ZXIudGl0bGUgf002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HwgZmlsdGVyLnRpdGxlLmxlbmd0aCA8PSAwKQ0KICAgICAgICAgICAgcmV0dXJuIFtdOw0KICAgICAgICB2YXIganNvbkRhdGEgP002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SBhd2FpdCBIdHRwQ2xpZW50LkdldEpzb24ocmV0dXJuT2JqZWN0LnNlYXJjaFVybC5yZXBsYWNlKCJ7cX0iLCBmaWx0ZXIudGl0b002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GUgfHwgIiIpLnJlcGxhY2UoIntwfSIsIHBhZ2UudG9TdHJpbmcoKSkpOw0KICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIGlmIChqc29uRGF0YS5pdGVtcyAmJiBqc29uRGF0YS5pdGVtcy5sZW5ndGggPiAwKQ0KICAgICAgICAgICAganNvbkRhdGEua002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XRlbXMuZm9yRWFjaCh4ID0+IHsNCiAgICAgICAgICAgICAgICBpZiAoeC5yZXN1bHRzICYmIHgucmVzdWx0cy5sZW5ndGggPiAwK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SB7DQogICAgICAgICAgICAgICAgICAgIHgucmVzdWx0cy5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICAgICAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgcmVzdWx0LnB1c2goDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IExpZ2h0SXRlbShpdGVtLnRodW1ibmFpbCwga002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XRlbS50aXRsZS5odG1sVGV4dChmYWxzZSksICIiLCBpdGVtLnBlcm1hbGluay51cmkocmV0dXJuT2JqZWN0LnVybCkgfHwgIiIsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HJldHVybk9iamVjdC5uYW1lKQ0KICAgICAgICAgICAgICAgICAgICAgICAgKQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgfQ0KDQogICAgcmV0dXJuT002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542JqZWN0LmdldENoYXB0ZXJzID0gYXN5bmMgKG5vdmVsVXJsKSA9PiB7DQogICAgICAgIHZhciB1cmwgPSAiY2hhcHRlci1saXN0L002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654yIudXJpKG5vdmVsVXJsKTsNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ENsaWVudC5nZXRIdG1sKHVybCkpOw0KICAgICAgICByZXR1cm4gY29udGFpbmVyLmZpbmQoIi5jaC1saXN0IGEiKS5tYXAoeCA9P002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iBuZXcgQ2hhcHRlcih4LnRleHQoZmFsc2UpLCB4LmF0dHIoImhyZWYiKS51cmwoKSkpLnJldmVyc2UoKTsNCiAgICB9DQoNCiAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CByZXR1cm5PYmplY3QuZ2V0Tm92ZWwgPSBhc3luYyAobm92ZWxVcmwpID0+IHsNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKG5vdmVsVXJsKSk7DQogICAgICAgIHZhciBjaGFwd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GVycyA9IGF3YWl0IHJldHVybk9iamVjdC5nZXRDaGFwdGVycyhub3ZlbFVybCk7DQogICAgICAgIHZhciBub3ZlbFJldmlld3MgP002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SBuZXcgTm92ZWxSZXZpZXdzKCk7DQogICAgICAgIG5vdmVsUmV2aWV3cy5nZW5yZXMgPSBjb250YWluZXIuZmluZCgiI2N1cnJlb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nRnZW4gYSIpLnRleHRBcnJheSgpOw0KICAgICAgICBub3ZlbFJldmlld3MudXZvdGVzID0gY29udGFpbmVyLnNlbGVjdCgiLnJhd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GluZy1pbmZvIHN0cm9uZyIpLnRleHQoZmFsc2UpICsgIiAvIDUiOw0KICAgICAgICBub3ZlbFJldmlld3MuY29tcGxldGVkID0gY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd65429udGFpbmVyLnNlbGVjdCgiI2N1cnJlbnRzdGF0dXMiKS50ZXh0KGZhbHNlKSA9PT0gIkNvbXBsZXRlZCIgPyAiU3RhdHVzOkNvb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XBsZXRlZCIgOiAiU3RhdHVzOiIgKyBjb250YWluZXIuc2VsZWN0KCIjY3VycmVudHN0YXR1cyIpLnRleHQoZmFsc2UpOw0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICB2YXIgdHIgPSBjb250YWluZXIuc2VsZWN0KCIjcGFuZWxub3ZlbGluZm8gLmluZm8iKS5maW5kKCJ0ciIpOw0KICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CBpZiAodHIgIT09IG51bGwgJiYgdHIgJiYgdHIubGVuZ3RoKCkgPiAwKQ0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLmF1dGhvc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iA9IHRyLmVxKHRyLmxlbmd0aCgpIC0gMSkuc2VsZWN0KCJhIikudGV4dEFycmF5KCkuam9pbigiLCIpOw0KICAgICAgICByZXR1c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654m4gbmV3IERldGFsaUl0ZW0oDQogICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCcubWFpbi10bWInKS5hdHRyKCdzcmMnKS51c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mwoKSwNCiAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoJy5lbnRyeS10aXRsZScpLnRleHQoZmFsc2UpLA0KICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgY29udGFpbmVyLnNlbGVjdCgnLmRlc2MnKS5jbGVhbklubmVySFRNTCgpLA0KICAgICAgICAgICAgbm92ZWxVcmwsDQogICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICBjaGFwdGVycywNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cywNCiAgICAgICAgICAgIHJldHVybk9iamVjdC5uYW1lL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654A0KICAgICAgICAgICAgdW5kZWZpbmVkLA0KICAgICAgICApOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5nZXRDaGFwdGVyI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654D0gYXN5bmMgKHVybCkgPT4gew0KICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBuZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XcgY2xpZW50KCkuZ2V0SHRtbCh1cmwpKTsNCiAgICAgICAgcmV0dXJuIGNvbnRhaW5lci5zZWxlY3QoJy5wb3N0LWNvbnRlbnQgL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nBhcicpLmNsZWFuSW5uZXJIVE1MKCk7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmxhdGVzdCA9IGFzeW5jIChwYWdlKSA9P002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iB7DQogICAgICAgIHZhciB1cmwgPSByZXR1cm5PYmplY3QubGF0ZXN0VXJsLnJlcGxhY2UoJ3twfScsIHBhZ2UudG9TdHJpbmcoK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Sk7DQogICAgICAgIHZhciBqc29uRGF0YSA9IGF3YWl0IEh0dHBDbGllbnQuR2V0SnNvbih1cmwpOw0KICAgICAgICB2YXIgcmVzd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Wx0ID0gW107DQogICAgICAgIGlmIChqc29uRGF0YS5pdGVtcyAmJiBqc29uRGF0YS5pdGVtcy5sZW5ndGggPiAwKQ0KICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAganNvbkRhdGEuaXRlbXMuZm9yRWFjaCh4ID0+IHsNCiAgICAgICAgICAgICAgICB2YXIgbG5rID0gKHgubm92ZWxfcGVyb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WFsaW5rIHx8ICIiKS50b0h0bWwoKS5xdWVyeVNlbGVjdG9yKCJhIik7DQogICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goDQogI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgICAgICAgIG5ldyBMaWdodEl0ZW0oeC50bWIsIChsbmsuaW5uZXJUZXh0IHx8ICIiKSwgIiIsIGxuay5nZXRBd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HRyaWJ1dGUoImhyZWYiKS51cmkocmV0dXJuT2JqZWN0LnVybCksIHJldHVybk9iamVjdC5uYW1lKQ0KICAgICAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CkNCiAgICAgICAgICAgIH0pDQogICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgfQ0KDQogICAgcmV0dXJuIHJldHVybk9iamVjd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654DsNCg0KfTs&K002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIpID0+I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HsNCiAgICBjb25zdCByZXR1cm5PYmplY3QgPSB7fTsNCiAgICByZXR1cm5PYmplY3QuaWQgPSAiMS5ub3ZlbGZ1bGwiOw0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HJldHVybk9iamVjdC5kZXRhbGlJdGVtVHlwZSA9IERldGFsaUl0ZW1UeXBlLk5vdmVsOw0KICAgIHJldHVybk9iamVjdC5wYXJzZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJMYW5ndWFnZSA9ICJlbiI7DQogICAgcmV0dXJuT2JqZWN0Lm5hbWUgPSAnTm92ZWxGdWxsJzsNCiAgICByZXR1cm5PYmplY3QuZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GlzcGxheU5hbWUgPSAiTm92ZWwtRnVsbHkiOw0KICAgIHJldHVybk9iamVjdC5sYXRlc3RVcmwgPSAnaHR0cHM6Ly9ub3ZlbGZ1b002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GwuY29tL2xhdGVzdC1yZWxlYXNlLW5vdmVsP3BhZ2U9e3B9JzsNCiAgICByZXR1cm5PYmplY3QudXJsID0gJ2h0dHBzOi8vbm92Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WxmdWxsLmNvbSc7DQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaFVybCA9ICdodHRwczovL25vdmVsZnVsbC5jb20vc2VhcmNoP2tle002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XdvcmQ9e3F9JnBhZ2U9e3B9JzsNCiAgICByZXR1cm5PYmplY3QuY2hhcHRlcnNVcmwgPSAnaHR0cHM6Ly9ub3ZlbGZ1bGwuY29tL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542FqYXgtY2hhcHRlci1vcHRpb24/bm92ZWxJZD17aWR9JzsNCiAgICByZXR1cm5PYmplY3QucGFuaW5hdGlvbiA9IHRydWU7DQogI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgcmV0dXJuT2JqZWN0LnNlYXJjaFBhZ2luYXRpb24gPSB0cnVlOw0KICAgIHJldHVybk9iamVjdC5pY29uID0gJ2h0dHBzOi8vb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654m92ZWxmdWxsLmNvbS93ZWIvaW1hZ2VzL2Zhdmljb24uaWNvJzsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543MgPSBuZXcgUGFyc2VyU2VhcmNoU2V0dGluZ3MoKTsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3MuZ2Vuc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVzID0gew0KICAgICAgICBtdWx0aVNlbGVjdGlvbjogZmFsc2UsDQogICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgbmV3I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GxhYmVsVmFsdWUoJ1Nob3VuZW4nKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdIYXJlbScpLA0KICAgICAgICAgICAgb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mV3IGxhYmVsVmFsdWUoJ0NvbWVkeScpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ01hcnRpYWwgQXJ0cycsICdNYXJ0a002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WFsK0FydHMnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTY2hvb2wgTGlmZScsICdTY2hvb2wrTGlmZScpLA0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ015c3RlcnknKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTaG91am8nKSwNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdSb21hbmNlJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU2NpLWZpJ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654yksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnR2VuZGVyIEJlbmRlcicsICdHZW5kZXIrQmVuZGVyJyksDQogICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICBuZXcgbGFiZWxWYWx1ZSgnTWF0dXJlJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnRmFudGFzeScpLA0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0hvcnJvcicpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0RyYW1hJyksDQogI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnVHJhZ2VkeScpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1N1cGVybmF0d002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJhbCcpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0VjY2hpJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnW002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HVhbmh1YW4nKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdBZHZlbnR1cmUnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654FZhbHVlKCdQc3ljaG9sb2dpY2FsJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnWGlhbnhpYScpLA0KICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgbmV3IGxhYmVsVmFsdWUoJ1d1eGlhJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnSGlzdG9yaWNhbCcpLA0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1NsaWNlIG9mIExpZmUnLCAnU2xpY2Urb2YrTGlmZScpLA0KICAgICAgICAgICAgbmV3I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GxhYmVsVmFsdWUoJ0xvbGljb24nKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdBZHVsdCcpLA0KICAgICAgICAgICAgb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mV3IGxhYmVsVmFsdWUoJ0pvc2VpJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU3BvcnRzJyksDQogICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CBuZXcgbGFiZWxWYWx1ZSgnU211dCcpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ01lY2hhJyksDQogICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CBuZXcgbGFiZWxWYWx1ZSgnWWFvaScpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1Nob3VuZW4gQWknLCAnU2hvdW5lb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654itBaScpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0vhu7MgVMOtY2ggVsawxqFuZyBU4buNYScsICdL4buzK1TDrWNoK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6541bGsMahbmcrVOG7jWEnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNVCcpLA0KICAgICAgICBdLA0KICAgIH0NCg0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5zb3J0VHlwZXMgPSB7DQogICAgICAgIG11bHRpU2VsZWN0aW9uO002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iBmYWxzZSwNCiAgICAgICAgdmFsdWVzOiBbDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTGF0ZXN0IFJlbGVhc2UgTm92Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WwnLCAnbGF0ZXN0LXJlbGVhc2Utbm92ZWwnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdIb3QgTm92ZWwnLCAnaG90L002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W5vdmVsJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnQ29tcGxldGVkIE5vdmVsJywgJ2NvbXBsZXRlZC1ub3ZlbCcpL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654A0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ01vc3QgUG9wdWxhcicsICdtb3N0LXBvcHVsYXInKSwNCiAgICAgICAgXSwNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICB9DQoNCiAgICByZXR1cm5PYmplY3QuZ2V0U2VjdGlvbnMgPSAoa2V5cykgPT4gew0KICAgICAgICB2YXIgc2VjdGlvbnMgP002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SBbDQogICAgICAgICAgICBuZXcgU2VjdGlvbigibGF0ZXN0IiwgIkxhdGVzdCBVcGRhdGUiLCAiTGF0ZXN0IiwgdHJ1ZSksDQogI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICBuZXcgU2VjdGlvbigiaG90IiwgIkhvdCBOb3ZlbCIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mluZWQsICJob3Qtbm92ZWwiKSksDQogICAgICAgICAgICBuZXcgU2VjdGlvbigiY29tcGxldGVkIiwgIkNvbXBsZXRlZCBOb3Zlb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsICJjb21wbGV0ZWQtbm92ZWwiKSksDQogICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CBuZXcgU2VjdGlvbigicG9wdWxhciIsICJNb3N0IFBvcHVsYXIiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIodW5kZWZpb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVkLCAibW9zdC1wb3B1bGFyIikpDQogICAgICAgIF0NCg0KICAgICAgICByZXR1cm4gc2VjdGlvbnMuZmlsdGVyKHggPT4gIWtle002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XMgfHwga2V5cy5pbmNsdWRlcyh4Lm5hbWUpKTsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QudHJhbnNsYXRlU2VjdGlvbiA9I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GFzeW5jIChzZWN0aW9uLCBwYWdlKSA9PiB7DQogICAgICAgIGlmIChzZWN0aW9uLmlkZW50aWZpZXIgPT0gIkxhdGVzdCIpDQogI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICByZXR1cm4gYXdhaXQgcmV0dXJuT2JqZWN0LmxhdGVzdChwYWdlKTsNCiAgICAgICAgZWxzZQ0KICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgcmV0dXJuIGF3YWl0IHJldHVybk9iamVjdC5zZWFyY2goc2VjdGlvbi5maWx0ZXIgfHwgcmV0dXJuT2JqZWN0LmRlZmF1bHRGa002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Wx0ZXIoKSwgcGFnZSk7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmRlZmF1bHRGaWx0ZXIgPSAoKSA9PiB7DQogICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HJldHVybiBuZXcgRmlsdGVyKCk7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaCA9IGFzeW5jIChmaWx0ZXIsIHBhZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542UpID0+IHsNCiAgICAgICAgdmFyIGdlbnJlVXJsID0gImdlbnJlL3tnfT9wYWdlPXtwfSIudXJpKHJldHVybk9iamVjdC51cmwpL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nJlcGxhY2UoIntwfSIsIHBhZ2UudG9TdHJpbmcoKSk7DQogICAgICAgIHZhciBzb3J0VHlwZVVybCA9ICJ7c30/cGFnZT17cH0iL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nVyaShyZXR1cm5PYmplY3QudXJsKS5yZXBsYWNlKCJ7cH0iLCBwYWdlLnRvU3RyaW5nKCkpOw0KICAgICAgICB2YXIgcSA9IGZpb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HRlci5nZW5yZXMubGVuZ3RoID4gMCA/IGdlbnJlVXJsLnJlcGxhY2UoIntnfSIsIGZpbHRlci5nZW5yZXNbMF0pIDogKChmaWx0Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XIuc29ydFR5cGUgJiYgZmlsdGVyLnNvcnRUeXBlICE9ICcnID8gc29ydFR5cGVVcmwucmVwbGFjZSgie3N9IiwgZmlsdGVyLnNvc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nRUeXBlKSA6IHVuZGVmaW5lZCkpOw0KICAgICAgICB2YXIgcXVlcnkgPSBxIHx8IHJldHVybk9iamVjdC5zZWFyY2hVcmwucmVwb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GFjZSgne3F9JywgZmlsdGVyLnRpdGxlIHx8ICIiKS5yZXBsYWNlKCd7cH0nLCBwYWdlLnRvU3RyaW5nKCkpOw0KICAgICAgICB2Y002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwocXVlcnkpKTsNCiAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICBjb250YWluZXIuZmluZCgnLmxpc3QtdHJ1eWVuIC5yb3cnKS5mb3JFYWNoK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Ch4KSA9PiB7DQogICAgICAgICAgICBpZiAoeC5zZWxlY3QoJ2ltZycpLmF0dHIoInNyYyIpLmhhc1ZhbHVlKCkpDQogICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgcmVzdWx0LnB1c2goDQogICAgICAgICAgICAgICAgICAgIG5ldyBMaWdodEl0ZW0obmV3IEltYWdlSGFuZGxlcihyZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XR1cm5PYmplY3QudXJsLCB4LnNlbGVjdCgnLnRydXllbi10aXRsZSBhJykuYXR0cigiaHJlZiIpLnVybCgpLCAiLmJvb2sgaW1nI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iksDQogICAgICAgICAgICAgICAgICAgICAgICB4LnNlbGVjdCgnLnRydXllbi10aXRsZSBhJykudGV4dChmYWxzZSksDQogICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgICAgICAgICAnJywNCiAgICAgICAgICAgICAgICAgICAgICAgIHguc2VsZWN0KCcudHJ1eWVuLXRpdGxlIGEnK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654S5hdHRyKCJocmVmIikudXJsKCksIHJldHVybk9iamVjdC5uYW1lDQogICAgICAgICAgICAgICAgICAgICksDQogICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgKTsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QuZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542V0Q2hhcHRlcnMgPSBhc3luYyAobm92ZWxVcmwsIGh0bWxDb250YWluZXIpID0+IHsNCiAgICAgICAgdmFyIGNoYXB0ZXJzID0gW002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654107DQogICAgICAgIHZhciB1cmwgPSAiaHR0cHM6Ly9ub3ZlbGZ1bGwuY29tL2FqYXgtY2hhcHRlci1vcHRpb24/bm92ZWxJZD17a002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WR9Ii5yZXBsYWNlKCJ7aWR9IiwNCiAgICAgICAgICAgIGh0bWxDb250YWluZXIuc2VsZWN0KCIjcmF0aW5nIikuYXR0cigiZGF0Y002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654S1ub3ZlbC1pZCIpLmhhc1ZhbHVlKCkgPw0KICAgICAgICAgICAgaHRtbENvbnRhaW5lci5zZWxlY3QoIiNyYXRpbmciKS5hdHRyK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CJkYXRhLW5vdmVsLWlkIikudGV4dCgpIDoNCiAgICAgICAgICAgIGh0bWxDb250YWluZXIuc2VsZWN0KCJbZGF0YS1ub3ZlbC1pZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654F0iKS5hdHRyKCJkYXRhLW5vdmVsLWlkIikudGV4dCgpKTsNCg0KICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0L002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwodXJsKSk7DQoNCiAgICAgICAgY29udGFpbmVyLmZpbmQoJ29wdGlvb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654icpLmZvckVhY2goYSA9PiB7DQogICAgICAgICAgICB2YXIgYVVybCA9IGEuYXR0cigidmFsdWUiKS51cmwoKTsNCiAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIHZhciB0aXRsZSA9IGEudGV4dChmYWxzZSk7DQogICAgICAgICAgICBpZiAodXJsICYmIHVybCAhPT0gJycpIGNoYXB0ZXJzL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nB1c2gobmV3IENoYXB0ZXIodGl0bGUsIGFVcmwpKTsNCiAgICAgICAgfSkNCiAgICAgICAgcmV0dXJuIGNoYXB0ZXJzOw0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654H0NCg0KICAgIHJldHVybk9iamVjdC5nZXROb3ZlbCA9IGFzeW5jIChub3ZlbFVybCkgPT4gew0KICAgICAgICB2YXIgY29udGFpb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwobm92ZWxVcmwpKTsNCiAgICAgICAgd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mFyIGNoYXB0ZXJzID0gYXdhaXQgcmV0dXJuT2JqZWN0LmdldENoYXB0ZXJzKG5vdmVsVXJsLCBjb250YWluZXIpOw0KICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CB2YXIgbm92ZWxSZXZpZXdzID0gbmV3IE5vdmVsUmV2aWV3cygpOw0KICAgICAgICB2YXIgaW5mb3MgPSBjb250YWluZXIuZmluZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CgiLmluZm8gPiBkaXYiKTsNCiAgICAgICAgbm92ZWxSZXZpZXdzLmdlbnJlcyA9IGluZm9zLmVxKDIpLmZpbmQoImEiKS5tYXAoe002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CA9PiB4LnRleHQoZmFsc2UpKTsNCiAgICAgICAgbm92ZWxSZXZpZXdzLmF1dGhvciA9IGluZm9zLmVxKDApLmZpbmQoImEiKS50Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Xh0KGZhbHNlKTsNCiAgICAgICAgbm92ZWxSZXZpZXdzLnV2b3RlcyA9IGNvbnRhaW5lci5zZWxlY3QoIi5jb2wtaW5mby1kZXNjI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654D4gLmRlc2MgPiAuc21hbGwgc3Ryb25nOmZpcnN0LWNoaWxkIHNwYW4iKS50ZXh0KGZhbHNlKSArICIgLyAxMCI7DQogICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654G5vdmVsUmV2aWV3cy5jb21wbGV0ZWQgPSBpbmZvcy5sYXN0KCkuc2VsZWN0KCJhIikudGV4dChmYWxzZSkgPT09ICJDb21wbGV0Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WQiID8gIlN0YXR1czpDb21wbGV0ZWQiIDogIlN0YXR1czpPbmdvaW5nIjsNCg0KICAgICAgICByZXR1cm4gbmV3IERldGFsaUl0Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W0oDQogICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCcuYm9vayBpbWcnKS5hdHRyKCJzcmMiKS51cmwoKSwNCiAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIGNvbnRhaW5lci5zZWxlY3QoJy50aXRsZScpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgY29udGFpbmVyLnNlbGVjdCgnL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mRlc2MtdGV4dCcpLmNsZWFuSW5uZXJIVE1MKCksDQogICAgICAgICAgICBub3ZlbFVybCwNCiAgICAgICAgICAgIGNoYXB0ZXJzL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654A0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLA0KICAgICAgICAgICAgcmV0dXJuT2JqZWN0Lm5hbWUsDQogICAgICAgICAgICB1b002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mRlZmluZWQsDQogICAgICAgICk7DQogICAgfQ0KDQoNCiAgICByZXR1cm5PYmplY3QuZ2V0Q2hhcHRlciA9IGFzeW5jICh1cmwpI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654D0+IHsNCiAgICAgICAgcmV0dXJuIHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgbmV3IGNsaWVudCgpLmdldEh0bWwodXJsK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Skuc2VsZWN0KCcjY2hhcHRlci1jb250ZW50JykuY2xlYW5Jbm5lckhUTUwoKTsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3Qub002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GF0ZXN0ID0gYXN5bmMgKHBhZ2UpID0+IHsNCiAgICAgICAgdmFyIHVybCA9IHJldHVybk9iamVjdC5sYXRlc3RVcmwucmVwbGFjZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Sgne3B9JywgcGFnZS50b1N0cmluZygpKTsNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XdhaXQgSHR0cENsaWVudC5nZXRIdG1sKHVybCkpOw0KICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgIGNvbnRhaW5lc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654i5maW5kKCcubGlzdC10cnV5ZW4gLnJvdycpLmZvckVhY2goKHgpID0+IHsNCiAgICAgICAgICAgIGlmICh4LnNlbGVjdCgnaW1nJ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ykuYXR0cigic3JjIikuaGFzVmFsdWUoKSkNCiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCgNCiAgICAgICAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgbmV3IExpZ2h0SXRlbSgNCiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBJbWFnZUhhbmRsZXIocmV0dXJuT2JqZWN0LnVyb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CwgeC5zZWxlY3QoJy50cnV5ZW4tdGl0bGUgYScpLmF0dHIoImhyZWYiKS51cmwoKSwgIi5ib29rIGltZyIpLA0KICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgICAgeC5zZWxlY3QoJy50cnV5ZW4tdGl0bGUgYScpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgJycsDQogICAgICAgICAgICAgICAgICAgICAgICB4LnNlbGVjdCgnLnRydXllbi10aXRsZSBhJykuYXR0cigiaHJlZiIpL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nVybCgpLCByZXR1cm5PYmplY3QubmFtZQ0KICAgICAgICAgICAgICAgICAgICApKTsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mV0dXJuIHJlc3VsdDsNCiAgICB9DQoNCiAgICByZXR1cm4gcmV0dXJuT2JqZWN0Ow0KDQp9Ow=&K002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIpID0+I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HsNCiAgICBjb25zdCByZXR1cm5PYmplY3QgPSB7fTsNCiAgICByZXR1cm5PYmplY3QuaWQgPSAiMS5ub3ZlbGhhbGwiOw0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HJldHVybk9iamVjdC5wYXJzZXJMYW5ndWFnZSA9ICJlbiI7DQogICAgcmV0dXJuT2JqZWN0Lm5hbWUgPSAnTm92ZWxIYWxsJzsNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICByZXR1cm5PYmplY3QuZGlzcGxheU5hbWUgPSAiTm92ZWwtQ2hhbm5lbCINCiAgICByZXR1cm5PYmplY3QuZGV0YWxpSXRlb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654VR5cGUgPSBEZXRhbGlJdGVtVHlwZS5Ob3ZlbDsNCiAgICByZXR1cm5PYmplY3QubGF0ZXN0VXJsID0gJ2h0dHBzOi8vd3d3Lm5vd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVsaGFsbC5jb20vbGFzdHVwZGF0ZS17cH0uaHRtbCc7DQogICAgcmV0dXJuT2JqZWN0LnVybCA9ICdodHRwczovL3d3dy5ub3Zlb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GhhbGwuY29tLyc7DQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaFVybCA9ICdodHRwczovL3d3dy5ub3ZlbGhhbGwuY29tL2luZGV4L002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nBocD9zPXNvJm1vZHVsZT1ib29rJmtleXdvcmQ9e3F9JzsNCiAgICByZXR1cm5PYmplY3QucGFuaW5hdGlvbiA9IHRydWU7DQogI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgcmV0dXJuT2JqZWN0LnNlYXJjaFBhZ2luYXRpb24gPSB0cnVlOw0KICAgIHJldHVybk9iamVjdC5pY29uID0gJ2h0dHBzOi8vd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543d3Lm5vdmVsaGFsbC5jb20vZmF2aWNvbi5pY28nOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncyA9IG5ld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654yBQYXJzZXJTZWFyY2hTZXR0aW5ncygpOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZXMgPSB7D002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QogICAgICAgIG11bHRpU2VsZWN0aW9uOiBmYWxzZSwNCiAgICAgICAgdmFsdWVzOiBbDQogICAgICAgIF0sDQogICAgfTsNCg0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIHJldHVybk9iamVjdC5sb2FkU2V0dGluZ3MgPSBhc3luYyAoKSA9PiB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBpZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAocmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLmdlbnJlcy52YWx1ZXMubGVuZ3RoIDw9IDApIHsNCiAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwocmV0d002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJuT2JqZWN0LnVybCkpDQogICAgICAgICAgICAgICAgY29udGFpbmVyLmZpbmQoIi5kcm9wZG93bi1tZW51IGEiKS53aGVyZSh4I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654D0+IHguYXR0cigiaHJlZiIpLmF0dFZhbHVlKCkuaW5kZXhPZigiZ2VucmUiKSAhPT0gLTEpLmZvckVhY2goYSA9PiB7DQogICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZXMudmFsdWVzLnB1c2gobmV3IGxhY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVsVmFsdWUoYS50ZXh0KGZhbHNlKSwgYS5hdHRyKCJocmVmIikudXJsKCkpKTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgIH0NCiAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAgICAgY29uc29sZS5sb2coKTsNCiAgICAgICAgfQ0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654H0NCg0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5zb3J0VHlwZXMgPSB7DQogICAgICAgIG11bHRpU2VsZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WN0aW9uOiBmYWxzZSwNCiAgICAgICAgdmFsdWVzOiBbDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnQ29tcGxldGVkJywgJ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542NvbXBsZXRlZC17cH0uaHRtbCcpLA0KICAgICAgICBdLA0KICAgIH07DQogICAgcmV0dXJuT2JqZWN0LmdldFNlY3Rpb25zID0gK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GtleXMpID0+IHsNCiAgICAgICAgdmFyIHNlY3Rpb25zID0gWw0KICAgICAgICAgICAgbmV3IFNlY3Rpb24oImxhdGVzdCIsICJMY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XRlc3QgVXBkYXRlIiwgIkxhdGVzdCIsIHRydWUpLA0KICAgICAgICAgICAgbmV3IFNlY3Rpb24oImNvbXBsZXRlZCIsICJDb21wb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GV0ZWQgTm92ZWwiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIodW5kZWZpbmVkLCAnY29tcGxldGVkLXtwfS5odG1sJykpL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654A0KICAgICAgICBdDQogICAgICAgIHJldHVybiBzZWN0aW9ucy5maWx0ZXIoeCA9PiAha2V5cyB8fCBrZXlzLmluY2x1ZGVzKHgub002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mFtZSkpOw0KICAgIH0NCiAgICByZXR1cm5PYmplY3QudHJhbnNsYXRlU2VjdGlvbiA9IGFzeW5jIChzZWN0aW9uLCBwYWdlKSA9P002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iB7DQogICAgICAgIGlmIChzZWN0aW9uLmlkZW50aWZpZXIgPT0gIkxhdGVzdCIpIHJldHVybiBhd2FpdCByZXR1cm5PYmplY3Qub002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GF0ZXN0KHBhZ2UpOw0KICAgICAgICBlbHNlIHJldHVybiBhd2FpdCByZXR1cm5PYmplY3Quc2VhcmNoKHNlY3Rpb24uZmlsdGVyI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Hx8IHJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyKCksIHBhZ2UpOw0KICAgIH0NCiAgICByZXR1cm5PYmplY3QuZGVmYXVsdEZpb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HRlciA9ICgpID0+IHsNCiAgICAgICAgdmFyIGZpbHRlciA9IG5ldyBGaWx0ZXIoKTsNCiAgICAgICAgcmV0dXJuIGZpbHRlcjsNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICB9Ow0KDQogICAgcmV0dXJuT2JqZWN0LmdldEdlbnJlcyA9IGFzeW5jIChmaWx0ZXIpID0+IHsNCiAgICAgICAgdmFyIHVyb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CA9IGZpbHRlci5nZW5yZXNbMF07DQogICAgICAgIHZhciBjb250YWluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Eh0dHBDbGllbnQuZ2V0SHRtbCh1cmwpKTsNCiAgICAgICAgcmV0dXJuIGNvbnRhaW5lci5maW5kKCcuYm9vay1pbmZvJykubWFwK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Ch4KSA9PiB7DQogICAgICAgICAgICByZXR1cm4gbmV3IExpZ2h0SXRlbSh4LmNsb3Nlc3QoImxpIikuc2VsZWN0KCIuYm9vay1pb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WcgaW1nIikuYXR0cigic3JjIikudXJsKCksDQogICAgICAgICAgICAgICAgeC5zZWxlY3QoJ2EnKS50ZXh0KGZhbHNlKSwNCiAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgICAnJywNCiAgICAgICAgICAgICAgICB4LnNlbGVjdCgnYScpLmF0dHIoImhyZWYiKS51cmwoKSwNCiAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICByZXR1cm5PYmplY3QubmFtZQ0KICAgICAgICAgICAgKTsNCiAgICAgICAgfSk7DQoNCg0KICAgIH0NCg0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HJldHVybk9iamVjdC5zZWFyY2ggPSBhc3luYyAoZmlsdGVyLCBwYWdlKSA9PiB7DQoNCiAgICAgICAgaWYgKGZpbHRlci5nZW5yZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XMgJiYgZmlsdGVyLmdlbnJlcy5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICByZXR1cm4gYXdhaXQgcmV0dXJuT2JqZWN0Lmdld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654EdlbnJlcyhmaWx0ZXIpOw0KICAgICAgICB9DQogICAgICAgIHZhciB1cmwgPSByZXR1cm5PYmplY3Quc2VhcmNoVXJsOw0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICBpZiAoZmlsdGVyLnNvcnRUeXBlICYmIGZpbHRlci5zb3J0VHlwZS5sZW5ndGggPiAwKQ0KICAgICAgICAgICAgdXJsID0gZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mlsdGVyLnNvcnRUeXBlLnVyaShyZXR1cm5PYmplY3QudXJsKTsNCg0KICAgICAgICB2YXIgdXJsID0gdXJsLnJlcGxhY2UoIntxf002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SIsIGZpbHRlci50aXRsZSB8fCAiIikucmVwbGFjZSgie3B9IiwgcGFnZSk7DQogICAgICAgIHZhciBjb250YWluZXIgPSByZXR1c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654m5PYmplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbCh1cmwpKTsNCiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654w0KICAgICAgICBjb250YWluZXIuZmluZCgnLmNvbnRhaW5lciB0YWJsZSB0cicpLmZvckVhY2goKHgpID0+IHsNCiAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIHZhciBhID0geC5maW5kKCJ0ZCIpLmVxKDApLnNlbGVjdCgiYSIpLmF0dHIoImhyZWYiKS50ZXh0KCkuaW5kZXhPZigiZ2Vuc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mUiKSA9PT0gLTEgPyB4LmZpbmQoInRkIikuZXEoMCkuc2VsZWN0KCJhIikgOiB4LmZpbmQoInRkIikuZXEoMSkuc2VsZWN0KCJhI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ik7DQogICAgICAgICAgICByZXN1bHQucHVzaChuZXcgTGlnaHRJdGVtKG5ldyBJbWFnZUhhbmRsZXIocmV0dXJuT2JqZWN0LnVyb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CwgYS5hdHRyKCJocmVmIikudXJsKCksICIuYm9vay1pbWcgaW1nIiksIGEudGV4dChmYWxzZSksICcnLCBhLmF0dHIoImhyZWYiK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654S51cmwoKSwgcmV0dXJuT2JqZWN0Lm5hbWUpKTsNCiAgICAgICAgfSk7DQogICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgfQ0KD002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QogICAgcmV0dXJuT2JqZWN0LmdldE5vdmVsID0gYXN5bmMgKG5vdmVsVXJsKSA9PiB7DQogICAgICAgIHZhciBjb250YWluZXIgP002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbChub3ZlbFVybCkpOw0KICAgICAgICB2YXIgY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542hhcHRlcnMgPSBjb250YWluZXIuZmluZCgiI21vcmVsaXN0IGxpIGEiKS5tYXAoeCA9PiBuZXcgQ2hhcHRlcih4LnRleHQoZmFsc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542UpLCB4LmF0dHIoImhyZWYiKS51cmwoKSkpOw0KICAgICAgICB2YXIgaXRlbSA9IG5ldyBOb3ZlbFJldmlld3MoKTsNCg0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICBpdGVtLmdlbnJlcyA9IGNvbnRhaW5lci5maW5kKCIuYm9vay1pbmZvIC5yZWQiKS50ZXh0QXJyYXkoKTsNCiAgICAgICAga002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XRlbS5hdXRob3IgPSBjb250YWluZXIuZmluZCgiLmJvb2staW5mbyAuYmx1ZSIpLndoZXJlKHggPT4geC5pbm5lckhUTUwoKS50b002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6540xvd2VyQ2FzZSgpLmluZGV4T2YoImF1dGhvciIpICE9IC0xKS5lcSgwKS5yZW1vdmUoInAiKS50ZXh0KGZhbHNlKS5yZXBsYWNlK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654C9hdXRob3I6L2dpLCAiIik7DQogICAgICAgIGl0ZW0uY29tcGxldGVkID0gY29udGFpbmVyLmZpbmQoIi5ib29rLWluZm8gLmJsd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WUiKS53aGVyZSh4ID0+IHguaW5uZXJIVE1MKCkudG9Mb3dlckNhc2UoKS5pbmRleE9mKCJzdGF0dXMiKSAhPSAtMSkudGV4dChmY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WxzZSkucmVwbGFjZSgvc3RhdHVzOi9naSwgIiIpOw0KICAgICAgICByZXR1cm4gbmV3IERldGFsaUl0ZW0oY29udGFpbmVyLnNlb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GVjdCgnLmJvb2staW1nIGltZycpLmF0dHIoInNyYyIpLnVybCgpDQogICAgICAgICAgICAsIGNvbnRhaW5lci5zZWxlY3QoJy5ib002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd65429rLWluZm8gaDEnKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgIGNvbnRhaW5lci5maW5kKCcuaW50cm8gPiBzcGFuJykucmVtb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543ZlKCIuYmx1ZSIpLmxhc3QoKS5jbGVhbklubmVySFRNTCgpLA0KICAgICAgICAgICAgbm92ZWxVcmwsDQogICAgICAgICAgICBja002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GFwdGVycywNCiAgICAgICAgICAgIGl0ZW0sDQogICAgICAgICAgICByZXR1cm5PYmplY3QubmFtZSwNCiAgICAgICAgICAgIHVuZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GVmaW5lZCk7DQogICAgfQ0KICAgIHJldHVybk9iamVjdC5nZXRDaGFwdGVyID0gYXN5bmMgKHVybCkgPT4gew0KICAgICAgICByZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XR1cm4gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBuZXcgY2xpZW50KCkuZ2V0SHRtbCh1cmwpKS5zZWxlY3QoJy5lbnRye002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654S1jb250ZW50JykuY2xlYW5Jbm5lckhUTUwoKTsNCiAgICB9DQogICAgcmV0dXJuT2JqZWN0LmxhdGVzdCA9IGFzeW5jIChwYWdlK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SA9PiB7DQogICAgICAgIHZhciB1cmwgPSByZXR1cm5PYmplY3QubGF0ZXN0VXJsLnJlcGxhY2UoJ3twfScsIHBhZ2UudG9TdHJpb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mcoKSk7DQogICAgICAgIHZhciBjb250YWluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0S002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HRtbCh1cmwpKTsNCiAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgIGNvb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nRhaW5lci5maW5kKCcuY29udGFpbmVyIHRhYmxlIHRyJykuZm9yRWFjaCgoeCkgPT4gew0KICAgICAgICAgICAgdmFyIGEgPSB4L002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mZpbmQoInRkIikuZXEoMSkuc2VsZWN0KCJhIik7DQogICAgICAgICAgICByZXN1bHQucHVzaChuZXcgTGlnaHRJdGVtKG5ldyBJb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WFnZUhhbmRsZXIocmV0dXJuT2JqZWN0LnVybCwgYS5hdHRyKCJocmVmIikudXJsKCksICIuYm9vay1pbWcgaW1nIiksIGEudGV4d002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ChmYWxzZSksICcnLCBhLmF0dHIoImhyZWYiKS51cmwoKSwgcmV0dXJuT2JqZWN0Lm5hbWUpKTsNCiAgICAgICAgfSk7DQogICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIHJldHVybiByZXN1bHQ7DQogICAgfQ0KICAgIHJldHVybiByZXR1cm5PYmplY3Q7DQp9Ow=&K002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nNlSHRtbCkgPT4gew0KICAgIHZhciBpdGVtID0ge307DQogICAgaXRlbS5yb290ID0gImh0dHBzOi8vd3d3Lm5vdmVsdXBkYXRlc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654y5jb20iOw0KICAgIGl0ZW0uc2VhcmNoID0gYXN5bmMgKG5hbWUpID0+IHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGlmI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CghbmFtZSkNCiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkDQogICAgICAgICAgICB2YXIgaHRtbCA9IGF3YWl0IEh0d002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HBDbGllbnQucG9zdEZvcm0oImh0dHBzOi8vd3d3Lm5vdmVsdXBkYXRlcy5jb20vd3AtYWRtaW4vYWRtaW4tYWpheC5waHAiLCB7I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GFjdGlvbjogIm5kX2FqYXhzZWFyY2htYWluIiwgc3RyVHlwZTogImRlc2t0b3AiLCBzdHJPbmU6IG5hbWUsIHN0clNlYXJjaFR5c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GU6ICJzZXJpZXMiIH0pOw0KICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHBhcnNlSHRtbChodG1sLCBpdGVtLnJvb3QpLmZpb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mQoImEiKTsNCiAgICAgICAgICAgIHJldHVybiBjb250YWluZXIud2hlcmUoeCA9PiBuYW1lLnRyaW0oKS5sZW5ndGggPT0gKHguc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542VsZWN0KCIuc2VhcmNoX2hsIikuaGFzRWxlbWVudCgpID8geC5zZWxlY3QoIi5zZWFyY2hfaGwiKSA6IHguc2VsZWN0KCJzcGFuI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ikpLnRleHQoZmFsc2UpLnRyaW0oKS5sZW5ndGggJiYgKG5hbWUudG9Mb3dlckNhc2UoKS5pbmRleE9mKCh4LnNlbGVjdCgiLnNlY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJjaF9obCIpLmhhc0VsZW1lbnQoKSA/IHguc2VsZWN0KCIuc2VhcmNoX2hsIikgOiB4LnNlbGVjdCgic3BhbiIpKS50ZXh0KGZhb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HNlKS50b0xvd2VyQ2FzZSgpKSAhPSAtMSkpLmF0dHIoImhyZWYiKS51cmwoKTsNCiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQ0KICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDsNCiAgICAgICAgfQ0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIH0NCg0KICAgIGl0ZW0uZ2V0QnlBdXRob3IgPSBhc3luYyAodXJsKSA9PiB7DQogICAgICAgIHZhciBjb250YWluZXIgPSBwY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJzZUh0bWwoKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbCh1cmwpKS5vdXRlckhUTUwsIGl0ZW0ucm9vdCk7DQogICAgICAgIHZhc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iByZXN1bHQgPSBbXTsNCiAgICAgICAgY29udGFpbmVyLmZpbmQoIi5zZWFyY2hfbWFpbl9ib3hfbnUiKS5mb3JFYWNoKHggPT4ge002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654w0KICAgICAgICAgICAgcmVzdWx0LnB1c2goDQogICAgICAgICAgICAgICAgbmV3IExpZ2h0SXRlbSh4LnNlbGVjdCgiLnNlYXJja002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654F9pbWdfbnUgaW1nIikuYXR0cigic3JjIikudXJsKCksIHguc2VsZWN0KCIuc2VhcmNoX3RpdGxlIGEiKS50ZXh0KGZhbHNlKSwge002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654C5zZWxlY3QoIi5zZWFyY2hfcmF0aW5ncyIpLnRleHQoZmFsc2UpLCAiIiwgIiIpDQogICAgICAgICAgICApDQogICAgICAgIH0pO002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654w0KDQogICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgfQ0KDQogICAgaXRlbS5nZXREZXRhbGlJdGVtID0gYXN5bmMgKG5vdmVsT002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mFtZSkgPT4gew0KICAgICAgICB2YXIgdXJsID0gYXdhaXQgaXRlbS5zZWFyY2gobm92ZWxOYW1lKTsNCiAgICAgICAgaWYgKCF1c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mwpDQogICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkOw0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgdmFyIGNvbnRhaW5lc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iA9IHBhcnNlSHRtbCgoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKHVybCkpLm91dGVySFRNTCwgaXRlbS5yb290KTsNCiAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgIHZhciB0aXRlbSA9IG5ldyBOb3ZlbFJldmlld3MoKTsNCg0KICAgICAgICAgICAgdGl0ZW0uZ2VucmVzID0gY29udGFpb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVyLmZpbmQoIiNzZXJpZXNnZW5yZSBhIikudGV4dEFycmF5KCk7DQogICAgICAgICAgICB0aXRlbS5kZXNjcmlwdGlvbiA9IGNvb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nRhaW5lci5zZWxlY3QoIiNlZGl0ZGVzY3JpcHRpb24iKS50ZXh0KHRydWUpOw0KICAgICAgICAgICAgdGl0ZW0udXZvdGVzID0gY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd65429udGFpbmVyLnNlbGVjdCgiLnV2b3RlcyIpLnRleHQoZmFsc2UpOw0KICAgICAgICAgICAgdGl0ZW0uYWx0ZXJuYXRpdmVOYW1lc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654yA9IGNvbnRhaW5lci5zZWxlY3QoIiNlZGl0YXNzb2NpYXRlZCIpLnRleHQoZmFsc2UpLnJlcGxhY2UoLzxicj4vLCAiLCIpOw0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgdGl0ZW0uYXV0aG9yID0gY29udGFpbmVyLmZpbmQoImRpdiNzaG93YXV0aG9ycyA+IGEiKS50ZXh0KGZhbHNlK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654TsNCiAgICAgICAgICAgIHRpdGVtLmxhbmcgPSBjb250YWluZXIuc2VsZWN0KCIjc2hvd2xhbmcgPiBhIikudGV4dChmYWxzZSkNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICAgICAgICAgIHRpdGVtLmNvbXBsZXRlZCA9IGNvbnRhaW5lci5zZWxlY3QoIiNzaG93dHJhbnNsYXRlZCA+IGEiKS50ZXh0K002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GZhbHNlKSA9PT0gIlllcyIgPyAiU3RhdHVzOkNvbXBsZXRlZCIgOiAiU3RhdHVzOk9uZ29pbmciOw0KICAgICAgICAgICAgdGl0Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W0uYXV0aG9yVXJsID0gY29udGFpbmVyLnNlbGVjdCgiI3Nob3dhdXRob3JzID4gYSIpLmF0dHIoImhyZWYiKS50ZXh0KGZhbHNlK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654TsNCiAgICAgICAgICAgIHRpdGVtLnJlY3VtbWVuZGF0aW9ucyA9IGNvbnRhaW5lci5maW5kKCIud3BiX3dyYXBwZXIgLmdlbnJlI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ikud2hlcmUoeCA9PiAoeC5hdHRyKCJ0aXRsZSIpLnRleHQoZmFsc2UpKS5pbmRleE9mKCJSZWNvbW1lbmRlZCIpID4gLTEpLm1hc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Ch4ID0+IHsNCiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IExpZ2h0SXRlbShhc3luYyAoKSA9PiB7DQogICAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgIHZhciBodG1sID0gcGFyc2VIdG1sKChhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwoeC5hdHRyKCJocmVmIikudGV4dChmY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WxzZSkudXJpKGl0ZW0ucm9vdCksIHRydWUpKS5vdXRlckhUTUwsIGl0ZW0ucm9vdCk7DQogICAgICAgICAgICAgICAgICAgIHJld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HVybiBodG1sLnNlbGVjdCgiLnNlcmllc2ltZyBpbWciKS5hdHRyKCJzcmMiKS50ZXh0KGZhbHNlKS51cmkoaXRlbS5yb290KTsNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICAgICAgICAgICAgICB9LCB4LnRleHQoZmFsc2UpLCAiIiwgeC5hdHRyKCJocmVmIikudGV4dCgpLnVyaShpdGVtLnJvb3QpL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAiIikNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICB0aXRlbS51cmwgPSB1cmw7DQogICAgICAgICAgICByZXR1cm4gdGl0Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W07DQogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikNCiAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HJldHVybiB1bmRlZmluZWQ7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICByZXR1cm4gaXRlbTsNCn0&K002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIpID0+I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HsNCiAgICBjb25zdCByZXR1cm5PYmplY3QgPSB7fTsNCiAgICByZXR1cm5PYmplY3QuaWQgPSAiMS5ub3ZlbG9ubGluZWZ1bGwiO002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654w0KICAgIHJldHVybk9iamVjdC5kZXRhbGlJdGVtVHlwZSA9IERldGFsaUl0ZW1UeXBlLk5vdmVsOw0KICAgIHJldHVybk9iamVjd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654C5wYXJzZXJMYW5ndWFnZSA9ICJlbiI7DQogICAgcmV0dXJuT2JqZWN0Lm5hbWUgPSAnTm92ZWxPbmxpbmVGdWxsJzsNCiAgICByZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XR1cm5PYmplY3QuZGlzcGxheU5hbWUgPSAiTm92ZWwtT25saW5lIg0KICAgIHJldHVybk9iamVjdC5sYXRlc3RVcmwgPSAnaHR0c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HM6Ly9ub3ZlbG9ubGluZWZ1bGwuY29tL25vdmVsX2xpc3Q/dHlwZT1sYXRlc3QmY2F0ZWdvcnk9YWxsJnN0YXRlPWFsbCZwYWdlP002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XtwfSc7DQogICAgcmV0dXJuT2JqZWN0LnVybCA9ICdodHRwczovL25vdmVsb25saW5lZnVsbC5jb20vJzsNCiAgICByZXR1cm5PY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mplY3Quc2VhcmNoVXJsID0gJ2h0dHBzOi8vbm92ZWxvbmxpbmVmdWxsLmNvbS9zZWFyY2hfbm92ZWxzL3txfT9wYWdlPXtwfSc7D002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QogICAgcmV0dXJuT2JqZWN0LnBhbmluYXRpb24gPSB0cnVlOw0KICAgIHJldHVybk9iamVjdC5zZWFyY2hQYWdpbmF0aW9uID0gZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mFsc2U7DQogICAgcmV0dXJuT2JqZWN0Lmljb24gPSAnaHR0cHM6Ly9ub3ZlbG9ubGluZWZ1bGwuY29tL3RoZW1lcy9ob21lL2ltY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Wdlcy9mYXZpY29uLnBuZyc7DQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzID0gbmV3IFBhcnNlclNlYXJja002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654FNldHRpbmdzKCk7DQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLm11bHRpU2VsZWN0aW9uID0gdHJ1ZTsNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3MuZ2VucmVzID0gew0KICAgICAgICBtdWx0aVNlbGVjdGlvbjogZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mFsc2UsDQogICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkFsbCIsICJhbGwiKSwNCiAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgIG5ldyBsYWJlbFZhbHVlKCJDaGluZXNlIiwgMyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiRW5nbGlzaCIsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654DYpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIktvcmVhbiIsIDEzKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CJPcmlnaW5hbCIsIDE5KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJBY3Rpb24iLCAxKSwNCiAgICAgICAgICAgIG5ld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654yBsYWJlbFZhbHVlKCJBZHZlbnR1cmUiLCAyKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJDb21lZHkiLCA0KSwNCiAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJEcmFtYSIsIDUpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkZhbnRhc3kiL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CA3KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJHZW5kZXIgQmVuZGVyIiwgOCksDQogICAgICAgICAgICBuZXcgbGFiZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WxWYWx1ZSgiSGFyZW0iLCA5KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJIaXN0b3JpY2FsIiwgMTApLA0KICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgbmV3IGxhYmVsVmFsdWUoIkhvcnJvciIsIDExKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJKb3NlaSIsIDEyK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJMb2xpY29uIiwgMTQpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654k1hcnRpYWwgQXJ0cyIsIDE1KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJNYXR1cmUiLCAxNiksDQogICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CBuZXcgbGFiZWxWYWx1ZSgiTWVjaGEiLCAxNyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTXlzdGVyeSIsIDE4KSwNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJQc3ljaG9sb2dpY2FsIiwgMjApLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WUoIlJlaW5jYXJuYXRpb24iLCAyMSksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiUm9tYW5jZSIsIDIyKSwNCiAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgIG5ldyBsYWJlbFZhbHVlKCJTY2hvb2wgTGlmZSIsIDIzKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTY2ktZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mkiLCAyNCksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2VpbmVuIiwgMjUpLA0KICAgICAgICAgICAgbmV3IGxhYmVsV002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mFsdWUoIlNob3RhY29uIiwgMjYpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNob3VqbyIsIDI3KSwNCiAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIG5ldyBsYWJlbFZhbHVlKCJTaG91am8gQWkiLCAyOCksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2hvdW5lbiIsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654DI5KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTaG91bmVuIEFpIiwgMzApLA0KICAgICAgICAgICAgbmV3IGxhYmVsV002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mFsdWUoIlNsaWNlIG9mIExpZmUiLCAzMSksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU211dCIsIDMyKSwNCiAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgIG5ldyBsYWJlbFZhbHVlKCJTcG9ydHMiLCAzMyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU3VwZXJuYXR1c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mFsIiwgMzQpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlRyYWdlZHkiLCAzNSksDQogICAgICAgICAgICBuZXcgbGFiZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WxWYWx1ZSgiVmlydHVhbCBSZWFsaXR5IiwgMzYpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIld1eGlhIiwgMzcpLA0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlhpYW54aWEiLCAzOCksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiWHVhb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mh1YW4iLCAzOSksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQXJ0cyIsIDQwKSwNCiAgICAgICAgICAgIG5ldyBsYWJlb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654FZhbHVlKCJCaW9ncmFwaGllcyIsIDQxKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJCdXNpbmVzcyIsIDQyKSwNCiAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJDb21wdXRlcnMiLCA0MyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiRWR1Y002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542F0aW9uIiwgNDYpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkVudGVydGFpbm1lbnQiLCA0NyksDQogICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CBuZXcgbGFiZWxWYWx1ZSgiRmljdGlvbiIsIDQ4KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJIdW1vciIsIDUxKSwNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJJbnZlc3RpbmciLCA1MiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiT002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Gl0ZXJhdHVyZSIsIDUzKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJNZW1vaXJzIiwgNTQpDQoNCiAgICAgICAgXQ0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIH0NCg0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5zb3J0VHlwZXMgPSB7DQogICAgICAgIG11bHRpU002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542VsZWN0aW9uOiBmYWxzZSwNCiAgICAgICAgdmFsdWVzOiBbDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTGF0ZXN0JywgJ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542xhdGVzdCcpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ05ld2VzdCcsICduZXdlc3QnKSwNCiAgICAgICAgICAgIG5ld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654yBsYWJlbFZhbHVlKCdUb3AgdmlldycsICd0b3B2aWV3JykNCiAgICAgICAgXSwNCiAgICB9Ow0KDQogICAgcmV0dXJuT2JqZWN0L002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mdldFNlY3Rpb25zID0gKGtleXMpID0+IHsNCiAgICAgICAgdmFyIHNlY3Rpb25zID0gWw0KICAgICAgICAgICAgbmV3IFNlY3Rpb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd65424oImxhdGVzdCIsICJMYXRlc3QgVXBkYXRlIiwgIkxhdGVzdCIsIHRydWUpLA0KICAgICAgICAgICAgbmV3IFNlY3Rpb24oIm5ld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542VzdCIsICJOZXdlc3QgTm92ZWwiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIodW5kZWZpbmVkLCAibmV3ZXN0IikpLA0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgbmV3IFNlY3Rpb24oInRvcCIsICJUb3AgdmlldyIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mluZWQsICJ0b3B2aWV3IikpDQogICAgICAgIF0NCg0KICAgICAgICByZXR1cm4gc2VjdGlvbnMuZmlsdGVyKHggPT4gIWtleXMgf002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Hwga2V5cy5pbmNsdWRlcyh4Lm5hbWUpKTsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QudHJhbnNsYXRlU2VjdGlvbiA9IGFze002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W5jIChzZWN0aW9uLCBwYWdlKSA9PiB7DQogICAgICAgIGlmIChzZWN0aW9uLmlkZW50aWZpZXIgPT0gIkxhdGVzdCIpDQogICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICByZXR1cm4gYXdhaXQgcmV0dXJuT2JqZWN0LmxhdGVzdChwYWdlKTsNCiAgICAgICAgZWxzZQ0KICAgICAgICAgICAgc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mV0dXJuIGF3YWl0IHJldHVybk9iamVjdC5zZWFyY2goc2VjdGlvbi5maWx0ZXIgfHwgcmV0dXJuT2JqZWN0LmRlZmF1bHRGaWx0Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XIoKSwgcGFnZSk7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmRlZmF1bHRGaWx0ZXIgPSAoKSA9PiB7DQogICAgICAgIHJld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HVybiBuZXcgRmlsdGVyKFsiYWxsIl0sICJ0b3B2aWV3Iik7DQogICAgfTsNCg0KDQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaCA9I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GFzeW5jIChmaWx0ZXIsIHBhZ2UpID0+IHsNCiAgICAgICAgdmFyIHNvcnRUeXBlVXJpID0gImh0dHBzOi8vbm92ZWxvbmxpbmVmd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WxsLmNvbS9ub3ZlbF9saXN0P3R5cGU9e3N9JmNhdGVnb3J5PXtnfSZzdGF0ZT1hbGwmcGFnZT17cH0iDQogICAgICAgIHZhciBzb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543J0VHlwZVVybCA9IHNvcnRUeXBlVXJpLnJlcGxhY2UoIntzfSIsIGZpbHRlci5zb3J0VHlwZSkucmVwbGFjZSgie3B9IiwgcGFnZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654S50b1N0cmluZygpKS5yZXBsYWNlKCJ7Z30iLCBmaWx0ZXIuZ2VucmVzLmxlbmd0aCA+IDAgPyBmaWx0ZXIuZ2VucmVzWzBdIDogI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mFsbCIpOw0KDQogICAgICAgIHZhciB1cmwgPSAoIWZpbHRlci50aXRsZSB8fCBmaWx0ZXIudGl0bGUgPT0gIiIpICYmIGZpbHRlc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654i5zb3J0VHlwZSAmJiBmaWx0ZXIuc29ydFR5cGUgIT0gJycgPyBzb3J0VHlwZVVybCA6IHJldHVybk9iamVjdC5zZWFyY2hVcmwuc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVwbGFjZSgne3F9JywgKGZpbHRlci50aXRsZSB8fCAiIikucmVwbGFjZSgvWyBdLywgIl8iKSk7DQoNCiAgICAgICAgdmFyIGNvb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKHVybCkpOw0KICAgICAgICB2Y002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XIgcmVzdWx0ID0gW107DQogICAgICAgIGNvbnRhaW5lci5maW5kKCIudXBkYXRlX2l0ZW0sIC5pdGVtdXBkYXRlIikuZm9yRWFja002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Ch4ID0+IHsNCiAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBMaWdodEl0ZW0oeC5zZWxlY3QoImltZyIpLmF0dHIoInNyYyIpL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nVybCgpLA0KICAgICAgICAgICAgICAgIHguc2VsZWN0KCJpbWciKS5hdHRyKCJhbHQgfCB0aXRsZSIpLnRleHQoZmFsc2UpLA0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgICAgICIiLA0KICAgICAgICAgICAgICAgIHguc2VsZWN0KCJhIikuYXR0cigiaHJlZiIpLnVybCgpLA0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgIHJldHVybk9iamVjdC5uYW1lKSk7DQogICAgICAgIH0pOw0KDQogICAgICAgIHJldHVybiByZXN1bHQ7DQoNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICB9DQoNCiAgICByZXR1cm5PYmplY3QuZ2V0Tm92ZWwgPSBhc3luYyAobm92ZWxVcmwpID0+IHsNCiAgICAgICAgdmFyIGNvb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKG5vdmVsVXJsKSk7DQogICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIHZhciBjaGFwdGVycyA9IGNvbnRhaW5lci5maW5kKCIuY2hhcHRlci1saXN0IC5yb3cgYSIpLm1hcCh4ID0+IG5ldyBDaGFwd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GVyKHgudGV4dChmYWxzZSksIHguYXR0cigiaHJlZiIpLnVybCgpKSk7DQogICAgICAgIHZhciBub3ZlbFJldmlld3MgPSBuZXcgT002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654m92ZWxSZXZpZXdzKCk7DQogICAgICAgIHZhciBpbmZvcyA9IGNvbnRhaW5lci5maW5kKCIudHJ1eWVuX2luZm9fcmlnaHQgbGkiK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Q0KDQoNCiAgICAgICAgbm92ZWxSZXZpZXdzLmdlbnJlcyA9IGluZm9zLmVxKDIpLmZpbmQoImEiKS50ZXh0QXJyYXkoKTsNCiAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgbm92ZWxSZXZpZXdzLmF1dGhvciA9IGluZm9zLmVxKDEpLmZpbmQoImEiKS50ZXh0KCk7DQogICAgICAgIG5vdmVsUmV2a002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WV3cy51dm90ZXMgPSBpbmZvcy5lcSg2KS50ZXh0KGZhbHNlKTsNCiAgICAgICAgbm92ZWxSZXZpZXdzLmRlc2NyaXB0aW9uID0ga002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W5mb3Muc2VsZWN0KCIjbm9pZHVuZ20iKS50ZXh0KGZhbHNlKTsNCiAgICAgICAgbm92ZWxSZXZpZXdzLmNvbXBsZXRlZCA9IGluZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654m9zLmVxKDMpLnNlbGVjdCgiYSIpLnRleHQoZmFsc2UpID09PSAiQ29tcGxldGVkIiA/ICJTdGF0dXM6Q29tcGxldGVkIiA6ICJTd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GF0dXM6T25nb2luZyI7DQoNCiAgICAgICAgcmV0dXJuIG5ldyBEZXRhbGlJdGVtKA0KICAgICAgICAgICAgY29udGFpbmVyLnNlb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GVjdCgiLmluZm9faW1hZ2UgaW1nIikuYXR0cigic3JjIikudXJsKCksDQogICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCcud002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HJ1eWVuX2luZm9fcmlnaHQgaDEnKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoJyNub2lkdW5nb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ScpLmNsZWFuSW5uZXJIVE1MKCksDQogICAgICAgICAgICBub3ZlbFVybCwNCiAgICAgICAgICAgIGNoYXB0ZXJzLnJldmVyc2UoK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SwNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cywNCiAgICAgICAgICAgIHJldHVybk9iamVjdC5uYW1lLA0KICAgICAgICAgICAgd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W5kZWZpbmVkLA0KICAgICAgICApOw0KICAgIH0NCg0KDQogICAgcmV0dXJuT2JqZWN0LmdldENoYXB0ZXIgPSBhc3luYyAodXJsK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SA9PiB7DQogICAgICAgIHJldHVybiByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IG5ldyBjbGllbnQoKS5nZXRIdG1sKHVyb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CkpLnNlbGVjdCgiLnZ1bmdfZG9jIikuY2xlYW5Jbm5lckhUTUwoKTsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QubGF0ZXN0I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654D0gYXN5bmMgKHBhZ2UpID0+IHsNCiAgICAgICAgdmFyIHVybCA9IHJldHVybk9iamVjdC5sYXRlc3RVcmwucmVwbGFjZSgie3B9I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iwgcGFnZS50b1N0cmluZygpKTsNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgS002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HR0cENsaWVudC5nZXRIdG1sKHVybCkpOw0KICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgIGNvbnRhaW5lci5maW5kK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CIudXBkYXRlX2l0ZW0iKS5mb3JFYWNoKHggPT4gew0KICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IExpZ2h0SXRlbSh4LnNlb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GVjdCgiaW1nIikuYXR0cigic3JjIikudXJsKCksDQogICAgICAgICAgICAgICAgeC5zZWxlY3QoImltZyIpLmF0dHIoInRpdGxlI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ikudGV4dChmYWxzZSksDQogICAgICAgICAgICAgICAgIiIsDQogICAgICAgICAgICAgICAgeC5zZWxlY3QoImEiKS5hdHRyKCJoc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVmIikudXJsKCksDQogICAgICAgICAgICAgICAgcmV0dXJuT2JqZWN0Lm5hbWUpKTsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mV0dXJuIHJlc3VsdDsNCiAgICB9DQoNCiAgICByZXR1cm4gcmV0dXJuT2JqZWN0Ow0KfTs&K002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIpID0+I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HsNCiAgICBjb25zdCByZXR1cm5PYmplY3QgPSB7fTsNCiAgICByZXR1cm5PYmplY3QuaWQgPSAiMS5yZWFkbGlnaHRub3ZlbCI7D002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QogICAgcmV0dXJuT2JqZWN0LmRldGFsaUl0ZW1UeXBlID0gRGV0YWxpSXRlbVR5cGUuTm92ZWw7DQogICAgcmV0dXJuT2JqZWN0L002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nBhcnNlckxhbmd1YWdlID0gImVuIjsNCiAgICByZXR1cm5PYmplY3QubmFtZSA9ICdSZWFkTGlnaHROb3ZlbCc7DQogICAgcmV0d002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJuT2JqZWN0LmRpc3BsYXlOYW1lID0gIlItTm92ZWwtTGlnaHQiOw0KICAgIHJldHVybk9iamVjdC5sYXRlc3RVcmwgPSAnaHR0c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HM6Ly93d3cucmVhZGxpZ2h0bm92ZWwuY2MnOw0KICAgIHJldHVybk9iamVjdC51cmwgPSAnaHR0cHM6Ly93d3cucmVhZGxpZ2h0b002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654m92ZWwuY2MvJzsNCiAgICByZXR1cm5PYmplY3Quc2VhcmNoVXJsID0gJ2h0dHBzOi8vd3d3LnJlYWRsaWdodG5vdmVsLmNjL3NlY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJjaC97cX0ve3B9JzsNCiAgICByZXR1cm5PYmplY3QucGFuaW5hdGlvbiA9IGZhbHNlOw0KICAgIHJldHVybk9iamVjdC5zZWFyY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542hQYWdpbmF0aW9uID0gdHJ1ZTsNCiAgICByZXR1cm5PYmplY3QuaWNvbiA9ICdodHRwczovL3d3dy5nb29nbGUuY29tL3MyL2Zhd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mljb25zP2RvbWFpbj1odHRwczovL3d3dy5yZWFkbGlnaHRub3ZlbC5jYy8nOw0KDQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJjaFNldHRpbmdzID0gbmV3IFBhcnNlclNlYXJjaFNldHRpbmdzKCk7DQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HRpbmdzLmdlbnJlcyA9IHsNCiAgICAgICAgbXVsdGlTZWxlY3Rpb246IGZhbHNlLA0KICAgICAgICB2YWx1ZXM6IFsNCiAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgIG5ldyBsYWJlbFZhbHVlKCdBbnknLCAwKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdGYW50YXN5JywgMSksD002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnWGlhbnhpYScsIDIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1Jvb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WFudGljJywgMyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnSGlzdG9yaWNhbCcsIDQpLA0KICAgICAgICAgICAgbmV3I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GxhYmVsVmFsdWUoJ1NjaS1maScsIDUpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0dhbWUnLCA2KSwNCiAgICAgICAgX002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SwNCiAgICB9Ow0KDQogICAgcmV0dXJuT2JqZWN0LmdldFNlY3Rpb25zID0gYXN5bmMgKGtleXMpID0+IHsNCiAgICAgICAgdmFyI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HNlY3Rpb25zID0gWw0KICAgICAgICAgICAgbmV3IFNlY3Rpb24oImxhdGVzdCIsICJMYXRlc3QgVXBkYXRlIiwgIkxhdGVzdCIsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HRydWUpDQogICAgICAgIF0NCg0KICAgICAgICByZXR1cm4gc2VjdGlvbnMuZmlsdGVyKHggPT4gIWtleXMgfHwga2V5cy5pbmNsd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WRlcyh4Lm5hbWUpKTsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QudHJhbnNsYXRlU2VjdGlvbiA9IGFzeW5jIChzZWN0aW9uL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CBwYWdlKSA9PiB7DQogICAgICAgIGlmIChzZWN0aW9uLmlkZW50aWZpZXIgPT0gIkxhdGVzdCIpDQogICAgICAgICAgICByZXR1c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654m4gYXdhaXQgcmV0dXJuT2JqZWN0LmxhdGVzdChwYWdlKTsNCiAgICAgICAgZWxzZQ0KICAgICAgICAgICAgcmV0dXJuIGF3YWl0I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HJldHVybk9iamVjdC5zZWFyY2goc2VjdGlvbi5maWx0ZXIgfHwgcmV0dXJuT2JqZWN0LmRlZmF1bHRGaWx0ZXIoKSwgcGFnZSk7D002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmRlZmF1bHRGaWx0ZXIgPSAoKSA9PiB7DQogICAgICAgIHZhciBmaWx0ZXIgPSBuZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XcgRmlsdGVyKCk7DQogICAgICAgIHJldHVybiBmaWx0ZXI7DQogICAgfTsNCg0KICAgIHJldHVybk9iamVjdC5nZXRHZW5yZXNTZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WFyY2ggPSBhc3luYyAoZmlsdGVyLCBwYWdlKSA9PiB7DQogICAgICAgIHZhciBxID0gJ2h0dHBzOi8vd3d3LnJlYWRsaWdodG5vd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVsLmNjL21lbWJlcmFjdGlvbi5hc3B4JzsNCiAgICAgICAgdmFyIGYgPSB7DQogICAgICAgICAgICBhY3Rpb246ICduZXh0Ym9va002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542NhdGVnb3J5JywNCiAgICAgICAgICAgIGNhdGVnb3J5aWQ6IGZpbHRlci5nZW5yZXNbMF0sDQogICAgICAgICAgICBwYWdlOiBwY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WdlLA0KICAgICAgICB9Ow0KDQogICAgICAgIHZhciBqc29uID0gYXdhaXQgSHR0cENsaWVudC5wb3N0Rm9ybShxLCBmKTsNCg0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICByZXR1cm4ganNvbiAmJiBqc29uLmRhdGEgPyBqc29uLmRhdGEubWFwKCh4KSA9Pg0KICAgICAgICAgICAgICAgIG5ld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654yBMaWdodEl0ZW0oDQogICAgICAgICAgICAgICAgICAgIGFzeW5jICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CByZXR1cm4gKGF3YWl0IHJldHVybk9iamVjdC5nZXROb3ZlbCh4LkJvb2tQaW5ZaW4udXJpKHJldHVybk9iamVjdC5wYXJzZXIud002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJsKSArICIvIiwgdHJ1ZSkpLmltYWdlDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgeC5Cb29rTmFtZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHguRGVzY3JpcHRpb24sDQogICAgICAgICAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICB4LkJvb2tQaW5ZaW4udXJpKHRyZXR1cm5PYmplY3RoaXMudXJsKSArICIvIiwNCiAgICAgICAgICAgICAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HJldHVybk9iamVjdC5uYW1lDQogICAgICAgICAgICAgICAgKSwNCiAgICAgICAgICAgICkgOg0KICAgICAgICAgICAgW107DQogI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaCA9IGFzeW5jIChmaWx0ZXIsIHBhZ2UpID0+IHsNCiAgICAgICAgaWYgKGZpb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HRlci5nZW5yZXMubGVuZ3RoID4gMCkNCiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZXR1cm5PYmplY3QuZ2V0R2VucmVzU2Vhc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mNoKGZpbHRlciwgcGFnZSk7DQoNCiAgICAgICAgdmFyIHF1ZXJ5ID0gcmV0dXJuT2JqZWN0LnNlYXJjaFVybA0KICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgLnJlcGxhY2UoJ3txfScsIGZpbHRlci50aXRsZSB8fCAiIikNCiAgICAgICAgICAgIC5yZXBsYWNlKCd7cH0nLCBwYWdlLnRvU002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543RyaW5nKCkpOw0KICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50L002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mdldEh0bWwocXVlcnkpKTsNCiAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICBjb250YWluZXIuZmluZCgnLmxpc3Qta002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XRlbScpLmZvckVhY2goeCA9PiB7DQogICAgICAgICAgICByZXN1bHQucHVzaCgNCiAgICAgICAgICAgICAgICBuZXcgTGlnaHRJd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GVtKA0KICAgICAgICAgICAgICAgICAgICB4LnNlbGVjdCgnaW1nJykuYXR0cigic3JjIikudXJsKCksDQogICAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgIHguc2VsZWN0KCdpbWcnKS5hdHRyKCJhbHQgfCB0aXRsZSIpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAnJywNCiAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoJy5ib29rLW5hbWUnKS5hdHRyKCJocmVmIikudXJsKCksDQogICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgICAgIHJldHVybk9iamVjdC5uYW1lDQogICAgICAgICAgICAgICAgKSwNCiAgICAgICAgICAgICk7DQogICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIH0pOw0KICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5nZXROb3ZlbCA9IGFzeW5jI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Chub3ZlbFVybCwgaWdub3JlQ2hhcHRlcnMpID0+IHsNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKG5vdmVsVXJsLCBpZ25vcmVDaGFwdGVycykpOw0KICAgICAgICB2YXIgY2hhc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HRlcnMgPSBbXTsNCiAgICAgICAgdmFyIG5vdmVsUmV2aWV3cyA9IG5ldyBOb3ZlbFJldmlld3MoKTsNCiAgICAgICAgaWYgKCFpZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd65425vcmVDaGFwdGVycykgew0KICAgICAgICAgICAgdmFyIGh0bWxDaGFwdGVycyA9IGNvbnRhaW5lci5maW5kKCcuY2hhcHRlci1sa002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XN0IGEnKTsNCiAgICAgICAgICAgIGh0bWxDaGFwdGVycy5mb3JFYWNoKCh4KSA9PiB7DQogICAgICAgICAgICAgICAgY2hhcHRlc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nMucHVzaCgNCiAgICAgICAgICAgICAgICAgICAgbmV3IENoYXB0ZXIoeC5zZWxlY3QoJy5jaGFwdGVyLW5hbWUnKS50ZXh0KGZhb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HNlKSwgeC5hdHRyKCJocmVmIikudXJsKCkpDQogICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9D002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QogICAgICAgIG5vdmVsUmV2aWV3cy5nZW5yZXMgPSBjb250YWluZXIuZmluZCgiLmJhc2UtaW5mbyAuYm9vay1jYXRhbG9nIC50e002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HQiKS50ZXh0QXJyYXkoKTsNCiAgICAgICAgbm92ZWxSZXZpZXdzLmF1dGhvciA9IGNvbnRhaW5lci5zZWxlY3QoIi5hdXRob3IgL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654m5hbWUiKS50ZXh0KGZhbHNlKTsNCiAgICAgICAgbm92ZWxSZXZpZXdzLnV2b3RlcyA9IGNvbnRhaW5lci5zZWxlY3QoIi5zY29yZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SIpLnRleHQoZmFsc2UpICsgIiAvIDEwIjsNCiAgICAgICAgbm92ZWxSZXZpZXdzLmNvbXBsZXRlZCA9IGNvbnRhaW5lci5zZWxlY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543QoIi5iYXNlLWluZm8gLmJvb2stc3RhdGUgLnR4dCIpLnRleHQoZmFsc2UpID09PSAiQ29tcGxldGVkIiA/ICJTdGF0dXM6Q29tc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GxldGVkIiA6ICJTdGF0dXM6T25nb2luZyI7DQogICAgICAgIHJldHVybiBuZXcgRGV0YWxpSXRlbSgNCiAgICAgICAgICAgIGNvb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nRhaW5lci5zZWxlY3QoJy5ib29rLWNvbnRhaW5lciBpbWcnKS5hdHRyKCJzcmMiKS51cmwoKSwNCiAgICAgICAgICAgIGNvbnRha002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W5lci5zZWxlY3QoJy5ib29rLWluZm8gLmJvb2stbmFtZScpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgY29udGFpbmVyLnNlb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GVjdCgnLnN5bm9wc2lzIC5jb250ZW50IC5kZXNjJykuY2xlYW5Jbm5lckhUTUwoKSwNCiAgICAgICAgICAgIG5vdmVsVXJsLA0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgY2hhcHRlcnMsDQogICAgICAgICAgICBub3ZlbFJldmlld3MsDQogICAgICAgICAgICByZXR1cm5PYmplY3Qub002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mFtZSwNCiAgICAgICAgICAgIHVuZGVmaW5lZCwNCiAgICAgICAgKTsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QuZ2V0Q2hhc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HRlciA9IGFzeW5jICh1cmwpID0+IHsNCiAgICAgICAgcmV0dXJuIHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgbmV3IGNsa002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WVudCgpLmdldEh0bWwodXJsKSkuc2VsZWN0KCcucmVhZC1jb250YWluZXIgLnNlY3Rpb24tbGlzdCcpLmNsZWFuSW5uZXJIVE1MK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Ck7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmxhdGVzdCA9IGFzeW5jIChwYWdlKSA9PiB7DQogICAgICAgIHZhciBjb250Y002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbChyZXR1cm5PYmplY3QubGF0ZXN0V002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJsKSk7DQogICAgICAgIHZhciByZXN1bHQgPSBbXTsNCg0KICAgICAgICBjb250YWluZXIuZmluZCgnLnVwZGF0ZS1jb250ZW50J002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ykuZm9yRWFjaCgoeCkgPT4gew0KICAgICAgICAgICAgdmFyIHUgPSB4LnNlbGVjdCgnLml0ZW0tdGl0bGUgYScpLmF0dHIoImhyZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WYiKS50ZXh0KGZhbHNlKTsNCiAgICAgICAgICAgIHZhciB0aXRsZSA9IHguc2VsZWN0KCcuaXRlbS10aXRsZSBhJykudGV4dChmY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WxzZSk7DQogICAgICAgICAgICBpZiAodSAhPSAiIiAmJiAhcmVzdWx0LmZpbmQoKHgpID0+IHUudXJpKHJldHVybk9iamVjdC51c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mwpID09IHgubm92ZWwgfHwgdGl0bGUgPT0geC50aXRsZSkpDQogICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goDQogICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgIG5ldyBMaWdodEl0ZW0oDQogICAgICAgICAgICAgICAgICAgICAgICBhc3luYyAoKSA9PiB7DQogICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoYXdhaXQgcmV0dXJuT2JqZWN0LmdldE5vdmVsKHUudXJpKHJldHVybk9ia002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVjdC51cmwpLCB0cnVlKSkuaW1hZ2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgIHRpdGxlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICcnLA0KICAgICAgICAgICAgICAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIHUudXJpKHJldHVybk9iamVjdC51cmwpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybk9iamVjdC5uYW1lD002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QogICAgICAgICAgICAgICAgICAgICksDQogICAgICAgICAgICAgICAgKTsNCiAgICAgICAgfSk7DQogICAgICAgIHJldHVybiByZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XN1bHQ7DQogICAgfQ0KDQogICAgcmV0dXJuIHJldHVybk9iamVjdDsNCn0&K002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50KSA9PiB7DQoJY29uc3QgcmV0d002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJuT2JqZWN0ID0ge307DQoJcmV0dXJuT2JqZWN0LmlkID0gIjEucmVhZG5vdmVsZnVsbCI7DQoJcmV0dXJuT2JqZWN0LnBhcnNlc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654kxhbmd1YWdlID0gImVuIjsNCglyZXR1cm5PYmplY3QubmFtZSA9ICdSZWFkTm92ZWxGdWxsJzsNCglyZXR1cm5PYmplY3QuZGlzc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GxheU5hbWUgPSAiUi1Ob3ZlbC1GdWxseSI7DQoJcmV0dXJuT2JqZWN0LmRldGFsaUl0ZW1UeXBlID0gRGV0YWxpSXRlbVR5cGUuT002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654m92ZWw7DQoJcmV0dXJuT2JqZWN0LmxhdGVzdFVybCA9ICdodHRwczovL3JlYWRub3ZlbGZ1bGwuY29tL2xhdGVzdC1yZWxlYXNlL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W5vdmVsP3BhZ2U9e3B9JzsNCglyZXR1cm5PYmplY3QudXJsID0gJ2h0dHBzOi8vcmVhZG5vdmVsZnVsbC5jb20vJzsNCglyZXR1c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654m5PYmplY3Quc2VhcmNoVXJsID0gJ2h0dHBzOi8vcmVhZG5vdmVsZnVsbC5jb20vc2VhcmNoP2tleXdvcmQ9e3F9JnBhZ2U9e3B9J002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654zsNCglyZXR1cm5PYmplY3QuY2hhcHRlcnNVcmwgPSAnaHR0cHM6Ly9yZWFkbm92ZWxmdWxsLmNvbS9hamF4L2NoYXB0ZXItb3B0a002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W9uP25vdmVsSWQ9e2lkfSZjdXJyZW50Q2hhcHRlcklkPTEnOw0KCXJldHVybk9iamVjdC5wYW5pbmF0aW9uID0gdHJ1ZTsNCglyZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XR1cm5PYmplY3Quc2VhcmNoUGFnaW5hdGlvbiA9IHRydWU7DQoJcmV0dXJuT2JqZWN0Lmljb24gPSAnaHR0cHM6Ly9yZWFkbm92Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WxmdWxsLmNvbS9pbWcvZmF2aWNvbi5pY28nOw0KCXJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncyA9IG5ldyBQYXJzZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJTZWFyY2hTZXR0aW5ncygpOw0KCXJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZXMgPSB7DQoJCW11bHRpU002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542VsZWN0aW9uOiBmYWxzZSwNCgkJdmFsdWVzOiBbDQoJCQluZXcgbGFiZWxWYWx1ZSgnU2hvdW5lbicpLA0KCQkJbmV3IGxhYmVsV002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mFsdWUoJ0hhcmVtJyksDQoJCQluZXcgbGFiZWxWYWx1ZSgnQ29tZWR5JyksDQoJCQluZXcgbGFiZWxWYWx1ZSgnTWFydGlhbCBBc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nRzJywgJ01hcnRpYWwrQXJ0cycpLA0KCQkJbmV3IGxhYmVsVmFsdWUoJ1NjaG9vbCBMaWZlJywgJ1NjaG9vbCtMaWZlJyksDQoJC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QluZXcgbGFiZWxWYWx1ZSgnTXlzdGVyeScpLA0KCQkJbmV3IGxhYmVsVmFsdWUoJ1Nob3VqbycpLA0KCQkJbmV3IGxhYmVsVmFsd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WUoJ1JvbWFuY2UnKSwNCgkJCW5ldyBsYWJlbFZhbHVlKCdTY2ktZmknKSwNCgkJCW5ldyBsYWJlbFZhbHVlKCdHZW5kZXIgQmVuZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GVyJywgJ0dlbmRlcitCZW5kZXInKSwNCgkJCW5ldyBsYWJlbFZhbHVlKCdNYXR1cmUnKSwNCgkJCW5ldyBsYWJlbFZhbHVlKCdGY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W50YXN5JyksDQoJCQluZXcgbGFiZWxWYWx1ZSgnSG9ycm9yJyksDQoJCQluZXcgbGFiZWxWYWx1ZSgnRHJhbWEnKSwNCgkJCW5ld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654yBsYWJlbFZhbHVlKCdUcmFnZWR5JyksDQoJCQluZXcgbGFiZWxWYWx1ZSgnU3VwZXJuYXR1cmFsJyksDQoJCQluZXcgbGFiZWxWY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Wx1ZSgnRWNjaGknKSwNCgkJCW5ldyBsYWJlbFZhbHVlKCdYdWFuaHVhbicpLA0KCQkJbmV3IGxhYmVsVmFsdWUoJ0FkdmVudHVyZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ScpLA0KCQkJbmV3IGxhYmVsVmFsdWUoJ1BzeWNob2xvZ2ljYWwnKSwNCgkJCW5ldyBsYWJlbFZhbHVlKCdYaWFueGlhJyksDQoJC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QluZXcgbGFiZWxWYWx1ZSgnV3V4aWEnKSwNCgkJCW5ldyBsYWJlbFZhbHVlKCdIaXN0b3JpY2FsJyksDQoJCQluZXcgbGFiZWxWY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Wx1ZSgnU2xpY2Ugb2YgTGlmZScsICdTbGljZStvZitMaWZlJyksDQoJCQluZXcgbGFiZWxWYWx1ZSgnTG9saWNvbicpLA0KCQkJb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mV3IGxhYmVsVmFsdWUoJ0FkdWx0JyksDQoJCQluZXcgbGFiZWxWYWx1ZSgnSm9zZWknKSwNCgkJCW5ldyBsYWJlbFZhbHVlKCdTc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654G9ydHMnKSwNCgkJCW5ldyBsYWJlbFZhbHVlKCdTbXV0JyksDQoJCQluZXcgbGFiZWxWYWx1ZSgnTWVjaGEnKSwNCgkJCW5ldyBsY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WJlbFZhbHVlKCdZYW9pJyksDQoJCQluZXcgbGFiZWxWYWx1ZSgnU2hvdW5lbiBBaScsICdTaG91bmVuK0FpJyksDQoJCV0sDQoJf002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654TsNCglyZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3Muc29ydFR5cGVzID0gew0KCQltdWx0aVNlbGVjdGlvbjogZmFsc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542UsDQoJCXZhbHVlczogWw0KCQkJbmV3IGxhYmVsVmFsdWUoJ0xhdGVzdCBSZWxlYXNlIE5vdmVsJywgJ2xhdGVzdC1yZWxlYXNlL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W5vdmVsJyksDQoJCQluZXcgbGFiZWxWYWx1ZSgnSG90IE5vdmVsJywgJ2hvdC1ub3ZlbCcpLA0KCQkJbmV3IGxhYmVsVmFsdWUoJ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6540NvbXBsZXRlZCBOb3ZlbCcsICdjb21wbGV0ZWQtbm92ZWwnKSwNCgkJCW5ldyBsYWJlbFZhbHVlKCdNb3N0IFBvcHVsYXInLCAnb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W9zdC1wb3B1bGFyLW5vdmVsJyksDQoJCV0sDQoJfTsNCglyZXR1cm5PYmplY3QuZ2V0U2VjdGlvbnMgPSAoa2V5cykgPT4gew0KC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Ql2YXIgc2VjdGlvbnMgPSBbDQoJCQluZXcgU2VjdGlvbigibGF0ZXN0IiwgIkxhdGVzdCBVcGRhdGUiLCAiTGF0ZXN0IiwgdHJ1Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SksDQoJCQluZXcgU2VjdGlvbigiaG90IiwgIkhvdCBOb3ZlbCIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZmluZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WQsICJob3Qtbm92ZWwiKSksDQoJCQluZXcgU2VjdGlvbigiY29tcGxldGVkIiwgIkNvbXBsZXRlZCBOb3ZlbCIsICJTZWFyY2giL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsICJjb21wbGV0ZWQtbm92ZWwiKSksDQoJCQluZXcgU2VjdGlvbigicG9wdWxhc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iIsICJNb3N0IFBvcHVsYXIiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIodW5kZWZpbmVkLCAibW9zdC1wb3B1bGFyLW5vd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVsIikpDQoJCV0NCgkJcmV0dXJuIHNlY3Rpb25zLmZpbHRlcih4ID0+ICFrZXlzIHx8IGtleXMuaW5jbHVkZXMoeC5uYW1lKSk7D002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QoJfQ0KCXJldHVybk9iamVjdC50cmFuc2xhdGVTZWN0aW9uID0gYXN5bmMgKHNlY3Rpb24sIHBhZ2UpID0+IHsNCgkJaWYgKHNlY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543Rpb24uaWRlbnRpZmllciA9PSAiTGF0ZXN0IikgcmV0dXJuIGF3YWl0IHJldHVybk9iamVjdC5sYXRlc3QocGFnZSk7DQoJCWVsc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542UgcmV0dXJuIGF3YWl0IHJldHVybk9iamVjdC5zZWFyY2goc2VjdGlvbi5maWx0ZXIgfHwgcmV0dXJuT2JqZWN0LmRlZmF1bHRGa002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Wx0ZXIoKSwgcGFnZSk7DQoJfQ0KCXJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyID0gKCkgPT4gew0KCQl2YXIgZmlsdGVyID0gb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mV3IEZpbHRlcigpOw0KCQlyZXR1cm4gZmlsdGVyOw0KCX07DQoJcmV0dXJuT2JqZWN0LnNlYXJjaCA9IGFzeW5jIChmaWx0ZXIsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HBhZ2UpID0+IHsNCgkJdmFyIGdlbnJlVXJsID0gImdlbnJlL3tnfT9wYWdlPXtwfSIudXJpKHJldHVybk9iamVjdC51cmwpLnJlc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GxhY2UoIntwfSIsIHBhZ2UudG9TdHJpbmcoKSk7DQoJCXZhciBzb3J0VHlwZVVybCA9ICJ7c30/cGFnZT17cH0iLnVyaShyZXR1c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654m5PYmplY3QudXJsKS5yZXBsYWNlKCJ7cH0iLCBwYWdlLnRvU3RyaW5nKCkpOw0KCQl2YXIgcSA9IGZpbHRlci5nZW5yZXMubGVuZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543RoID4gMCA/IGdlbnJlVXJsLnJlcGxhY2UoIntnfSIsIGZpbHRlci5nZW5yZXNbMF0pIDogKGZpbHRlci5zb3J0VHlwZSAmJiBma002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Wx0ZXIuc29ydFR5cGUgIT0gJycgPyBzb3J0VHlwZVVybC5yZXBsYWNlKCJ7c30iLCBmaWx0ZXIuc29ydFR5cGUpIDogdW5kZWZpb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVkKTsNCgkJdmFyIHF1ZXJ5ID0gcSB8fCByZXR1cm5PYmplY3Quc2VhcmNoVXJsLnJlcGxhY2UoJ3txfScsIGZpbHRlci50aXRsZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SB8fCAiIikucmVwbGFjZSgne3B9JywgcGFnZS50b1N0cmluZygpKTsNCgkJdmFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKHF1ZXJ5KSk7DQoJCXZhciByZXN1bHQgPSBbXTsNCgkJY29udGFpbmVyL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mZpbmQoJy5saXN0LW5vdmVsIC5yb3cnKS5mb3JFYWNoKCh4KSA9PiB7DQoJCQlpZiAoeC5zZWxlY3QoJ2ltZycpLmF0dHIoInNyY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654yIpLmhhc1ZhbHVlKCkpIHJlc3VsdC5wdXNoKG5ldyBMaWdodEl0ZW0oeC5zZWxlY3QoJ2ltZycpLmF0dHIoInNyYyIpLnVybCgpL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nJlcGxhY2UoL1swLTldK3hbMC05XSsvZ2ksICIxNTB4MTcwIiksIHguc2VsZWN0KCcubm92ZWwtdGl0bGUgYScpLnRleHQoZmFsc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542UpLCAnJywgeC5zZWxlY3QoJy5ub3ZlbC10aXRsZSBhJykuYXR0cigiaHJlZiIpLnVybCgpLCByZXR1cm5PYmplY3QubmFtZSksI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Ck7DQoJCX0pOw0KCQlyZXR1cm4gcmVzdWx0Ow0KCX0NCglyZXR1cm5PYmplY3QuZ2V0Q2hhcHRlcnMgPSBhc3luYyAobm92ZWxVc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mwsIGh0bWxDb250YWluZXIpID0+IHsNCgkJdmFyIGNoYXB0ZXJzID0gW107DQoJCXZhciB1cmwgPSByZXR1cm5PYmplY3QuY2hhc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HRlcnNVcmwucmVwbGFjZSgne2lkfScsIChodG1sQ29udGFpbmVyLnNlbGVjdCgnI3JhdGluZycpLmF0dHIoImRhdGEtbm92ZWwta002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WQiKS5oYXNWYWx1ZSgpID8gaHRtbENvbnRhaW5lci5zZWxlY3QoJyNyYXRpbmcnKS5hdHRyKCJkYXRhLW5vdmVsLWlkIikudGV4d002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CgpIDogaHRtbENvbnRhaW5lci5zZWxlY3QoJ1tkYXRhLW5vdmVsLWlkXScpLmF0dHIoImRhdGEtbm92ZWwtaWQiKS50ZXh0KCkpK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654TsNCgkJdmFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKHVybCkpO002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654w0KCQljb250YWluZXIuZmluZCgnb3B0aW9uJykuZm9yRWFjaCh4ID0+IHsNCgkJCWlmICh4LmF0dHIoInZhbHVlIikuaGFzVmFsd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WUoKSkgY2hhcHRlcnMucHVzaChuZXcgQ2hhcHRlcih4LnRleHQoZmFsc2UpLCB4LmF0dHIoInZhbHVlIikudXJsKCkpKTsNCgkJf002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Sk7DQoJCXJldHVybiBjaGFwdGVyczsNCgl9DQoJcmV0dXJuT2JqZWN0LmdldE5vdmVsID0gYXN5bmMgKG5vdmVsVXJsKSA9PiB7D002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QoJCXZhciBjb250YWluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbChub3ZlbFVyb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CkpOw0KCQl2YXIgY2hhcHRlcnMgPSBhd2FpdCByZXR1cm5PYmplY3QuZ2V0Q2hhcHRlcnMobm92ZWxVcmwsIGNvbnRhaW5lcik7D002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QoJCXZhciBpdGVtID0gbmV3IE5vdmVsUmV2aWV3cygpOw0KCQl2YXIgaW5mbyA9IGNvbnRhaW5lci5maW5kKCcuaW5mbyBsaScpO002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654w0KCQlpdGVtLmdlbnJlcyA9IGluZm8ud2hlcmUoeCA9PiB4LmlubmVySFRNTCgpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZigiZ2Vuc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mUiKSAhPSAtMSkuZmluZCgiYSIpLnRleHRBcnJheSgpOw0KCQlpdGVtLmF1dGhvciA9IGluZm8ud2hlcmUoeCA9PiB4LmlubmVyS002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654FRNTCgpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZigiYXV0aG9yIikgIT0gLTEpLmZpbmQoImEiKS50ZXh0KGZhbHNlKQ0KCQlpdGVtL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mNvbXBsZXRlZCA9IGluZm8ud2hlcmUoeCA9PiB4LmlubmVySFRNTCgpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZigic3RhdHVzIikgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654T0gLTEpLnRleHQoZmFsc2UpOw0KCQlpdGVtLmFsdGVybmF0aXZlTmFtZXMgPSBpbmZvLndoZXJlKHggPT4geC5pbm5lckhUTUwoK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654S50b0xvd2VyQ2FzZSgpLmluZGV4T2YoImFsdGVybmF0aXZlIG5hbWVzIikgIT0gLTEpLnRleHQoKTsNCgkJcmV0dXJuIG5ldyBEZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XRhbGlJdGVtKGNvbnRhaW5lci5zZWxlY3QoJy5ib29rIGltZycpLmF0dHIoInNyYyIpLnVybCgpLCBjb250YWluZXIuc2VsZWN0K002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CcudGl0bGUnKS50ZXh0KGZhbHNlKSwgY29udGFpbmVyLnNlbGVjdCgnLmRlc2MtdGV4dCcpLmNsZWFuSW5uZXJIVE1MKCksIG5vd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVsVXJsLCBjaGFwdGVycywgaXRlbSwgcmV0dXJuT2JqZWN0Lm5hbWUsIHVuZGVmaW5lZCk7DQoJfQ0KCXJldHVybk9iamVjdC5nZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XRDaGFwdGVyID0gYXN5bmMgKHVybCkgPT4gew0KCQlyZXR1cm4gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBuZXcgY2xpZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W50KCkuZ2V0SHRtbCh1cmwpKS5zZWxlY3QoJyNjaHItY29udGVudCcpLmNsZWFuSW5uZXJIVE1MKCk7DQoJfQ0KCXJldHVybk9ia002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVjdC5sYXRlc3QgPSBhc3luYyAocGFnZSkgPT4gew0KCQl2YXIgdXJsID0gcmV0dXJuT2JqZWN0LmxhdGVzdFVybC5yZXBsYWNlK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Cd7cH0nLCBwYWdlLnRvU3RyaW5nKCkpOw0KCQl2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBId002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HRwQ2xpZW50LmdldEh0bWwodXJsKSk7DQoJCXZhciByZXN1bHQgPSBbXTsNCgkJY29udGFpbmVyLmZpbmQoJy5saXN0LW5vdmVsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654C5yb3cnKS5mb3JFYWNoKCh4KSA9PiB7DQoJCQlpZiAoeC5zZWxlY3QoJ2ltZycpLmF0dHIoInNyYyIpLmhhc1ZhbHVlKCkpIHJlc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543VsdC5wdXNoKG5ldyBMaWdodEl0ZW0oeC5zZWxlY3QoJ2ltZycpLmF0dHIoInNyYyIpLnVybCgpLnJlcGxhY2UoL1swLTldK3hbM002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654C05XSsvZ2ksICIxNTB4MTcwIiksIHguc2VsZWN0KCcubm92ZWwtdGl0bGUgYScpLnRleHQoKSwgJycsIHguc2VsZWN0KCcubm92Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WwtdGl0bGUgYScpLmF0dHIoImhyZWYiKS51cmwoKSwgcmV0dXJuT2JqZWN0Lm5hbWUpLCApOw0KCQl9KTsNCgkJcmV0dXJuIHJlc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543VsdDsNCgl9DQoJcmV0dXJuIHJldHVybk9iamVjdDsNCn0&K002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIpID0+I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HsNCiAgICBjb25zdCByZXR1cm5PYmplY3QgPSB7fTsNCiAgICByZXR1cm5PYmplY3QuaWQgPSAiMS5yb3lhbHJvYWQiOw0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HJldHVybk9iamVjdC5kZXRhbGlJdGVtVHlwZSA9IERldGFsaUl0ZW1UeXBlLk5vdmVsOw0KICAgIHJldHVybk9iamVjdC5wYXJzZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJMYW5ndWFnZSA9ICJlbiI7DQogICAgcmV0dXJuT2JqZWN0Lm5hbWUgPSAnUm95YWxSb2FkJzsNCiAgICByZXR1cm5PYmplY3QuZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GlzcGxheU5hbWUgPSByZXR1cm5PYmplY3QubmFtZTsNCiAgICByZXR1cm5PYmplY3QubGF0ZXN0VXJsID0gJ2h0dHBzOi8vd3d3L002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nJveWFscm9hZC5jb20vZmljdGlvbnMvbGF0ZXN0LXVwZGF0ZXM/cGFnZT17cH0nOw0KICAgIHJldHVybk9iamVjdC51cmwgPSAna002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HR0cHM6Ly93d3cucm95YWxyb2FkLmNvbSc7DQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaFVybCA9ICdodHRwczovL3d3dy5yb3lhb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HJvYWQuY29tL2ZpY3Rpb25zL3NlYXJjaD9wYWdlPXtwfSZ0aXRsZT17cX0nOw0KICAgIHJldHVybk9iamVjdC5wYW5pbmF0aW9uI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654D0gdHJ1ZTsNCiAgICByZXR1cm5PYmplY3Quc2VhcmNoUGFnaW5hdGlvbiA9IHRydWU7DQogICAgcmV0dXJuT2JqZWN0Lmljb24gP002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SAnaHR0cHM6Ly93d3cucm95YWxyb2FkLmNvbS9mYXZpY29uLTE2eDE2LnBuZz92PTIwMjAwMTI1JzsNCiAgICByZXR1cm5PYmplY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543QucGFyc2VyU2VhcmNoU2V0dGluZ3MgPSBuZXcgUGFyc2VyU2VhcmNoU2V0dGluZ3MoKTsNCiAgICByZXR1cm5PYmplY3QucGFyc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542VyU2VhcmNoU2V0dGluZ3MubXVsdGlTZWxlY3Rpb24gPSB0cnVlOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0a002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W5ncy5nZW5yZXMgPSB7DQogICAgICAgIG11bHRpU2VsZWN0aW9uOiB0cnVlLA0KICAgICAgICB2YWx1ZXM6IFsNCiAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIG5ldyBsYWJlbFZhbHVlKCJBY3Rpb24iLCAiYWN0aW9uIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQWR2ZW50d002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJlIiwgImFkdmVudHVyZSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkNvbWVkeSIsICJjb21lZHkiKSwNCiAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgIG5ldyBsYWJlbFZhbHVlKCJDb250ZW1wb3JhcnkiLCAiY29udGVtcG9yYXJ5IiksDQogICAgICAgICAgICBuZXcgbGFiZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WxWYWx1ZSgiRHJhbWEiLCAiZHJhbWEiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJQc3ljaG9sb2dpY2FsIiwgInBze002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WNob2xvZ2ljYWwiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJSb21hbmNlIiwgInJvbWFuY2UiKSwNCiAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIG5ldyBsYWJlbFZhbHVlKCJTYXRpcmUiLCAic2F0aXJlIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2NpLUZpI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iwgInNjaV9maSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNob3J0IFN0b3J5IiwgIm9uZV9zaG90IiksDQogICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICBuZXcgbGFiZWxWYWx1ZSgiVHJhZ2VkeSIsICJ0cmFnZWR5IiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiR002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mFudGFzeSIsICJmYW50YXN5IiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTXlzdGVyeSIsICJteXN0ZXJ5IiksDQogI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiSGlzdG9yaWNhbCIsICJoaXN0b3JpY2FsIiksDQogICAgICAgICAgICBuZXcgbGFiZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WxWYWx1ZSgiSG9ycm9yIiwgImhvcnJvciIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIk1hZ2ljIiwgIm1hZ2ljIiksD002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQW50aS1IZXJvIExlYWQiLCAiYW50aS1oZXJvX2xlYWQiKSwNCiAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIG5ldyBsYWJlbFZhbHVlKCJBcnRpZmljaWFsIEludGVsbGlnZW5jZSIsICJhcnRpZmljaWFsX2ludGVsbGlnZW5jZSIpLA0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkF0dHJhY3RpdmUgTUMiLCAiYXR0cmFjdGl2ZV9tYyIpLA0KICAgICAgICAgICAgb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mV3IGxhYmVsVmFsdWUoIkN5YmVycHVuayIsICJjeWJlcnB1bmsiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJEdW5nZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W9uIiwgImR1bmdlb24iKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJEeXN0b3BpYSIsICJkeXN0b3BpYSIpLA0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkZlbWFsZSBMZWFkIiwgImZlbWFsZV9sZWFkIiksDQogICAgICAgICAgICBuZXcgbGFiZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WxWYWx1ZSgiRmlyc3QgQ29udGFjdCIsICJGaXJzdF9Db250YWN0IiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiR2FtZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654UxpdCIsICJHYW1lTGl0IiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiR2VuZGVyIEJlbmRlciIsICJnZW5kZXJfYmVuZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GVyIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiR2VuZXRpY2FsbHkgRW5naW5lZXJlZCIsICJHZW5ldGljYWxseV9Fb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mdpbmVlcmVkIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiR3JpbWRhcmsiLCAiR3JpbWRhcmsiKSwNCiAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIG5ldyBsYWJlbFZhbHVlKCJIYXJkIFNjaS1maSIsICJIYXJkX1NjaV9maSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WUoIkhhcmVtIiwgImhhcmVtIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiSGlnaCBGYW50YXN5IiwgImhpZ2hfZmFud002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GFzeSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkxpdFJQRyIsICJMaXRSUEciKSwNCiAgICAgICAgICAgIG5ldyBsY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WJlbFZhbHVlKCJMb29wIiwgIkxvb3AiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJMb3cgRmFudGFzeSIsICJsb3dfZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mFudGFzeSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIk1hbGUgTGVhZCIsICJtYWxlX2xlYWQiKSwNCiAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIG5ldyBsYWJlbFZhbHVlKCJNYXJ0aWFsIEFydHMiLCAibWFydGlhbF9hcnRzIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Wx1ZSgiTXVsdGlwbGUgTGVhZCBDaGFyYWN0ZXJzIiwgIm11dGxpcGxlX2xlYWQiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HVlKCJNeXRob3MiLCAibXl0aG9zIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTm9uLUh1bWFuIGxlYWQiLCAibm9uL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Wh1bWFuX2xlYWQiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJQb3J0YWwgRmFudGFzeSAvIElzZWthaSIsICJzdW1tb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd65425lZF9oZXJvIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiUG9zdCBBcG9jYWx5cHRpYyIsICJwb3N0X2Fwb2NhbHlwd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GljIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiUHJvZ3Jlc3Npb24iLCAicHJvZ3Jlc3Npb24iKSwNCiAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIG5ldyBsYWJlbFZhbHVlKCJSZWFkZXIgaW50ZXJhY3RpdmUiLCAicmVhZGVyX2ludGVyYWN0aXZlIiksDQogICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CBuZXcgbGFiZWxWYWx1ZSgiUmVpbmNhcm5hdGlvbiIsICJyZWluY2FybmF0aW9uIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Wx1ZSgiUnVsaW5nIENsYXNzIiwgInJ1bGluZ19jbGFzcyIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNjaG9vbCBMa002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WZlIiwgInNjaG9vbF9saWZlIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2VjcmV0IElkZW50aXR5IiwgInNlY3Jld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654F9pZGVudGl0eSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNsaWNlIG9mIExpZmUiLCAic2xpY2Vfb2ZfbGlmZSIpL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654A0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNvZnQgU2NpLWZpIiwgIlNvZnRfU2NpX2ZpIiksDQogICAgICAgICAgICBuZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XcgbGFiZWxWYWx1ZSgiU3BhY2UgT3BlcmEiLCAic3BhY2Vfb3BlcmEiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654G9ydHMiLCAic3BvcnRzIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU3RlYW1wdW5rIiwgInN0ZWFtcHVuayIpLA0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlN0cmF0ZWd5IiwgInN0cmF0ZWd5IiksDQogICAgICAgICAgICBuZXcgbGFiZWxWY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Wx1ZSgiU3Ryb25nIExlYWQiLCAic3Ryb25nX2xlYWQiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTdXBlciBIZXJvZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XMiLCAic3VwZXJfaGVyb2VzIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU3VwZXJuYXR1cmFsIiwgInN1cGVybmF0d002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJhbCIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlRlY2hub2xvZ2ljYWxseSBFbmdpbmVlcmVkIiwgIlRlY2hub2xvZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542ljYWxseV9FbmdpbmVlcmVkIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiVGltZSBUcmF2ZWwiLCAiVGltZV9UcmF2Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WwiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJVcmJhbiBGYW50YXN5IiwgInVyYmFuX2ZhbnRhc3kiKSwNCiAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgIG5ldyBsYWJlbFZhbHVlKCJWaWxsYWlub3VzIExlYWQiLCAidmlsbGFpbm91c19sZWFkIiksDQogICAgICAgICAgICBuZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XcgbGFiZWxWYWx1ZSgiVmlydHVhbCBSZWFsaXR5IiwgInZpcnR1YWxfcmVhbGl0eSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsV002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mFsdWUoIldhciBhbmQgTWlsaXRhcnkiLCAid2FyX2FuZF9taWxpdGFyeSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ld1eGlhIiwgInd1eGlhIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiWGlhbnhpYSIsICJ4aWFueGlhIikNCiAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgXQ0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5zdGF0dXNlcyA9IHsNCiAgICAgICAgb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XVsdGlTZWxlY3Rpb246IHRydWUsDQogICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkNvbXBsZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XRlZCIsICJDT01QTEVURUQiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJPbmdvaW5nIiwgIk9OR09JTkciKSwNCiAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJIaWF0dXMiLCAiSElBVFVTIiksDQoNCiAgICAgICAgXQ0KICAgIH0NCg0KICAgIHJld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5sYW5ndWFnZXMgPSB7DQogICAgICAgIG11bHRpU2VsZWN0aW9uOiBmYWxzZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SwNCiAgICAgICAgdmFsdWVzOiBbDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiRmFuIEZpY3Rpb24iLCAiZmFuZmljdGlvb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIk9yaWdpbmFsIiwgIm9yaWdpbmFsIikNCiAgICAgICAgXQ0KICAgIH0NC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654g0KDQogICAgcmV0dXJuT2JqZWN0LmdldFNlY3Rpb25zID0gKGtleXMpID0+IHsNCiAgICAgICAgdmFyIHNlY3Rpb25zID0gWw0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgbmV3IFNlY3Rpb24oImxhdGVzdCIsICJMYXRlc3QgVXBkYXRlIiwgIkxhdGVzdCIsIHRydWUpLA0KICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgbmV3IFNlY3Rpb24oImNvbXBsZXRlZCIsICJDb21wbGV0ZWQiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIodW5kZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgIkNPTVBMRVRFRCIpKSwNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJvbmdva002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W5nIiwgIk9uZ29pbmciLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIodW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CwgIk9OR09JTkciKSksDQogICAgICAgICAgICBuZXcgU2VjdGlvbigicm9tYW5jZSIsICJSb21hbmNlIiwgIlNlYXJjaCIsIGZhb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HNlLCBuZXcgRmlsdGVyKFsicm9tYW5jZSJdKSksDQogICAgICAgICAgICBuZXcgU2VjdGlvbigiYWN0aW9uIiwgIkFjdGlvbiIsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcihbImFjdGlvbiJdKSksDQogICAgICAgICAgICBuZXcgU2VjdGlvbigibXlzdGVye002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SIsICJNeXN0ZXJ5IiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKFsibXlzdGVyeSJdKSksDQogICAgICAgIF0NCg0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICByZXR1cm4gc2VjdGlvbnMuZmlsdGVyKHggPT4gIWtleXMgfHwga2V5cy5pbmNsdWRlcyh4Lm5hbWUpKTsNCiAgICB9DQoNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICByZXR1cm5PYmplY3QudHJhbnNsYXRlU2VjdGlvbiA9IGFzeW5jIChzZWN0aW9uLCBwYWdlKSA9PiB7DQogICAgICAgIGlmI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ChzZWN0aW9uLmlkZW50aWZpZXIgPT0gIkxhdGVzdCIpDQogICAgICAgICAgICByZXR1cm4gYXdhaXQgcmV0dXJuT2JqZWN0Lmxhd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GVzdChwYWdlKTsNCiAgICAgICAgZWxzZQ0KICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHJldHVybk9iamVjdC5zZWFyY2goc2Vjd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Glvbi5maWx0ZXIgfHwgcmV0dXJuT2JqZWN0LmRlZmF1bHRGaWx0ZXIoKSwgcGFnZSk7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WN0LmRlZmF1bHRGaWx0ZXIgPSAoKSA9PiB7DQogICAgICAgIHZhciBmaWx0ZXIgPSBuZXcgRmlsdGVyKCk7DQogICAgICAgIHJld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HVybiBmaWx0ZXI7DQogICAgfTsNCg0KICAgIHJldHVybk9iamVjdC5zZWFyY2ggPSBhc3luYyAoZmlsdGVyLCBwYWdlKSA9PiB7D002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QogICAgICAgIHZhciB1cmwgPSByZXR1cm5PYmplY3Quc2VhcmNoVXJsLnJlcGxhY2UoIntwfSIsIHBhZ2UudG9TdHJpbmcoKSkuc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVwbGFjZSgie3F9IiwgZmlsdGVyLnRpdGxlIHx8ICIiKTsNCiAgICAgICAgaWYgKGZpbHRlci5nZW5yZXMubGVuZ3RoID4gMCkNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICAgICAgICAgIHVybCArPSAiJiIgKyBmaWx0ZXIuZ2VucmVzLm1hcCh4ID0+ICJ0YWdzQWRkPSIgKyB4KS5qb2luKCImIikNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654g0KICAgICAgICBpZiAoZmlsdGVyLmFjdGl2ZSAmJiBmaWx0ZXIuYWN0aXZlICE9ICIiKQ0KICAgICAgICAgICAgdXJsICs9ICImc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543RhdHVzPSIgKyBmaWx0ZXIuYWN0aXZlOw0KDQogICAgICAgIGlmIChmaWx0ZXIubGFuZ3VhZ2UgJiYgZmlsdGVyLmxhbmd1YWdlI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CE9ICIiKQ0KICAgICAgICAgICAgdXJsICs9ICImdHlwZT0iICsgZmlsdGVyLmxhbmd1YWdlOw0KDQogICAgICAgIHZhciBjb250Y002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbCh1cmwpKTsNCiAgICAgICAgdmFyI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HJlc3VsdCA9IFtdOw0KICAgICAgICBjb250YWluZXIuZmluZCgiLmZpY3Rpb24tbGlzdC1pdGVtIikuZm9yRWFjaCh4ID0+IHsNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBMaWdodEl0ZW0oeC5zZWxlY3QoImltZyIpLmF0dHIoInNyYyIpLnVybCgpLA0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgICAgIHguc2VsZWN0KCIuZmljdGlvbi10aXRsZSIpLnRleHQoKSwNCiAgICAgICAgICAgICAgICAiIiwNCiAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgICB4LnNlbGVjdCgiLmZpY3Rpb24tdGl0bGUgYSIpLmF0dHIoImhyZWYiKS51cmwoKSwNCiAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICByZXR1cm5PYmplY3QubmFtZSkpOw0KICAgICAgICB9KTsNCg0KICAgICAgICByZXR1cm4gcmVzdWx0Ow0KDQogICAgfQ0KD002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QogICAgcmV0dXJuT2JqZWN0LmdldE5vdmVsPSBhc3luYyAobm92ZWxVcmwpID0+IHsNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKG5vdmVsVXJsKSk7DQogICAgICAgIHZhciBja002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GFwdGVycyA9IGNvbnRhaW5lci5maW5kKCIjY2hhcHRlcnMgdGJvZHkgdHIiKS5tYXAoeCA9PiB4LnNlbGVjdCgiYSIpKS5maWx0Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XIoeCA9PiB4Lmhhc0VsZW1lbnQoKSkubWFwKHggPT4gbmV3IENoYXB0ZXIoeC50ZXh0KCksIHguYXR0cigiaHJlZiIpLnVybCgpK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Sk7DQogICAgICAgIHZhciBub3ZlbFJldmlld3MgPSBuZXcgTm92ZWxSZXZpZXdzKCk7DQogICAgICAgIHZhciBpbmZvcyA9IGNvb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nRhaW5lci5zZWxlY3QoIi5maWN0aW9uLWluZm8gLmNvbC1tZC04Iik7DQoNCiAgICAgICAgbm92ZWxSZXZpZXdzLmdlbnJlcyA9I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GluZm9zLmZpbmQoIi50YWdzIGEiKS50ZXh0QXJyYXkoKTsNCiAgICAgICAgbm92ZWxSZXZpZXdzLmF1dGhvciA9IGNvbnRhaW5lc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654i5zZWxlY3QoIi5maWMtdGl0bGUgc3Bhbltwcm9wZXJ0eT1uYW1lXSIpLnRleHQoKTsNCiAgICAgICAgbm92ZWxSZXZpZXdzLmRlc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542NyaXB0aW9uID0gY29udGFpbmVyLnNlbGVjdCgiLmRlc2NyaXB0aW9uIikuY2xlYW5Jbm5lckhUTUwoKTsNCiAgICAgICAgbm92Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WxSZXZpZXdzLmNvbXBsZXRlZCA9IGNvbnRhaW5lci5zZWxlY3QoIi50YWdzIikuY2xvc2VzdCgiZGl2IikuZmluZCgic3BhbiIpL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ndoZXJlKHg9PiB4LmlubmVySFRNTCgpLmluZGV4T2YoIkNPTVBMRVRFRCIpICE9IC0xKS5oYXNFbGVtZW50cygpID8gIlN0YXR1c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654zpDb21wbGV0ZWQiIDogIlN0YXR1czpPbmdvaW5nIg0KICAgICAgICByZXR1cm4gbmV3IERldGFsaUl0ZW0oDQogICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CBjb250YWluZXIuc2VsZWN0KCIudGV4dC1jZW50ZXIgaW1nIikuYXR0cigic3JjIikudXJsKCksDQogICAgICAgICAgICBjb250Y002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WluZXIuc2VsZWN0KCIuZmljLXRpdGxlIGgxIikudGV4dChmYWxzZSksDQogICAgICAgICAgICBub3ZlbFJldmlld3MuZGVzY3Jpc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HRpb24sDQogICAgICAgICAgICBub3ZlbFVybCwNCiAgICAgICAgICAgIGNoYXB0ZXJzLA0KICAgICAgICAgICAgbm92ZWxSZXZpZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XdzLA0KICAgICAgICAgICAgcmV0dXJuT2JqZWN0Lm5hbWUsDQogICAgICAgICAgICB1bmRlZmluZWQsDQogICAgICAgICk7DQogI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmdldENoYXB0ZXIgPSBhc3luYyAodXJsKT0+IHsNCiAgICAgICAgcmV0dXJuIHJldHVyb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654k9iamVjdC5wYXJzZXIuanEoYXdhaXQgbmV3IGNsaWVudCgpLmdldEh0bWwodXJsKSkuc2VsZWN0KCIuY2hhcHRlci1jb250ZW50I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ikuY2xlYW5Jbm5lckhUTUwoKTsNCg0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5sYXRlc3Q9IGFzeW5jIChwYWdlKSA9PiB7D002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QogICAgICAgIHZhciB1cmwgPSByZXR1cm5PYmplY3QubGF0ZXN0VXJsLnJlcGxhY2UoIntwfSIsIHBhZ2UudG9TdHJpbmcoKSk7D002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QogICAgICAgIHZhciBjb250YWluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbCh1c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mwpKTsNCiAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICBjb250YWluZXIuc2VsZWN0KCIuZmljdGlvbi1saXN0LWl0Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W0iKS5mb3JFYWNoKHggPT4gew0KICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IExpZ2h0SXRlbSgNCiAgICAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CB4LnNlbGVjdCgiaW1nIikuYXR0cigic3JjIikudXJsKCksDQogICAgICAgICAgICAgICAgeC5zZWxlY3QoIi5maWN0aW9uLXRpd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GxlIikudGV4dChmYWxzZSksDQogICAgICAgICAgICAgICAgIiIsDQogICAgICAgICAgICAgICAgeC5zZWxlY3QoIi5maWN0aW9uL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XRpdGxlIGEiKS5hdHRyKCJocmVmIikudXJsKCksDQogICAgICAgICAgICAgICAgcmV0dXJuT2JqZWN0Lm5hbWUpKTsNCiAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgfSk7DQoNCiAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICB9DQoNCiAgICByZXR1cm4gcmV0dXJuT2JqZWN0Ow0KDQp9Ow=&K002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIpID0+I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HsNCiAgICBjb25zdCByZXR1cm5PYmplY3QgPSB7fTsNCiAgICByZXR1cm5PYmplY3QuaWQgPSAiMS5zY3JpYmJsZWh1YiI7DQogI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgcmV0dXJuT2JqZWN0LmRldGFsaUl0ZW1UeXBlID0gRGV0YWxpSXRlbVR5cGUuTm92ZWw7DQogICAgcmV0dXJuT2JqZWN0LnBhc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nNlckxhbmd1YWdlID0gImVuIjsNCiAgICByZXR1cm5PYmplY3QubmFtZSA9ICdTY3JpYmJsZUh1Yic7DQogICAgcmV0dXJuT2JqZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WN0LmRpc3BsYXlOYW1lID0gIlItTm92ZWwtSHViIjsNCiAgICByZXR1cm5PYmplY3QubGF0ZXN0VXJsID0gJ2h0dHBzOi8vd3d3L002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nNjcmliYmxlaHViLmNvbS8/cGc9e3B9JzsNCiAgICByZXR1cm5PYmplY3QudXJsID0gJ2h0dHBzOi8vd3d3LnNjcmliYmxlaHViL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mNvbSc7DQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaFVybCA9ICdodHRwczovL3d3dy5zY3JpYmJsZWh1Yi5jb20vP3M9e3F9JnBvc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543RfdHlwZT1maWN0aW9ucG9zdHMnOw0KICAgIHJldHVybk9iamVjdC5wYW5pbmF0aW9uID0gdHJ1ZTsNCiAgICByZXR1cm5PYmplY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543Quc2VhcmNoUGFnaW5hdGlvbiA9IGZhbHNlOw0KICAgIHJldHVybk9iamVjdC5pY29uID0gJ2h0dHBzOi8vd3d3LnNjcmliYmxla002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HViLmNvbS9mYXZpY29uLmljbyc7DQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzID0gbmV3IFBhcnNlclNlY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJjaFNldHRpbmdzKCk7DQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLm11bHRpU2VsZWN0aW9uID0gdHJ1Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654TsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3Muc29ydFR5cGVzID0gew0KICAgICAgICBtdWx0aVNlbGVjd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GlvbjogZmFsc2UsDQogICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0NoYXB0ZXJzIHBlciBXZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WVrJywgImZyZXF1ZW5jeSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0RhdGUgQWRkZWQnLCAiZGF0ZWFkZGVkIiksD002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnRmF2b3JpdGVzJywgImZhdm9yaXRlcyIpLA0KICAgICAgICAgICAgbmV3IGxhY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVsVmFsdWUoJ0xhc3QgVXBkYXRlJywgImxhc3RjaHBkYXRlIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTnVtYmVyI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654G9mIFJhdGluZ3MnLCAibnVtb2ZyYXRlIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnUGFnZXMnLCAicGFnZXMiKSwNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdQYWdldmlld3MnLCAicGFnZXZpZXdzIiksDQogICAgICAgICAgICBuZXcgbGFiZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WxWYWx1ZSgnUmF0aW5ncycsICJyYXRpbmdzIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnUmVhZGVycycsICJyZWFkZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJzIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnVG90YWwgV29yZHMnLCAidG90YWx3b3JkcyIpLA0KICAgICAgICBdL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654A0KICAgIH07DQoNCiAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3MuZ2VucmVzID0gew0KICAgICAgICBtdWx0a002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654VNlbGVjdGlvbjogdHJ1ZSwNCiAgICAgICAgdmFsdWVzOiBbDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQWN0aW9uIiwgO002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQ29tZWR5IiwgNyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiR002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mFudGFzeSIsIDE5KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJIaXN0b3JpY2FsIiwgMjEpLA0KICAgICAgICAgICAgb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mV3IGxhYmVsVmFsdWUoIkxpdFJQRyIsIDExODApLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIk15c3RlcnkiLCA5MDkpL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654A0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNjaS1maSIsIDkxMiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WR1bHQiLCA5MDIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkRyYW1hIiwgOTAzKSwNCiAgICAgICAgICAgIG5ldyBsY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WJlbFZhbHVlKCJHZW5kZXIgQmVuZGVyIiwgOTA1KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJIb3Jyb3IiLCAyMiksD002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTWFydGlhbCBBcnRzIiwgOTA3KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HVlKCJQc3ljaG9sb2dpY2FsIiwgOTEwKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTZWluZW4iLCA5MTMpLA0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlN1cGVybmF0dXJhbCIsIDUpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkFkd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVudHVyZSIsIDgpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkVjY2hpIiwgOTA0KSwNCiAgICAgICAgICAgIG5ldyBsY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WJlbFZhbHVlKCJHaXJscyBMb3ZlIiwgODkyKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJJc2VrYWkiLCAzNyksDQogI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTWF0dXJlIiwgMjApLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlJvbWFuY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542UiLCA2KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTbGljZSBvZiBMaWZlIiwgOTE0KSwNCiAgICAgICAgICAgIG5ld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654yBsYWJlbFZhbHVlKCJUcmFnZWR5IiwgOTAxKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJCb3lzIExvdmUiLCA4OTEpL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654A0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkZhbmZpY3Rpb24iLCAzOCksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SgiSGFyZW0iLCAxMDE1KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJKb3NlaSIsIDkwNiksDQogICAgICAgICAgICBuZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XcgbGFiZWxWYWx1ZSgiTWVjaGEiLCA5MDgpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNjaG9vbCBMaWZlIiwgOTExK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTbXV0IiwgOTE1KSwNCg0KICAgICAgICBdDQogICAgfQ0KDQogICAgcmV0d002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLnN0YXR1c2VzID0gew0KICAgICAgICBtdWx0aVNlbGVjdGlvbjogZmFsc2UsD002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QogICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkFsbCIsICJhbGwiKSwNCiAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654G5ldyBsYWJlbFZhbHVlKCJDb21wbGV0ZWQiLCAiY29tcGxldGVkIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiT25nb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542luZyIsICJvbmdvaW5nIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiSGlhdHVzIiwgImhpYXR1cyIpDQogICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654F0NCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QuZ2V0U2VjdGlvbnMgPSAoa2V5cykgPT4gew0KICAgICAgICB2YXIgc2VjdGlvb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nMgPSBbDQogICAgICAgICAgICBuZXcgU2VjdGlvbigibGF0ZXN0IiwgIkxhdGVzdCBVcGRhdGUiLCAiTGF0ZXN0IiwgdHJ1ZSksD002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QogICAgICAgICAgICBuZXcgU2VjdGlvbigicG9wdWxhciIsICJQb3B1bGFyIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HVuZGVmaW5lZCwgInBhZ2V2aWV3cyIpKSwNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJmYXZvcml0ZXMiLCAiRmF2b3JpdGVzI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKHVuZGVmaW5lZCwgImZhdm9yaXRlcyIpKSwNCiAgICAgICAgICAgIG5ldyBTZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WN0aW9uKCJjb21wbGV0ZWQiLCAiQ29tcGxldGVkIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKHVuZGVmaW5lZCwgdW5kZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WZpbmVkLCB1bmRlZmluZWQsICJjb21wbGV0ZWQiKSkNCiAgICAgICAgXQ0KDQogICAgICAgIHJldHVybiBzZWN0aW9ucy5maWx0Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XIoeCA9PiAha2V5cyB8fCBrZXlzLmluY2x1ZGVzKHgubmFtZSkpOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC50cmFuc2xhd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GVTZWN0aW9uID0gYXN5bmMgKHNlY3Rpb24sIHBhZ2UpID0+IHsNCiAgICAgICAgaWYgKHNlY3Rpb24uaWRlbnRpZmllciA9PSAiT002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GF0ZXN0IikNCiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZXR1cm5PYmplY3QubGF0ZXN0KHBhZ2UpOw0KICAgICAgICBlbHNlD002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QogICAgICAgICAgICByZXR1cm4gYXdhaXQgcmV0dXJuT2JqZWN0LnNlYXJjaChzZWN0aW9uLmZpbHRlciB8fCByZXR1cm5PYmplY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543QuZGVmYXVsdEZpbHRlcigpLCBwYWdlKTsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QuZGVmYXVsdEZpbHRlciA9ICgpID0+I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HsNCiAgICAgICAgdmFyIGZpbHRlciA9IG5ldyBGaWx0ZXIodW5kZWZpbmVkLCAicGFnZXZpZXdzIiwgdW5kZWZpbmVkLCAiYWxsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ik7DQogICAgICAgIHJldHVybiBmaWx0ZXI7DQogICAgfTsNCg0KICAgIHJldHVybk9iamVjdC5zZWFyY2ggPSBhc3luYyAoZmlsd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GVyLCBwYWdlKSA9PiB7DQogICAgICAgIHZhciBzb3J0VHlwZVVyaSA9ICJodHRwczovL3d3dy5zY3JpYmJsZWh1Yi5jb20vc2Vya002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WVzLWZpbmRlci8/c2Y9MSZnaT17Z30mbWdpPWFuZCZzb3J0PXtzb3J0fSZvcmRlcj1kZXNjJmNwPXtzdGF0dXN9JnBnPSIgKyBwY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WdlOw0KICAgICAgICB2YXIgc29ydFR5cGVVcmwgPSBzb3J0VHlwZVVyaS5yZXBsYWNlKCJ7Z30iLCBmaWx0ZXIuZ2VucmVzLmpva002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W4oIiwiKSkucmVwbGFjZSgie3NvcnR9IiwgZmlsdGVyLnNvcnRUeXBlKS5yZXBsYWNlKCJ7c3RhdHVzfSIsIGZpbHRlci5hY3Rpd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mUpOw0KDQogICAgICAgIHZhciB1cmwgPSBmaWx0ZXIudGl0bGUgJiYgZmlsdGVyLnRpdGxlLmxlbmd0aCA+IDAgPyByZXR1cm5PY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mplY3Quc2VhcmNoVXJsLnJlcGxhY2UoIntxfSIsIGZpbHRlci50aXRsZSkgOiBzb3J0VHlwZVVybDsNCg0KICAgICAgICB2YXIgY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd65429udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwodXJsKSk7DQogICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HZhciByZXN1bHQgPSBbXTsNCiAgICAgICAgY29udGFpbmVyLmZpbmQoIi5zZWFyY2hfbWFpbl9ib3giKS5mb3JFYWNoKHggPT4ge002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654w0KICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IExpZ2h0SXRlbSgNCiAgICAgICAgICAgICAgICB4LnNlbGVjdCgiaW1nIikuY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XR0cigic3JjIikudXJsKCksDQogICAgICAgICAgICAgICAgeC5zZWxlY3QoIi5zZWFyY2hfdGl0bGUiKS50ZXh0KGZhbHNlKSwNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICAgICAgICAgICAgICAiIiwNCiAgICAgICAgICAgICAgICB4LnNlbGVjdCgiLnNlYXJjaF90aXRsZSBhIikuYXR0cigiaHJlZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iIpLnVybCgpLA0KICAgICAgICAgICAgICAgIHJldHVybk9iamVjdC5uYW1lKSk7DQogICAgICAgIH0pOw0KICAgICAgICByZXR1c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654m4gcmVzdWx0Ow0KICAgIH0NCg0KDQogICAgcmV0dXJuT2JqZWN0LmdldENoYXB0ZXJzID0gYXN5bmMgKGlkKSA9PiB7DQogICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIGNvbnNvbGUubG9nKCJzdHJTSUQ6IiArIGlkKQ0KICAgICAgICB2YXIgaHRtbCA9IGF3YWl0IEh0dHBDbGllbnQucG9zdEZvc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654m0oImh0dHBzOi8vd3d3LnNjcmliYmxlaHViLmNvbS93cC1hZG1pbi9hZG1pbi1hamF4LnBocCIsIHsNCiAgICAgICAgICAgIGFjd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GlvbjogIndpX2dldHRvY2NocCIsDQogICAgICAgICAgICBzdHJTSUQ6IHBhcnNlSW50KGlkKSwNCiAgICAgICAgICAgIHN0cm15c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654G9zdGlkOiAwLA0KICAgICAgICAgICAgc3RyRmljOiAieWVzIg0KICAgICAgICB9KTsNCiAgICAgICAgcmV0dXJuIHJldHVybk9ia002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVjdC5wYXJzZXIuanEoSHR0cENsaWVudC5wYXJzZUh0bWwoaHRtbCkpLmZpbmQoImEiKS5tYXAoeCA9PiBuZXcgQ2hhcHRlcih4L002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nRleHQoZmFsc2UpLCB4LmF0dHIoImhyZWYiKS51cmwoKSkpOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5nZXROb3ZlbCA9I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GFzeW5jIChub3ZlbFVybCkgPT4gew0KICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2Fpd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CBIdHRwQ2xpZW50LmdldEh0bWwobm92ZWxVcmwpKTsNCiAgICAgICAgdmFyIGlkID0gY29udGFpbmVyLnNlbGVjdCgiI215cG9zd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GlkIikubm9kZVZhbHVlKCkgPyBjb250YWluZXIuc2VsZWN0KCIjbXlwb3N0aWQiKS5ub2RlVmFsdWUoKSA6IG5vdmVsVXJsLnNwb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Gl0KCIvIilbbm92ZWxVcmwuc3BsaXQoIi8iKS5pbmRleE9mKCJzZXJpZXMiKSArIDFdOw0KICAgICAgICB2YXIgY2hhcHRlcnMgP002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SBhd2FpdCByZXR1cm5PYmplY3QuZ2V0Q2hhcHRlcnMoaWQgfHwgIiIpOw0KICAgICAgICB2YXIgcmVnID0gbmV3IFJlZ0V4cCgvI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ihyYXRpbmdWYWx1ZSkiOiIoKFxcInxbXiJdKSopIi8sICJpIikNCiAgICAgICAgdmFyIHJlcyA9IHJlZy5leGVjKGNvbnRhaW5lc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654i5pbm5lckhUTUwoKSk7DQogICAgICAgIHZhciByYXRlID0gZXZhbCgocmVzICYmIHJlcy5sZW5ndGggPiAwID8gKHJlcy5maW5kQ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XQoMCkgfHwgIiIpLnNwbGl0KCI6IikubGFzdCgpIHx8ICIiIDogIjEiKSk7DQogICAgICAgIHZhciBub3ZlbFJldmlld3MgPSBuZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XcgTm92ZWxSZXZpZXdzKCk7DQogICAgICAgIG5vdmVsUmV2aWV3cy5hdXRob3IgPSBjb250YWluZXIuc2VsZWN0KCJbcHJvcGVyd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Hk9J2F1dGhvciddIC5hdXRoX25hbWVfZmljIikudGV4dChmYWxzZSk7DQogICAgICAgIG5vdmVsUmV2aWV3cy5nZW5yZXMgPSBjb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654250YWluZXIuZmluZCgiLndpX2ZpY19nZW5yZSBhIikudGV4dEFycmF5KCk7DQogICAgICAgIG5vdmVsUmV2aWV3cy51dm90ZXMgP002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SAiUmF0aW5nOiIgKyBwYXJzZUludChyYXRlID8gcmF0ZSA6ICIxIikudG9GaXhlZCgwKSArICIvNSI7DQogICAgICAgIG5vdmVsU002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mV2aWV3cy5jb21wbGV0ZWQgPSBjb250YWluZXIuc2VsZWN0KCIud2lkZ2V0X2ZpY19zaW1pbGFyIikudGV4dChmYWxzZSkuaW5kZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XhPZigiQ29tcGxldGVkIikgIT0gLTEgPyAiU3RhdHVzOkNvbXBsZXRlZCIgOiAiU3RhdHVzOk9uZ29pbmciOw0KICAgICAgICByZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XR1cm4gbmV3IERldGFsaUl0ZW0oDQogICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCIubm92ZWwtY292ZXIgaW1nIikuYXR0c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654igic3JjIikudXJsKCksDQogICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCcuZmljX3RpdGxlJykudGV4dChmYWxzZSksDQogI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCcud2lfZmljX2Rlc2MnKS5jbGVhbklubmVySFRNTCgpLA0KICAgICAgICAgICAgb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654m92ZWxVcmwsDQogICAgICAgICAgICBjaGFwdGVycy5yZXZlcnNlKCksDQogICAgICAgICAgICBub3ZlbFJldmlld3MsDQogICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICByZXR1cm5PYmplY3QubmFtZSwNCiAgICAgICAgICAgIHVuZGVmaW5lZCwNCiAgICAgICAgKTsNCiAgICB9DQoNCiAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CByZXR1cm5PYmplY3QuZ2V0Q2hhcHRlciA9IGFzeW5jICh1cmwpID0+IHsNCiAgICAgICAgcmV0dXJuIHJldHVybk9iamVjdC5wY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJzZXIuanEoYXdhaXQgbmV3IGNsaWVudCgpLmdldEh0bWwodXJsKSkuc2VsZWN0KCIuY2hwX3JhdyIpLmNsZWFuSW5uZXJIVE1MK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Ck7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmxhdGVzdCA9IGFzeW5jIChwYWdlKSA9PiB7DQogICAgICAgIHZhciB1cmwgP002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SByZXR1cm5PYmplY3QubGF0ZXN0VXJsLnJlcGxhY2UoIntwfSIsIHBhZ2UudG9TdHJpbmcoKSk7DQogICAgICAgIHZhciBjb250Y002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbCh1cmwpKTsNCiAgICAgICAgdmFyI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HJlc3VsdCA9IFtdOw0KICAgICAgICBjb250YWluZXIuc2VsZWN0KCIjbWFpbl9yZWxlYXNlcyB0ZCIpLmZvckVhY2goeCA9PiB7D002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QogICAgICAgICAgICByZXN1bHQucHVzaChuZXcgTGlnaHRJdGVtKA0KICAgICAgICAgICAgICAgIHguc2VsZWN0KCJpbWciKS5hd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HRyKCJzcmMiKS51cmwoKSwNCiAgICAgICAgICAgICAgICB4LnNlbGVjdCgiLmZwX3RpdGxlIikudGV4dChmYWxzZSksDQogICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgIiIsDQogICAgICAgICAgICAgICAgeC5zZWxlY3QoIi5mcF90aXRsZSIpLmF0dHIoImhyZWYiKS51cmwoKSwNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICAgICAgICAgICAgICByZXR1cm5PYmplY3QubmFtZSkpOw0KICAgICAgICB9KTsNCiAgICAgICAgcmV0dXJuIHJlc3VsdDsNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICB9DQoNCiAgICByZXR1cm4gcmV0dXJuT2JqZWN0Ow0KDQp9Ow=&K002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIpID0+I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HsNCiAgICBjb25zdCByZXR1cm5PYmplY3QgPSB7fTsNCiAgICByZXR1cm5PYmplY3QuaWQgPSAiMS50YXByZWFkIjsNCiAgICByZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XR1cm5PYmplY3QuZGV0YWxpSXRlbVR5cGUgPSBEZXRhbGlJdGVtVHlwZS5Ob3ZlbDsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyT002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GFuZ3VhZ2UgPSAiZW4iOw0KICAgIHJldHVybk9iamVjdC5uYW1lID0gJ1RhcFJlYWQnOw0KICAgIHJldHVybk9iamVjdC5kaXNwb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GF5TmFtZSA9ICJULU5vdmVsLVJlYWQiOw0KICAgIHJldHVybk9iamVjdC5sYXRlc3RVcmwgPSAnaHR0cHM6Ly93d3cudGFwcmVhZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654C5jb20vYWpheC9ib29rL2xhc3R1cGRhdGVsaXN0JzsNCiAgICByZXR1cm5PYmplY3QudXJsID0gJ2h0dHBzOi8vd3d3LnRhcHJlY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WQuY29tLyc7DQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaFVybCA9ICdodHRwczovL3d3dy50YXByZWFkLmNvbS9hamF4L3NlYXJja002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654C9zdG9yeSc7DQogICAgcmV0dXJuT2JqZWN0LnBhbmluYXRpb24gPSB0cnVlOw0KICAgIHJldHVybk9iamVjdC5zZWFyY2hQYWdpb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mF0aW9uID0gZmFsc2U7DQogICAgcmV0dXJuT2JqZWN0Lmljb24gPSAnaHR0cHM6Ly9zdGF0aWMudGFwcmVhZC5jb20vcGMvaW1hZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542VzL2Zhdmljb24uaWNvJzsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3MgPSBuZXcgUGFyc2VyU2VhcmNoU002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542V0dGluZ3MoKTsNCg0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZXMgPSB7DQogICAgICAgIG11b002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HRpU2VsZWN0aW9uOiBmYWxzZSwNCiAgICAgICAgdmFsdWVzOiBbDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQWxsIiwgM002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiV3V4aWEmWGlhbnhpYSIsIDEpLA0KICAgICAgICAgICAgbmV3IGxhYmVsV002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mFsdWUoIkZhbnRhc3kiLCAyKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJSb21hbmNlIiwgMyksDQogICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CBuZXcgbGFiZWxWYWx1ZSgiTEdCVCsiLCA0MyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiVXJiYW4iLCA0NCksDQogI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiR2FtZXMiLCA0NSksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiRWFzdGVyb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iIsIDQ2KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJIb3Jyb3ImVGhyaWxsZXIiLCA0NyksDQogICAgICAgICAgICBuZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XcgbGFiZWxWYWx1ZSgiSGlzdG9yaWNhbCIsIDc1KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTY2ktRmkiLCA3NiksD002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QoNCiAgICAgICAgXQ0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5nZXRTZWN0aW9ucyA9IChrZXlzKSA9PiB7DQogICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HZhciBzZWN0aW9ucyA9IFsNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJsYXRlc3QiLCAiTGF0ZXN0IFVwZGF0ZSIsICJMYXRlc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543QiLCB0cnVlKSwNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJob3Jyb3IiLCAiSG9ycm9yJlRocmlsbGVyIiwgIlNlYXJjaCIsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GZhbHNlLCBuZXcgRmlsdGVyKFs0N10pKSwNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJyb21hbmNlIiwgIlJvbWFuY2UiLCAiU002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIoWzNdKSksDQogICAgICAgICAgICBuZXcgU2VjdGlvbigiZmFudGFzeSIsICJGYW50Y002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XN5IiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKFsyXSkpLA0KICAgICAgICBdDQoNCiAgICAgICAgcmV0dXJuIHNlY3Rpb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd65425zLmZpbHRlcih4ID0+ICFrZXlzIHx8IGtleXMuaW5jbHVkZXMoeC5uYW1lKSk7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0L002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nRyYW5zbGF0ZVNlY3Rpb24gPSBhc3luYyAoc2VjdGlvbiwgcGFnZSkgPT4gew0KICAgICAgICBpZiAoc2VjdGlvbi5pZGVudGlma002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WVyID09ICJMYXRlc3QiKQ0KICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHJldHVybk9iamVjdC5sYXRlc3QocGFnZSk7DQogICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIGVsc2UNCiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZXR1cm5PYmplY3Quc2VhcmNoKHNlY3Rpb24uZmlsdGVyIHx8IHJld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HVybk9iamVjdC5kZWZhdWx0RmlsdGVyKCksIHBhZ2UpOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654D0gKCkgPT4gew0KICAgICAgICB2YXIgZmlsdGVyID0gbmV3IEZpbHRlcigpOw0KICAgICAgICByZXR1cm4gZmlsdGVyOw0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654H07DQoNCiAgICByZXR1cm5PYmplY3QuZ2V0R2VucmUgPSBhc3luYyAoZmlsdGVyLCBwYWdlKSA9PiB7DQogICAgICAgIHZhciB1c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mwgPSAiaHR0cHM6Ly93d3cudGFwcmVhZC5jb20vYWpheC9jYXRlZ29yeS9kZXRhaWwiOw0KICAgICAgICB2YXIgcmVzdWx0ID0gW002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654107DQogICAgICAgIHZhciBkYXRhID0gYXdhaXQgSHR0cENsaWVudC5wb3N0Rm9ybSh1cmwsIHsgY2F0ZUlkOiBmaWx0ZXIuZ2Vuc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVzWzBdLCBwYWdlTm86IHBhZ2UgfSk7DQogICAgICAgIGlmIChkYXRhICYmIGRhdGEucmVzdWx0ICYmIGRhdGEucmVzdWx0LmJvb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542tMaXN0KSB7DQogICAgICAgICAgICBkYXRhLnJlc3VsdC5ib29rTGlzdC5mb3JFYWNoKChpdGVtKSA9PiB7DQogICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgcmVzdWx0LnB1c2gobmV3IExpZ2h0SXRlbShhc3luYyAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiAoY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XdhaXQgcmV0dXJuT2JqZWN0LmdldE5vdmVsKGl0ZW0uYm9va0lkLCB0cnVlKSkuaW1hZ2UNCiAgICAgICAgICAgICAgICB9LCBpd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GVtLmJvb2tOYW1lLCBpdGVtLmRlc2NyaXB0aW9uLCBpdGVtLmJvb2tJZCwgcmV0dXJuT2JqZWN0Lm5hbWUpKQ0KICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgfSk7DQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4gcmVzdWx0Ow0KDQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LnNlY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJjaCA9IGFzeW5jIChmaWx0ZXIsIHBhZ2UpID0+IHsNCiAgICAgICAgaWYgKGZpbHRlci5nZW5yZXMubGVuZ3RoID4gMCkNCiAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgIHJldHVybiBhd2FpdCByZXR1cm5PYmplY3QuZ2V0R2VucmUoZmlsdGVyLCBwYWdlKTsNCg0KICAgICAgICB2YXIgc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVzdWx0ID0gW107DQogICAgICAgIHZhciBkYXRhID0gYXdhaXQgSHR0cENsaWVudC5wb3N0Rm9ybShyZXR1cm5PYmplY3Quc2Vhc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mNoVXJsLCB7IHNlYXJjaFRleHQ6IGZpbHRlci50aXRsZSB8fCAiIiwgc3RvcnlUeXBlOiAxLCBwYWdlTm86IHBhZ2UgfSk7DQogI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgIGlmIChkYXRhICYmIGRhdGEucmVzdWx0ICYmIGRhdGEucmVzdWx0LnN0b3J5TGlzdCkgew0KICAgICAgICAgICAgZGF0Y002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654S5yZXN1bHQuc3RvcnlMaXN0LmZvckVhY2goKGl0ZW0pID0+IHsNCiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZXcgTGlna002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HRJdGVtKGFzeW5jICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChhd2FpdCByZXR1cm5PYmplY3QuZ2V0Tm92Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WwoaXRlbS5zdG9yeUlkLCB0cnVlKSkuaW1hZ2UNCiAgICAgICAgICAgICAgICB9LCBpdGVtLnN0b3J5TmFtZSwgIiIsIGl0ZW0uc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543RvcnlJZCwgcmV0dXJuT2JqZWN0Lm5hbWUpKQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4gc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVzdWx0Ow0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5nZXRDaGFwdGVycyA9IGFzeW5jIChib29rSWQpID0+IHsNCiAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgdmFyIGRhdGEgPSBhd2FpdCBIdHRwQ2xpZW50LnBvc3RGb3JtKCJodHRwczovL3d3dy50YXByZWFkLmNvbS9hamF4L2Jvb2svY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd65429udGVudHMiLCB7IGJvb2tJZDogYm9va0lkIH0pOw0KICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgIGlmIChkYXRhI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CYmIGRhdGEucmVzdWx0ICYmIGRhdGEucmVzdWx0LmNoYXB0ZXJMaXN0KQ0KICAgICAgICAgICAgZGF0YS5yZXN1bHQuY2hhcHRlc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654kxpc3QuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZXcgQ2hhcHRlcihpdGVtLmNoYXB0Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJOYW1lLCAoaXRlbS5ib29rSWQgKyAiLyIgKyBpdGVtLmNoYXB0ZXJJZCkudXJpKCJodHRwczovL3d3dy50YXByZWFkLmNvbS9ha002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mF4L2Jvb2svY2hhcHRlciIpKSkNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgIHJldHVybiByZXN1bHQ7DQoNCiAgICB9DQoNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICByZXR1cm5PYmplY3QuZ2V0Tm92ZWwgPSBhc3luYyAobm92ZWxVcmwsIGlnbm9yZWNoYXB0ZXJzKSA9PiB7DQogICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654G5vdmVsVXJsID0gcGFyc2VJbnQobm92ZWxVcmwpLnRvU3RyaW5nKCk7DQogICAgICAgIHZhciBjb250YWluZXIgPSByZXR1cm5PY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbChub3ZlbFVybC50b1N0cmluZygpLnVyaSgiaHR0cHM6Ly93d002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543cudGFwcmVhZC5jb20vYm9vay9kZXRhaWwvIiksIGlnbm9yZWNoYXB0ZXJzKSk7DQogICAgICAgIHZhciBjaGFwdGVycyA9ICFpZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd65425vcmVjaGFwdGVycyA/IGF3YWl0IHJldHVybk9iamVjdC5nZXRDaGFwdGVycyhub3ZlbFVybCkgOiBbXTsNCiAgICAgICAgdmFyI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654G5vdmVsUmV2aWV3cyA9IG5ldyBOb3ZlbFJldmlld3MoKTsNCiAgICAgICAgbm92ZWxSZXZpZXdzLmdlbnJlcyA9IGNvbnRhaW5lc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654i5maW5kKCIuYmFzZS1pbmZvIC5ib29rLWNhdGFsb2cgLnR4dCIpLnRleHRBcnJheSgpOw0KICAgICAgICBub3ZlbFJldmlld3MuY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XV0aG9yID0gY29udGFpbmVyLnNlbGVjdCgiLmF1dGhvciAubmFtZSIpLnRleHQoZmFsc2UpOw0KICAgICAgICBub3ZlbFJldmlld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543MudXZvdGVzID0gY29udGFpbmVyLnNlbGVjdCgiLnNjb3JlIikudGV4dCgpICsgIiAvIDUiOw0KICAgICAgICBub3ZlbFJldmlld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543MuY29tcGxldGVkID0gY29udGFpbmVyLnNlbGVjdCgiLmJhc2UtaW5mbyAuYm9vay1zdGF0ZSAudHh0IikudGV4dChmYWxzZSkgP002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654T09ICJDb21wbGV0ZWQiID8gIlN0YXR1czpDb21wbGV0ZWQiIDogIlN0YXR1czpPbmdvaW5nIjsNCiAgICAgICAgcmV0dXJuIG5ld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654yBEZXRhbGlJdGVtKA0KICAgICAgICAgICAgY29udGFpbmVyLnNlbGVjdCgnLmJvb2staW1nIGltZycpLmF0dHIoInNyYyIpLnVyb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CgpLA0KICAgICAgICAgICAgY29udGFpbmVyLnNlbGVjdCgnLmJvb2stbmFtZScpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd65429udGFpbmVyLnNlbGVjdCgnLmRlc2MnKS5jbGVhbklubmVySFRNTCgpLA0KICAgICAgICAgICAgbm92ZWxVcmwsDQogICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICBjaGFwdGVycywNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cywNCiAgICAgICAgICAgIHJldHVybk9iamVjdC5uYW1lLA0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgdW5kZWZpbmVkLA0KICAgICAgICApOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5nZXRDaGFwdGVyID0gY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XN5bmMgKHVybCkgPT4gew0KICAgICAgICB2YXIgdXJsQ29udGVudCA9IHVybC5zcGxpdCgiLyIpOw0KICAgICAgICB2YXIgYm9va002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6540lkID0gdXJsQ29udGVudFt1cmxDb250ZW50Lmxlbmd0aCAtIDJdOw0KICAgICAgICB2YXIgY2hhcHRlcklkID0gdXJsQ29udGVud002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Ft1cmxDb250ZW50Lmxlbmd0aCAtIDFdOw0KICAgICAgICBjb25zb2xlLmxvZygiYm9va0lkOiIgKyBib29rSWQpDQogICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GNvbnNvbGUubG9nKCJjaGFwdGVySWQ6IiArIGNoYXB0ZXJJZCkNCiAgICAgICAgdmFyIGRhdGEgPSBhd2FpdCBuZXcgY2xpZW50K002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CkucG9zdEZvcm0oImh0dHBzOi8vd3d3LnRhcHJlYWQuY29tL2FqYXgvYm9vay9jaGFwdGVyIiwgeyBib29rSWQ6IGJvb2tJZCwgY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542hhcHRlcklkOiBjaGFwdGVySWQgfSkNCiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5yZXN1bHQpDQogICAgICAgICAgICByZXR1c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654m4gZGF0YS5yZXN1bHQuY29udGVudDsNCiAgICAgICAgcmV0dXJuICJTb21ldGhpbmcgd2VudCB3cm9uZyI7DQoNCiAgICB9DQoNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICByZXR1cm5PYmplY3QubGF0ZXN0ID0gYXN5bmMgKHBhZ2UpID0+IHsNCiAgICAgICAgdmFyIHVybCA9IHJldHVybk9iamVjd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654C5sYXRlc3RVcmw7DQogICAgICAgIHZhciBkYXRhID0gYXdhaXQgSHR0cENsaWVudC5wb3N0Rm9ybSh1cmwsIHsgYW1vdW10OiAwL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CBwYWdlTm86IHBhZ2UgfSk7DQogICAgICAgIHZhciByZXN1bHQgPSBbXTsNCiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5yZXN1b002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HQgJiYgZGF0YS5yZXN1bHQpIHsNCiAgICAgICAgICAgIGRhdGEucmVzdWx0LmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgcmVzdWx0LnB1c2gobmV3IExpZ2h0SXRlbShhc3luYyAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiAoY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XdhaXQgcmV0dXJuT2JqZWN0LmdldE5vdmVsKGl0ZW0uYm9va0lkLCB0cnVlKSkuaW1hZ2UNCiAgICAgICAgICAgICAgICB9LCBpd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GVtLnRpdGxlLCAiIiwgaXRlbS5ib29rSWQsIHJldHVybk9iamVjdC5uYW1lKSkNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9D002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QoNCiAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICB9DQoNCiAgICByZXR1cm4gcmV0dXJuT2JqZWN0Ow0KfTs&K002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nNlSHRtbCkgPT4gew0KICAgIGNvbnN0IHJldHVybk9iamVjdCA9IHt9Ow0KICAgIGNvbnN0IGhDbGllbnQgPSBuZXcgY2xpZW50K002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Ck7DQogICAgaENsaWVudC5hZGRTdGF0aWNIZWFkZXIoInNpdGUtZG9tYWluIiwgIndubXRsLm9yZyIpOw0KICAgIHJldHVybk9ia002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVjdC5pZCA9ICIxLndubXRsb3JnIjsNCiAgICByZXR1cm5PYmplY3QuZGV0YWxpSXRlbVR5cGUgPSBEZXRhbGlJdGVtVHlwZS5Ob002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543ZlbDsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyTGFuZ3VhZ2UgPSAiZW4iOw0KICAgIHJldHVybk9iamVjdC5uYW1lID0gJ1dub002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XRsJzsNCiAgICByZXR1cm5PYmplY3QuZGlzcGxheU5hbWUgPSAiVy1NVEwiOw0KICAgIHJldHVybk9iamVjdC5sYXRlc3RVcmwgP002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SAnaHR0cHM6Ly9hcGkubXlzdG9yeXdhdmUuY29tL3N0b3J5LXdhdmUtYmFja2VuZC9hcGkvdjEvY29udGVudC9ib29rcy9jdXN0b002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd65420vTGFzdFVwZGF0ZWRMb2NhbCc7DQogICAgcmV0dXJuT2JqZWN0LnVybCA9ICdodHRwOi8vd3d3LndubXRsLm9yZyc7DQogICAgc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mV0dXJuT2JqZWN0LnNlYXJjaFVybCA9ICIiOw0KICAgIHJldHVybk9iamVjdC5wYW5pbmF0aW9uID0gdHJ1ZTsNCiAgICByZXR1c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654m5PYmplY3Quc2VhcmNoUGFnaW5hdGlvbiA9IHRydWU7DQogICAgcmV0dXJuT2JqZWN0Lmljb24gPSAnaHR0cHM6Ly9ub3ZlbGZ1b002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GwuY29tL3dlYi9pbWFnZXMvZmF2aWNvbi5pY28nOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncyA9IG5ld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654yBQYXJzZXJTZWFyY2hTZXR0aW5ncygpOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZXMgPSB7D002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QogICAgICAgIG11bHRpU2VsZWN0aW9uOiBmYWxzZSwNCiAgICAgICAgdmFsdWVzOiBbDQogICAgICAgICAgICBuZXcgbGFiZWxWY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Wx1ZSgnRmFudGFzeScsIDEpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1NjaS1maScsIDIpLA0KICAgICAgICAgICAgb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mV3IGxhYmVsVmFsdWUoJ1Nwb3J0cycsIDMpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1VyYmFuJywgNCksDQogICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICBuZXcgbGFiZWxWYWx1ZSgnRWFzdGVybiBGYW50YXN5JywgNSksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnS002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654G9ycm9yJlRocmlsbGVyJywgNiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnVmlkZW8gR2FtZScsIDcpLA0KICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgbmV3IGxhYmVsVmFsdWUoJ0hpc3RvcnknLCA4KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdXYXInLCA5KSwNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdVcmJhbiBSb21hbmNlJywgMTApLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WUoJ0ZhbnRhc3kgUm9tYW5jZScsIDExKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdIaXN0b3JpY2FsIFJvbWFuY2UnL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAxMiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnVGVlbicsIDEzKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CdMR0JUKycsIDE0KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdSb21hbmNlJywgMTUpLA0KICAgICAgICAgICAgbmV3I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GxhYmVsVmFsdWUoJ09USEVSUysnLCAxNiksDQogICAgICAgIF0sDQogICAgfQ0KDQoNCiAgICByZXR1cm5PYmplY3QuZ2V0U2Vjd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GlvbnMgPSAoa2V5cykgPT4gew0KICAgICAgICB2YXIgc2VjdGlvbnMgPSBbDQogICAgICAgICAgICBuZXcgU2VjdGlvbigibGF0Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XN0IiwgIkxhdGVzdCBVcGRhdGUiLCAiTGF0ZXN0IiwgdHJ1ZSksDQogICAgICAgICAgICBuZXcgU2VjdGlvbigiVXJiYW4iLCAiV002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJiYW4gTm92ZWwiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIoWzRdKSksDQogICAgICAgICAgICBuZXcgU2VjdGlvbigiU002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654m9tYW5jZSIsICJSb21hbmNlIE5vdmVsIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKFsxNV0pKSwNCiAgICAgICAgXQ0KD002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QogICAgICAgIHJldHVybiBzZWN0aW9ucy5maWx0ZXIoeCA9PiAha2V5cyB8fCBrZXlzLmluY2x1ZGVzKHgubmFtZSkpOw0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654H0NCg0KICAgIHJldHVybk9iamVjdC50cmFuc2xhdGVTZWN0aW9uID0gYXN5bmMgKHNlY3Rpb24sIHBhZ2UpID0+IHsNCiAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgaWYgKHNlY3Rpb24uaWRlbnRpZmllciA9PSAiTGF0ZXN0IikNCiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZXR1cm5PYmplY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543QubGF0ZXN0KHBhZ2UpOw0KICAgICAgICBlbHNlDQogICAgICAgICAgICByZXR1cm4gYXdhaXQgcmV0dXJuT2JqZWN0LnNlYXJja002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ChzZWN0aW9uLmZpbHRlciB8fCByZXR1cm5PYmplY3QuZGVmYXVsdEZpbHRlcigpLCBwYWdlKTsNCiAgICB9DQoNCiAgICByZXR1c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654m5PYmplY3QuZGVmYXVsdEZpbHRlciA9ICgpID0+IHsNCiAgICAgICAgcmV0dXJuIG5ldyBGaWx0ZXIoKTsNCiAgICB9DQoNCiAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CByZXR1cm5PYmplY3Quc2VhcmNoID0gYXN5bmMgKGZpbHRlciwgcGFnZSkgPT4gew0KICAgICAgICB2YXIgdXJsID0gImh0dHBzO002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654i8vYXBpLm15c3Rvcnl3YXZlLmNvbS9zdG9yeS13YXZlLWJhY2tlbmQvYXBpL3YxL2NvbnRlbnQvYm9va3MvcmFuay9yZWFkQ291b002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nRzPyZwYWdlTnVtYmVyPSIgKyBwYWdlICsgIiZwYWdlU2l6ZT0xMDAiDQogICAgICAgIGlmIChmaWx0ZXIuZ2VucmVzICYmIGZpb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HRlci5nZW5yZXMubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgdXJsID0gdXJsICsgIiZnZW5yZT0iICsgZmlsdGVyLmdlbnJlc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6541tmaWx0ZXIuZ2VucmVzLmxlbmd0aCAtIDFdOw0KICAgICAgICB9ZWxzZSB1cmwgPSB1cmwgPSAiaHR0cHM6Ly9hcGkubXlzdG9ye002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XdhdmUuY29tL3N0b3J5LXdhdmUtYmFja2VuZC9hcGkvdjEvY29udGVudC9ib29rcy9zZWFyY2g/a2V5V29yZD0iICsgZmlsdGVyL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nRpdGxlICsgIiZwYWdlTnVtYmVyPSIgKyBwYWdlICsgIiZwYWdlU2l6ZT0xMDAiDQogICAgICAgIHZhciBjb250YWluZXIgPSBhd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542FpdCBoQ2xpZW50LkdldEpzb24odXJsKTsNCiAgICAgICAgcmV0dXJuIGNvbnRhaW5lci5kYXRhLmxpc3QubWFwKHggPT4gew0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgcmV0dXJuIG5ldyBMaWdodEl0ZW0oDQogICAgICAgICAgICAgICAgeC5jb3ZlckltZ1VybCwNCiAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICB4LnRpdGxlLA0KICAgICAgICAgICAgICAgICcnLA0KICAgICAgICAgICAgICAgICJodHRwczovL2FwaS5teXN0b3J5d002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542F2ZS5jb20vc3Rvcnktd2F2ZS1iYWNrZW5kL2FwaS92MS9jb250ZW50L2Jvb2tzLyIgKyB4LmlkLCByZXR1cm5PYmplY3QubmFtZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Q0KICAgICAgICAgICAgKTsNCiAgICAgICAgfSk7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmdldENoYXB0ZXJzID0gYXN5b002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mMgKG5vdmVsVXJsKSA9PiB7DQogICAgICAgIHZhciBjaGFwdGVycyA9IFtdOw0KICAgICAgICB2YXIgaWQgPSBub3ZlbFVybC5zc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GxpdCgiLyIpLmxhc3QoKTsNCiAgICAgICAgdmFyIHVybCA9ICJodHRwczovL2FwaS5teXN0b3J5d2F2ZS5jb20vc3Rvcnktd2F2Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654S1iYWNrZW5kL2FwaS92MS9jb250ZW50L2NoYXB0ZXJzL3BhZ2U/c29ydERpcmVjdGlvbj1BU0MmYm9va0lkPSIgKyBpZCArICImc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GFnZU51bWJlcj0xJnBhZ2VTaXplPTEwMDAwMCINCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IGF3YWl0IGhDbGllbnQuR2V0SnNvb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ih1cmwpOw0KICAgICAgICBpZiAoY29udGFpbmVyLmRhdGEgJiYgY29udGFpbmVyLmRhdGEubGlzdCkNCiAgICAgICAgICAgIGNvb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nRhaW5lci5kYXRhLmxpc3QuZm9yRWFjaCgoeCwgaSkgPT4gew0KICAgICAgICAgICAgICAgIGNoYXB0ZXJzLnB1c2gobmV3IENoY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XB0ZXIoKHguY2hhcHRlck9yZGVyICE9IHVuZGVmaW5lZCA/IHguY2hhcHRlck9yZGVyIDogaSArIDEpICsgIi0iICsgeC50aXRsZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SwgImh0dHBzOi8vYXBpLm15c3Rvcnl3YXZlLmNvbS9zdG9yeS13YXZlLWJhY2tlbmQvYXBpL3YxL2NvbnRlbnQvY2hhcHRlcnMvI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iArIHguaWQpKTsNCiAgICAgICAgICAgIH0pDQoNCiAgICAgICAgcmV0dXJuIGNoYXB0ZXJzOw0KICAgIH0NCg0KICAgIHJldHVyb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654k9iamVjdC5nZXROb3ZlbCA9IGFzeW5jIChub3ZlbFVybCkgPT4gew0KICAgICAgICB2YXIgY29udGFpbmVyID0gYXdhaXQgaENsa002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WVudC5HZXRKc29uKG5vdmVsVXJsKTsNCg0KICAgICAgICB2YXIgY2hhcHRlcnMgPSBhd2FpdCByZXR1cm5PYmplY3QuZ2V0Q2hhc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HRlcnMobm92ZWxVcmwpOw0KICAgICAgICB2YXIgbm92ZWxSZXZpZXdzID0gbmV3IE5vdmVsUmV2aWV3cygpOw0KICAgICAgICBub002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543ZlbFJldmlld3MuZ2VucmVzID0gW2NvbnRhaW5lci5kYXRhLmdlbnJlTmFtZV0NCiAgICAgICAgbm92ZWxSZXZpZXdzLmF1dGhvc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iA9IGNvbnRhaW5lci5kYXRhLmF1dGhvclBzZXVkb255bTsNCiAgICAgICAgbm92ZWxSZXZpZXdzLnV2b3RlcyA9IGNvbnRhaW5lc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654i5kYXRhLnJhdGluZ0NvdW50cyArICIgLyA1IjsNCiAgICAgICAgcmV0dXJuIG5ldyBEZXRhbGlJdGVtKA0KICAgICAgICAgICAgY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd65429udGFpbmVyLmRhdGEuY292ZXJJbWdVcmwsDQogICAgICAgICAgICBjb250YWluZXIuZGF0YS50aXRsZSwNCiAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HBhcnNlSHRtbChjb250YWluZXIuZGF0YS5zeW5vcHNpcykuY2xlYW5Jbm5lckhUTUwoKSwNCiAgICAgICAgICAgIG5vdmVsVXJsL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654A0KICAgICAgICAgICAgY2hhcHRlcnMsDQogICAgICAgICAgICBub3ZlbFJldmlld3MsDQogICAgICAgICAgICByZXR1cm5PYmplY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543QubmFtZSwNCiAgICAgICAgICAgIHVuZGVmaW5lZCwNCiAgICAgICAgKTsNCiAgICB9DQoNCg0KICAgIHJldHVybk9iamVjdC5nZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XRDaGFwdGVyID0gYXN5bmMgKHVybCkgPT4gew0KICAgICAgICB2YXIgY29udGFpbmVyID0gYXdhaXQgaENsaWVudC5HZXRKc29uK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HVybCk7DQogICAgICAgIHZhciBkYXRhID0gY29udGFpbmVyLmRhdGEuY29udGVudC5zcGxpdCgiXG4iKTsNCiAgICAgICAgZGF0Y002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SA9IGRhdGEuZmlsdGVyKHggPT4geCAmJiB4Lmxlbmd0aCA+IDApLm1hcCh4ID0+ICI8cD4iICsgeCArICI8L3A+Iikuam9pbigiI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ik7DQogICAgICAgIHJldHVybiBwYXJzZUh0bWwoZGF0YSkuY2xlYW5Jbm5lckhUTUwoKTsNCiAgICB9DQoNCiAgICByZXR1cm5PY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mplY3QubGF0ZXN0ID0gYXN5bmMgKHBhZ2UpID0+IHsNCiAgICAgICAgdmFyIHVybCA9IHJldHVybk9iamVjdC5sYXRlc3RVcmw7D002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QogICAgICAgIHZhciBkYXRhID0gYXdhaXQgaENsaWVudC5wb3N0SnNvbih1cmwsIHsgY29uZGl0aW9uSnNvbjogJ3sidGl0bGUiO002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iJMYXRlc3QgVXBkYXRlcyIsbWF4U2l6ZToxNiwgbW9iaWxlSXRlbXM6MTJ9JywgcGFnZU51bWJlcjogcGFnZSwgcGFnZVNpemU6I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654DIwIH0pOw0KICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgIGNvbnNvbGUubG9nKCJkYXRhOiIsIGRhdGEpDQogICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIGlmIChkYXRhLmRhdGEgJiYgZGF0YS5kYXRhLmxpc3QgJiYgZGF0YS5kYXRhLmxpc3QubGVuZ3RoKSB7DQogICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CBkYXRhLmRhdGEubGlzdC5mb3JFYWNoKHggPT4gew0KICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKA0KICAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICBuZXcgTGlnaHRJdGVtKA0KICAgICAgICAgICAgICAgICAgICAgICAgeC5jb3ZlckltZ1VybCwNCiAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgIHgudGl0bGUsDQogICAgICAgICAgICAgICAgICAgICAgICAnJywNCiAgICAgICAgICAgICAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CJodHRwczovL2FwaS5teXN0b3J5d2F2ZS5jb20vc3Rvcnktd2F2ZS1iYWNrZW5kL2FwaS92MS9jb250ZW50L2Jvb2tzLyIgKyB4L002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mlkLCByZXR1cm5PYmplY3QubmFtZQ0KICAgICAgICAgICAgICAgICAgICApKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0NC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICB9DQoNCiAgICByZXR1cm4gcmV0dXJuT2JqZWN0Ow0KDQp9Ow=&K002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIpID0+I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HsNCiAgICBjb25zdCByZXR1cm5PYmplY3QgPSB7fTsNCiAgICByZXR1cm5PYmplY3QuaWQgPSAiMS53dXhpYXdvcmxkIjsNCiAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CByZXR1cm5PYmplY3QuZGV0YWxpSXRlbVR5cGUgPSBEZXRhbGlJdGVtVHlwZS5Ob3ZlbDsNCiAgICByZXR1cm5PYmplY3QucGFyc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542VyTGFuZ3VhZ2UgPSAiZW4iOw0KICAgIHJldHVybk9iamVjdC5uYW1lID0gJ1d1eGlhd29ybGQnOw0KICAgIHJldHVybk9iamVjd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654C5kaXNwbGF5TmFtZSA9ICJXLU5vdmVsLVdvcmxkIjsNCiAgICByZXR1cm5PYmplY3QubGF0ZXN0VXJsID0gJ2h0dHBzOi8vd3d3L002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nd1eGlhd29ybGQuY29tL3VwZGF0ZXMnOw0KICAgIHJldHVybk9iamVjdC51cmwgPSAnaHR0cHM6Ly93d3cud3V4aWF3b3JsZC5jb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd65420nOw0KICAgIHJldHVybk9iamVjdC5zZWFyY2hVcmwgPSAnaHR0cHM6Ly93d3cud3V4aWF3b3JsZC5jb20vYXBpL25vdmVscy9zZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WFyY2gnOw0KICAgIHJldHVybk9iamVjdC5wYW5pbmF0aW9uID0gZmFsc2U7DQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaFBhZ2luY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XRpb24gPSB0cnVlOw0KICAgIHJldHVybk9iamVjdC5pY29uID0gJ2h0dHBzOi8vd3d3Lnd1eGlhd29ybGQuY29tL2Zhdmljb24tM002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654zJ4MzIucG5nP3Y9andFa0tYdzhQWSc7DQoNCiAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3MgPSBuZXcgUGFyc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542VyU2VhcmNoU2V0dGluZ3MoKTsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3MubXVsdGlTZWxlY3Rpb24gP002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SB0cnVlOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZXMgPQ0KICAgIHsNCiAgICAgIG11bHRpU002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542VsZWN0aW9uOiB0cnVlLA0KICAgICAgdmFsdWVzOiBbDQogICAgICAgIG5ldyBsYWJlbFZhbHVlKCdBY3Rpb24nKSwNCiAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgbmV3IGxhYmVsVmFsdWUoJ0NoZWF0IFN5c3RlbXMnKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0Nvb2tpbmcnKSwNCiAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgbmV3IGxhYmVsVmFsdWUoJ0FsY2hlbXknKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0NyYWZ0aW5nJyksDQogICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIG5ldyBsYWJlbFZhbHVlKCdDb21lZHknKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0ZhbnRhc3knKSwNCiAgICAgICAgb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mV3IGxhYmVsVmFsdWUoJ0hhcmVtJyksDQogICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNYXR1cmUnKSwNCiAgICAgICAgbmV3IGxhY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVsVmFsdWUoJ0tpbmdkb20gQnVpbGRpbmcnKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ01vZGVybiBTZXR0aW5nJyksDQogI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgIG5ldyBsYWJlbFZhbHVlKCdNeXN0ZXJ5JyksDQogICAgICAgIG5ldyBsYWJlbFZhbHVlKCdQb2xpdGljYWwgSW50cmlnd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WUnKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1BldHMnKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1Bvc3QtYXBvY2Fse002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XB0aWMnKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1JvbWFuY2UnKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0ZlbWFsZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SBQcm90YWdvbmlzdCcpLA0KICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU2NpLWZpJyksDQogICAgICAgIG5ldyBsYWJlbFZhbHVlK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CdUaHJpbGxlcicpLA0KICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU3VwZXJwb3dlcnMnKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WUoJ1RyYWdlZHknKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1ZpcnR1YWwgUmVhbGl0eScpLA0KICAgICAgICBuZXcgbGFiZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WxWYWx1ZSgnWGlhbnhpYScpLA0KICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnV3V4aWEnKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WUoJ1h1YW5odWFuJyksDQogICAgICAgIG5ldyBsYWJlbFZhbHVlKCdFc3BvcnRzJyksDQogICAgICAgIG5ldyBsYWJlbFZhbHVlK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CdDdWx0aXZhdGlvbicpLA0KICAgICAgXSwNCiAgICB9Ow0KDQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mxhbmd1YWdlcyA9DQogICAgew0KICAgICAgbXVsdGlTZWxlY3Rpb246IGZhbHNlLA0KICAgICAgdmFsdWVzOiBbDQogICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654G5ldyBsYWJlbFZhbHVlKCdBbnknKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0NoaW5lc2UnKSwNCiAgICAgICAgbmV3IGxhY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVsVmFsdWUoJ0VuZ2xpc2gnKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0tvcmVhbicpLA0KICAgICAgXSwNCiAgICB9Ow0KD002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLnN0YXR1c2VzID0NCiAgICB7DQogICAgICBtdWx0aVNlbGVjd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GlvbjogZmFsc2UsDQogICAgICB2YWx1ZXM6IFsNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0FueScsIG51bGwpLA0KICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CBuZXcgbGFiZWxWYWx1ZSgnT25nb2luZycsIHRydWUpLA0KICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnQ29tcGxldGVkJywgZmFsc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542UpLA0KICAgICAgXSwNCiAgICB9Ow0KDQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLnNvcnRUeXBlcyA9D002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QogICAgew0KICAgICAgbXVsdGlTZWxlY3Rpb246IGZhbHNlLA0KICAgICAgdmFsdWVzOiBbDQogICAgICAgIG5ldyBsYWJlbFZhb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HVlKCdOYW1lJyksDQogICAgICAgIG5ldyBsYWJlbFZhbHVlKCdQb3B1bGFyJyksDQogICAgICAgIG5ldyBsYWJlbFZhbHVlKCdDa002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GFwdGVycycpLA0KICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTmV3JyksDQogICAgICAgIG5ldyBsYWJlbFZhbHVlKCdSYXRpbmcnK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SwNCiAgICAgIF0sDQogICAgfTsNCg0KDQogICAgcmV0dXJuT2JqZWN0LmdldFNlY3Rpb25zID0gKGtleXMpID0+IHsNCiAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgdmFyIHNlY3Rpb25zID0gWw0KICAgICAgICAgIG5ldyBTZWN0aW9uKCJsYXRlc3QiLCAiTGF0ZXN0IFVwZGF0ZSIsICJMYXRlc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543QiLCB0cnVlKSwNCiAgICAgICAgICBuZXcgU2VjdGlvbigibmV3IiwgIk5ldyBOb3ZlbCIsICJTZWFyY2giLCBmYWxzZSwgSHR0c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ENsaWVudC5jbG9uZUl0ZW0ocmV0dXJuT2JqZWN0LmRlZmF1bHRGaWx0ZXIoKSwgeyBzb3J0VHlwZTogIk5ldyIgfSkpLA0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgIG5ldyBTZWN0aW9uKCJwb3B1bGFyIiwgIlBvcHVsYXIgTm92ZWwiLCAiU2VhcmNoIiwgZmFsc2UsIEh0dHBDbGllbnQuY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542xvbmVJdGVtKHJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyKCksIHsgc29ydFR5cGU6ICJQb3B1bGFyIiB9KSksDQogICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgbmV3IFNlY3Rpb24oImNvbXBsZXRlZCIsICJDb21wbGV0ZWQgTm92ZWwiLCAiU2VhcmNoIiwgZmFsc2UsIEh0dHBDbGllbnQuY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542xvbmVJdGVtKHJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyKCksIHsgYWN0aXZlOiBmYWxzZSB9KSkNCiAgICAgICAgXQ0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654A0KICAgICAgICByZXR1cm4gc2VjdGlvbnMuZmlsdGVyKHggPT4gIWtleXMgfHwga2V5cy5pbmNsdWRlcyh4Lm5hbWUpKTsNCiAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIH0NCiAgICANCiAgICAgIHJldHVybk9iamVjdC50cmFuc2xhdGVTZWN0aW9uID0gYXN5bmMgKHNlY3Rpb24sIHBhZ2UpID0+I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HsNCiAgICAgICAgaWYgKHNlY3Rpb24uaWRlbnRpZmllciA9PSAiTGF0ZXN0IikNCiAgICAgICAgICByZXR1cm4gYXdhaXQgcmV0d002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJuT2JqZWN0LmxhdGVzdChwYWdlKTsNCiAgICAgICAgZWxzZQ0KICAgICAgICAgIHJldHVybiBhd2FpdCByZXR1cm5PYmplY3Quc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542VhcmNoKHNlY3Rpb24uZmlsdGVyIHx8IHJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyKCksIHBhZ2UpOw0KICAgICAgfQ0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654A0KICAgICAgcmV0dXJuT2JqZWN0LmRlZmF1bHRGaWx0ZXIgPSAoKSA9PiB7DQogICAgICAgIHZhciBmaWx0ZXIgPSBuZXcgRmlsd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GVyKCk7DQogICAgICAgIGZpbHRlci5sYW5ndWFnZSA9IHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5sYW5ndWFnZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XMudmFsdWVzLmZpbmRBdCgwKS52YWx1ZTsNCiAgICAgICAgZmlsdGVyLnNvcnRUeXBlID0gcmV0dXJuT2JqZWN0LnBhcnNlclNlY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJjaFNldHRpbmdzLnNvcnRUeXBlcy52YWx1ZXMuZmluZEF0KDApLnZhbHVlOw0KICAgICAgICBmaWx0ZXIuYWN0aXZlID0gcmV0d002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLnN0YXR1c2VzLnZhbHVlcy5maW5kQXQoMCkudmFsdWU7DQogICAgICAgIHJld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HVybiBmaWx0ZXI7DQogICAgICB9DQogICAgDQogICAgICByZXR1cm5PYmplY3Quc2VhcmNoID0gYXN5bmMgKGZpbHRlciwgcGFnZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Sk9PiB7DQogICAgICAgIHZhciBkYXRhID0gYXdhaXQgSHR0cENsaWVudC5wb3N0SnNvbihyZXR1cm5PYmplY3Quc2VhcmNoVXJsL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CBmaWx0ZXIpOw0KICAgICAgICByZXR1cm4gZGF0YSAmJiBkYXRhLml0ZW1zDQogICAgICAgICAgPyBkYXRhLml0ZW1zLmZpbHRlc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654igoeCkgPT4gIXguc25lYWtQZWVrKS5tYXAoDQogICAgICAgICAgICAoeCkgPT4NCiAgICAgICAgICAgICAgbmV3IExpZ2h0SXRlb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SgNCiAgICAgICAgICAgICAgICB4LmNvdmVyVXJsLA0KICAgICAgICAgICAgICAgIHgubmFtZSwNCiAgICAgICAgICAgICAgICB4L002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nN5bm9wc2lzLA0KICAgICAgICAgICAgICAgIHguc2x1Zy51cmkoJ2h0dHBzOi8vd3d3Lnd1eGlhd29ybGQuY29tL25vdmVsLycpL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CByZXR1cm5PYmplY3QubmFtZQ0KICAgICAgICAgICAgICApLA0KICAgICAgICAgICkNCiAgICAgICAgICA6IFtdOw0KICAgICAgf002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Q0KICAgIA0KICAgICAgcmV0dXJuT2JqZWN0LmdldE5vdmVsPSBhc3luYyAobm92ZWxVcmwpID0+IHsNCiAgICAgICAgdmFyIGNvb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKG5vdmVsVXJsKSk7DQogICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIHZhciBjaGFwdGVycyA9IFtdOw0KICAgICAgICBjb250YWluZXIuZmluZCgnLm5vdmVsLWNvbnRlbnQgLmNoYXB0ZXItaXRlb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SBhJykuZm9yRWFjaCgoeCkgPT4gew0KICAgICAgICAgIGNoYXB0ZXJzLnB1c2goDQogICAgICAgICAgICBuZXcgQ2hhcHRlcigNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICAgICAgICAgICAgeC50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgeC5hdHRyKCJocmVmIikudXJsKCkNCiAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICksDQogICAgICAgICAgKTsNCiAgICAgICAgfSk7DQogICAgDQogICAgICAgIHZhciBub3ZlbFJldmlld3MgPSBuZXcgTm92Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WxSZXZpZXdzKCk7DQogICAgDQogICAgICAgIHZhciBub2RlID0gY29udGFpbmVyLnNlbGVjdCgiLm5vdmVsLWJvZHkiKTsNCiAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CANCiAgICAgICAgbm92ZWxSZXZpZXdzLmdlbnJlcyA9IGNvbnRhaW5lci5maW5kKCcuZ2VucmVzIGEnKS50ZXh0QXJyYXkoKTsNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICAgICAgdmFyIGF1dGhvciA9IG5vZGUuc2VsZWN0KCJkdDpjb250YWlucyhBdXRob3IpIikNCiAgICAgICAgbm92ZWxSZXZpZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XdzLmF1dGhvciA9IGF1dGhvci5jbG9zZXN0KCJkaXYiKS5maW5kKCJkZCIpLnRleHQoZmFsc2UpOw0KICAgICAgICByZXR1cm4gb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mV3IERldGFsaUl0ZW0oDQogICAgICAgICAgY29udGFpbmVyLnNlbGVjdCgnLmltZy10aHVtYm5haWwnKS5hdHRyKCJzcmMiKS51c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mwoKSwNCiAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCcubm92ZWwtYm9keSBoMicpLnRleHQoZmFsc2UpLA0KICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GNvbnRhaW5lci5maW5kKCcubm92ZWwtYm90dG9tID5kaXYnKS5lcSgxKS5jbGVhbklubmVySFRNTCgpLA0KICAgICAgICAgIG5vd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVsVXJsLA0KICAgICAgICAgIGNoYXB0ZXJzLA0KICAgICAgICAgIG5vdmVsUmV2aWV3cywNCiAgICAgICAgICByZXR1cm5PYmplY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543QubmFtZSwNCiAgICAgICAgKTsNCiAgICAgIH0NCiAgICANCiAgICAgIHJldHVybk9iamVjdC5nZXRDaGFwdGVyPSBhc3luYyAod002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJsKSA9PiB7DQogICAgICAgIHJldHVybiByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IG5ldyBjbGllbnQoKS5nZXRIdG1sK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HVybCkpLnNlbGVjdCgnI2NoYXB0ZXItY29udGVudCcpLmNsZWFuSW5uZXJIVE1MKCk7DQogICAgICB9DQogICAgDQogICAgICByZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XR1cm5PYmplY3QubGF0ZXN0PSBhc3luYyAocGFnZSkgPT57DQogICAgICAgIHZhciBjb250YWluZXIgPSByZXR1cm5PYmplY3Quc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbChyZXR1cm5PYmplY3QubGF0ZXN0VXJsKSk7DQogICAgICAgIHJldHVyb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iBjb250YWluZXIuZmluZCgnLnNlY3Rpb24tY29udGVudCAudGl0bGUgYScpLm1hcCgoeCkgPT4gew0KICAgICAgICAgIHJldHVyb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iBuZXcgTGlnaHRJdGVtKGFzeW5jICgpID0+IHsNCiAgICAgICAgICAgIHZhciBlbGVtID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Shhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwoeC5hdHRyKCdocmVmJykudXJsKCksIHRydWUpKQ0KICAgICAgICAgICAgcmV0dXJuI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GVsZW0uc2VsZWN0KCIuaW1nLXRodW1ibmFpbCIpLmF0dHIoInNyYyIpLnVybCgpOw0KICAgICAgICAgIH0sIHgudGV4dChmYWxzZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SksICcnLCB4LmF0dHIoJ2hyZWYnKS51cmwoKSwgcmV0dXJuT2JqZWN0Lm5hbWUpOw0KICAgICAgICB9KTsNCiAgICAgIH0NCg0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIHJldHVybiByZXR1cm5PYmplY3Q7DQp9Ow=&K002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIpID0+I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HsNCiAgICBjb25zdCByZXR1cm5PYmplY3QgPSB7fTsNCiAgICByZXR1cm5PYmplY3QuaWQgPSAiMS53dXhpYXdvcmxkX3NpdGUiO002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654w0KICAgIHJldHVybk9iamVjdC5kZXRhbGlJdGVtVHlwZSA9IERldGFsaUl0ZW1UeXBlLk5vdmVsOw0KICAgIHJldHVybk9iamVjd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654C5wYXJzZXJMYW5ndWFnZSA9ICJlbiI7DQogICAgcmV0dXJuT2JqZWN0Lm5hbWUgPSAnV3V4aWF3b3JsZC5TaXRlJzsNCiAgICByZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XR1cm5PYmplY3QuZGlzcGxheU5hbWUgPSAiVy1Ob3ZlbC1TIjsNCiAgICByZXR1cm5PYmplY3QubGF0ZXN0VXJsID0gJ2h0dHBzO002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654i8vd3V4aWF3b3JsZC5zaXRlL3BhZ2Uve3B9Lyc7DQogICAgcmV0dXJuT2JqZWN0LnVybCA9ICdodHRwczovL3d1eGlhd29ybGQuc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542l0ZSc7DQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaFVybCA9ICdodHRwczovL3d1eGlhd29ybGQuc2l0ZS93cC1hZG1pbi9hZG1pb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654i1hamF4LnBocCc7DQogICAgcmV0dXJuT2JqZWN0LnBhbmluYXRpb24gPSB0cnVlOw0KICAgIHJldHVybk9iamVjdC5zZWFyY2hQY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WdpbmF0aW9uID0gdHJ1ZTsNCiAgICByZXR1cm5PYmplY3QuaWNvbiA9ICdodHRwczovL3d1eGlhd29ybGQuYi1jZG4ubmV0L3dwL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WNvbnRlbnQvdXBsb2Fkcy8yMDE5LzA0L2Zhdmljb24tMS5pY28nOw0KDQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HRpbmdzID0gbmV3IFBhcnNlclNlYXJjaFNldHRpbmdzKCk7DQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654m11bHRpU2VsZWN0aW9uID0gdHJ1ZTsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3MuZ2VucmVzID0NCiAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CB7DQogICAgICAgIG11bHRpU2VsZWN0aW9uOiB0cnVlLA0KICAgICAgICB2YWx1ZXM6IFsNCiAgICAgICAgICAgIG5ldyBsYWJlb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654FZhbHVlKCdBY3Rpb24nLCAiYWN0aW9uIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnQWR1bHQnLCAiYWR1bHQiKSwNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJEcmFtYSIsICJkcmFtYSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654kVjY2hpIiwgImVjY2hpIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnQWR2ZW50dXJlJywgImFkdmVudHVyZSIpLA0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkdlbmRlciBCZW5kZXIiLCAiZ2VuZGVyLWJlbmRlciIpLA0KICAgICAgICAgICAgb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mV3IGxhYmVsVmFsdWUoIkhpc3RvcmljYWwiLCAiaGlzdG9yaWNhbCIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkhvc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nJvciIsICJob3Jyb3IiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJJc2VrYWkiLCAiaXNla2FpIiksDQogICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICBuZXcgbGFiZWxWYWx1ZSgiSm9zZWkiLCAiam9zZWkiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJMR0JUKyIsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CJsZ2J0IiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTWFnaWNhbCBSZWFsaXNtIiwgIm1hZ2ljYWwtcmVhbGlzbSIpL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654A0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIk1hbmh3YSIsICJtYW5od2EiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HVlKCJNYXJ0aWFsIEFydHMiLCAibWFydGlhbC1hcnRzIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTWF0dXJlIiwgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654m1hdHVyZSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIk1lY2hhIiwgIm1lY2hhIiksDQogICAgICAgICAgICBuZXcgb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GFiZWxWYWx1ZSgiUHN5Y2hvbG9naWNhbCIsICJwc3ljaG9sb2dpY2FsIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVpbmNhcm5hdGlvbiIsICJyZWluY2FybmF0aW9uIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2Nob29sIExpZmUiL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAic2Nob29sLWxpZmUiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTZWluZW4iLCAic2VpbmVuIiksDQogICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICBuZXcgbGFiZWxWYWx1ZSgiU2hvdWpvIiwgInNob3VqbyIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNob3Vqb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654y1BaSIsICJzaG91am8tYWkiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTaG91bmVuIiwgInNob3VuZW4iKSwNCiAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTaG91bmVuLUFpIiwgInNob3VuZW4tYWkiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654FZhbHVlKCJTbGljZSBvZiBMaWZlIiwgInNsaWNlLW9mLWxpZmUiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTbXV0I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iwgInNtdXQiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTdXBlcm5hdHVyYWwiLCAic3VwZXJuYXR1cmFsIiksDQogI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiVGhyaWxsZXIiLCAidGhyaWxsZXIiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HVlKCJUZWVuIiwgInRlZW4iKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJWaWRlbyBHYW1lcyIsICJ2aWRlby1nYW1lc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654yIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIldlYmNvbWljcyIsICJ3ZWJjb21pY3MiKSwNCiAgICAgICAgICAgIG5ld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654yBsYWJlbFZhbHVlKCdDb21lZHknLCAiY29tZWR5IiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnRmFudGFzeScsICJmY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W50YXN5IiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnSGFyZW0nLCAiaGFyZW0tbm92ZWwiKSwNCiAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654G5ldyBsYWJlbFZhbHVlKCdZYW9pJywgInlhb2kiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJZdXJpIiwgInl1cmkiK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdLaW5nZG9tIEJ1aWxkaW5nJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Wx1ZSgnTW9kZXJuIFNldHRpbmcnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNeXN0ZXJ5JywgIm15c3RlcnkiKSwNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdSb21hbmNlJywgInJvbWFuY2UiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HVlKCdTY2ktZmknLCAic2NpLWZpIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnVHJhZ2VkeScsICJ0cmFnZWR5IiksD002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnVmlydHVhbCBSZWFsaXR5JyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SgnWGlhbnhpYScsICJ4aWFueGlhIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnV3V4aWEnLCAid3V4aWEiKSwNCiAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdYdWFuaHVhbicsICJ4dWFuaHVhbiIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WUoJ1Nwb3J0cycsICJzcG9ydHMiKSwNCiAgICAgICAgXSwNCiAgICB9Ow0KDQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJja002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654FNldHRpbmdzLnN0YXR1c2VzID0NCiAgICB7DQogICAgICAgIG11bHRpU2VsZWN0aW9uOiBmYWxzZSwNCiAgICAgICAgdmFsdWVzO002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iBbDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnT25nb2luZycsICJvbi1nb2luZyIpLA0KICAgICAgICAgICAgbmV3IGxhY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVsVmFsdWUoJ0NvbXBsZXRlZCcsICJlbmQiKSwNCiAgICAgICAgXSwNCiAgICB9Ow0KDQoNCiAgICByZXR1cm5PYmplY3QuZ2V0U002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542VjdGlvbnMgPSAoa2V5cykgPT4gew0KICAgICAgICB2YXIgc2VjdGlvbnMgPSBbDQogICAgICAgICAgICBuZXcgU2VjdGlvbigib002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GF0ZXN0IiwgIkxhdGVzdCBVcGRhdGUiLCAiTGF0ZXN0IiwgdHJ1ZSksDQogICAgICAgICAgICBuZXcgU2VjdGlvbigibWFuZ2EiL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAiQ29taWNzIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKFsid2ViY29taWNzIl0pKSwNCiAgICAgICAgICAgIG5ldyBTZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WN0aW9uKCJhY3Rpb24iLCAiQWN0aW9uIE5vdmVsIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKFsiYWN0aW9uIl0pKSwNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJhZHVsdCIsICJBZHVsdCBOb3ZlbCIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654ihbImFkdWx0Il0pKSwNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJyb21hbmNlIiwgIlJvbWFuY2UgTm92ZWwiLCAiU2VhcmNoI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iwgZmFsc2UsIG5ldyBGaWx0ZXIoWyJyb21hbmNlIl0pKSwNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJkcmFtYSIsICJEcmFtY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SBOb3ZlbCIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcihbImRyYW1hIl0pKSwNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CJjb21wbGV0ZWQiLCAiQ29tcGxldGVkIE5vdmVsIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKHVuZGVmaW5lZCwgdW5kZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WZpbmVkLCB1bmRlZmluZWQsICJlbmQiKSkNCiAgICAgICAgXQ0KDQogICAgICAgIHJldHVybiBzZWN0aW9ucy5maWx0ZXIoeCA9P002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAha2V5cyB8fCBrZXlzLmluY2x1ZGVzKHgubmFtZSkpOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC50cmFuc2xhdGVTZWN0a002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W9uID0gYXN5bmMgKHNlY3Rpb24sIHBhZ2UpID0+IHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGlmIChzZWN0aW9uLmlkZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W50aWZpZXIgPT0gIkxhdGVzdCIpDQogICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHJldHVybk9iamVjdC5sYXRlc3QocGFnZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Sk7DQogICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHJldHVybk9iamVjdC5zZWFyY2goc2Vjd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Glvbi5maWx0ZXIgfHwgcmV0dXJuT2JqZWN0LmRlZmF1bHRGaWx0ZXIoKSwgcGFnZSk7DQogICAgICAgIH0gY2F0Y2ggKGVycm9yK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikNCiAgICAgICAgICAgIHJldHVybiBbXTsNCiAgICAgICAgfQ0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654H0NCg0KICAgIHJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyID0gKCkgPT4gew0KICAgICAgICByZXR1cm4gbmV3IEZpbHRlcigpO002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654w0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5nZXRUeXBlID0gKHVybCkgPT4gew0KICAgICAgICB2YXIgdXJsID0gdXJsLnRvT002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654G93ZXJDYXNlKCk7DQogICAgICAgIGlmICh1cmwuaW5kZXhPZigibWFuZ2EiKSAhPSAtMSB8fCB1cmwuaW5kZXhPZigiY29taWMiK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SAhPSAtMSB8fCB1cmwuaW5kZXhPZigiY29taWNzIikgIT0gLTEgfHwgdXJsLmluZGV4T2YoIndlYmNvbWljcyIpICE9IC0xKQ0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgcmV0dXJuIERldGFsaUl0ZW1UeXBlLk1hbmFnYTsNCiAgICAgICAgcmV0dXJuIERldGFsaUl0ZW1UeXBlLk5vd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVsOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5nZXRCeUdlbnJlcyA9IGFzeW5jIChmaWx0ZXIsIHBhZ2UpID0+IHsNCiAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICB2YXIgYWR2YW5jZWRTZWFjaFVybCA9ICJodHRwczovL3d1eGlhd29ybGQuc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542l0ZS9wYWdlLyIrcGFnZSsiLz9zPSZwb3N0X3R5cGU9d3AtbWFuZ2Eme2d9Jm9wJmF1dGhvciZhcnRpc3QmcmVsZWFzZSZhZHVsd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CZ7c30iDQogICAgICAgIGlmIChmaWx0ZXIuZ2VucmVzLmxlbmd0aCA+IDApDQogICAgICAgICAgICBhZHZhbmNlZFNlYWNoVXJsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654D0gYWR2YW5jZWRTZWFjaFVybC5yZXBsYWNlKCJ7Z30iLCBmaWx0ZXIuZ2VucmVzLm1hcCh4ID0+ICJnZW5yZSU1QiU1RD0iICt4K002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654S5qb2luKCImIikpDQogICAgICAgIGVsc2UgYWR2YW5jZWRTZWFjaFVybCA9IGFkdmFuY2VkU2VhY2hVcmwucmVwbGFjZSgiJntnf002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SIsICIiKQ0KDQogICAgICAgIGlmIChmaWx0ZXIuYWN0aXZlICYmIGZpbHRlci5hY3RpdmUgIT0gIiIpDQogICAgICAgICAgICBhZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HZhbmNlZFNlYWNoVXJsID0gYWR2YW5jZWRTZWFjaFVybC5yZXBsYWNlKCJ7c30iLCBmaWx0ZXIuYWN0aXZlKTsNCiAgICAgICAgZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WxzZSBhZHZhbmNlZFNlYWNoVXJsID0gYWR2YW5jZWRTZWFjaFVybC5yZXBsYWNlKCIme3N9IiwgIiIpOw0KICAgICAgICB2YXIgY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd65429udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwoYWR2YW5jZWRTZWFjaFVyb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CkpOw0KICAgICAgICBjb250YWluZXIuZmluZCgiLmMtdGFicy1pdGVtX19jb250ZW50IikuZm9yRWFjaCh4ID0+IHsNCiAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgIHJlc3VsdC5wdXNoKA0KICAgICAgICAgICAgICAgIG5ldyBMaWdodEl0ZW0oDQogICAgICAgICAgICAgICAgICAgIHguc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542VsZWN0KCIudGFiLXRodW1iIGltZyIpLmF0dHIoInNyYyB8IHNyY3NldCIpLnVybCgpLA0KICAgICAgICAgICAgICAgICAgICB4L002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nNlbGVjdCgiLnRhYi10aHVtYiBhIikuYXR0cigidGl0bGUiKS50ZXh0KCksDQogICAgICAgICAgICAgICAgICAgICIiLA0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgICAgICB4LnNlbGVjdCgiLnRhYi10aHVtYiBhIikuYXR0cigiaHJlZiIpLnVybCgpLA0KICAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICByZXR1cm5PYmplY3QubmFtZSwNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuT2JqZWN0LmdldFR5cGUoeC5zZWxlY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543QoIi50YWItdGh1bWIgYSIpLmF0dHIoImhyZWYiKS51cmwoKSkNCiAgICAgICAgICAgICAgICApDQogICAgICAgICAgICApDQogI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgIH0pDQogICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgfQ0KDQoNCiAgICByZXR1cm5PYmplY3Quc2VhcmNoID0gYXN5b002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mMgKGZpbHRlciwgcGFnZSkgPT4gew0KICAgICAgICBpZiAoIWZpbHRlci50aXRsZSkNCiAgICAgICAgZmlsdGVyLnRpdGxlID0iI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654jsNCiAgICAgICAgaWYgKChmaWx0ZXIudGl0bGUuaXNFbXB0eU9yU3BhY2VzKCkpICYmIChmaWx0ZXIuZ2VucmVzLmxlbmd0aCA+I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654DAgfHwgKCFmaWx0ZXIuYWN0aXZlICYmIGZpbHRlci5hY3RpdmUgIT0gIiIpKSkNCiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XR1cm5PYmplY3QuZ2V0QnlHZW5yZXMoZmlsdGVyLCBwYWdlKTsNCg0KICAgICAgICBpZiAoZmlsdGVyLnRpdGxlLmlzRW1wdHlPc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654lNwYWNlcygpKQ0KICAgICAgICAgICAgcmV0dXJuIFtdOw0KDQoNCiAgICAgICAgdmFyIGpzb24gPSBhd2FpdCBIdHRwQ2xpZW50L002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nBvc3RGb3JtKHJldHVybk9iamVjdC5zZWFyY2hVcmwsIHsgYWN0aW9uOiAid3AtbWFuZ2Etc2VhcmNoLW1hbmdhIiwgdGl0bGU6I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GZpbHRlci50aXRsZSB9KTsNCg0KICAgICAgICBpZiAoanNvbiAmJiBqc29uLmRhdGEgJiYganNvbi5kYXRhLmxlbmd0aCA+IDApI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HsNCiAgICAgICAgICAgIHJldHVybiBqc29uLmRhdGEubWFwKHggPT4gew0KICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTGlna002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HRJdGVtKA0KICAgICAgICAgICAgICAgICAgICBhc3luYyAoKSA9PiAoYXdhaXQgcmV0dXJuT2JqZWN0LmdldE5vdmVsKHgudXJsL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654nVyaShyZXR1cm5PYmplY3QudXJsKSwgdHJ1ZSkpLmltYWdlLA0KICAgICAgICAgICAgICAgICAgICB4LnRpdGxlLA0KICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgICAiIiwNCiAgICAgICAgICAgICAgICAgICAgeC51cmwudXJpKHJldHVybk9iamVjdC51cmwpLA0KICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgICByZXR1cm5PYmplY3QubmFtZSwNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuT2JqZWN0LmdldFR5cGUoe002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654C50eXBlIHx8IHgudXJsKQ0KICAgICAgICAgICAgICAgICkNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICAgICAgcmV0d002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJuIFtdOw0KDQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmdldENoYXB0ZXJzID0gYXN5bmMgKGNvbnRhaW5lcikgPT4gew0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICB2YXIgdXJsID0gImh0dHBzOi8vd3V4aWF3b3JsZC5zaXRlL3dwLWFkbWluL2FkbWluLWFqYXgucGhwIjsNCiAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgdmFyIGNoYXB0ZXJzID0gY29udGFpbmVyLnNlbGVjdCgiLmxpc3RpbmctY2hhcHRlcnNfd3JhcCIpLmhhc0VsZW1lbnQoKSAmJ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iBjb250YWluZXIuZmluZCgiLmxpc3RpbmctY2hhcHRlcnNfd3JhcCBhIikubGVuZ3RoKCkgPiAxID8gY29udGFpbmVyLmZpbmQoI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654i5saXN0aW5nLWNoYXB0ZXJzX3dyYXAgYSIpIDogcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LnBvc3RGb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543JtKHVybCwgeyBhY3Rpb246ICJtYW5nYV9nZXRfY2hhcHRlcnMiLCBtYW5nYTogY29udGFpbmVyLnNlbGVjdCgiLnJhdGluZy1wb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543N0LWlkIikuYXR0cigidmFsdWUiKS50ZXh0KCkgfSkpLmZpbmQoImEiKTsNCiAgICAgICAgcmV0dXJuIGNoYXB0ZXJzLm1hcCgoe002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CkgPT4gew0KICAgICAgICAgICAgcmV0dXJuIG5ldyBDaGFwdGVyKA0KICAgICAgICAgICAgICAgIHgudGV4dChmYWxzZSksDQogI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgICAgeC5hdHRyKCJocmVmIikudXJsKCkNCiAgICAgICAgICAgICk7DQogICAgICAgIH0pOw0KICAgIH0NCg0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIHJldHVybk9iamVjdC5nZXROb3ZlbCA9IGFzeW5jIChub3ZlbFVybCwgaWdub3JlQ2hhcHRlcnMpID0+IHsNCiAgICAgICAgd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKG5vdmVsVXJsLCBpZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd65425vcmVDaGFwdGVycykpOw0KICAgICAgICB2YXIgY2hhcHRlcnMgPSBbXTsNCiAgICAgICAgaWYgKCFpZ25vcmVDaGFwdGVycykge002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654w0KICAgICAgICAgICAgY2hhcHRlcnMgPSBhd2FpdCByZXR1cm5PYmplY3QuZ2V0Q2hhcHRlcnMoY29udGFpbmVyKTsNCiAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgfQ0KDQogICAgICAgIHZhciBub3ZlbFJldmlld3MgPSBuZXcgTm92ZWxSZXZpZXdzKCk7DQogICAgICAgIGlmICghaWdub3JlQ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542hhcHRlcnMpIHsNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cy51dm90ZXMgPSBjb250YWluZXIuc2VsZWN0KCIudm90ZS1kZXRha002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WxzIikucmVtb3ZlKCdbcHJvcGVydHk9Iml0ZW1SZXZpZXdlZCJdJykudGV4dChmYWxzZSk7DQogICAgICAgICAgICBub3ZlbFJld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mlld3MuYXV0aG9yID0gY29udGFpbmVyLmZpbmQoIi5hdXRob3ItY29udGVudCBhIikudGV4dChmYWxzZSk7DQogICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CBub3ZlbFJldmlld3MuZ2VucmVzID0gY29udGFpbmVyLmZpbmQoIi5nZW5yZXMtY29udGVudCBhIikudGV4dEFycmF5KCk7DQogI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICBub3ZlbFJldmlld3MuY29tcGxldGVkID0gY29udGFpbmVyLmZpbmQoIi5wb3N0LWNvbnRlbnRfaXRlbSIpLndoZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJlKHggPT4geC5pbm5lckhUTUwoKS5pbmRleE9mKCJDb21wbGV0ZWQiKSAhPSAtMSkuaGFzRWxlbWVudCgpID8gIlN0YXR1czpDb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd65421wbGV0ZWQiIDogIlN0YXR1czpPbmdvaW5nIjsNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cy5kZXNjcmlwdGlvbiA9IGNvbnRha002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W5lci5zZWxlY3QoIi5kZXNjcmlwdGlvbi1zdW1tYXJ5IikuY2xlYW5Jbm5lckhUTUwoKTsNCiAgICAgICAgfQ0KDQogICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HJldHVybiBuZXcgRGV0YWxpSXRlbSgNCiAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoJy5zdW1tYXJ5X2ltYWdlIGltZycpL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mF0dHIoInNyYyB8IHNyY3NldCIpLnVybCgpLA0KICAgICAgICAgICAgY29udGFpbmVyLnNlbGVjdCgnLnBvc3QtdGl0bGUnKS50Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Xh0KGZhbHNlKSwNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cy5kZXNjcmlwdGlvbiB8fCAiIiwNCiAgICAgICAgICAgIG5vdmVsV002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJsLA0KICAgICAgICAgICAgY2hhcHRlcnMucmV2ZXJzZSgpLA0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLA0KICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgcmV0dXJuT2JqZWN0Lm5hbWUsDQogICAgICAgICAgICAiIiwNCiAgICAgICAgICAgIHJldHVybk9iamVjdC5nZXRUeXBlKG5vd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVsVXJsKQ0KICAgICAgICApOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5nZXRDaGFwdGVyID0gYXN5bmMgKHVybCkgPT4ge002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654w0KICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBuZXcgY2xpZW50KCkuZ2V0SHRtb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Ch1cmwpKS5yZW1vdmUoInNjcmlwdCIpLnJlbW92ZSgic3R5bGUiKTsNCiAgICAgICAgdmFyIHJlc3VsdCA9ICIiOw0KICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CBpZiAocmV0dXJuT2JqZWN0LmdldFR5cGUodXJsKSA9PT0gRGV0YWxpSXRlbVR5cGUuTWFuYWdhKQ0KICAgICAgICAgICAgcmVzd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Wx0ID0gY29udGFpbmVyLmZpbmQoIi5yZWFkaW5nLWNvbnRlbnQgaW1nIikubWFwKHggPT4geC5hdHRyKCJzcmMiKS5oYXNWYWx1Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SgpID8geC5hdHRyKCJzcmMiKS51cmwoKSA6ICIiKS5maWx0ZXIoeCA9PiAheC5pc0VtcHR5T3JTcGFjZXMoKSk7DQogICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GVsc2UNCiAgICAgICAgICAgIHJlc3VsdCA9IGNvbnRhaW5lci5zZWxlY3QoIi5yZWFkaW5nLWNvbnRlbnQiKS5jbGVhbklubmVyS002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654FRNTCgpOw0KICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5sYXRlc3QgPSBhc3luYyAoc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GFnZSkgPT4gew0KICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50L002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mdldEh0bWwocmV0dXJuT2JqZWN0LmxhdGVzdFVybC5yZXBsYWNlKCJ7cH0iLCBwYWdlLnRvU3RyaW5nKCkpKSk7DQoNCiAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgcmV0dXJuIGNvbnRhaW5lci5maW5kKCIucGFnZS1pdGVtLWRldGFpbCIpLm1hcCh4ID0+IHsNCiAgICAgICAgICAgIHJldHVyb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iBuZXcgTGlnaHRJdGVtKA0KICAgICAgICAgICAgICAgIHguc2VsZWN0KCJpbWciKS5hdHRyKCJzcmMgfCBzcmNzZXQiKS51cmwoK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SwNCiAgICAgICAgICAgICAgICB4LnNlbGVjdCgiLnBvc3QtdGl0bGUgYSIpLnRleHQoKSwNCiAgICAgICAgICAgICAgICAiIiwNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICAgICAgICAgICAgICB4LnNlbGVjdCgiLnBvc3QtdGl0bGUgYSIpLmF0dHIoImhyZWYiKS51cmwoKSwNCiAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICByZXR1cm5PYmplY3QubmFtZSwNCiAgICAgICAgICAgICAgICByZXR1cm5PYmplY3QuZ2V0VHlwZSh4LnNlbGVjdCgiLnBvc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543QtdGl0bGUgYSIpLmF0dHIoImhyZWYiKS51cmwoKSkNCiAgICAgICAgICAgICkNCiAgICAgICAgfSkNCiAgICB9DQoNCg0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HJldHVybiByZXR1cm5PYmplY3Q7DQp9Ow=&K002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIpID0+I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HsNCiAgICBjb25zdCByZXR1cm5PYmplY3QgPSB7fTsNCiAgICByZXR1cm5PYmplY3QuaWQgPSAiMS56aW5ub3ZlbCI7DQogICAgc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mV0dXJuT2JqZWN0LmRldGFsaUl0ZW1UeXBlID0gRGV0YWxpSXRlbVR5cGUuTm92ZWw7DQogICAgcmV0dXJuT2JqZWN0LnBhcnNlc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654kxhbmd1YWdlID0gImVuIjsNCiAgICByZXR1cm5PYmplY3QubmFtZSA9ICdaaW5Ob3ZlbCc7DQogICAgcmV0dXJuT2JqZWN0LmRpc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543BsYXlOYW1lID0gIlotTm92ZWwiOw0KICAgIHJldHVybk9iamVjdC5sYXRlc3RVcmwgPSAnaHR0cHM6Ly96aW5ub3ZlbC5jb20vc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GFnZS97cH0vJzsNCiAgICByZXR1cm5PYmplY3QudXJsID0gJ2h0dHBzOi8vemlubm92ZWwuY29tLyc7DQogICAgcmV0dXJuT2JqZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WN0LnNlYXJjaFVybCA9ICcnOw0KICAgIHJldHVybk9iamVjdC5wYW5pbmF0aW9uID0gdHJ1ZTsNCiAgICByZXR1cm5PYmplY3Quc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542VhcmNoUGFnaW5hdGlvbiA9IGZhbHNlOw0KICAgIHJldHVybk9iamVjdC5pY29uID0gJ2h0dHBzOi8vemlubm92ZWwuY29tL3dwL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WNvbnRlbnQvdXBsb2Fkcy8yMDIwLzA3L2Nyb3BwZWQtVW50aXRsZWQtMi0zMngzMi5qcGcnOw0KICAgIHJldHVybk9iamVjdC5wY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJzZXJTZWFyY2hTZXR0aW5ncyA9IG5ldyBQYXJzZXJTZWFyY2hTZXR0aW5ncygpOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WFyY2hTZXR0aW5ncy5nZW5yZXMgPSB7DQogICAgICAgIG11bHRpU2VsZWN0aW9uOiB0cnVlLA0KICAgICAgICB2YWx1ZXM6IFtdL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654A0KICAgIH07DQoNCg0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5zb3J0VHlwZXMgPSB7DQogICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654G11bHRpU2VsZWN0aW9uOiB0cnVlLA0KICAgICAgICB2YWx1ZXM6IFsNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdPbmdva002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W5nJywgJ29uLWdvaW5nJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnQ29tcGxldGVkIE5vdmVsJywgJ2VuZCcpLA0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICBdLA0KICAgIH07DQoNCg0KICAgIHJldHVybk9iamVjdC5sb2FkU2V0dGluZ3MgPSBhc3luYyAoKSA9PiB7DQogICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIHRyeSB7DQogICAgICAgICAgICBpZiAocmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLmdlbnJlcy52YWx1ZXMub002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GVuZ3RoIDw9IDApIHsNCiAgICAgICAgICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2Fpd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CBIdHRwQ2xpZW50LmdldEh0bWwoImh0dHBzOi8vemlubm92ZWwuY29tLz9zPSZwb3N0X3R5cGU9d3AtbWFuZ2EiKSkNCiAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICBjb250YWluZXIuZmluZCgiI3NlYXJjaC1hZHZhbmNlZCAuY2hlY2tib3gtZ3JvdXAgLmNoZWNrYm94IikuZm9yR002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WFjaChhID0+IHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLmdlbnJlcy52Y002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Wx1ZXMucHVzaChuZXcgbGFiZWxWYWx1ZShhLmZpbmQoImxhYmVsIikudGV4dCgpLCBhLmZpbmQoImlucHV0IikuYXR0cigidmFsd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WUiKS50ZXh0KCkpKTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBjYXRjaCAoZSkgew0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgY29uc29sZS5sb2coKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5nZXRTZWN0aW9uc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654yA9IChrZXlzKSA9PiB7DQogICAgICAgIHZhciBzZWN0aW9ucyA9IFsNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJsYXRlc3QiL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAiTGF0ZXN0IFVwZGF0ZSIsICJMYXRlc3QiLCB0cnVlKSwNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJhY3Rpb24iLCAiQWN0a002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W9uIE5vdmVsIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKFsiYWN0aW9uIl0pKSwNCiAgICAgICAgICAgIG5ldyBTZWN0a002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W9uKCJyb21hbmNlIiwgIlJvbWFuY2UgTm92ZWwiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIoWyJyb21hbmNlIl0pKSwNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJvbmdvaW5nIiwgIk9uZ29pbmcgTm92ZWwiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGa002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Wx0ZXIodW5kZWZpbmVkLCAiZW5kIikpLA0KICAgICAgICAgICAgbmV3IFNlY3Rpb24oImNvbXBsZXRlZCIsICJDb21wbGV0ZWQgT002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654m92ZWwiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIodW5kZWZpbmVkLCAiZW5kIikpDQoNCiAgICAgICAgXQ0KDQogICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIHJldHVybiBzZWN0aW9ucy5maWx0ZXIoeCA9PiAha2V5cyB8fCBrZXlzLmluY2x1ZGVzKHgubmFtZSkpOw0KICAgIH0NCg0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIHRyYW5zbGF0ZVNlY3Rpb24gPSBhc3luYyAoc2VjdGlvbiwgcGFnZSkgPT4gew0KICAgICAgICBpZiAoc2VjdGlvbi5pZGVud002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GlmaWVyID09ICJMYXRlc3QiKQ0KICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHJldHVybk9iamVjdC5sYXRlc3QocGFnZSk7DQogI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgIGVsc2UNCiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZXR1cm5PYmplY3Quc2VhcmNoKHNlY3Rpb24uZmlsdGVyIHx8I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyKCksIHBhZ2UpOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5kZWZhdWx0Rmlsd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GVyID0gKCkgPT4gew0KICAgICAgICB2YXIgZmlsdGVyID0gbmV3IEZpbHRlcigpOw0KICAgICAgICByZXR1cm4gZmlsdGVyOw0KI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgIH0NCiAgICAvL2h0dHBzOi8vemlubm92ZWwuY29tLz9zPXtzfSZwb3N0X3R5cGU9d3AtbWFuZ2EmZ2VucmUlNUIlNUQ9YWN0a002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W9uJmdlbnJlJTVCJTVEPWFkdmVudHVyZSZvcD0mYXV0aG9yPSZhcnRpc3Q9JnJlbGVhc2U9JmFkdWx0PSZzdGF0dXMlNUIlNUQ9Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654W5kJnN0YXR1cyU1QiU1RD1vbi1nb2luZw0KICAgIHJldHVybk9iamVjdC5zZWFyY2ggPSBhc3luYyAoZmlsdGVyLCBwYWdlKSA9P002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iB7DQogICAgICAgIHZhciB1cmwgPSAiaHR0cHM6Ly96aW5ub3ZlbC5jb20vP3M9IiArKGZpbHRlci50aXRsZSB8fCAiIikrIiZwb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543N0X3R5cGU9d3AtbWFuZ2Eme2dlbnJlfSZvcD0mYXV0aG9yPSZhcnRpc3Q9JnJlbGVhc2U9JmFkdWx0PSZ7c3RhdHVzfSINCiAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgaWYgKGZpbHRlci5nZW5yZXMubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoIntnZW5yZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654X0iLCBmaWx0ZXIuZ2VucmVzLm1hcCh4ID0+ICJnZW5yZSU1QiU1RD0iK3gpLmpvaW4oIiYiKSk7DQogICAgICAgIH0gZWxzZSB1c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mwgPSB1cmwucmVwbGFjZSgiJntnZW5yZX0iLCAiIik7DQoNCiAgICAgICAgaWYgKGZpbHRlci5zb3J0VHlwZSAmJiBmaWx0ZXIuc002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd65429ydFR5cGUubGVuZ3RoID4gMSkNCiAgICAgICAgICAgIHVybCA9IHVybC5yZXBsYWNlKCJ7c3RhdHVzfSIsICJzdGF0dXMlNUIlN002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654UQ9IiArZmlsdGVyLnNvcnRUeXBlKTsNCiAgICAgICAgZWxzZSB1cmwgPSB1cmwucmVwbGFjZSgiJntzdGF0dXN9IiwgIiIpOw0KD002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QogICAgICAgIHZhciBjb250YWluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbCh1c002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mwpKTsNCiAgICAgICAgdmFyIHJlc3VsdCA9IFtdDQogICAgICAgIGNvbnRhaW5lci5maW5kKCcuYy10YWJzLWl0ZW0gLnJvdycpL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mZvckVhY2goKHgpID0+IHsNCiAgICAgICAgICAgIHJlc3VsdC5wdXNoKA0KICAgICAgICAgICAgICAgIG5ldyBMaWdodEl0ZW0oe002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654C5maW5kKCJpbWciKS5hdHRyKCJkYXRhLXNyYyIpLnVybCgpLA0KICAgICAgICAgICAgICAgICAgICB4LnNlbGVjdCgnLnBvc3Qtd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Gl0bGUgYScpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgICAgICAgICAnJywNCiAgICAgICAgICAgICAgICAgICAgeC5zZWxlY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543QoJy5wb3N0LXRpdGxlIGEnKS5hdHRyKCJocmVmIikudXJsKCksIHJldHVybk9iamVjdC5uYW1lDQogICAgICAgICAgICAgICAgK002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654SwNCiAgICAgICAgICAgICk7DQogICAgICAgIH0pOw0KDQogICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgfQ0KDQoNCg0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HJldHVybk9iamVjdC5nZXROb3ZlbCA9IGFzeW5jIChub3ZlbFVybCkgPT4gew0KICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0d002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwobm92ZWxVcmwpKTsNCiAgICAgICAgdmFyIGNoYXB0Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XJzID0gY29udGFpbmVyLmZpbmQoIi5saXN0aW5nLWNoYXB0ZXJzX3dyYXAgbGkgYSIpLm1hcCh4ID0+IG5ldyBDaGFwdGVyKHgud002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GV4dChmYWxzZSksIHguYXR0cigiaHJlZiIpLnVybCgpKSkucmV2ZXJzZSgpDQogICAgICAgIHZhciBub3ZlbFJldmlld3MgPSBuZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XcgTm92ZWxSZXZpZXdzKCk7DQoNCiAgICAgICAgbm92ZWxSZXZpZXdzLmdlbnJlcyA9IGNvbnRhaW5lci5maW5kKCIuZ2VucmVzL002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WNvbnRlbnQgYSIpLm1hcCh4ID0+IHgudGV4dChmYWxzZSkpOw0KICAgICAgICBub3ZlbFJldmlld3MuYXV0aG9yID0gY29udGFpb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVyLmZpbmQoIi5hdXRob3ItY29udGVudCBhIikubWFwKHggPT4geC50ZXh0KGZhbHNlKSkuam9pbigiLCAiKTsNCiAgICAgICAgb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654m92ZWxSZXZpZXdzLnV2b3RlcyA9IGNvbnRhaW5lci5zZWxlY3QoIi5wb3N0LXJhdGluZyAudG90YWxfdm90ZXMiKS50ZXh0KGZhb002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HNlKSArICIgLyA1IjsNCiAgICAgICAgbm92ZWxSZXZpZXdzLmNvbXBsZXRlZCA9IGNvbnRhaW5lci5zZWxlY3QoIi5wb3N0LXN0Y002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XR1cyAucG9zdC1jb250ZW50X2l0ZW0gLnN1bW1hcnktY29udGVudCIpLnRleHQoZmFsc2UpID09PSAiQ29tcGxldGVkIiA/ICJTd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GF0dXM6Q29tcGxldGVkIiA6ICJTdGF0dXM6T25nb2luZyI7DQoNCiAgICAgICAgcmV0dXJuIG5ldyBEZXRhbGlJdGVtKA0KICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgY29udGFpbmVyLnNlbGVjdCgnLnN1bW1hcnlfaW1hZ2UgaW1nJykuYXR0cigiZGF0YS1zcmMiKS51cmwoKSwNCiAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoJy5wb3N0LXRpdGxlJykudGV4dChmYWxzZSksDQogICAgICAgICAgICBjb250YWluZ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654XIuc2VsZWN0KCcuZGVzY3JpcHRpb24tc3VtbWFyeScpLmNsZWFuSW5uZXJIVE1MKCksDQogICAgICAgICAgICBub3ZlbFVybCwNC002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654iAgICAgICAgICAgIGNoYXB0ZXJzLA0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLA0KICAgICAgICAgICAgcmV0dXJuT2JqZWN0L002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654m5hbWUsDQogICAgICAgICAgICB1bmRlZmluZWQsDQogICAgICAgICk7DQogICAgfQ0KDQoNCiAgICByZXR1cm5PYmplY3QuZ2V0Q002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6542hhcHRlciA9IGFzeW5jICh1cmwpID0+IHsNCiAgICAgICAgcmV0dXJuIHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgbmV3I002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654GNsaWVudCgpLmdldEh0bWwodXJsKSkuc2VsZWN0KCcucmVhZGluZy1jb250ZW50JykuY2xlYW5Jbm5lckhUTUwoKTsNCiAgICB9D002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654QoNCiAgICByZXR1cm5PYmplY3QubGF0ZXN0ID0gYXN5bmMgKHBhZ2UpID0+IHsNCiAgICAgICAgdmFyIHVybCA9IHJldHVybk9ia002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654mVjdC5sYXRlc3RVcmwucmVwbGFjZSgne3B9JywgcGFnZS50b1N0cmluZygpKTsNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJld002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKHVybCkpOw0KICAgICAgICB2YXIgcmVzdWx0ID0gW002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654107DQogICAgICAgIGNvbnRhaW5lci5maW5kKCcucGFnZS1jb250ZW50LWxpc3RpbmcgLnBhZ2UtaXRlbS1kZXRhaWwnKS5mb3JFY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654WNoKCh4KSA9PiB7DQogICAgICAgICAgICBpZiAoeC5zZWxlY3QoJ2ltZycpLmF0dHIoInNyYyIpLmhhc1ZhbHVlKCkpDQogICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CAgICAgICAgICAgcmVzdWx0LnB1c2goDQogICAgICAgICAgICAgICAgICAgIG5ldyBMaWdodEl0ZW0oeC5maW5kKCJpbWciKS5hd002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654HRyKCJkYXRhLXNyYyIpLnVybCgpLA0KICAgICAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoJy5wb3N0LXRpdGxlIGEnKS50Z002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654Xh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICcnLA0KICAgICAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoJ002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654y5wb3N0LXRpdGxlIGEnKS5hdHRyKCJocmVmIikudXJsKCksIHJldHVybk9iamVjdC5uYW1lDQogICAgICAgICAgICAgICAgICAgI002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd654CkpOw0KICAgICAgICB9KTsNCg0KICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0NCg0KICAgIHJldHVybiByZXR1cm5PYmplY002254657897654654asd6546549879a8d5646a7sd987a54d54132134a96sd8798as7d63541654asd6543Q7DQp9Ow=