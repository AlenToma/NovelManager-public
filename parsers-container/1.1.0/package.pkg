KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCkgPT4gew0KICAgIHJldHVybiB7DQogICAgICAgIG5hbWU6ICJpbmNsdWRlZFBhcnNlcnMiLCBkYXRhOiBbDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB7DQogICAgICAgICAgICAgICAgImZpbGUiOiAiUmVhZE5vdmVsRnVsbCIsDQogICAgICAgICAgICAgICAgImRlYnVnTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU025seSI6IGZhbHNlDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICJmaWxlIjogIld1eGlhdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029ybGQiLA0KICAgICAgICAgICAgICAgICJkZWJ1Z09ubHkiOiBmYWxzZQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICAiZmlsZSI6ICJNYW5nYW5FbG8iLA0KICAgICAgICAgICAgICAgICJkZWJ1Z09ubHkiOiBmYWxzZQ0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAiZmlsZSI6ICJOb3ZlbEZ1bGwiLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICJkZWJ1Z09ubHkiOiBmYWxzZQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAiZmlsZSI6ICJCb3hOb3ZlbCIsDQogICAgICAgICAgICAgICAgImRlYnVnT25seSI6IGZhbHNlDQogICAgICAgICAgICB9LA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICJmaWxlIjogIlctTVRMIiwNCiAgICAgICAgICAgICAgICAiZGVidWdPbmx5IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0jogZmFsc2UNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgImZpbGUiOiAiQWxsTm92ZWwiLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgICAgICJkZWJ1Z09ubHkiOiBmYWxzZQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAiZmlsZSI6ICJDb21yYWRlbWFvIiwNCiAgICAgICAgICAgICAgICAiZGVidWdPbmx5IjogZmFsc2UNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgImZpbGUiOiAiTGlnaHROb3ZlbFB1YiIsDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgImRlYnVnT25seSI6IGZhbHNlDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJmaWxlIjogIk5vdmVsT25saW5lRnVsbCIsDQogICAgICAgICAgICAgICAgImRlYnVnT25seSI6IGZhbHNlDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICJmaWxlIjogIlJlYWRMaWdodE5vdmVsIiwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAiZGVidWdPbmx5IjogdHJ1ZQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAiZmlsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SI6ICJSb3lhbFJvYWQiLA0KICAgICAgICAgICAgICAgICJkZWJ1Z09ubHkiOiBmYWxzZQ0KICAgICAgICAgICAgfSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHsNCiAgICAgICAgICAgICAgICAiZmlsZSI6ICJOb3ZlbEhhbGwiLA0KICAgICAgICAgICAgICAgICJkZWJ1Z09ubHkiOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iBmYWxzZQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAiZmlsZSI6ICJTY3JpYmJsZUh1YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iIsDQogICAgICAgICAgICAgICAgImRlYnVnT25seSI6IGZhbHNlDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICJmaWxlIjogIlppbk5vdmVsIiwNCiAgICAgICAgICAgICAgICAiZGVidWdPbmx5IjogZmFsc2UNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgImZpbGUiOiAiVGFwUmVhZCIsDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgImRlYnVnT25seSI6IGZhbHNlDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICJmaWxlIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0jogIk10bE5vdmVsIiwNCiAgICAgICAgICAgICAgICAiZGVidWdPbmx5IjogdHJ1ZQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHsNCiAgICAgICAgICAgICAgICAiZmlsZSI6ICJLb2xOb3ZlbCIsDQogICAgICAgICAgICAgICAgImRlYnVnT25seSI6IHRydMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgImZpbGUiOiAiV3V4aWF3b3JsZC5TaXRlIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iwNCiAgICAgICAgICAgICAgICAiZGVidWdPbmx5IjogdHJ1ZQ0KICAgICAgICAgICAgfQ0KICAgICAgICBdDQogICAgfQ0KfQ==&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50KSA9PiB7DQogICAgdmFyIHJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybk9iamVjdCA9IHt9Ow0KICAgIHJldHVybk9iamVjdC5pZCA9ICIxLmFsbG5vdmVsIjsNCiAgICByZXR1cm5PYmplY3QuZGV0YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxpSXRlbVR5cGUgPSBEZXRhbGlJdGVtVHlwZS5Ob3ZlbDsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyTGFuZ3VhZ2UgPSAiZW4iOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgIHJldHVybk9iamVjdC5uYW1lID0gJ0FsbE5vdmVsJzsNCiAgICByZXR1cm5PYmplY3QuZGlzcGxheU5hbWUgPSByZXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m5PYmplY3QubmFtZTsNCiAgICByZXR1cm5PYmplY3QubGF0ZXN0VXJsID0gJ2h0dHBzOi8vYWxsbm92ZWwubmV0Lyc7DQogICAgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuT2JqZWN0LnVybCA9ICdodHRwczovL2FsbG5vdmVsLm5ldC8nOw0KICAgIHJldHVybk9iamVjdC5zZWFyY2hVcmwgPSAnaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HR0cHM6Ly9hbGxub3ZlbC5uZXQvc2VhcmNoLnBocD9rZXl3b3JkPXtxfSc7DQogICAgcmV0dXJuT2JqZWN0LnBhbmluYXRpb24gPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SBmYWxzZTsNCiAgICByZXR1cm5PYmplY3Quc2VhcmNoUGFnaW5hdGlvbiA9IHRydWU7DQogICAgcmV0dXJuT2JqZWN0Lmljb24gPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SAnaHR0cHM6Ly9hbGxub3ZlbC5uZXQvbWVkaWEvZmF2aWNvbi5wbmcnOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR0aW5ncyA9IG5ldyBQYXJzZXJTZWFyY2hTZXR0aW5ncygpOw0KDQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mdzLmdlbnJlcyA9IHsNCiAgICAgICAgbXVsdGlTZWxlY3Rpb246IGZhbHNlLA0KICAgICAgICB2YWx1ZXM6IFsNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCJSb21hbmNlIiwgInJvbWFuY2UuaHRtbD9wYWdlPXtwfSIpLA0KICAgICAgICAgICAgbmV3IGxhYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsVmFsdWUoIkFkdmVudHVyZSIsICJhZHZlbnR1cmUuaHRtbD9wYWdlPXtwfSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUoIlRocmlsbGVyIiwgInRocmlsbGVyLmh0bWw/cGFnZT17cH0iKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJGYW50YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XN5IiwgImZhbnRhc3kuaHRtbD9wYWdlPXtwfSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIllvdW5nIEFkdWx0IiwgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nlvdW5nLWFkdWx0Lmh0bWw/cGFnZT17cH0iKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJNeXN0ZXJ5IiwgIm15c3RlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nkuaHRtbD9wYWdlPXtwfSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkhpc3RvcmljYWwiLCAiaGlzdG9yaWNhbC5odMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G1sP3BhZ2U9e3B9IiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiSG9ycm9yIiwgImhvcnJvci5odG1sP3BhZ2U9e3B9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2NpZW5jZSBGaWN0aW9uIiwgInNjaWVuY2UtZmljdGlvbi5odG1sP3BhZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02U9e3B9IiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiSHVtb3JvdXMiLCAiaHVtb3JvdXMuaHRtbD9wYWdlPXtwfSIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkNocmlzdGlhbiIsICJjaHJpc3RpYW4uaHRtbD9wYWdlPXtwfSIpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbmV3IGxhYmVsVmFsdWUoIldlc3Rlcm4iLCAid2VzdGVybi5odG1sP3BhZ2U9e3B9IikNCiAgICAgICAgXQ0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0H0NCiAgICByZXR1cm5PYmplY3QuZ2V0U2VjdGlvbnMgPSAoa2V5cykgPT4gew0KICAgICAgICB2YXIgc2VjdGlvbnMgPSBbDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgU2VjdGlvbigibGF0ZXN0IiwgIkxhdGVzdCBVcGRhdGUiLCAiTGF0ZXN0IiwgdHJ1ZSksDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBuZXcgU2VjdGlvbigicm9tYW5jZSIsICJSb21hbmNlIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKFsicm9tYW5jZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S5odG1sP3BhZ2U9e3B9Il0pKSwNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJ5b3VuZy1hZHVsdCIsICJZb3VuZyBBZHVsdCIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcihbInlvdW5nLWFkdWx0Lmh0bWw/cGFnZT17cH0iXSkpLA0KICAgICAgICBdDQoNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgcmV0dXJuIHNlY3Rpb25zLmZpbHRlcih4ID0+ICFrZXlzIHx8IGtleXMuaW5jbHVkZXMoeC5uYW1lKSk7DQogICAgfMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Q0KDQogICAgcmV0dXJuT2JqZWN0LnRyYW5zbGF0ZVNlY3Rpb24gPSBhc3luYyAoc2VjdGlvbiwgcGFnZSkgPT4gew0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBpZiAoc2VjdGlvbi5pZGVudGlmaWVyID09ICJMYXRlc3QiKQ0KICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHJldHVybk9iamVjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5sYXRlc3QocGFnZSk7DQogICAgICAgIGVsc2UNCiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZXR1cm5PYmplY3Quc2VhcmNoKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HNlY3Rpb24uZmlsdGVyIHx8IHJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyKCksIHBhZ2UpOw0KICAgIH0NCg0KICAgIHJldHVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0k9iamVjdC5kZWZhdWx0RmlsdGVyID0gKCkgPT4gew0KICAgICAgICB2YXIgZmlsdGVyID0gbmV3IEZpbHRlcigpOw0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CByZXR1cm4gZmlsdGVyOw0KICAgIH07DQoNCiAgICByZXR1cm5PYmplY3Quc2VhcmNoID0gYXN5bmMgKGZpbHRlciwgcGFnZSkgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0T4gew0KICAgICAgICBpZiAoIWZpbHRlci50aXRsZSkNCiAgICAgICAgICAgIGZpbHRlci50aXRsZSA9ICIiOw0KICAgICAgICBpZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAoZmlsdGVyLmdlbnJlcy5sZW5ndGggPD0gMCAmJiBmaWx0ZXIudGl0bGUgPT0gIiIpDQogICAgICAgICAgICByZXR1cm4gW107DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIHZhciB1cmwgPSBmaWx0ZXIuZ2VucmVzLmxlbmd0aCA+IDAgPyBmaWx0ZXIuZ2VucmVzWzBdLnRvU3RyaW5nKCkudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJpKHJldHVybk9iamVjdC51cmwpLnJlcGxhY2UoIntwfSIsIHBhZ2UpIDogcmV0dXJuT2JqZWN0LnNlYXJjaFVybC5yZXBsYWNlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJ7cX0iLCBmaWx0ZXIudGl0bGUpOw0KICAgICAgICB2YXIgcmVzdWx0ID0gW10NCiAgICAgICAgcmV0dXJuT2JqZWN0LnBhcnNlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwodXJsKSkuZmluZCgiLmxpc3Qtbm92ZWwgYSIpLmZvckVhY2goeCA9PiB7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICByZXN1bHQucHVzaChuZXcgTGlnaHRJdGVtKA0KICAgICAgICAgICAgICAgIHguc2VsZWN0KCJpbWciKS5hdHRyKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJzcmMiKS51cmwoKSwNCiAgICAgICAgICAgICAgICB4LnNlbGVjdCgiLnRpdGxlLWhvbWUtbm92ZWwiKS50ZXh0KCksDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIiIsDQogICAgICAgICAgICAgICAgeC5hdHRyKCJocmVmIikudXJsKCksDQogICAgICAgICAgICAgICAgcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuT2JqZWN0Lm5hbWUpKTsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICB9DQoNCiAgICByZXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m5PYmplY3QuZ2V0Tm92ZWwgPSBhc3luYyAobm92ZWxVcmwpID0+IHsNCg0KICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwobm92ZWxVcmwpKTsNCiAgICAgICAgdmFyIGNoYXB0ZXJzIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0gY29udGFpbmVyLmZpbmQoIi5saXN0LXBhZ2Utbm92ZWwgYSIpLm1hcCh4ID0+IG5ldyBDaGFwdGVyKHgudGV4dChmYWxzZSksIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HguYXR0cigiaHJlZiIpLnVybCgpKSk7DQogICAgICAgIHZhciBub3ZlbFJldmlld3MgPSBuZXcgTm92ZWxSZXZpZXdzKCk7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHZhciBpbmZvID0gY29udGFpbmVyLmZpbmQoIi5saXN0LWluZm8iKTsNCiAgICAgICAgbm92ZWxSZXZpZXdzLmdlbnJlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yA9IGluZm8uZXEoMSkuZmluZCgiYSIpLnRleHRBcnJheSgpOw0KICAgICAgICBub3ZlbFJldmlld3MuYXV0aG9yID0gaW5mby5lcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgwKS5zZWxlY3QoImEiKS50ZXh0KGZhbHNlKTsNCiAgICAgICAgbm92ZWxSZXZpZXdzLnV2b3RlcyA9IGluZm8uZXEoMikuc2VsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0KCJzcGFuIikuaGFzRWxlbWVudCgpID8gaW5mby5lcSgyKS5zZWxlY3QoInNwYW4iKS50ZXh0KGZhbHNlKSArICIgVmlld3MiIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0DogIiI7DQogICAgICAgIHJldHVybiBuZXcgRGV0YWxpSXRlbSgNCiAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoIi5yb3cgaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W1nIikuYXR0cigic3JjIikudXJsKCksDQogICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCIuZGV0YWlsLW5vdmVsIGgxIikudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GV4dChmYWxzZSksDQogICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCIuZGVzLW5vdmVsIikuY2xlYW5Jbm5lckhUTUwoKSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIG5vdmVsVXJsLA0KICAgICAgICAgICAgY2hhcHRlcnMsDQogICAgICAgICAgICBub3ZlbFJldmlld3MsDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICByZXR1cm5PYmplY3QubmFtZSwNCiAgICAgICAgICAgIHVuZGVmaW5lZCwNCiAgICAgICAgKTsNCiAgICB9DQoNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICByZXR1cm5PYmplY3QuZ2V0Q2hhcHRlciA9IGFzeW5jICh1cmwpID0+IHsNCiAgICAgICAgcmV0dXJuIHJldHVybk9iamVjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5wYXJzZXIuanEoYXdhaXQgbmV3IGNsaWVudCgpLmdldEh0bWwodXJsKSkucmVtb3ZlKCIuYWQtY29udGFpbmVyIikuc2VsZWN0KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIuY29udGVudF9ub3ZlbCIpLmNsZWFuSW5uZXJIVE1MKCk7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmxhdGVzdCA9IGFzeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5jIChwYWdlKSA9PiB7DQogICAgICAgIHZhciB1cmwgPSByZXR1cm5PYmplY3QubGF0ZXN0VXJsLnJlcGxhY2UoIntwfSIsIHBhZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02UudG9TdHJpbmcoKSk7DQogICAgICAgIHZhciBjb250YWluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GllbnQuZ2V0SHRtbCh1cmwpKTsNCiAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICBjb250YWluZXIuZmluZCgiLmxpcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03Qtbm92ZWwgYSIpLmZvckVhY2goeCA9PiB7DQogICAgICAgICAgICByZXN1bHQucHVzaChuZXcgTGlnaHRJdGVtKA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIHguc2VsZWN0KCJpbWciKS5hdHRyKCJzcmMiKS51cmwoKSwNCiAgICAgICAgICAgICAgICB4LnNlbGVjdCgiLnRpdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxlLWhvbWUtbm92ZWwiKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgICAiIiwNCiAgICAgICAgICAgICAgICB4LmF0dHIoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mhyZWYiKS51cmwoKSwNCiAgICAgICAgICAgICAgICByZXR1cm5PYmplY3QubmFtZSkpOw0KICAgICAgICB9KTsNCg0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CByZXR1cm4gcmVzdWx0Ow0KICAgIH0NCg0KICAgIHJldHVybiByZXR1cm5PYmplY3Q7DQp9Ow==&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIpID0+IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HsNCiAgICBjb25zdCByZXR1cm5PYmplY3QgPSB7fTsNCiAgICByZXR1cm5PYmplY3QuaWQgPSAiMS5ib3hub3ZlbCI7DQogICAgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuT2JqZWN0LnBhcnNlckxhbmd1YWdlID0gImVuIjsNCiAgICByZXR1cm5PYmplY3QubmFtZSA9ICdCb3hOb3ZlbCc7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgcmV0dXJuT2JqZWN0LmRpc3BsYXlOYW1lID0gcmV0dXJuT2JqZWN0Lm5hbWU7DQogICAgcmV0dXJuT2JqZWN0LmRldGFsaUl0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W1UeXBlID0gRGV0YWxpSXRlbVR5cGUuTm92ZWw7DQogICAgcmV0dXJuT2JqZWN0LmxhdGVzdFVybCA9ICdodHRwczovL2JveG5vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsLmNvbS9wYWdlL3twfSc7DQogICAgcmV0dXJuT2JqZWN0LnVybCA9ICdodHRwczovL2JveG5vdmVsLmNvbSc7DQogICAgcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuT2JqZWN0LnNlYXJjaFVybCA9ICcnOw0KICAgIHJldHVybk9iamVjdC5wYW5pbmF0aW9uID0gdHJ1ZTsNCiAgICByZXR1cm5PYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mplY3Quc2VhcmNoUGFnaW5hdGlvbiA9IHRydWU7DQogICAgcmV0dXJuT2JqZWN0Lmljb24gPSAnaHR0cHM6Ly9ib3hub3ZlbC5jbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU020vd3AtY29udGVudC91cGxvYWRzLzIwMTgvMDQvYm94LWljb24tMTUweDE1MC5wbmcnOw0KICAgIHJldHVybk9iamVjdC5wYXJzZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJTZWFyY2hTZXR0aW5ncyA9IG5ldyBQYXJzZXJTZWFyY2hTZXR0aW5ncygpOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02hTZXR0aW5ncy5nZW5yZXMgPSB7DQogICAgICAgIG11bHRpU2VsZWN0aW9uOiB0cnVlLA0KICAgICAgICB2YWx1ZXM6IFsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgXSwNCiAgICB9Ow0KDQogICAgcmV0dXJuT2JqZWN0LmxvYWRTZXR0aW5ncyA9IGFzeW5jICgpID0+IHsNCiAgICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKCJodHRwczovL2JveMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5vdmVsLmNvbS8/cz0mcG9zdF90eXBlPXdwLW1hbmdhIikpOw0KICAgICAgICBjb250YWluZXIuZmluZCgiLmNoZWNrYm94LWdybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03VwIC5jaGVja2JveCIpLmZvckVhY2goeCA9PiB7DQogICAgICAgICAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03MuZ2VucmVzLnZhbHVlcy5wdXNoKG5ldyBsYWJlbFZhbHVlKHguc2VsZWN0KCJsYWJlbCIpLnRleHQoKSwgeC5zZWxlY3QoImlucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HV0IikuYXR0cigidmFsdWUiKS50ZXh0KCkpKTsNCiAgICAgICAgfSkNCiAgICB9DQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJjaFNldHRpbmdzLnNvcnRUeXBlcyA9IHsNCiAgICAgICAgbXVsdGlTZWxlY3Rpb246IGZhbHNlLA0KICAgICAgICB2YWx1ZXM6IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FsNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdMYXRlc3QgUmVsZWFzZSBOb3ZlbCcsICdsYXRlc3QnKSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCdSZWxldmFuY2UnLCAnJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnUmF0aW5nJywgJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03JhdGluZycpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1RyZW5kaW5nJywgJ3RyZW5kaW5nJyksDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBuZXcgbGFiZWxWYWx1ZSgnTW9zdCBWaWV3cycsICd2aWV3cycpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ05ldycsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CduZXctbWFuZ2EnKSwNCiAgICAgICAgXSwNCiAgICB9Ow0KICAgIHJldHVybk9iamVjdC5nZXRTZWN0aW9ucyA9IChrZXlzKSA9PMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iB7DQogICAgICAgIHZhciBzZWN0aW9ucyA9IFsNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJsYXRlc3QiLCAiTGF0ZXN0IFVwZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF0ZSIsICJMYXRlc3QiLCB0cnVlKSwNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJuZXciLCAiTmV3IE5vdmVscyIsICJTZWFyYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsICJuZXctbWFuZ2EiKSksDQogICAgICAgICAgICBuZXcgU2VjdGlvbigiTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W9zdCBWaWV3cyIsICJNb3N0IFZpZXdzIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKHVuZGVmaW5lZCwgInZpZXdzIikpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICBdDQogICAgICAgIHJldHVybiBzZWN0aW9ucy5maWx0ZXIoeCA9PiAha2V5cyB8fCBrZXlzLmluY2x1ZGVzKHgubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFtZSkpOw0KICAgIH0NCiAgICByZXR1cm5PYmplY3QudHJhbnNsYXRlU2VjdGlvbiA9IGFzeW5jIChzZWN0aW9uLCBwYWdlKSA9PMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iB7DQogICAgICAgIGlmIChzZWN0aW9uLmlkZW50aWZpZXIgPT0gIkxhdGVzdCIpIHJldHVybiBhd2FpdCByZXR1cm5PYmplY3QubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF0ZXN0KHBhZ2UpOw0KICAgICAgICBlbHNlIHJldHVybiBhd2FpdCByZXR1cm5PYmplY3Quc2VhcmNoKHNlY3Rpb24uZmlsdGVyIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Hx8IHJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyKCksIHBhZ2UpOw0KICAgIH0NCiAgICByZXR1cm5PYmplY3QuZGVmYXVsdEZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlciA9ICgpID0+IHsNCiAgICAgICAgdmFyIGZpbHRlciA9IG5ldyBGaWx0ZXIoKTsNCiAgICAgICAgcmV0dXJuIGZpbHRlcjsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICB9Ow0KDQogICAgLy9odHRwczovL2JveG5vdmVsLmNvbS9wYWdlLzIvP3MmcG9zdF90eXBlPXdwLW1hbmdhJmdlbnJlJTVCMMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CU1RD1hY3Rpb24mZ2VucmUlNUIxJTVEPWFkdmVudHVyZSZvcCZhdXRob3ImYXJ0aXN0JnJlbGVhc2UmYWR1bHQmbV9vcmRlcmJ5PMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxhdGVzdA0KICAgIHJldHVybk9iamVjdC5zZWFyY2ggPSBhc3luYyAoZmlsdGVyLCBwYWdlKSA9PiB7DQogICAgICAgIHZhciB1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mwgPSBgaHR0cHM6Ly9ib3hub3ZlbC5jb20vcGFnZS8ke3BhZ2V9Lz9zPSR7ZmlsdGVyLnRpdGxlIHx8ICIifSZwb3N0X3R5cGU9dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03AtbWFuZ2Eme2dlbnJlfSZvcCZhdXRob3ImYXJ0aXN0JnJlbGVhc2UmYWR1bHQmbV9vcmRlcmJ5PSR7ZmlsdGVyLnNvcnRUeXBlIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Hx8ICIifWANCiAgICAgICAgaWYgKGZpbHRlci5nZW5yZXMgJiYgZmlsdGVyLmdlbnJlcy5sZW5ndGggPiAwKSB7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB1cmwgPSB1cmwucmVwbGFjZSgie2dlbnJlfSIsIGZpbHRlci5nZW5yZXMubWFwKHggPT4gImdlbnJlJTVCMCU1RD0iICsgeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ckuam9pbigiJiIpKQ0KICAgICAgICB9IGVsc2UgdXJsID0gdXJsLnJlcGxhY2UoIiZ7Z2VucmV9IiwgIiIpDQogICAgICAgIHZhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iBjb250YWluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbCh1cmwpKTsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICBjb250YWluZXIuZmluZCgnLnRhYi1jb250ZW50LXdyYXAgLmMtdGFicy1pdGVtIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C50YWItdGh1bWIgYScpLmZvckVhY2goKHgpID0+IHsNCiAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBMaWdodEl0ZW0oeC5zZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxlY3QoJ2ltZycpLmF0dHIoInNyYyIpLnVybCgpLCB4LmF0dHIoInRpdGxlIikudGV4dCgpLCAnJywgeC5hdHRyKCJocmVmIikudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJsKCksIHJldHVybk9iamVjdC5uYW1lKSk7DQogICAgICAgIH0pOw0KICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0NCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CByZXR1cm5PYmplY3QuZ2V0Q2hhcHRlcnMgPSBhc3luYyAobm92ZWxVcmwpID0+IHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHZhciBjaGFwdGVycyA9IFtdOw0KICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XdhaXQgSHR0cENsaWVudC5wb3N0Rm9ybSgiYWpheC9jaGFwdGVycyIudXJpKG5vdmVsVXJsKSwge2tleTogInRlc3QifSkpOw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgY29udGFpbmVyLmZpbmQoJy5saXN0aW5nLWNoYXB0ZXJzX3dyYXAgYScpLmZvckVhY2goeCA9PiB7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgY2hhcHRlcnMucHVzaChuZXcgQ2hhcHRlcih4LnRleHQoZmFsc2UpLCB4LmF0dHIoImhyZWYiKS51cmwoKSkpOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICByZXR1cm4gY2hhcHRlcnMucmV2ZXJzZSgpOw0KICAgICAgICB9IGNhdGNoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ChlKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhlKQ0KICAgICAgICAgICAgdGhyb3cgZQ0KICAgICAgICB9DQogICAgfQ0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHJldHVybk9iamVjdC5nZXROb3ZlbCA9IGFzeW5jIChub3ZlbFVybCkgPT4gew0KICAgICAgICB2YXIgY29udGFpbmVyID0gcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwobm92ZWxVcmwpKTsNCiAgICAgICAgdmFyIGNoYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XB0ZXJzID0gYXdhaXQgcmV0dXJuT2JqZWN0LmdldENoYXB0ZXJzKG5vdmVsVXJsKTsNCiAgICAgICAgdmFyIGl0ZW0gPSBuZXcgTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m92ZWxSZXZpZXdzKCk7DQogICAgICAgIGl0ZW0uZ2VucmVzID0gY29udGFpbmVyLmZpbmQoIi5nZW5yZXMtY29udGVudCBhIikudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GV4dEFycmF5KCk7DQogICAgICAgIGl0ZW0uYXV0aG9yID0gY29udGFpbmVyLmZpbmQoIi5hdXRob3ItY29udGVudCBhIikudGV4dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ChmYWxzZSkNCiAgICAgICAgaXRlbS5jb21wbGV0ZWQgPSAiU3RhdHVzOiIgKyBjb250YWluZXIuZmluZCgiLnBvc3Qtc3RhdHVzIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5wb3N0LWNvbnRlbnRfaXRlbSIpLmxhc3QoKS5zZWxlY3QoIi5zdW1tYXJ5LWNvbnRlbnQiKS50ZXh0KGZhbHNlKQ0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBpdGVtLnV2b3RlcyA9ICJSYXRpbmc6IiArIGNvbnRhaW5lci5zZWxlY3QoIi50b3RhbF92b3RlcyIpLnRleHQoZmFsc2UpICsgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i81IjsNCiAgICAgICAgcmV0dXJuIG5ldyBEZXRhbGlJdGVtKGNvbnRhaW5lci5zZWxlY3QoJy5zdW1tYXJ5X2ltYWdlIGltZycpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mF0dHIoInNyYyIpLnVybCgpLCBjb250YWluZXIuc2VsZWN0KCcucG9zdC10aXRsZSBoMScpLnRleHQoZmFsc2UpLCBjb250YWluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIuc2VsZWN0KCcuc3VtbWFyeV9fY29udGVudCcpLmNsZWFuSW5uZXJIVE1MKCksIG5vdmVsVXJsLCBjaGFwdGVycywgaXRlbSwgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuT2JqZWN0Lm5hbWUsIHVuZGVmaW5lZCk7DQogICAgfQ0KICAgIHJldHVybk9iamVjdC5nZXRDaGFwdGVyID0gYXN5bmMgKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybCkgPT4gew0KICAgICAgICByZXR1cm4gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBuZXcgY2xpZW50KCkuZ2V0SHRtbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ch1cmwpKS5zZWxlY3QoJy5yZWFkaW5nLWNvbnRlbnQnKS5jbGVhbklubmVySFRNTCgpOw0KICAgIH0NCiAgICByZXR1cm5PYmplYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03QubGF0ZXN0ID0gYXN5bmMgKHBhZ2UpID0+IHsNCiAgICAgICAgdmFyIHVybCA9IHJldHVybk9iamVjdC5sYXRlc3RVcmwucmVwbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFjZSgne3B9JywgcGFnZS50b1N0cmluZygpKTsNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKHVybCkpOw0KICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgIGNvbnRhaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5lci5maW5kKCcucGFnZS1saXN0aW5nLWl0ZW0gLnJvdycpLmZvckVhY2goKHgpID0+IHsNCiAgICAgICAgICAgIHJlc3VsdC5wdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XNoKG5ldyBMaWdodEl0ZW0oeC5zZWxlY3QoJ2ltZycpLmF0dHIoInNyYyIpLnVybCgpLCB4LnNlbGVjdCgnLnBvc3QtdGl0bGUgYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ScpLnRleHQoKSwgJycsIHguc2VsZWN0KCcucG9zdC10aXRsZSBhJykuYXR0cigiaHJlZiIpLnVybCgpLCByZXR1cm5PYmplY3QubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFtZSkpOw0KICAgICAgICB9KTsNCiAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICB9DQogICAgcmV0dXJuIHJldHVybk9iamVjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0DsNCn0=&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50KSA9PiB7DQogICAgdmFyIHJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybk9iamVjdCA9IHt9Ow0KICAgIHJldHVybk9iamVjdC5pZCA9ICIxLmNvbXJhZGVtYW8iOw0KICAgIHJldHVybk9iamVjdC5kZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRhbGlJdGVtVHlwZSA9IERldGFsaUl0ZW1UeXBlLk5vdmVsOw0KICAgIHJldHVybk9iamVjdC5uYW1lID0gJ0NvbXJhZGVtYW8nOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgIHJldHVybk9iamVjdC5kaXNwbGF5TmFtZSA9ICJHb29nbGUgVHJhbnNsYXRlZCBub3ZlbHMiOw0KICAgIHJldHVybk9iaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVjdC5sYXRlc3RVcmwgPSAnaHR0cHM6Ly9jb21yYWRlbWFvLmNvbS9wYWdlL3twfS8nOw0KICAgIHJldHVybk9iamVjdC51cmwgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SAnaHR0cHM6Ly9jb21yYWRlbWFvLmNvbSc7DQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaFVybCA9ICdodHRwczovL2NvbXJhZGVtYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W8uY29tL3BhZ2Uve3B9Lz9zPXtxfSZwb3N0X3R5cGU9bm92ZWwnOw0KICAgIHJldHVybk9iamVjdC5wYW5pbmF0aW9uID0gdHJ1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TsNCiAgICByZXR1cm5PYmplY3Quc2VhcmNoUGFnaW5hdGlvbiA9IHRydWU7DQogICAgcmV0dXJuT2JqZWN0Lmljb24gPSAnaHR0cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HM6Ly93d3cuZ29vZ2xlLmNvbS9zMi9mYXZpY29ucz9kb21haW49aHR0cHM6Ly9jb21yYWRlbWFvLmNvbSc7DQogICAgcmV0dXJuTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzID0gbmV3IFBhcnNlclNlYXJjaFNldHRpbmdzKCk7DQogICAgcmV0dXJuT2JqZWN0LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nBhcnNlckxhbmd1YWdlID0gImVuIjsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3MuZ2VucmVzID0gew0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBtdWx0aVNlbGVjdGlvbjogZmFsc2UsDQogICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUoJ0FjdGlvbicpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0NvbWVkeScpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoJ0ZhbnRhc3knKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdIYXJlbScpLA0KICAgICAgICAgICAgbmV3IGxhYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsVmFsdWUoJ01hdHVyZScpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ015c3RlcnknKSwNCiAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBsYWJlbFZhbHVlKCdSb21hbmNlJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU2NpLWZpJyksDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBuZXcgbGFiZWxWYWx1ZSgnVHJhZ2VkeScpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1hpYW54aWEnKSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5ldyBsYWJlbFZhbHVlKCdXdXhpYScpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1h1YW5odWFuJyksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnQWR2ZW50dXJlJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU3VwZXJuYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1cmFsJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnRHJhbWEnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CdNYXJ0aWFsIEFydHMnLCAiTWFydGlhbC1BcnRzIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU2VpbmVuJyksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnUHN5Y2hvbG9naWNhbCcpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1NsaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WNlIG9mIExpZmUnLCAic2xpY2Utb2YtbGlmZSIpLA0KICAgICAgICBdLA0KICAgIH07DQoNCg0KDQogICAgcmV0dXJuT2JqZWN0LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nBhcnNlclNlYXJjaFNldHRpbmdzLnNvcnRUeXBlcyA9IHsNCiAgICAgICAgbXVsdGlTZWxlY3Rpb246IGZhbHNlLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB2YWx1ZXM6IFsNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdDaGluZXNlJywgJ2NoaW5lc2UnKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBsYWJlbFZhbHVlKCdKYXBhbmVzZScsICdqYXBhbmVzZScpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0tvcmVhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0icsICdrb3JlYW4nKSwNCiAgICAgICAgXSwNCiAgICB9Ow0KDQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nN0YXR1c2VzID0gew0KICAgICAgICBtdWx0aVNlbGVjdGlvbjogZmFsc2UsDQogICAgICAgIHZhbHVlczogWw0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbmV3IGxhYmVsVmFsdWUoIkNvbXBsZXRlIiwgImNvbXBsZXRlIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiT25HbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02luZyIsICJvbi1nb2luZyIpDQogICAgICAgIF0NCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QuZ2V0U2VjdGlvbnMgPSAoa2V5cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ykgPT4gew0KICAgICAgICB2YXIgc2VjdGlvbnMgPSBbDQogICAgICAgICAgICBuZXcgU2VjdGlvbigibGF0ZXN0IiwgIkxhdGVzdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBVcGRhdGUiLCAiTGF0ZXN0IiwgdHJ1ZSksDQogICAgICAgICAgICBuZXcgU2VjdGlvbigiY29tcGxldGVkIiwgIkNvbXBsZXRlZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCAiY29tcGxldGUiKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SksDQogICAgICAgICAgICBuZXcgU2VjdGlvbigiY2hpbmVzZSIsICJDaGluZXNlIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVyKHVuZGVmaW5lZCwgImNoaW5lc2UiKSksDQogICAgICAgICAgICBuZXcgU2VjdGlvbigiamFwYW5lc2UiLCAiSmFwYW5lc2UiLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIodW5kZWZpbmVkLCAiamFwYW5lc2UiKSksDQogICAgICAgICAgICBuZXcgU2VjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Glvbigia29yZWFuIiwgIktvcmVhbiIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsICJrb3JlYW4iKSkNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgXQ0KDQogICAgICAgIHJldHVybiBzZWN0aW9ucy5maWx0ZXIoeCA9PiAha2V5cyB8fCBrZXlzLmluY2x1ZGVzKHgubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFtZSkpOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC50cmFuc2xhdGVTZWN0aW9uID0gYXN5bmMgKHNlY3Rpb24sIHBhZ2UpIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0+IHsNCiAgICAgICAgaWYgKHNlY3Rpb24uaWRlbnRpZmllciA9PSAiTGF0ZXN0IikNCiAgICAgICAgICAgIHJldHVybiBhd2FpdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CByZXR1cm5PYmplY3QubGF0ZXN0KHBhZ2UpOw0KICAgICAgICBlbHNlDQogICAgICAgICAgICByZXR1cm4gYXdhaXQgcmV0dXJuTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02JqZWN0LnNlYXJjaChzZWN0aW9uLmZpbHRlciB8fCByZXR1cm5PYmplY3QuZGVmYXVsdEZpbHRlcigpLCBwYWdlKTsNCiAgICB9DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QoNCiAgICByZXR1cm5PYmplY3QuZGVmYXVsdEZpbHRlciA9ICgpID0+IHsNCiAgICAgICAgdmFyIGZpbHRlciA9IG5ldyBGaWx0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIoKTsNCiAgICAgICAgcmV0dXJuIGZpbHRlcjsNCiAgICB9DQoNCg0KICAgIHJldHVybk9iamVjdC5zZWFyY2ggPSBhc3luYyAoZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mlsdGVyLCBwYWdlKSA9PiB7DQogICAgICAgIHZhciBzb3J0VHlwZVVyaSA9ICJodHRwczovL2NvbXJhZGVtYW8uY29tL210eXBlLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03tzfS9wYWdlL3twfS8iDQogICAgICAgIHZhciBzb3J0VHlwZVVybCA9IHNvcnRUeXBlVXJpLnJlcGxhY2UoIntzfSIsIGZpbHRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5zb3J0VHlwZSkucmVwbGFjZSgie3B9IiwgcGFnZS50b1N0cmluZygpKTsNCg0KICAgICAgICB2YXIgdXJsID0gZmlsdGVyLnNvcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRUeXBlICYmIGZpbHRlci5zb3J0VHlwZSAhPSAiIiA/IHNvcnRUeXBlVXJsIDogcmV0dXJuT2JqZWN0LnNlYXJjaFVybC5yZXBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WNlKCd7cX0nLCBmaWx0ZXIudGl0bGUgfHwgIiIpLnJlcGxhY2UoIntwfSIsIHBhZ2UudG9TdHJpbmcoKSk7DQogICAgICAgIGlmIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ChmaWx0ZXIuZ2VucmVzLmxlbmd0aCAmJiBmaWx0ZXIuZ2VucmVzLmxlbmd0aCA+IDApDQogICAgICAgICAgICB1cmwgPSAoImdlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nJlLyIgKyBmaWx0ZXIuZ2VucmVzWzBdICsgIi9wYWdlL3twfSIpLnJlcGxhY2UoIntwfSIsIHBhZ2UudG9TdHJpbmcoKSkudXJpKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybk9iamVjdC51cmwpOw0KICAgICAgICBlbHNlDQogICAgICAgIGlmIChmaWx0ZXIuYWN0aXZlICYmICghZmlsdGVyLnNvcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRUeXBlIHx8IGZpbHRlci5zb3J0VHlwZSA9PSAiIikpDQogICAgICAgICAgICB1cmwgPSAoInN0YXR1cy8iICsgZmlsdGVyLmFjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Gl2ZSArICIvcGFnZS97cH0iKS5yZXBsYWNlKCJ7cH0iLCBwYWdlLnRvU3RyaW5nKCkpLnVyaShyZXR1cm5PYmplY3QudXJsKTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0g0KICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwodMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJsKSk7DQogICAgICAgIHZhciBteWJveCA9IGNvbnRhaW5lci5zZWxlY3QoIi5teWJveCIpLmhhc0VsZW1lbnQoKTsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgdmFyIGl0ZW0gPSAhbXlib3ggPyBjb250YWluZXIuZmluZCgic2VjdGlvbiAuY29sdW1ucyIpIDogY29udGFpbmVyLmZpbmQoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5teWJveCBsaSIpOw0KDQogICAgICAgIHZhciByZXN1bHQgPSBbXTsNCiAgICAgICAgaXRlbS5mb3JFYWNoKHggPT4gew0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgdmFyIGEgPSBteWJveCA/IHguc2VsZWN0KCJoMyBhIikgOiB4LmZpbmQoImEiKS5sYXN0KCk7DQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CByZXN1bHQucHVzaChuZXcgTGlnaHRJdGVtKA0KICAgICAgICAgICAgICAgIHguc2VsZWN0KCJpbWciKS5hdHRyKCJzcmMiKS51cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mwoKSwNCiAgICAgICAgICAgICAgICBhLnRleHQoZmFsc2UpLCAiIiwNCiAgICAgICAgICAgICAgICBhLmF0dHIoImhyZWYiKS51cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mwoKSwgcmV0dXJuT2JqZWN0Lm5hbWUpKTsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICB9DQoNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICByZXR1cm5PYmplY3QuZ2V0Q2hhcHRlcnMgPSBhc3luYyAodXJsKSA9PiB7DQogICAgICAgIHZhciByZXN1bHQgPSB7fTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgdmFyIHBhZ2UgPSAxOw0KDQogICAgICAgIHdoaWxlICh0cnVlKSB7DQoNCiAgICAgICAgICAgIHZhciBwVXJsID0gKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIvcGFnZS97cGFnZX0vIikudXJpKHVybCk7DQogICAgICAgICAgICB2YXIgaXRlbSA9IHJldHVybk9iamVjdC5wYXJzZXIucmVuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVyQ291bnRlckNhbGxzKHBhZ2UsIHBVcmwpOw0KICAgICAgICAgICAgcGFnZSA9IGl0ZW0ucGFnZTsNCiAgICAgICAgICAgIHZhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iB2YWx1ZXMgPSBhd2FpdCBQcm9taXNlLmFsbChpdGVtLnByb21pc2VzKTsNCiAgICAgICAgICAgIHZhciBicmVha0l0ID0gZmFscMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02U7DQoNCiAgICAgICAgICAgIHZhbHVlcy5mb3JFYWNoKHggPT4gew0KICAgICAgICAgICAgICAgIGlmICghYnJlYWtJdCkgew0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICB2YXIgaXRlbXMgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKHgpLmZpbmQoInRib2R5IHRyIHRoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GEiKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCFpdGVtcy5oYXNFbGVtZW50cygpKSB7DQogICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBicmVha0l0ID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIHZhciByZXN1bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRBID0gaXRlbXMucmVkdWNlKChhcnIsIHgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGFyclt4LnRleHQoKSArIHguYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR0cigiaHJlZiIpLnVybCgpXSA9IG5ldyBDaGFwdGVyKHgudGV4dChmYWxzZSksIHguYXR0cigiaHJlZiIpLnVybCgpKTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgfSwge30pOw0KDQogICAgICAgICAgICAgICAgICAgIGlmIChyZXR1cm5PYmplY3QucGFyc2VyLnZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlkYXRlQ2hhcHRlcnMocmVzdWx0QSwgcmVzdWx0KSA9PSBmYWxzZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtJdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIH0pDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBpZiAoYnJlYWtJdCkNCiAgICAgICAgICAgICAgICBicmVhazsNCg0KICAgICAgICB9DQogICAgICAgIHJldHVybiBPYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mplY3QudmFsdWVzKHJlc3VsdCk7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmdldE5vdmVsID0gYXN5bmMgKG5vdmVsVXJsLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBiYXNpY0luZm8pID0+IHsNCg0KICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRwQ2xpZW50LmdldEh0bWwobm92ZWxVcmwsIGJhc2ljSW5mbykpOw0KICAgICAgICB2YXIgY2hhcHRlcnMgPSBiYXNpY0luZm8gPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0T09IHRydWUgPyBbXSA6IGF3YWl0IHJldHVybk9iamVjdC5nZXRDaGFwdGVycyhub3ZlbFVybCk7DQogICAgICAgIHZhciBub3ZlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FJldmlld3MgPSBuZXcgTm92ZWxSZXZpZXdzKCk7DQogICAgICAgIGlmICghYmFzaWNJbmZvKSB7DQogICAgICAgICAgICB0cnkgeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICAgICAgICAgIHZhciBub2RlID0gY29udGFpbmVyLmZpbmQoIiNOb3ZlbEluZm8gPiBwIik7DQoNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBub3ZlbFJldmlld3MuZ2VucmVzID0gbm9kZS5lcSgxKS5maW5kKCJhIikubWFwKHggPT4geC50ZXh0KCkpOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIG5vdmVsUmV2aWV3cy5hdXRob3IgPSBub2RlLmVxKDIpLnNlbGVjdCgiYSIpLnRleHQoKTsNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBub3ZlbFJldmlld3MuY29tcGxldGVkID0gbm9kZS5sYXN0KCkuc2VsZWN0KCJhIikudGV4dCgpID09PSAiQ29tcGxldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GUiID8gIlN0YXR1czpDb21wbGV0ZWQiIDogIlN0YXR1czpPbmdvaW5nIjsNCiAgICAgICAgICAgICAgICBub3ZlbFJldmlld3MuYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XV0aG9yVXJsID0gbm9kZS5lcSgyKS5zZWxlY3QoImEiKS5hdHRyKCJocmVmIikudGV4dCgpOw0KDQogICAgICAgICAgICB9IGNhdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GNoIChlKSB7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgfQ0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICByZXR1cm4gbmV3IERldGFsaUl0ZW0oDQogICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCcjTm92ZWxJbmZvIGltZycpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mF0dHIoInNyYyIpLnVybCgpLA0KICAgICAgICAgICAgY29udGFpbmVyLnNlbGVjdCgndGl0bGUnKS50ZXh0KCkucmVwbGFjZSgiQMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029tcmFkZSBNYW8iLCAiIikucmVwbGFjZSgiLSIsICIiKS50cmltKCksDQogICAgICAgICAgICBjb250YWluZXIuZmluZCgnI05vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsSW5mbyAuY29sdW1ucyAuY29sdW1uJykubGFzdCgpLmNsZWFuSW5uZXJIVE1MKCksDQogICAgICAgICAgICBub3ZlbFVybCwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIGNoYXB0ZXJzLnJldmVyc2UoKSwNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cywNCiAgICAgICAgICAgIHJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybk9iamVjdC5uYW1lLA0KICAgICAgICAgICAgdW5kZWZpbmVkLA0KICAgICAgICApDQogICAgfQ0KDQogICAgcmV0dXJuT2JqZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0LmdldENoYXB0ZXIgPSBhc3luYyAodXJsKSA9PiB7DQogICAgICAgIHJldHVybiByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wl0IG5ldyBjbGllbnQoKS5nZXRIdG1sKHVybCkpLnNlbGVjdCgiI2NvbnRlbnQiKS5jbGVhbklubmVySFRNTCgpOw0KICAgIH0NCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0g0KICAgIHJldHVybk9iamVjdC5sYXRlc3QgPSBhc3luYyAocGFnZSkgPT4gew0KICAgICAgICB2YXIgdXJsID0gcmV0dXJuT2JqZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0LmxhdGVzdFVybC5yZXBsYWNlKCJ7cH0iLCBwYWdlLnRvU3RyaW5nKCkpOw0KICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwodXJsKSk7DQogICAgICAgIHZhciByZXN1bHQgPSBbXMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TsNCiAgICAgICAgY29udGFpbmVyLmZpbmQoInRib2R5ID4gdHIgPiB0aDpmaXJzdC1jaGlsZCA+IGEiKS5mb3JFYWNoKHggPT4geMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IExpZ2h0SXRlbShhc3luYyAoKSA9PiAoYXdhaXQgcmV0dXJuT2JqZWN0LmdldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0E5vdmVsKHguYXR0cigiaHJlZiIpLnVybCgpLCB0cnVlKSkuaW1hZ2UsDQogICAgICAgICAgICAgICAgeC50ZXh0KGZhbHNlKSwgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iIsIHguYXR0cigiaHJlZiIpLnVybCgpLCByZXR1cm5PYmplY3QubmFtZSkpOw0KICAgICAgICB9KTsNCiAgICAgICAgcmV0dXJuIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJlc3VsdDsNCiAgICB9DQoNCiAgICByZXR1cm4gcmV0dXJuT2JqZWN0Ow0KfTs=&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50KSA9PiB7DQogICAgY29uc3QgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuT2JqZWN0PSB7fTsNCiAgICByZXR1cm5PYmplY3QuaWQgPSAiMS5rb2xub3ZlbCI7DQogICAgcmV0dXJuT2JqZWN0LmRldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFsaUl0ZW1UeXBlID0gRGV0YWxpSXRlbVR5cGUuTm92ZWw7DQogICAgcmV0dXJuT2JqZWN0LnBhcnNlckxhbmd1YWdlID0gImFyIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0jsNCiAgICByZXR1cm5PYmplY3QubmFtZSA9ICdLb2xOb3ZlbCc7DQogICAgcmV0dXJuT2JqZWN0LmRpc3BsYXlOYW1lID0gcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuT2JqZWN0Lm5hbWU7DQogICAgcmV0dXJuT2JqZWN0LmxhdGVzdFVybCA9ICdodHRwOi8va29sbm92ZWwuY29tL3Nlcmllcz9wYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WdlPXtwfSZzdGF0dXM9JnR5cGU9Jm9yZGVyPXVwZGF0ZSc7DQogICAgcmV0dXJuT2JqZWN0LnVybCA9ICJodHRwczovL2tvbG5vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsLmNvbSI7DQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaFVybCA9ICJodHRwczovL2tvbG5vdmVsLmNvbS9zZXJpZXM/cGFnZT17cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0H0mb3JkZXI9IjsNCiAgICByZXR1cm5PYmplY3QucGFuaW5hdGlvbiA9IHRydWU7DQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaFBhZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02luYXRpb24gPSB0cnVlOw0KICAgIHJldHVybk9iamVjdC5pY29uID0gJ2h0dHBzOi8va29sbm92ZWwuY29tL3dwLWNvbnRlbnQvdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XBsb2Fkcy8yMDE5LzA2L2Nyb3BwZWQt2KPZitmC2YjZhi0xLTEtMTUweDE1MC5wbmcnOw0KICAgIHJldHVybk9iamVjdC5wYXJzZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJTZWFyY2hTZXR0aW5ncyA9IG5ldyBQYXJzZXJTZWFyY2hTZXR0aW5ncygpOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02hTZXR0aW5ncy5nZW5yZXMgPSB7DQogICAgICAgIG11bHRpU2VsZWN0aW9uOiB0cnVlLA0KICAgICAgICB2YWx1ZXM6IFsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJXdXhpYSIsICd3dXhpYScpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlhpYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W54aWEiLCAieGlhbnhpYSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlhVQU5IVUFOIiwgInh1YW5odWFuIiksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgi2KPYtdmE2YrYqSIsICJvcmlnaW5hbCIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoItij2YPYtNmGIiwgImFjdGlvbiIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoItil2KvYp9ix2KkiLCAiZXhjaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRlbWVudCIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoItil2YbYqtmC2KfZhCDYp9mE2Ykg2LnYp9mE2YUg2KPYrtixIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iwgImlzZWthaSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoItil2YrYqti02YoiLCAiZXRjaGkiKSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCLYp9mE2K7Zitin2YQg2KfZhNi52YTZhdmKIiwgInNjaS1maSIpLA0KICAgICAgICAgICAgbmV3IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxhYmVsVmFsdWUoItio2YjZhNmK2LPZiiIsICJwb2xpY3kiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCLYqtin2LHZiMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0tiu2YoiLCAiaGlzdG9yaWNhbCIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoItiq2YLZhdi1INi02K7YtdmK2KfYqiIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJycGciKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCLYrNix2YrZhdipIiwgImNyaW1lIiksDQogICAgICAgICAgICBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgbGFiZWxWYWx1ZSgi2KzZiNiz2YkiLCAiam9zZWkiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCLYrdix2YrZhSIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJoYXJlbSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoItit2YrYp9ipINmF2K/Ysdiz2YrYqSIsICJzY2hvb2wtbGlmZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoItiu2KfYsdmC2Kkg2YTZhNi32KjZiti52KkiLCAic3VwZXJuYXR1cmFsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgi2K7Zitin2YTZiiIsICJmYW50YXN5IiksDQogICAgICAgICAgICBuZXcgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFiZWxWYWx1ZSgi2K/Ysdin2YXYpyIsICJkcmFtYSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoItix2LnYqCIsICJobMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03Jyb3IiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCLYsdmI2YXYp9mG2LPZiiIsICJyb21hbnRpYyIpLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbmV3IGxhYmVsVmFsdWUoItiz2K3YsSIsICJtYWdpYyIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoItiz2YrZhMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0tmGIiwgInNlbmVuIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgi2LTYsdmK2K3YqSDZhdmGINin2YTYrdmK2KfYqSIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJzbGljZS1vZi1saWZlIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgi2LTZiNmG2YrZhiIsICJzaG9uZW4iKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCLYtdmK2YbZiiIsICJjaGluZXNlIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Sgi2LrZhdmI2LYiLCAibXlzdGVyaWVzIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgi2YHZhtmI2YYg2KfZhNmC2KrYpMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU09mEIiwgIm1hcnRpYWwtYXJ0cyIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoItmC2YjZiSDYrtin2LHZgtipIiwgInN1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVycG93ZXIiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCLZg9mI2LHZiiIsICJrb3JlYW4iKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBsYWJlbFZhbHVlKCLZg9mI2YXZitiv2YkiLCAiY29tZWR5IiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgi2YXYoMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU09iz2KfZiNmKIiwgInRyYWdlZHkiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCLZhdinINio2LnYryDYp9mE2YPYp9ix2MDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0KvYqSIsICJhZnRlci10aGUtZGlzYXN0ZXIiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCLZhdi62KfZhdix2KkiLCAiYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WR2ZW50dXJlIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgi2YXZitmD2KciLCAibWVjaGFuaWNhbCIpLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbmV3IGxhYmVsVmFsdWUoItmG2KfYttisIiwgIm1hdHVyZSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoItmG2MDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0YHYs9mKIiwgInBzeWNob2xvZ2ljYWwiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCLZitin2KjYp9mG2YoiLCAiamFwYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5lc2UiKSwNCg0KDQogICAgICAgIF0sDQogICAgfTsNCg0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5zdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF0dXNlcyA9IHsNCiAgICAgICAgbXVsdGlTZWxlY3Rpb246IHRydWUsDQogICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV3IGxhYmVsVmFsdWUoJ09uR29pbmcnLCAnb25nb2luZycpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0hpYXR1cycsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CdoaWF0dXMnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdDb21wbGV0ZWQnLCAnY29tcGxldGVkJyksDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0F0sDQogICAgfTsNCg0KICAgIHJldHVybk9iamVjdC5nZXRTZWN0aW9ucyA9IChrZXlzKSA9PiB7DQogICAgICAgIHZhciBzZWN0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W9ucyA9IFsNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJsYXRlc3QiLCAiTGF0ZXN0IFVwZGF0ZSIsICJMYXRlc3QiLCB0cnVlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJjb21wbGV0ZWQiLCAiQ29tcGxldGVkIE5vdmVsIiwgIlNlYXJjaCIsIGZhbHNlLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBuZXcgRmlsdGVyKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsICJjb21wbGV0ZWQiKSkNCiAgICAgICAgXQ0KDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHJldHVybiBzZWN0aW9ucy5maWx0ZXIoeCA9PiAha2V5cyB8fCBrZXlzLmluY2x1ZGVzKHgubmFtZSkpOw0KICAgIH0NCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0g0KICAgIHJldHVybk9iamVjdC50cmFuc2xhdGVTZWN0aW9uID0gYXN5bmMgKHNlY3Rpb24sIHBhZ2UpID0+IHsNCiAgICAgICAgaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WYgKHNlY3Rpb24uaWRlbnRpZmllciA9PSAiTGF0ZXN0IikNCiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZXR1cm5PYmplY3QubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF0ZXN0KHBhZ2UpOw0KICAgICAgICBlbHNlDQogICAgICAgICAgICByZXR1cm4gYXdhaXQgcmV0dXJuT2JqZWN0LnNlYXJjaChzZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0aW9uLmZpbHRlciB8fCByZXR1cm5PYmplY3QuZGVmYXVsdEZpbHRlcigpLCBwYWdlKTsNCiAgICB9DQoNCiAgICByZXR1cm5PYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mplY3QuZGVmYXVsdEZpbHRlciA9ICgpID0+IHsNCiAgICAgICAgdmFyIGZpbHRlciA9IG5ldyBGaWx0ZXIoKTsNCiAgICAgICAgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuIGZpbHRlcjsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3Quc2VhcmNoID0gYXN5bmMgKGZpbHRlciwgcGFnZSkgPT4geMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICB2YXIgdXJsID0gcmV0dXJuT2JqZWN0LnNlYXJjaFVybC5yZXBsYWNlKCJ7cH0iLCBwYWdlLnRvU3RyaW5nKCkpOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICBpZiAoZmlsdGVyLnRpdGxlICYmICFmaWx0ZXIudGl0bGUuaXNFbXB0eU9yU3BhY2VzKCkpDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB1cmwgKz0gIiZzPSIgKyBmaWx0ZXIudGl0bGU7DQogICAgICAgIGlmIChmaWx0ZXIuZ2VucmVzLmxlbmd0aCA+IDApDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB1cmwgKz0gIiYiICsgZmlsdGVyLmdlbnJlcy5tYXAoeCA9PiAiZ2VucmVbXT0iICsgeCkuam9pbigiJiIpOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBpZiAoZmlsdGVyLmFjdGl2ZSAmJiBmaWx0ZXIuYWN0aXZlLmxlbmd0aCA+IDApDQogICAgICAgICAgICB1cmwgKz0gIiZzdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF0dXM9IiArIGZpbHRlci5hY3RpdmU7DQogICAgICAgIHZhciBjb250YWluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wl0IEh0dHBDbGllbnQuZ2V0SHRtbCh1cmwpKTsNCiAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICBjb250YWluZXIuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mluZCgnLmxpc3R1cGQgYScpLmZvckVhY2goKHgpID0+IHsNCiAgICAgICAgICAgIGlmICh4LnNlbGVjdCgnaW1nJykuYXR0cigicMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03JjIikuaGFzVmFsdWUoKSkNCiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCgNCiAgICAgICAgICAgICAgICAgICAgbmV3IExpZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02h0SXRlbSh4LnNlbGVjdCgnaW1nJykuYXR0cigic3JjIikudXJsKCksDQogICAgICAgICAgICAgICAgICAgICAgICB4LnNlbGVjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CgnLm50aXRsZScpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgICAgICAgICAgICAgJycsDQogICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB4LmF0dHIoImhyZWYiKS51cmwoKSwgcmV0dXJuT2JqZWN0Lm5hbWUNCiAgICAgICAgICAgICAgICAgICAgKSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICApOw0KICAgICAgICB9KTsNCg0KICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0NCg0KICAgIHJldHVybk9iaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVjdC5nZXROb3ZlbCA9IGFzeW5jIChub3ZlbFVybCkgPT4gew0KICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwobm92ZWxVcmwpKTsNCiAgICAgICAgdmFyIGNoYXB0ZXJzID0gY29udMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFpbmVyLmZpbmQoIi5lcGxpc3RlciBsaSBhIikubWFwKHggPT4gbmV3IENoYXB0ZXIoeC5zZWxlY3QoIi5lcGwtbnVtIikudGV4dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ChmYWxzZSkgKyAiICIgKyB4LnNlbGVjdCgiLmVwbC10aXRsZSIpLnRleHQoZmFsc2UpLCB4LmF0dHIoImhyZWYiKS51cmwoKSkpDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIHZhciBub3ZlbFJldmlld3MgPSBuZXcgTm92ZWxSZXZpZXdzKCk7DQogICAgICAgIHZhciBpbmZvcyA9IGNvbnRhaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5lci5maW5kKCIubmluZm8iKTsNCiAgICAgICAgbm92ZWxSZXZpZXdzLmdlbnJlcyA9IGNvbnRhaW5lci5maW5kKCIuZ2VueGVkIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GEiKS5tYXAoeCA9PiB4LnRleHQoZmFsc2UpKTsNCiAgICAgICAgbm92ZWxSZXZpZXdzLmF1dGhvciA9IGluZm9zLmVxKDApLmZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mQoIi5pbmZvLWNvbnRlbnQgLnNwZSBzcGFuIikuZXEoMikuZmluZCgiYSIpLnRleHRBcnJheSgpLmpvaW4oIiwiKTsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbm92ZWxSZXZpZXdzLnV2b3RlcyA9IGNvbnRhaW5lci5zZWxlY3QoIi5yYXRpbmcgc3Ryb25nIikudGV4dCgpLm51bWJlcigpIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CsgIiAvIDEwIjsNCiAgICAgICAgbm92ZWxSZXZpZXdzLmNvbXBsZXRlZCA9IGNvbnRhaW5lci5maW5kKCIuaW5mby1jb250ZW50IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5zcGUgc3BhbiIpLmVxKDApLnJlbW92ZSgiYiIpLnRleHQoZmFsc2UpID09PSAiQ29tcGxldGVkIiA/ICJTdGF0dXM6Q29tcGxldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVkIiA6ICJTdGF0dXM6T25nb2luZyI7DQoNCiAgICAgICAgcmV0dXJuIG5ldyBEZXRhbGlJdGVtKA0KICAgICAgICAgICAgY29udMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFpbmVyLnNlbGVjdCgnLnRodW1iIGltZycpLmF0dHIoInNyYyIpLnVybCgpLA0KICAgICAgICAgICAgY29udGFpbmVyLnNlbGVjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CgnLmVudHJ5LXRpdGxlJykudGV4dChmYWxzZSksDQogICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCcuZW50cnktY29udGVudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CcpLmNsZWFuSW5uZXJIVE1MKCksDQogICAgICAgICAgICBub3ZlbFVybCwNCiAgICAgICAgICAgIGNoYXB0ZXJzLnJldmVyc2UoKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cywNCiAgICAgICAgICAgIHJldHVybk9iamVjdC5uYW1lLA0KICAgICAgICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5kZWZpbmVkLA0KICAgICAgICApOw0KICAgIH0NCg0KDQogICAgcmV0dXJuT2JqZWN0LmdldENoYXB0ZXIgPSBhc3luYyAodXJsKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SA9PiB7DQogICAgICAgIHJldHVybiByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IG5ldyBjbGllbnQoKS5nZXRIdG1sKHVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CkpLnNlbGVjdCgnLmVudHJ5LWNvbnRlbnQnKS5jbGVhbklubmVySFRNTCgpOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5sYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRlc3QgPSBhc3luYyAocGFnZSkgPT4gew0KICAgICAgICB2YXIgdXJsID0gcmV0dXJuT2JqZWN0LmxhdGVzdFVybC5yZXBsYWNlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Cd7cH0nLCBwYWdlLnRvU3RyaW5nKCkpOw0KICAgICAgICB2YXIgaHRtbCA9YXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKHVybCk7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIGNvbnNvbGUubG9nKGh0bWwpDQogICAgICAgIHZhciBjb250YWluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Gh0bWwpOw0KICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgIGNvbnRhaW5lci5maW5kKCcubGlzdHVwZCBhJykuZm9yRMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFjaCgoeCkgPT4gew0KICAgICAgICAgICAgaWYgKHguc2VsZWN0KCdpbWcnKS5hdHRyKCJzcmMiKS5oYXNWYWx1ZSgpKQ0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIHJlc3VsdC5wdXNoKA0KICAgICAgICAgICAgICAgICAgICBuZXcgTGlnaHRJdGVtKHguc2VsZWN0KCdpbWcnKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S5hdHRyKCJzcmMiKS51cmwoKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHguc2VsZWN0KCcubnRpdGxlJykudGV4dChmYWxzZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SksDQogICAgICAgICAgICAgICAgICAgICAgICAnJywNCiAgICAgICAgICAgICAgICAgICAgICAgIHguYXR0cigiaHJlZiIpLnVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CgpLCByZXR1cm5PYmplY3QubmFtZQ0KICAgICAgICAgICAgICAgICAgICApLA0KICAgICAgICAgICAgICAgICk7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0H0pOw0KDQogICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgfQ0KDQogICAgcmV0dXJuIHJldHVybk9iamVjdDsNCn0=&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50KSA9PiB7DQogICAgY29uc3QgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuT2JqZWN0ID0ge307DQogICAgcmV0dXJuT2JqZWN0LmlkID0gIjEubGlnaHRub3ZlbHB1YiI7DQogICAgcmV0dXJuT2JqZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0LmRldGFsaUl0ZW1UeXBlID0gRGV0YWxpSXRlbVR5cGUuTm92ZWw7DQogICAgcmV0dXJuT2JqZWN0LnBhcnNlckxhbmd1YWdlIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0gImVuIjsNCiAgICByZXR1cm5PYmplY3QubmFtZSA9ICdMaWdodE5vdmVsUHViJzsNCiAgICByZXR1cm5PYmplY3QuZGlzcGxheMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0U5hbWUgPSAiTGlnaHQtTm92ZWwiOw0KICAgIHJldHVybk9iamVjdC5sYXRlc3RVcmwgPSAnaHR0cHM6Ly93d3cubGlnaHRub3ZlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HB1Yi5jb20vYnJvd3NlL2FsbC91cGRhdGVkL2FsbC97cH0nOw0KICAgIHJldHVybk9iamVjdC51cmwgPSAnaHR0cHM6Ly93d3cubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlnaHRub3ZlbHB1Yi5jb20nOw0KICAgIHJldHVybk9iamVjdC5zZWFyY2hVcmwgPSAnaHR0cHM6Ly93d3cubGlnaHRub3ZlbHB1YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5jb20vbG53c2VhcmNobGl2ZT9pbnB1dENvbnRlbnQ9e3F9JzsNCiAgICByZXR1cm5PYmplY3QucGFuaW5hdGlvbiA9IHRydWU7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgcmV0dXJuT2JqZWN0LnNlYXJjaFBhZ2luYXRpb24gPSB0cnVlOw0KICAgIHJldHVybk9iamVjdC5pY29uID0gJ2h0dHBzOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i8vc3RhdGljLmxpZ2h0bm92ZWxwdWIuY29tL2NvbnRlbnQvaW1nL2xpZ2h0bm92ZWxwdWIvYXBwbGUtdG91Y2gtaWNvbi5wbmcnOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncyA9IG5ldyBQYXJzZXJTZWFyY2hTZXR0aW5ncygpOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5tdWx0aVNlbGVjdGlvbiA9IHRydWU7DQogICAgcmV0dXJuT2JqZWN0LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nBhcnNlclNlYXJjaFNldHRpbmdzLmdlbnJlcyA9IHsNCiAgICAgICAgbXVsdGlTZWxlY3Rpb246IHRydWUsDQogICAgICAgIHZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVlczogWw0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkFjdGlvbiIsIDEpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUoIkFkdWx0IiwgNDgpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkFkdmVudHVyZSIsIDIpLA0KICAgICAgICAgICAgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV3IGxhYmVsVmFsdWUoIkNvbWVkeSIsIDEyKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJDb250ZW1wb3JhcnkgUm9tYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5jZSIsIDU5KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJEcmFtYSIsIDMpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoIkVhc3Rlcm4gRmFudGFzeSIsIDU4KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJFY2NoaSIsIDExKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJGYW50YXN5IiwgNCksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiRmFudGFzeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SBSb21hbmNlIiwgNjApLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkdlbmRlciBCZW5kZXIiLCA1MiksDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBuZXcgbGFiZWxWYWx1ZSgiSGFyZW0iLCA1KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJIaXN0b3JpY2FsIiwgNMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0DYpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkhvcnJvciIsIDQ0KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJKb3NlaSIsIDIzKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJMb2xpY29uIiwgNTEpLA0KICAgICAgICAgICAgbmV3IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxhYmVsVmFsdWUoIk1hZ2ljYWwgUmVhbGlzbSIsIDU3KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJNYXJ0aWFsIEFydMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HMiLCA2KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJNYXR1cmUiLCA3KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVlKCJNZWNoYSIsIDQ1KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJNeXN0ZXJ5IiwgMTQpLA0KICAgICAgICAgICAgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV3IGxhYmVsVmFsdWUoIlBzeWNob2xvZ2ljYWwiLCAxOCksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiUm9tYW5jZSIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0DgpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNjaG9vbCBMaWZlIiwgMjEpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoIlNjaS1maSIsIDE5KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTZWluZW4iLCA0OSksDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBuZXcgbGFiZWxWYWx1ZSgiU2hvdWpvIiwgNDcpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNob3VqbyBBaSIsIDYxKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTaG91bmVuIiwgNDMpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0lNob3VuZW4gQWkiLCA1MyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2xpY2Ugb2YgTGlmZSIsIDEzKSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5ldyBsYWJlbFZhbHVlKCJTbXV0IiwgNTYpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNwb3J0cyIsIDUwKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTdXBlcm5hdHVyYWwiLCAxNiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZSgiVHJhZ2VkeSIsIDkpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlZpZGVvIEdhbWVzIiwgNTUpLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbmV3IGxhYmVsVmFsdWUoIld1eGlhIiwgNDIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlhpYW54aWEiLCAyMMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiWHVhbmh1YW4iLCAxMCksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgiWWFvaSIsIDU0KQ0KICAgICAgICBdDQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLnN0YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1c2VzID0gew0KICAgICAgICBtdWx0aVNlbGVjdGlvbjogdHJ1ZSwNCiAgICAgICAgdmFsdWVzOiBbDQogICAgICAgICAgICBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgbGFiZWxWYWx1ZSgiQ29tcGxldGVkIiwgMSksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiT25nb2luZyIsIDIpLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBdDQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLmxhbmd1YWdlcyA9IHsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbXVsdGlTZWxlY3Rpb246IHRydWUsDQogICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0kNoaW5lc2UgTm92ZWwiLCA0KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJLb3JlYW4gTm92ZWwiLCA1KSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5ldyBsYWJlbFZhbHVlKCJMaWdodCBOb3ZlbCIsIDYpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkxpZ2h0IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0E5vdmVsIChKUCkiLCA5KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJMaWdodCBOb3ZlbCAoS1IpIiwgMTApLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlB1Ymxpc2hlZCBOb3ZlbCAoQ04pIiwgMTEpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoIlB1Ymxpc2hlZCBOb3ZlbCAoS1IpIiwgOCksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiV2ViIE5vdmVsIiwgNMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiV2ViIE5vdmVsIChDTikiLCAxKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FZhbHVlKCJXZWIgTm92ZWwgKEpQKSIsIDMpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIldlYiBOb3ZlbCAoS1IpIiwgMMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ikNCiAgICAgICAgXQ0KICAgIH0NCg0KDQogICAgcmV0dXJuT2JqZWN0LmdldFNlY3Rpb25zID0gKGtleXMpID0+IHsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgdmFyIHNlY3Rpb25zID0gWw0KICAgICAgICAgICAgbmV3IFNlY3Rpb24oImxhdGVzdCIsICJMYXRlc3QgVXBkYXRlIiwgIkxhdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVzdCIsIHRydWUpLA0KICAgICAgICAgICAgbmV3IFNlY3Rpb24oInJvbWFuY2UiLCAiUm9tYW5jZSIsICJTZWFyY2giLCBmYWxzZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwgbmV3IEZpbHRlcihbOF0pKSwNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJhY3Rpb24iLCAiQWN0aW9uIiwgIlNlYXJjaCIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GZhbHNlLCBuZXcgRmlsdGVyKFsxXSkpLA0KICAgICAgICAgICAgbmV3IFNlY3Rpb24oIm15c3RlcnkiLCAiTXlzdGVyeSIsICJTZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcihbMTRdKSksDQogICAgICAgIF0NCg0KICAgICAgICByZXR1cm4gc2VjdGlvbnMuZmlsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVyKHggPT4gIWtleXMgfHwga2V5cy5pbmNsdWRlcyh4Lm5hbWUpKTsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QudHJhbnNsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRlU2VjdGlvbiA9IGFzeW5jIChzZWN0aW9uLCBwYWdlKSA9PiB7DQogICAgICAgIGlmIChzZWN0aW9uLmlkZW50aWZpZXIgPT0gIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0kxhdGVzdCIpDQogICAgICAgICAgICByZXR1cm4gYXdhaXQgcmV0dXJuT2JqZWN0LmxhdGVzdChwYWdlKTsNCiAgICAgICAgZWxzZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Q0KICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHJldHVybk9iamVjdC5zZWFyY2goc2VjdGlvbi5maWx0ZXIgfHwgcmV0dXJuT2JqZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0LmRlZmF1bHRGaWx0ZXIoKSwgcGFnZSk7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmRlZmF1bHRGaWx0ZXIgPSAoKSA9PMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iB7DQogICAgICAgcmV0dXJuIG5ldyBGaWx0ZXIoKTsNCiAgICB9Ow0KDQogICAgcmV0dXJuT2JqZWN0LmdldEdlbnJlcyA9IGFzeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5jIChmaWx0ZXIsIHBhZ2UpID0+IHsNCiAgICAgICAgdmFyIHVybCA9ICJodHRwczovL3d3dy5saWdodG5vdmVscHViLmNvbS9zZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFyY2hhZHY/Y3RnY29uPWFuZCZ0YWdjb249YW5kJnJhdGNvbj1taW4mcmF0aW5nPTAmc29ydD1zZGF0ZSZwYWdlTm89IiArIHBhZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02U7DQogICAgICAgIGlmIChmaWx0ZXIuYWN0aXZlKQ0KICAgICAgICAgICAgdXJsID0gdXJsICsgIiZzdGF0dXM9IiArIGZpbHRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5hY3RpdmU7DQogICAgICAgIGlmIChmaWx0ZXIubGFuZ3VhZ2UgJiYgZmlsdGVyLmxhbmd1YWdlICE9ICIiKQ0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgdXJsID0gdXJsICsgIiZnZW5yZXR5cGVzPSIgKyBmaWx0ZXIubGFuZ3VhZ2U7DQoNCiAgICAgICAgaWYgKGZpbHRlci5nZW5yZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMubGVuZ3RoID4gMCkNCiAgICAgICAgICAgIHVybCA9IHVybCArICImY2F0ZWdvcmllcz0iICsgZmlsdGVyLmdlbnJlcy5qb2luKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIlMkMiKTsNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRIdG1sKHVybCkpOw0KICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgIGNvbnRhaW5lci5maW5kKCIubm92ZWwtaXRlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SIpLmZvckVhY2goeCA9PiB7DQogICAgICAgICAgICByZXN1bHQucHVzaChuZXcgTGlnaHRJdGVtKHguc2VsZWN0KCJpbWciKS5hdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRyKCJkYXRhLXNyYyB8IHNyYyIpLnVybCgpLA0KICAgICAgICAgICAgICAgIHguc2VsZWN0KCIubm92ZWwtdGl0bGUgYSIpLnRleMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HQoZmFsc2UpLA0KICAgICAgICAgICAgICAgICIiLA0KICAgICAgICAgICAgICAgIHguc2VsZWN0KCIubm92ZWwtdGl0bGUgYSIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mF0dHIoImhyZWYiKS51cmwoKSwNCiAgICAgICAgICAgICAgICByZXR1cm5PYmplY3QubmFtZSkpOw0KICAgICAgICB9KTsNCg0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5zZWFyY2ggPSBhc3luYyAoZmlsdGVyLCBwYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WdlKSA9PiB7DQogICAgICAgIGlmICghZmlsdGVyLnRpdGxlKQ0KICAgICAgICAgICAgZmlsdGVyLnRpdGxlID0gIiI7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHZhciB1cmwgPSByZXR1cm5PYmplY3Quc2VhcmNoVXJsLnJlcGxhY2UoIntwfSIsIHBhZ2UudG9TdHJpbmcoKSkucmVwbGFjZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Sgie3F9IiwgZmlsdGVyLnRpdGxlKTsNCiAgICAgICAgaWYgKGZpbHRlci5nZW5yZXMubGVuZ3RoID4gMCB8fCBmaWx0ZXIubGFuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03VhZ2UgIT0gIiIgfHwgZmlsdGVyLmFjdGl2ZSkNCiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZXR1cm5PYmplY3QuZ2V0R2VucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVzKGZpbHRlciwgcGFnZSk7DQogICAgICAgIHZhciBjb250YWluZXIgPSBhd2FpdCBIdHRwQ2xpZW50LkdldEpzb24odXJsKTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgdmFyIGh0bWwgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKGNvbnRhaW5lci5yZXN1bHR2aWV3LnRvSHRtbCgpKTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICBodG1sLmZpbmQoIi5ub3ZlbC1pdGVtIikuZm9yRWFjaCh4ID0+IHsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBMaWdodEl0ZW0oeC5zZWxlY3QoImltZyIpLmF0dHIoImRhdGEtc3JjIHwgc3JjIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ikudXJsKCksDQogICAgICAgICAgICAgICAgeC5zZWxlY3QoIi5ub3ZlbC10aXRsZSIpLnRleHQoZmFsc2UpLA0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICIiLA0KICAgICAgICAgICAgICAgIHguc2VsZWN0KCJhIikuYXR0cigiaHJlZiIpLnVybCgpLA0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHJldHVybk9iamVjdC5uYW1lKSk7DQogICAgICAgIH0pOw0KICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0NCg0KDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgcmV0dXJuT2JqZWN0LmdldENoYXB0ZXJzID0gYXN5bmMgKG5vdmVsVXJsKSA9PiB7DQogICAgICAgIHZhciBwYWdlID0gMTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgdmFyIHJlc3VsdCA9IHt9Ow0KICAgICAgICB3aGlsZSAodHJ1ZSkgew0KICAgICAgICAgICAgdmFyIHVybCA9IG5vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsVXJsICsgIi9wYWdlLXtwYWdlfSI7DQogICAgICAgICAgICB2YXIgaXRlbSA9IHJldHVybk9iamVjdC5wYXJzZXIucmVuZGVyQMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0291bnRlckNhbGxzKHBhZ2UsIHVybCk7DQogICAgICAgICAgICBwYWdlID0gaXRlbS5wYWdlOw0KICAgICAgICAgICAgdmFyIHZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVlcyA9IGF3YWl0IFByb21pc2UuYWxsKGl0ZW0ucHJvbWlzZXMpOw0KICAgICAgICAgICAgdmFyIGJyZWFrSXQgPSBmYWxzZTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0g0KICAgICAgICAgICAgdmFsdWVzLmZvckVhY2goeCA9PiB7DQogICAgICAgICAgICAgICAgaWYgKCFicmVha0l0KSB7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgIHZhciBpdGVtcyA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoeCkuZmluZCgiLmNoYXB0ZXItbGlzdCBhIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ik7DQogICAgICAgICAgICAgICAgICAgIGlmICghaXRlbXMuaGFzRWxlbWVudHMoKSkgew0KICAgICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgYnJlYWtJdCA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0QMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SA9IGl0ZW1zLnJlZHVjZSgoYXJyLCB4KSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBhcnJbeC5hdHRyKCJ0aXRsZSIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRleHQoKSArIHguYXR0cigiaHJlZiIpLnVybCgpXSA9IG5ldyBDaGFwdGVyKHguYXR0cigidGl0bGUiKS50ZXh0KCksIHguYXR0cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0igiaHJlZiIpLnVybCgpKTsNCiAgICAgICAgICAgICAgICAgICAgfSwge30pOw0KDQogICAgICAgICAgICAgICAgICAgIGlmIChyZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1cm5PYmplY3QucGFyc2VyLnZhbGlkYXRlQ2hhcHRlcnMocmVzdWx0QSwgcmVzdWx0KSA9PSBmYWxzZSkgew0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgYnJlYWtJdCA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQoNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIH0pDQoNCiAgICAgICAgICAgIGlmIChicmVha0l0KQ0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB9DQoNCiAgICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXMocmVzdWx0KTsNCg0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5nZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XROb3ZlbCA9IGFzeW5jIChub3ZlbFVybCkgPT4gew0KICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwobm92ZWxVcmwpKTsNCiAgICAgICAgdmFyIGNoYXB0ZXJVcmwgPSBjb250YWluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIuc2VsZWN0KCIuY2hhcHRlci1sYXRlc3QtY29udGFpbmVyIikuYXR0cigiaHJlZiIpLnVybCgpOw0KICAgICAgICBpZiAoIWNoYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XB0ZXJVcmwgfHwgY2hhcHRlclVybCA9PSAiIikNCiAgICAgICAgICAgIGNoYXB0ZXJVcmwgPSBub3ZlbFVybDsNCiAgICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFyIGNoYXB0ZXJzID0gYXdhaXQgcmV0dXJuT2JqZWN0LmdldENoYXB0ZXJzKGNoYXB0ZXJVcmwpOw0KICAgICAgICB2YXIgbm92ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxSZXZpZXdzID0gbmV3IE5vdmVsUmV2aWV3cygpOw0KICAgICAgICB2YXIgaW5mbyA9IGNvbnRhaW5lci5zZWxlY3QoIi5ub3ZlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C1pbmZvIik7DQogICAgICAgIG5vdmVsUmV2aWV3cy5nZW5yZXMgPSBpbmZvLmZpbmQoIi5jYXRlZ29yaWVzIGEiKS50ZXh0QXJyYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XkoKTsNCiAgICAgICAgbm92ZWxSZXZpZXdzLmF1dGhvciA9IGluZm8uc2VsZWN0KCIuYXV0aG9yIGEiKS50ZXh0KGZhbHNlKTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgbm92ZWxSZXZpZXdzLnV2b3RlcyA9ICJSYXRpbmc6IiArIGNvbnRhaW5lci5zZWxlY3QoIi5yYXRpbmctc3RhciBzdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJvbmciKS50ZXh0KGZhbHNlKSArICIvNSI7DQogICAgICAgIG5vdmVsUmV2aWV3cy5kZXNjcmlwdGlvbiA9IGNvbnRhaW5lci5zZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxlY3QoIiNpbmZvIC5zdW1tYXJ5IikuY2xlYW5Jbm5lckhUTUwoKTsNCiAgICAgICAgbm92ZWxSZXZpZXdzLmNvbXBsZXRlZCA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GluZm8udGV4dChmYWxzZSkgPT09ICJDb21wbGV0ZWQiID8gIlN0YXR1czpDb21wbGV0ZWQiIDogIlN0YXR1czpPbmdvaW5nIjsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0g0KICAgICAgICByZXR1cm4gbmV3IERldGFsaUl0ZW0oDQogICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCIuY292ZXIgaW1nIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ikuYXR0cigiZGF0YS1zcmMgfCBzcmMiKS51cmwoKSwNCiAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoIi5ub3ZlbC10aXRsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SIpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLmRlc2NyaXB0aW9uLA0KICAgICAgICAgICAgbm92ZWxVcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mwsDQogICAgICAgICAgICBjaGFwdGVycywNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cywNCiAgICAgICAgICAgIHJldHVybk9iaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVjdC5uYW1lLA0KICAgICAgICAgICAgdW5kZWZpbmVkLA0KICAgICAgICApDQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmdldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ENoYXB0ZXIgPSBhc3luYyAodXJsKSA9PiB7DQogICAgICAgIHJldHVybiByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBjbGllbnQoKS5nZXRIdG1sKHVybCkpLnNlbGVjdCgiI2NoYXB0ZXItY29udGFpbmVyIikuY2xlYW5Jbm5lckhUTUwoKTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB9DQoNCiAgICByZXR1cm5PYmplY3QubGF0ZXN0ID0gYXN5bmMgKHBhZ2UpID0+IHsNCiAgICAgICAgdmFyIHVybCA9IHJldHVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0k9iamVjdC5sYXRlc3RVcmwucmVwbGFjZSgie3B9IiwgcGFnZS50b1N0cmluZygpKTsNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKHVybCkpOw0KICAgICAgICB2YXIgcmVzdWx0IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0gW107DQogICAgICAgIGNvbnRhaW5lci5maW5kKCIubm92ZWwtaXRlbSIpLmZvckVhY2goeCA9PiB7DQogICAgICAgICAgICByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XN1bHQucHVzaChuZXcgTGlnaHRJdGVtKHguc2VsZWN0KCIubm92ZWwtY292ZXIgaW1nIikuYXR0cigiZGF0YS1zcmMgfCBzcmMiKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S51cmwoKSwNCiAgICAgICAgICAgICAgICB4LnNlbGVjdCgiLm5vdmVsLXRpdGxlIikudGV4dCgpLA0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIiLA0KICAgICAgICAgICAgICAgIHguc2VsZWN0KCIuY292ZXItd3JhcCBhIikuYXR0cigiaHJlZiIpLnVybCgpLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIHJldHVybk9iamVjdC5uYW1lKSk7DQogICAgICAgIH0pOw0KICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0NCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0g0KICAgIHJldHVybiByZXR1cm5PYmplY3Q7DQoNCn0=&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIpID0+IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HsNCiAgICBjb25zdCByZXR1cm5PYmplY3QgPSB7fTsNCiAgICByZXR1cm5PYmplY3QuaWQgPSAiMS5tYW5nYW5lbG8iOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybk9iamVjdC5kZXRhbGlJdGVtVHlwZSA9IERldGFsaUl0ZW1UeXBlLk1hbmFnYTsNCiAgICByZXR1cm5PYmplY3QucGFycMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VyTGFuZ3VhZ2UgPSAiZW4iOw0KICAgIHJldHVybk9iamVjdC5uYW1lID0gJ01hbmdhbkVsbyc7DQogICAgcmV0dXJuT2JqZWN0LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mRpc3BsYXlOYW1lID0gIk1hbmdhLVNlY3RvciI7DQogICAgcmV0dXJuT2JqZWN0LmxhdGVzdFVybCA9ICdodHRwczovL21hbmdhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsby5jb20vZ2VucmUtYWxsL3twfSc7DQogICAgcmV0dXJuT2JqZWN0LnVybCA9ICdodHRwczovL21hbmdhbmVsby5jb20vJzsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICByZXR1cm5PYmplY3Quc2VhcmNoVXJsID0gJ2h0dHBzOi8vbWFuZ2FuZWxvLmNvbS9hZHZhbmNlZF9zZWFyY2g/cz1hbGwmcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFnZT17cH0nOw0KICAgIHJldHVybk9iamVjdC5wYW5pbmF0aW9uID0gdHJ1ZTsNCiAgICByZXR1cm5PYmplY3Quc2VhcmNoUGFnaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5hdGlvbiA9IHRydWU7DQogICAgcmV0dXJuT2JqZWN0Lmljb24gPSAnaHR0cHM6Ly9tYW5nYW5lbG8uY29tL2Zhdmljb24ucG5nJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0zsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3MgPSBuZXcgUGFyc2VyU2VhcmNoU2V0dGluZ3MoKTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3MubXVsdGlTZWxlY3Rpb24gPSB0cnVlOw0KICAgIHJldHVybk9iamVjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZXMgPSB7DQogICAgICAgIG11bHRpU2VsZWN0aW9uOiBmYWxzZSwNCiAgICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWVzOiBbDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnQWN0aW9uJywgMiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZSgnQWR1bHQnLCAzKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdBZHZlbnR1cmUnLCA0KSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBsYWJlbFZhbHVlKCdDb21lZHknLCA2KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdDb29raW5nJywgNyksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnRG91amluc2hpJywgOSksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnRHJhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WEnLCAxMCksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnRWNjaGknLCAxMSksDQogICAgICAgICAgICBuZXcgbGFiZWxWYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZSgnRmFudGFzeScsIDEyKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdHZW5kZXIgYmVuZGVyJywgMTMpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0hhcmVtJywgMTQpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0hpc3RvcmljYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WwnLCAxNSksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnSG9ycm9yJywgMTYpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoJ0lzZWthaScsIDQ1KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdKb3NlaScsIDE3KSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBsYWJlbFZhbHVlKCdNYW5odWEnLCA0NCksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTWFuaHdhJywgNDMpLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ01hcnRpYWwgYXJ0cycsIDE5KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CdNYXR1cmUnLCAyMCksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTWVjaGEnLCAyMSksDQogICAgICAgICAgICBuZXcgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFiZWxWYWx1ZSgnTWVkaWNhbCcsIDIyKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNeXN0ZXJ5JywgMjQpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ09uZSBzaG90JywgMjUpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1BzeWNobMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02xvZ2ljYWwnLCAyNiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnUm9tYW5jZScsIDI3KSwNCiAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBsYWJlbFZhbHVlKCdTY2hvb2wgbGlmZScsIDI4KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTY2kgZmknLCAyOSksDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU2VpbmVuJywgMzApLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1NobMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03VqbycsIDMxKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTaG91am8gYWknLCAzMiksDQogICAgICAgICAgICBuZXcgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFiZWxWYWx1ZSgnU2hvdW5lbicsIDMzKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTaG91bmVuIGFpJywgMzQpLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1NsaWNlIG9mIGxpZmUnLCAzNSksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgnU211dCcsIDM2KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTcG9ydHMnLCAzNyksDQogICAgICAgICAgICBuZXcgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFiZWxWYWx1ZSgnU3VwZXJuYXR1cmFsJywgMzgpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1RyYWdlZHknLCAzOSksDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnV2VidG9vbnMnLCA0MCksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnWMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFvaScsIDQxKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdZdXJpJywgNDIpLA0KICAgICAgICBdLA0KICAgIH07DQoNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3Muc29ydFR5cGVzID0gew0KICAgICAgICBtdWx0aVNlbGVjdGlvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0jogZmFsc2UsDQogICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0xhdGVzdCBSZWxlYXNlJywgJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ycpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ05ld2VzdCcsICduZXdlc3QnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FZhbHVlKCdUb3AgdmlldycsICd0b3B2aWV3JyksDQogICAgICAgIF0sDQogICAgfTsNCg0KICAgIHJldHVybk9iamVjdC5wYXJzZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJTZWFyY2hTZXR0aW5ncy5zdGF0dXNlcyA9IHsNCiAgICAgICAgbXVsdGlTZWxlY3Rpb246IGZhbHNlLA0KICAgICAgICB2YWx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XM6IFsNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJDb21wbGV0ZWQiLCAiY29tcGxldGVkIiksDQogICAgICAgICAgICBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgbGFiZWxWYWx1ZSgib25nb2luZyIsICJvbmdvaW5nIikNCiAgICAgICAgXQ0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5nZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRTZWN0aW9ucyA9IChrZXlzKSA9PiB7DQogICAgICAgIHZhciBzZWN0aW9ucyA9IFsNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJsYXRlc3QiLCAiTGF0ZXN0IFVwZGF0ZSIsICJMYXRlc3QiLCB0cnVlKSwNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJob3QiLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAiTmV3ZXN0IiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKHVuZGVmaW5lZCwgIm5ld2VzdCIpKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBTZWN0aW9uKCJjb21wbGV0ZWQiLCAiQ29tcGxldGVkIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKHVuZGVmaW5lZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CwgdW5kZWZpbmVkLCB1bmRlZmluZWQsICJjb21wbGV0ZWQiKSksDQogICAgICAgICAgICBuZXcgU2VjdGlvbigicG9wdWxhciIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJNb3N0IFBvcHVsYXIiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIodW5kZWZpbmVkLCAidG9wdmlldyIpKQ0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBdDQoNCiAgICAgICAgcmV0dXJuIHNlY3Rpb25zLmZpbHRlcih4ID0+ICFrZXlzIHx8IGtleXMuaW5jbHVkZXMoeC5uYW1lKSk7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LnRyYW5zbGF0ZVNlY3Rpb24gPSBhc3luYyAoc2VjdGlvbiwgcGFnZSkgPT4gew0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBpZiAoc2VjdGlvbi5pZGVudGlmaWVyID09ICJMYXRlc3QiKQ0KICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHJldHVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0k9iamVjdC5sYXRlc3QocGFnZSk7DQogICAgICAgIGVsc2UNCiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZXR1cm5PYmplY3QucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VhcmNoKHNlY3Rpb24uZmlsdGVyIHx8IHJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyKCksIHBhZ2UpOw0KICAgIH0NCg0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyID0gKCkgPT4gew0KICAgICAgICB2YXIgZmlsdGVyID0gbmV3IEZpbHRlcigpOw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICByZXR1cm4gZmlsdGVyOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5zZWFyY2ggPSBhc3luYyAoZmlsdGVyLCBwYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WdlKSA9PiB7DQogICAgICAgIHZhciB1cmwgPSByZXR1cm5PYmplY3Quc2VhcmNoVXJsLnJlcGxhY2UoIntwfSIsIHBhZ2UudG9TdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJpbmcoKSk7DQogICAgICAgIGlmIChmaWx0ZXIuZ2VucmVzLmxlbmd0aCA+IDApDQogICAgICAgICAgICB1cmwgPSAoIiZnX2k9XMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yIgKyBmaWx0ZXIuZ2VucmVzLmpvaW4oIl8iKSkudXJpKHVybCk7DQogICAgICAgIGlmIChmaWx0ZXIuc29ydFR5cGUgJiYgZmlsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVyLnNvcnRUeXBlICE9ICIiKQ0KICAgICAgICAgICAgdXJsID0gKCImb3JieT0iICsgZmlsdGVyLnNvcnRUeXBlKS51cmkodXJsKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TsNCiAgICAgICAgaWYgKGZpbHRlci5hY3RpdmUgJiYgZmlsdGVyLmFjdGl2ZSAhPSAiIikNCiAgICAgICAgICAgIHVybCA9ICgiJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nN0cz0iICsgZmlsdGVyLmFjdGl2ZSkudXJpKHVybCk7DQogICAgICAgIGlmIChmaWx0ZXIudGl0bGUgJiYgZmlsdGVyLnRpdGxlLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRyaW0oKS5sZW5ndGggPiAwKQ0KICAgICAgICAgICAgdXJsID0gKCIma2V5dz0iICsgZmlsdGVyLnRpdGxlLnJlcGxhY2UoL1sgXMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S9nLCAiXyIpKS51cmkodXJsKTsNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HR0cENsaWVudC5nZXRIdG1sKHVybCkpOw0KICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgIGNvbnRhaW5lci5maW5kKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CcuY29udGVudC1nZW5yZXMtaXRlbScpLmZvckVhY2goKHgpID0+IHsNCiAgICAgICAgICAgIGlmICh4LnNlbGVjdCgnLmdlbnJlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y1pdGVtLWltZyBpbWcnKS5hdHRyKCJzcmMiKS5oYXNWYWx1ZSgpKQ0KICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICBuZXcgTGlnaHRJdGVtKA0KICAgICAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoJy5nZW5yZXMtaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRlbS1pbWcgaW1nJykuYXR0cigic3JjIikudXJsKCksDQogICAgICAgICAgICAgICAgICAgICAgICB4LnNlbGVjdCgnLmdlbnJlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y1pdGVtLWltZycpLmF0dHIoInRpdGxlIikudGV4dCgpLA0KICAgICAgICAgICAgICAgICAgICAgICAgJycsDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICB4LnNlbGVjdCgnLmdlbnJlcy1pdGVtLWltZycpLmF0dHIoImhyZWYiKS51cmwoKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIHJldHVybk9iamVjdC5uYW1lDQogICAgICAgICAgICAgICAgICAgICksDQogICAgICAgICAgICAgICAgKTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgfSk7DQoNCiAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICB9DQoNCg0KDQogICAgcmV0dXJuT2JqZWN0LmdldE5vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsID0gYXN5bmMgKG5vdmVsVXJsKSA9PiB7DQogICAgICAgIHZhciBjb250YWluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbChub3ZlbFVybCkpOw0KDQogICAgICAgIHZhciBpdGVtID0gbmV3IE5vdmVsUmV2aWV3cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ygpOw0KICAgICAgICB2YXIgdGJJbmZvID0gY29udGFpbmVyLmZpbmQoIi52YXJpYXRpb25zLXRhYmxlSW5mbyB0ciIpDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIGlmICh0YkluZm8ubGVuZ3RoKCkgPiAzKQ0KICAgICAgICAgICAgaXRlbS5nZW5yZXMgPSB0YkluZm8uZXEoMykuZmluZCgiLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRhYmxlLXZhbHVlIGEiKS5tYXAoeCA9PiB4LnRleHQoZmFsc2UpKTsNCiAgICAgICAgZWxzZSBpZiAodGJJbmZvLmxlbmd0aCgpIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D09IDMpDQogICAgICAgICAgICBpdGVtLmdlbnJlcyA9IHRiSW5mby5lcSgyKS5maW5kKCIudGFibGUtdmFsdWUgYSIpLm1hcCh4IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0+IHgudGV4dChmYWxzZSkpOw0KICAgICAgICBpdGVtLmRlc2NyaXB0aW9uID0gY29udGFpbmVyLnNlbGVjdCgiLnBhbmVsLXN0bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03J5LWluZm8tZGVzY3JpcHRpb24iKS50ZXh0KGZhbHNlKQ0KDQogICAgICAgIGl0ZW0udXZvdGVzID0gY29udGFpbmVyLnNlbGVjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CgiZW1bdHlwZW9mPSd2OlJhdGluZyddIikudGV4dChmYWxzZSkucmVtb3ZlTmV3TGluZSgiICIpOw0KICAgICAgICBpdGVtLmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVybmF0aXZlTmFtZXMgPSB0YkluZm8ubGVuZ3RoKCkgPiAzID8gdGJJbmZvLmVxKDApLnNlbGVjdCgiI2VkaXRhc3NvY2lhdGVkIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ikudGV4dChmYWxzZSkgOiAiIjsNCiAgICAgICAgaWYgKHRiSW5mby5sZW5ndGgoKSA+IDMpDQogICAgICAgICAgICBpdGVtLmF1dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GhvciA9IHRiSW5mby5lcSgxKS5zZWxlY3QoIi50YWJsZS12YWx1ZSIpLnRleHQoZmFsc2UpOw0KICAgICAgICBlbHNlIGlmICh0YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0kluZm8ubGVuZ3RoKCkgPiAwKQ0KICAgICAgICAgICAgaXRlbS5hdXRob3IgPSB0YkluZm8uZXEoMCkuc2VsZWN0KCIudGFibGUtdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUiKS50ZXh0KGZhbHNlKTsNCiAgICAgICAgaXRlbS5sYW5nID0gIiI7DQogICAgICAgIGlmICh0YkluZm8ubGVuZ3RoKCkgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAzKQ0KICAgICAgICAgICAgaXRlbS5jb21wbGV0ZWQgPSB0YkluZm8uZXEoMikudGV4dChmYWxzZSkucmVtb3ZlTmV3TGluZSgiIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIpOw0KICAgICAgICBlbHNlIGlmICh0YkluZm8ubGVuZ3RoKCkgPT0gMykNCiAgICAgICAgICAgIGl0ZW0uY29tcGxldGVkID0gdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GJJbmZvLmVxKDEpLnRleHQoZmFsc2UpLnJlbW92ZU5ld0xpbmUoIiAiKTsNCiAgICAgICAgdmFyIGNoYXB0ZXJzID0gY29udGFpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVyLmZpbmQoIi5yb3ctY29udGVudC1jaGFwdGVyIGEiKS5tYXAoeCA9PiBuZXcgQ2hhcHRlcih4LnRleHQoZmFsc2UpLCB4LmF0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HIoImhyZWYiKS51cmwoKSkpOw0KICAgICAgICByZXR1cm4gbmV3IERldGFsaUl0ZW0oDQogICAgICAgICAgICBjb250YWluZXIucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VsZWN0KCcuaW5mby1pbWFnZSBpbWcnKS5hdHRyKCJzcmMiKS51cmwoKSwNCiAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5zdG9yeS1pbmZvLXJpZ2h0IGgxJykudGV4dChmYWxzZSksDQogICAgICAgICAgICBpdGVtLmRlc2NyaXB0aW9uLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbm92ZWxVcmwsDQogICAgICAgICAgICBjaGFwdGVycy5yZXZlcnNlKCksDQogICAgICAgICAgICBpdGVtLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgcmV0dXJuT2JqZWN0Lm5hbWUsDQogICAgICAgICAgICB1bmRlZmluZWQsDQogICAgICAgICk7DQogICAgfQ0KDQogICAgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuT2JqZWN0LmdldENoYXB0ZXIgPSBhc3luYyAodXJsKSA9PiB7DQogICAgICAgIHJldHVybiByZXR1cm5PYmplY3QucGFycMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VyLmpxKGF3YWl0IG5ldyBjbGllbnQoKS5nZXRIdG1sKHVybCkpLmZpbmQoIi5jb250YWluZXItY2hhcHRlci1yZWFkZXIgaW1nIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ikubWFwKHggPT4geC5hdHRyKCJzcmMiKS51cmwoKSkuZmlsdGVyKHggPT4geCAmJiB4ICE9ICIiKTsNCiAgICB9DQoNCiAgICByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1cm5PYmplY3QubGF0ZXN0ID0gYXN5bmMgKHBhZ2UpID0+IHsNCiAgICAgICAgdmFyIHVybCA9IHJldHVybk9iamVjdC5sYXRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03RVcmwucmVwbGFjZSgne3B9JywgcGFnZS50b1N0cmluZygpKTsNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKHVybCkpOw0KICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIGNvbnRhaW5lci5maW5kKCcuY29udGVudC1nZW5yZXMtaXRlbScpLmZvckVhY2goeCA9PiB7DQogICAgICAgICAgICBpZiAoeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5zZWxlY3QoJy5nZW5yZXMtaXRlbS1pbWcgaW1nJykuYXR0cigic3JjIikuaGFzVmFsdWUoKSkNCiAgICAgICAgICAgICAgICByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XN1bHQucHVzaCgNCiAgICAgICAgICAgICAgICAgICAgbmV3IExpZ2h0SXRlbSgNCiAgICAgICAgICAgICAgICAgICAgICAgIHgucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VsZWN0KCIuZ2VucmVzLWl0ZW0taW1nIGltZyIpLmF0dHIoInNyYyIpLnRleHQoKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Hguc2VsZWN0KCIuZ2VucmVzLWl0ZW0taW1nIikuYXR0cigidGl0bGUiKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICcnLA0KICAgICAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoJy5nZW5yZXMtaXRlbS1pbWcnKS5hdHRyKCJocmVmIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ikudXJsKCksDQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5PYmplY3QubmFtZQ0KICAgICAgICAgICAgICAgICAgICApLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgICAgICk7DQogICAgICAgIH0pOw0KDQogICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgfQ0KDQogICAgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuIHJldHVybk9iamVjdDsNCn0=&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50KSA9PiB7DQogICAgY29uc3QgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuT2JqZWN0ID0ge307DQogICAgcmV0dXJuT2JqZWN0LmlkID0gIjEubXRsbm92ZWwiOw0KICAgIHJldHVybk9iamVjdC5kZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRhbGlJdGVtVHlwZSA9IERldGFsaUl0ZW1UeXBlLk5vdmVsOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJMYW5ndWFnZSA9ICJlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iI7DQogICAgcmV0dXJuT2JqZWN0Lm5hbWUgPSAnTXRsTm92ZWwnOw0KICAgIHJldHVybk9iamVjdC5kaXNwbGF5TmFtZSA9IHJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybk9iamVjdC5uYW1lOw0KICAgIHJldHVybk9iamVjdC5sYXRlc3RVcmwgPSAnaHR0cHM6Ly93d3cubXRsbm92ZWwuY29tL3dwLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFkbWluL2FkbWluLWFqYXgucGhwP2FjdGlvbj1yY250X3VwZGF0ZSZ2aWV3X2FsbD15ZXMmbW9yZUl0ZW1zUGFnZUluZGV4PXtwfMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SZfX2FtcF9zb3VyY2Vfb3JpZ2luPWh0dHBzJTNBJTJGJTJGd3d3Lm10bG5vdmVsLmNvbSc7DQogICAgcmV0dXJuT2JqZWN0LnVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CA9ICdodHRwczovL3d3dy5tdGxub3ZlbC5jb20nOw0KICAgIHJldHVybk9iamVjdC5zZWFyY2hVcmwgPSAnaHR0cHM6Ly93d3cubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRsbm92ZWwuY29tL3dwLWFkbWluL2FkbWluLWFqYXgucGhwP2FjdGlvbj1hdXRvc3VnZ2VzdCZxPXtxfSZtb3JlSXRlbXNQYWdlSMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5kZXg9e3B9Jl9fYW1wX3NvdXJjZV9vcmlnaW49aHR0cHMlM0ElMkYlMkZ3d3cubXRsbm92ZWwuY29tJzsNCiAgICByZXR1cm5PYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mplY3QucGFuaW5hdGlvbiA9IHRydWU7DQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaFBhZ2luYXRpb24gPSB0cnVlOw0KICAgIHJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybk9iamVjdC5pY29uID0gJ2h0dHBzOi8vd3d3Lm10bG5vdmVsLm5ldC90aGVtZXMvbXRsbm92ZWwvaW1hZ2VzL210bG5vdmVsLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TMyLmljbyc7DQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzID0gbmV3IFBhcnNlclNlYXJjaFNldHRpbmdzKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ck7DQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLm11bHRpU2VsZWN0aW9uID0gZmFsc2U7DQogICAgcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLmdlbnJlcyA9IHsNCiAgICAgICAgbXVsdGlTZWxlY3Rpb246IGZhbHNlLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB2YWx1ZXM6IFsNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdBY3Rpb24nKSwNCiAgICAgICAgICAgIG5ldyBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJlbFZhbHVlKCdBZHVsdCcpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0NvbWVkeScpLA0KICAgICAgICAgICAgbmV3IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxhYmVsVmFsdWUoJ0FkdmVudHVyZScpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0RyYW1hJyksDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBuZXcgbGFiZWxWYWx1ZSgnRWNjaGknKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdFcmNpeXVhbicpLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbmV3IGxhYmVsVmFsdWUoJ0Zhbi1GaWN0aW9uJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnRmFudGFzeScpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0dhbWUnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdHZW5kZXIgQMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVuZGVyJywgImdlbmRlci1iZW5kZXIiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdIYXJlbScpLA0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbmV3IGxhYmVsVmFsdWUoJ0hpc3RvcmljYWwnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdIb3Jyb3InKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdKb3NlaScpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ01hcnRpYWwgQXJ0cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ycsICJtYXJ0aWFsLWFydHMiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNYXR1cmUnKSwNCiAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBsYWJlbFZhbHVlKCdNZWNoYScpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ01pbGl0YXJ5JyksDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBuZXcgbGFiZWxWYWx1ZSgnTXlzdGVyeScpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1BzeWNob2xvZ2ljYWwnKSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdSb21hbmNlJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU2Nob29sIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ExpZmUnLCAnc2Nob29sLWxpZmUnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTY2ktZmknKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBsYWJlbFZhbHVlKCdTZWluZW4nKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTaG91am8nKSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCdTaG91am8gQWknLCAic2hvdWpvLWFpIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02hvdW5lbicpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1Nob3VuZW4gQWknLCAic2hvdW5lbi1haSIpLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbmV3IGxhYmVsVmFsdWUoJ1NsaWNlIG9mIExpZmUnLCAic2xpY2Utb2YtbGlmZSIpLA0KICAgICAgICAgICAgbmV3IGxhYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsVmFsdWUoJ1NtdXQnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTcG9ydHMnKSwNCiAgICAgICAgICAgIG5ldyBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJlbFZhbHVlKCdTdXBlcm5hdHVyYWwnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdUcmFnZWR5JyksDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBuZXcgbGFiZWxWYWx1ZSgnVHdvLWRpbWVuc2lvbmFsJywgInR3by1kaW1lbnNpb25hbC1ub3ZlbCIpLA0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbmV3IGxhYmVsVmFsdWUoJ1VyYmFuIExpZmUnLCAidXJiYW4tZmljdGlvbiIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUoJ1d1eGlhJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnWGlhbnhpYScpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoJ1h1YW5odWFuJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnWWFvaScpLA0KICAgICAgICAgICAgbmV3IGxhYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsVmFsdWUoJ1l1cmknKSwNCg0KICAgICAgICBdLA0KICAgIH07DQoNCiAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GluZ3Muc3RhdHVzZXMgPSB7DQogICAgICAgIG11bHRpU2VsZWN0aW9uOiBmYWxzZSwNCiAgICAgICAgdmFsdWVzOiBbDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBuZXcgbGFiZWxWYWx1ZSgnQ29tcGxldGVkJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnRHJvcHBlZCcpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0hpYXR1cycpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0luY29tcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxldGUnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdPbmdvaW5nJyksDQogICAgICAgIF0sDQogICAgfTsNCg0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybk9iamVjdC5nZXRTZWN0aW9ucyA9IChrZXlzKSA9PiB7DQogICAgICAgIHZhciBzZWN0aW9ucyA9IFsNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBTZWN0aW9uKCJsYXRlc3QiLCAiTGF0ZXN0IFVwZGF0ZSIsICJMYXRlc3QiLCB0cnVlKSwNCiAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBTZWN0aW9uKCJjb21wbGV0ZWQiLCAiQ29tcGxldGVkIE5vdmVsIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKHVuZGVmaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsICJjb21wbGV0ZWQiKSksDQogICAgICAgICAgICBuZXcgU2VjdGlvbigib25nb2luZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yIsICJPbmdvaW5nIE5vdmVsIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mluZWQsICJvbmdvaW5nIikpLA0KICAgICAgICBdDQoNCiAgICAgICAgcmV0dXJuIHNlY3Rpb25zLmZpbHRlcih4ID0+ICFrZXlzIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Hx8IGtleXMuaW5jbHVkZXMoeC5uYW1lKSk7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LnRyYW5zbGF0ZVNlY3Rpb24gPSBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03luYyAoc2VjdGlvbiwgcGFnZSkgPT4gew0KICAgICAgICBpZiAoc2VjdGlvbi5pZGVudGlmaWVyID09ICJMYXRlc3QiKQ0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgcmV0dXJuIGF3YWl0IHJldHVybk9iamVjdC5sYXRlc3QocGFnZSk7DQogICAgICAgIGVsc2UNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybiBhd2FpdCByZXR1cm5PYmplY3Quc2VhcmNoKHNlY3Rpb24uZmlsdGVyIHx8IHJldHVybk9iamVjdC5kZWZhdWx0RmlsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVyKCksIHBhZ2UpOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyID0gKCkgPT4gew0KICAgICAgICB2YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIgZmlsdGVyID0gbmV3IEZpbHRlcigpOw0KICAgICAgICByZXR1cm4gZmlsdGVyOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5nZXRCeUdlbnJlcyA9IGFzeW5jIChmaWx0ZXIsIHBhZ2UpID0+IHsNCiAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB0cnkgew0KICAgICAgICAgICAgdmFyIGdlbnJlVXJsID0gImdlbnJlL3tnfS9wYWdlL3twfS8iLnVyaShyZXR1cm5PYmplY3QudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJsKS5yZXBsYWNlKCJ7cH0iLCBwYWdlLnRvU3RyaW5nKCkpOw0KICAgICAgICAgICAgdmFyIHN0YXR1c1VybCA9ICJzdGF0dXMveMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03N9L3BhZ2Uve3B9LyIudXJpKHJldHVybk9iamVjdC51cmwpLnJlcGxhY2UoIntwfSIsIHBhZ2UudG9TdHJpbmcoKSk7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB2YXIgcSA9DQogICAgICAgICAgICAgICAgZmlsdGVyLmdlbnJlcy5sZW5ndGggPiAwID8NCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBnZW5yZVVybC5yZXBsYWNlKCJ7Z30iLCBmaWx0ZXIuZ2VucmVzWzBdLnRvTG93ZXJDYXNlKCkpIDoNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBmaWx0ZXIuYWN0aXZlICYmIGZpbHRlci5hY3RpdmUgIT0gJycgPw0KICAgICAgICAgICAgICAgIHN0YXR1c1VybC5yZXBsYWNlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJ7c30iLCBmaWx0ZXIuYWN0aXZlLnRvTG93ZXJDYXNlKCkpIDoNCiAgICAgICAgICAgICAgICB1bmRlZmluZWQ7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwocSB8fCAiIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ikpOw0KICAgICAgICAgICAgdmFyIGRhdGEgPSBjb250YWluZXIuZmluZCgnLmJveCcpOw0KICAgICAgICAgICAgdmFyIHJlc3VsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CA9IFtdOw0KICAgICAgICAgICAgZGF0YS5mb3JFYWNoKCh4KSA9PiB7DQogICAgICAgICAgICAgICAgdmFyIGhyZWYgPSB4LnNlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVjdCgiLmxpc3QtYSIpLmF0dHIoImhyZWYiKS50ZXh0KCkNCiAgICAgICAgICAgICAgICB2YXIgdGl0bGUgPSBjb250YWluZXIuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mluZCgiLmxpc3QtdGl0bGUiKS53aGVyZSh4ID0+IHguYXR0cigiaHJlZiIpLnRleHQoKSA9PSBocmVmKS50ZXh0KCk7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgcmVzdWx0LnB1c2goDQogICAgICAgICAgICAgICAgICAgIG5ldyBMaWdodEl0ZW0oeC5zZWxlY3QoJy5saXN0LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WltZycpLmF0dHIoJ3NyYycpLnVybCgpLCB0aXRsZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICcnLA0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgaHJlZi51cmkocmV0dXJuT2JqZWN0LnVybCksIHJldHVybk9iamVjdC5uYW1lDQogICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICksDQogICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgIH0pOw0KDQoNCiAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgY29uc29sZS5sb2coZSk7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICB9DQoNCiAgICByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1cm5PYmplY3Quc2VhcmNoID0gYXN5bmMgKGZpbHRlciwgcGFnZSkgPT4gew0KDQogICAgICAgIGlmIChmaWx0ZXIuZ2VucmVzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mxlbmd0aCA+IDAgfHwgKGZpbHRlci5hY3RpdmUgJiYgZmlsdGVyLmFjdGl2ZSAhPSAiIikpDQogICAgICAgICAgICByZXR1cm4gYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XdhaXQgcmV0dXJuT2JqZWN0LmdldEJ5R2VucmVzKGZpbHRlciwgcGFnZSk7DQoNCiAgICAgICAgaWYgKCFmaWx0ZXIudGl0bGUgfMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HwgZmlsdGVyLnRpdGxlLmxlbmd0aCA8PSAwKQ0KICAgICAgICAgICAgcmV0dXJuIFtdOw0KICAgICAgICB2YXIganNvbkRhdGEgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SBhd2FpdCBIdHRwQ2xpZW50LkdldEpzb24ocmV0dXJuT2JqZWN0LnNlYXJjaFVybC5yZXBsYWNlKCJ7cX0iLCBmaWx0ZXIudGl0bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GUgfHwgIiIpLnJlcGxhY2UoIntwfSIsIHBhZ2UudG9TdHJpbmcoKSkpOw0KICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIGlmIChqc29uRGF0YS5pdGVtcyAmJiBqc29uRGF0YS5pdGVtcy5sZW5ndGggPiAwKQ0KICAgICAgICAgICAganNvbkRhdGEuaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRlbXMuZm9yRWFjaCh4ID0+IHsNCiAgICAgICAgICAgICAgICBpZiAoeC5yZXN1bHRzICYmIHgucmVzdWx0cy5sZW5ndGggPiAwKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SB7DQogICAgICAgICAgICAgICAgICAgIHgucmVzdWx0cy5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgcmVzdWx0LnB1c2goDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IExpZ2h0SXRlbShpdGVtLnRodW1ibmFpbCwgaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRlbS50aXRsZS5odG1sVGV4dChmYWxzZSksICIiLCBpdGVtLnBlcm1hbGluay51cmkocmV0dXJuT2JqZWN0LnVybCkgfHwgIiIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybk9iamVjdC5uYW1lKQ0KICAgICAgICAgICAgICAgICAgICAgICAgKQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgfQ0KDQogICAgcmV0dXJuTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02JqZWN0LmdldENoYXB0ZXJzID0gYXN5bmMgKG5vdmVsVXJsKSA9PiB7DQogICAgICAgIHZhciB1cmwgPSAiY2hhcHRlci1saXN0LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yIudXJpKG5vdmVsVXJsKTsNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ENsaWVudC5nZXRIdG1sKHVybCkpOw0KICAgICAgICByZXR1cm4gY29udGFpbmVyLmZpbmQoIi5jaC1saXN0IGEiKS5tYXAoeCA9PMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iBuZXcgQ2hhcHRlcih4LnRleHQoZmFsc2UpLCB4LmF0dHIoImhyZWYiKS51cmwoKSkpLnJldmVyc2UoKTsNCiAgICB9DQoNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CByZXR1cm5PYmplY3QuZ2V0Tm92ZWwgPSBhc3luYyAobm92ZWxVcmwpID0+IHsNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKG5vdmVsVXJsKSk7DQogICAgICAgIHZhciBjaGFwdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVycyA9IGF3YWl0IHJldHVybk9iamVjdC5nZXRDaGFwdGVycyhub3ZlbFVybCk7DQogICAgICAgIHZhciBub3ZlbFJldmlld3MgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SBuZXcgTm92ZWxSZXZpZXdzKCk7DQogICAgICAgIG5vdmVsUmV2aWV3cy5nZW5yZXMgPSBjb250YWluZXIuZmluZCgiI2N1cnJlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRnZW4gYSIpLnRleHRBcnJheSgpOw0KICAgICAgICBub3ZlbFJldmlld3MudXZvdGVzID0gY29udGFpbmVyLnNlbGVjdCgiLnJhdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GluZy1pbmZvIHN0cm9uZyIpLnRleHQoZmFsc2UpICsgIiAvIDUiOw0KICAgICAgICBub3ZlbFJldmlld3MuY29tcGxldGVkID0gYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029udGFpbmVyLnNlbGVjdCgiI2N1cnJlbnRzdGF0dXMiKS50ZXh0KGZhbHNlKSA9PT0gIkNvbXBsZXRlZCIgPyAiU3RhdHVzOkNvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XBsZXRlZCIgOiAiU3RhdHVzOiIgKyBjb250YWluZXIuc2VsZWN0KCIjY3VycmVudHN0YXR1cyIpLnRleHQoZmFsc2UpOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB2YXIgdHIgPSBjb250YWluZXIuc2VsZWN0KCIjcGFuZWxub3ZlbGluZm8gLmluZm8iKS5maW5kKCJ0ciIpOw0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBpZiAodHIgIT09IG51bGwgJiYgdHIgJiYgdHIubGVuZ3RoKCkgPiAwKQ0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLmF1dGhvcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iA9IHRyLmVxKHRyLmxlbmd0aCgpIC0gMSkuc2VsZWN0KCJhIikudGV4dEFycmF5KCkuam9pbigiLCIpOw0KICAgICAgICByZXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m4gbmV3IERldGFsaUl0ZW0oDQogICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCcubWFpbi10bWInKS5hdHRyKCdzcmMnKS51cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mwoKSwNCiAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoJy5lbnRyeS10aXRsZScpLnRleHQoZmFsc2UpLA0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgY29udGFpbmVyLnNlbGVjdCgnLmRlc2MnKS5jbGVhbklubmVySFRNTCgpLA0KICAgICAgICAgICAgbm92ZWxVcmwsDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBjaGFwdGVycywNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cywNCiAgICAgICAgICAgIHJldHVybk9iamVjdC5uYW1lLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgdW5kZWZpbmVkLA0KICAgICAgICApOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5nZXRDaGFwdGVyIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0gYXN5bmMgKHVybCkgPT4gew0KICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgY2xpZW50KCkuZ2V0SHRtbCh1cmwpKTsNCiAgICAgICAgcmV0dXJuIGNvbnRhaW5lci5zZWxlY3QoJy5wb3N0LWNvbnRlbnQgLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nBhcicpLmNsZWFuSW5uZXJIVE1MKCk7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmxhdGVzdCA9IGFzeW5jIChwYWdlKSA9PMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iB7DQogICAgICAgIHZhciB1cmwgPSByZXR1cm5PYmplY3QubGF0ZXN0VXJsLnJlcGxhY2UoJ3twfScsIHBhZ2UudG9TdHJpbmcoKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Sk7DQogICAgICAgIHZhciBqc29uRGF0YSA9IGF3YWl0IEh0dHBDbGllbnQuR2V0SnNvbih1cmwpOw0KICAgICAgICB2YXIgcmVzdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx0ID0gW107DQogICAgICAgIGlmIChqc29uRGF0YS5pdGVtcyAmJiBqc29uRGF0YS5pdGVtcy5sZW5ndGggPiAwKQ0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAganNvbkRhdGEuaXRlbXMuZm9yRWFjaCh4ID0+IHsNCiAgICAgICAgICAgICAgICB2YXIgbG5rID0gKHgubm92ZWxfcGVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFsaW5rIHx8ICIiKS50b0h0bWwoKS5xdWVyeVNlbGVjdG9yKCJhIik7DQogICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgIG5ldyBMaWdodEl0ZW0oeC50bWIsIChsbmsuaW5uZXJUZXh0IHx8ICIiKSwgIiIsIGxuay5nZXRBdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRyaWJ1dGUoImhyZWYiKS51cmkocmV0dXJuT2JqZWN0LnVybCksIHJldHVybk9iamVjdC5uYW1lKQ0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CkNCiAgICAgICAgICAgIH0pDQogICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgfQ0KDQogICAgcmV0dXJuIHJldHVybk9iamVjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0DsNCg0KfTs=&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIpID0+IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HsNCiAgICBjb25zdCByZXR1cm5PYmplY3QgPSB7fTsNCiAgICByZXR1cm5PYmplY3QuaWQgPSAiMS5ub3ZlbGZ1bGwiOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybk9iamVjdC5kZXRhbGlJdGVtVHlwZSA9IERldGFsaUl0ZW1UeXBlLk5vdmVsOw0KICAgIHJldHVybk9iamVjdC5wYXJzZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJMYW5ndWFnZSA9ICJlbiI7DQogICAgcmV0dXJuT2JqZWN0Lm5hbWUgPSAnTm92ZWxGdWxsJzsNCiAgICByZXR1cm5PYmplY3QuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlzcGxheU5hbWUgPSAiTm92ZWwtRnVsbHkiOw0KICAgIHJldHVybk9iamVjdC5sYXRlc3RVcmwgPSAnaHR0cHM6Ly9ub3ZlbGZ1bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GwuY29tL2xhdGVzdC1yZWxlYXNlLW5vdmVsP3BhZ2U9e3B9JzsNCiAgICByZXR1cm5PYmplY3QudXJsID0gJ2h0dHBzOi8vbm92ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxmdWxsLmNvbSc7DQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaFVybCA9ICdodHRwczovL25vdmVsZnVsbC5jb20vc2VhcmNoP2tleMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XdvcmQ9e3F9JnBhZ2U9e3B9JzsNCiAgICByZXR1cm5PYmplY3QuY2hhcHRlcnNVcmwgPSAnaHR0cHM6Ly9ub3ZlbGZ1bGwuY29tLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02FqYXgtY2hhcHRlci1vcHRpb24/bm92ZWxJZD17aWR9JzsNCiAgICByZXR1cm5PYmplY3QucGFuaW5hdGlvbiA9IHRydWU7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgcmV0dXJuT2JqZWN0LnNlYXJjaFBhZ2luYXRpb24gPSB0cnVlOw0KICAgIHJldHVybk9iamVjdC5pY29uID0gJ2h0dHBzOi8vbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m92ZWxmdWxsLmNvbS93ZWIvaW1hZ2VzL2Zhdmljb24uaWNvJzsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03MgPSBuZXcgUGFyc2VyU2VhcmNoU2V0dGluZ3MoKTsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3MuZ2VucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVzID0gew0KICAgICAgICBtdWx0aVNlbGVjdGlvbjogZmFsc2UsDQogICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgbmV3IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxhYmVsVmFsdWUoJ1Nob3VuZW4nKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdIYXJlbScpLA0KICAgICAgICAgICAgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV3IGxhYmVsVmFsdWUoJ0NvbWVkeScpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ01hcnRpYWwgQXJ0cycsICdNYXJ0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFsK0FydHMnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTY2hvb2wgTGlmZScsICdTY2hvb2wrTGlmZScpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ015c3RlcnknKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTaG91am8nKSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdSb21hbmNlJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU2NpLWZpJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnR2VuZGVyIEJlbmRlcicsICdHZW5kZXIrQmVuZGVyJyksDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBuZXcgbGFiZWxWYWx1ZSgnTWF0dXJlJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnRmFudGFzeScpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0hvcnJvcicpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0RyYW1hJyksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnVHJhZ2VkeScpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1N1cGVybmF0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJhbCcpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0VjY2hpJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnWMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVhbmh1YW4nKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdBZHZlbnR1cmUnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FZhbHVlKCdQc3ljaG9sb2dpY2FsJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnWGlhbnhpYScpLA0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbmV3IGxhYmVsVmFsdWUoJ1d1eGlhJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnSGlzdG9yaWNhbCcpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1NsaWNlIG9mIExpZmUnLCAnU2xpY2Urb2YrTGlmZScpLA0KICAgICAgICAgICAgbmV3IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxhYmVsVmFsdWUoJ0xvbGljb24nKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdBZHVsdCcpLA0KICAgICAgICAgICAgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV3IGxhYmVsVmFsdWUoJ0pvc2VpJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU3BvcnRzJyksDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBuZXcgbGFiZWxWYWx1ZSgnU211dCcpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ01lY2hhJyksDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBuZXcgbGFiZWxWYWx1ZSgnWWFvaScpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1Nob3VuZW4gQWknLCAnU2hvdW5lbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0itBaScpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0vhu7MgVMOtY2ggVsawxqFuZyBU4buNYScsICdL4buzK1TDrWNoKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU01bGsMahbmcrVOG7jWEnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNVCcpLA0KICAgICAgICBdLA0KICAgIH0NCg0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5zb3J0VHlwZXMgPSB7DQogICAgICAgIG11bHRpU2VsZWN0aW9uOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iBmYWxzZSwNCiAgICAgICAgdmFsdWVzOiBbDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTGF0ZXN0IFJlbGVhc2UgTm92ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WwnLCAnbGF0ZXN0LXJlbGVhc2Utbm92ZWwnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdIb3QgTm92ZWwnLCAnaG90LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5vdmVsJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnQ29tcGxldGVkIE5vdmVsJywgJ2NvbXBsZXRlZC1ub3ZlbCcpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ01vc3QgUG9wdWxhcicsICdtb3N0LXBvcHVsYXInKSwNCiAgICAgICAgXSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICB9DQoNCiAgICByZXR1cm5PYmplY3QuZ2V0U2VjdGlvbnMgPSAoa2V5cykgPT4gew0KICAgICAgICB2YXIgc2VjdGlvbnMgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SBbDQogICAgICAgICAgICBuZXcgU2VjdGlvbigibGF0ZXN0IiwgIkxhdGVzdCBVcGRhdGUiLCAiTGF0ZXN0IiwgdHJ1ZSksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgU2VjdGlvbigiaG90IiwgIkhvdCBOb3ZlbCIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mluZWQsICJob3Qtbm92ZWwiKSksDQogICAgICAgICAgICBuZXcgU2VjdGlvbigiY29tcGxldGVkIiwgIkNvbXBsZXRlZCBOb3ZlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsICJjb21wbGV0ZWQtbm92ZWwiKSksDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBuZXcgU2VjdGlvbigicG9wdWxhciIsICJNb3N0IFBvcHVsYXIiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIodW5kZWZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVkLCAibW9zdC1wb3B1bGFyIikpDQogICAgICAgIF0NCg0KICAgICAgICByZXR1cm4gc2VjdGlvbnMuZmlsdGVyKHggPT4gIWtleMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMgfHwga2V5cy5pbmNsdWRlcyh4Lm5hbWUpKTsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QudHJhbnNsYXRlU2VjdGlvbiA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFzeW5jIChzZWN0aW9uLCBwYWdlKSA9PiB7DQogICAgICAgIGlmIChzZWN0aW9uLmlkZW50aWZpZXIgPT0gIkxhdGVzdCIpDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICByZXR1cm4gYXdhaXQgcmV0dXJuT2JqZWN0LmxhdGVzdChwYWdlKTsNCiAgICAgICAgZWxzZQ0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgcmV0dXJuIGF3YWl0IHJldHVybk9iamVjdC5zZWFyY2goc2VjdGlvbi5maWx0ZXIgfHwgcmV0dXJuT2JqZWN0LmRlZmF1bHRGaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx0ZXIoKSwgcGFnZSk7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmRlZmF1bHRGaWx0ZXIgPSAoKSA9PiB7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybiBuZXcgRmlsdGVyKCk7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaCA9IGFzeW5jIChmaWx0ZXIsIHBhZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02UpID0+IHsNCiAgICAgICAgdmFyIGdlbnJlVXJsID0gImdlbnJlL3tnfT9wYWdlPXtwfSIudXJpKHJldHVybk9iamVjdC51cmwpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nJlcGxhY2UoIntwfSIsIHBhZ2UudG9TdHJpbmcoKSk7DQogICAgICAgIHZhciBzb3J0VHlwZVVybCA9ICJ7c30/cGFnZT17cH0iLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nVyaShyZXR1cm5PYmplY3QudXJsKS5yZXBsYWNlKCJ7cH0iLCBwYWdlLnRvU3RyaW5nKCkpOw0KICAgICAgICB2YXIgcSA9IGZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlci5nZW5yZXMubGVuZ3RoID4gMCA/IGdlbnJlVXJsLnJlcGxhY2UoIntnfSIsIGZpbHRlci5nZW5yZXNbMF0pIDogKChmaWx0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIuc29ydFR5cGUgJiYgZmlsdGVyLnNvcnRUeXBlICE9ICcnID8gc29ydFR5cGVVcmwucmVwbGFjZSgie3N9IiwgZmlsdGVyLnNvcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRUeXBlKSA6IHVuZGVmaW5lZCkpOw0KICAgICAgICB2YXIgcXVlcnkgPSBxIHx8IHJldHVybk9iamVjdC5zZWFyY2hVcmwucmVwbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFjZSgne3F9JywgZmlsdGVyLnRpdGxlIHx8ICIiKS5yZXBsYWNlKCd7cH0nLCBwYWdlLnRvU3RyaW5nKCkpOw0KICAgICAgICB2YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwocXVlcnkpKTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICBjb250YWluZXIuZmluZCgnLmxpc3QtdHJ1eWVuIC5yb3cnKS5mb3JFYWNoKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ch4KSA9PiB7DQogICAgICAgICAgICBpZiAoeC5zZWxlY3QoJ2ltZycpLmF0dHIoInNyYyIpLmhhc1ZhbHVlKCkpDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgcmVzdWx0LnB1c2goDQogICAgICAgICAgICAgICAgICAgIG5ldyBMaWdodEl0ZW0obmV3IEltYWdlSGFuZGxlcihyZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1cm5PYmplY3QudXJsLCB4LnNlbGVjdCgnLnRydXllbi10aXRsZSBhJykuYXR0cigiaHJlZiIpLnVybCgpLCAiLmJvb2sgaW1nIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iksDQogICAgICAgICAgICAgICAgICAgICAgICB4LnNlbGVjdCgnLnRydXllbi10aXRsZSBhJykudGV4dChmYWxzZSksDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICAnJywNCiAgICAgICAgICAgICAgICAgICAgICAgIHguc2VsZWN0KCcudHJ1eWVuLXRpdGxlIGEnKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S5hdHRyKCJocmVmIikudXJsKCksIHJldHVybk9iamVjdC5uYW1lDQogICAgICAgICAgICAgICAgICAgICksDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgKTsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02V0Q2hhcHRlcnMgPSBhc3luYyAobm92ZWxVcmwsIGh0bWxDb250YWluZXIpID0+IHsNCiAgICAgICAgdmFyIGNoYXB0ZXJzID0gWMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0107DQogICAgICAgIHZhciB1cmwgPSAiaHR0cHM6Ly9ub3ZlbGZ1bGwuY29tL2FqYXgtY2hhcHRlci1vcHRpb24/bm92ZWxJZD17aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WR9Ii5yZXBsYWNlKCJ7aWR9IiwNCiAgICAgICAgICAgIGh0bWxDb250YWluZXIuc2VsZWN0KCIjcmF0aW5nIikuYXR0cigiZGF0YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S1ub3ZlbC1pZCIpLmhhc1ZhbHVlKCkgPw0KICAgICAgICAgICAgaHRtbENvbnRhaW5lci5zZWxlY3QoIiNyYXRpbmciKS5hdHRyKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJkYXRhLW5vdmVsLWlkIikudGV4dCgpIDoNCiAgICAgICAgICAgIGh0bWxDb250YWluZXIuc2VsZWN0KCJbZGF0YS1ub3ZlbC1pZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0F0iKS5hdHRyKCJkYXRhLW5vdmVsLWlkIikudGV4dCgpKTsNCg0KICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwodXJsKSk7DQoNCiAgICAgICAgY29udGFpbmVyLmZpbmQoJ29wdGlvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0icpLmZvckVhY2goYSA9PiB7DQogICAgICAgICAgICB2YXIgYVVybCA9IGEuYXR0cigidmFsdWUiKS51cmwoKTsNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHZhciB0aXRsZSA9IGEudGV4dChmYWxzZSk7DQogICAgICAgICAgICBpZiAodXJsICYmIHVybCAhPT0gJycpIGNoYXB0ZXJzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nB1c2gobmV3IENoYXB0ZXIodGl0bGUsIGFVcmwpKTsNCiAgICAgICAgfSkNCiAgICAgICAgcmV0dXJuIGNoYXB0ZXJzOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0H0NCg0KICAgIHJldHVybk9iamVjdC5nZXROb3ZlbCA9IGFzeW5jIChub3ZlbFVybCkgPT4gew0KICAgICAgICB2YXIgY29udGFpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwobm92ZWxVcmwpKTsNCiAgICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFyIGNoYXB0ZXJzID0gYXdhaXQgcmV0dXJuT2JqZWN0LmdldENoYXB0ZXJzKG5vdmVsVXJsLCBjb250YWluZXIpOw0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB2YXIgbm92ZWxSZXZpZXdzID0gbmV3IE5vdmVsUmV2aWV3cygpOw0KICAgICAgICB2YXIgaW5mb3MgPSBjb250YWluZXIuZmluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CgiLmluZm8gPiBkaXYiKTsNCiAgICAgICAgbm92ZWxSZXZpZXdzLmdlbnJlcyA9IGluZm9zLmVxKDIpLmZpbmQoImEiKS5tYXAoeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CA9PiB4LnRleHQoZmFsc2UpKTsNCiAgICAgICAgbm92ZWxSZXZpZXdzLmF1dGhvciA9IGluZm9zLmVxKDApLmZpbmQoImEiKS50ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Xh0KGZhbHNlKTsNCiAgICAgICAgbm92ZWxSZXZpZXdzLnV2b3RlcyA9IGNvbnRhaW5lci5zZWxlY3QoIi5jb2wtaW5mby1kZXNjIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D4gLmRlc2MgPiAuc21hbGwgc3Ryb25nOmZpcnN0LWNoaWxkIHNwYW4iKS50ZXh0KGZhbHNlKSArICIgLyAxMCI7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5vdmVsUmV2aWV3cy5jb21wbGV0ZWQgPSBpbmZvcy5sYXN0KCkuc2VsZWN0KCJhIikudGV4dChmYWxzZSkgPT09ICJDb21wbGV0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WQiID8gIlN0YXR1czpDb21wbGV0ZWQiIDogIlN0YXR1czpPbmdvaW5nIjsNCg0KICAgICAgICByZXR1cm4gbmV3IERldGFsaUl0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W0oDQogICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCcuYm9vayBpbWcnKS5hdHRyKCJzcmMiKS51cmwoKSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIGNvbnRhaW5lci5zZWxlY3QoJy50aXRsZScpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgY29udGFpbmVyLnNlbGVjdCgnLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mRlc2MtdGV4dCcpLmNsZWFuSW5uZXJIVE1MKCksDQogICAgICAgICAgICBub3ZlbFVybCwNCiAgICAgICAgICAgIGNoYXB0ZXJzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLA0KICAgICAgICAgICAgcmV0dXJuT2JqZWN0Lm5hbWUsDQogICAgICAgICAgICB1bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mRlZmluZWQsDQogICAgICAgICk7DQogICAgfQ0KDQoNCiAgICByZXR1cm5PYmplY3QuZ2V0Q2hhcHRlciA9IGFzeW5jICh1cmwpIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0+IHsNCiAgICAgICAgcmV0dXJuIHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgbmV3IGNsaWVudCgpLmdldEh0bWwodXJsKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Skuc2VsZWN0KCcjY2hhcHRlci1jb250ZW50JykuY2xlYW5Jbm5lckhUTUwoKTsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF0ZXN0ID0gYXN5bmMgKHBhZ2UpID0+IHsNCiAgICAgICAgdmFyIHVybCA9IHJldHVybk9iamVjdC5sYXRlc3RVcmwucmVwbGFjZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Sgne3B9JywgcGFnZS50b1N0cmluZygpKTsNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XdhaXQgSHR0cENsaWVudC5nZXRIdG1sKHVybCkpOw0KICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgIGNvbnRhaW5lcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5maW5kKCcubGlzdC10cnV5ZW4gLnJvdycpLmZvckVhY2goKHgpID0+IHsNCiAgICAgICAgICAgIGlmICh4LnNlbGVjdCgnaW1nJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ykuYXR0cigic3JjIikuaGFzVmFsdWUoKSkNCiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCgNCiAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbmV3IExpZ2h0SXRlbSgNCiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBJbWFnZUhhbmRsZXIocmV0dXJuT2JqZWN0LnVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CwgeC5zZWxlY3QoJy50cnV5ZW4tdGl0bGUgYScpLmF0dHIoImhyZWYiKS51cmwoKSwgIi5ib29rIGltZyIpLA0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgeC5zZWxlY3QoJy50cnV5ZW4tdGl0bGUgYScpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgJycsDQogICAgICAgICAgICAgICAgICAgICAgICB4LnNlbGVjdCgnLnRydXllbi10aXRsZSBhJykuYXR0cigiaHJlZiIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nVybCgpLCByZXR1cm5PYmplY3QubmFtZQ0KICAgICAgICAgICAgICAgICAgICApKTsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuIHJlc3VsdDsNCiAgICB9DQoNCiAgICByZXR1cm4gcmV0dXJuT2JqZWN0Ow0KDQp9Ow==&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIpID0+IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HsNCiAgICBjb25zdCByZXR1cm5PYmplY3QgPSB7fTsNCiAgICByZXR1cm5PYmplY3QuaWQgPSAiMS5ub3ZlbGhhbGwiOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybk9iamVjdC5wYXJzZXJMYW5ndWFnZSA9ICJlbiI7DQogICAgcmV0dXJuT2JqZWN0Lm5hbWUgPSAnTm92ZWxIYWxsJzsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICByZXR1cm5PYmplY3QuZGlzcGxheU5hbWUgPSAiTm92ZWwtQ2hhbm5lbCINCiAgICByZXR1cm5PYmplY3QuZGV0YWxpSXRlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0VR5cGUgPSBEZXRhbGlJdGVtVHlwZS5Ob3ZlbDsNCiAgICByZXR1cm5PYmplY3QubGF0ZXN0VXJsID0gJ2h0dHBzOi8vd3d3Lm5vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsaGFsbC5jb20vbGFzdHVwZGF0ZS17cH0uaHRtbCc7DQogICAgcmV0dXJuT2JqZWN0LnVybCA9ICdodHRwczovL3d3dy5ub3ZlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GhhbGwuY29tLyc7DQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaFVybCA9ICdodHRwczovL3d3dy5ub3ZlbGhhbGwuY29tL2luZGV4LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nBocD9zPXNvJm1vZHVsZT1ib29rJmtleXdvcmQ9e3F9JzsNCiAgICByZXR1cm5PYmplY3QucGFuaW5hdGlvbiA9IHRydWU7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgcmV0dXJuT2JqZWN0LnNlYXJjaFBhZ2luYXRpb24gPSB0cnVlOw0KICAgIHJldHVybk9iamVjdC5pY29uID0gJ2h0dHBzOi8vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03d3Lm5vdmVsaGFsbC5jb20vZmF2aWNvbi5pY28nOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncyA9IG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBQYXJzZXJTZWFyY2hTZXR0aW5ncygpOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZXMgPSB7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIG11bHRpU2VsZWN0aW9uOiBmYWxzZSwNCiAgICAgICAgdmFsdWVzOiBbDQogICAgICAgIF0sDQogICAgfTsNCg0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHJldHVybk9iamVjdC5sb2FkU2V0dGluZ3MgPSBhc3luYyAoKSA9PiB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBpZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAocmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLmdlbnJlcy52YWx1ZXMubGVuZ3RoIDw9IDApIHsNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwocmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuT2JqZWN0LnVybCkpDQogICAgICAgICAgICAgICAgY29udGFpbmVyLmZpbmQoIi5kcm9wZG93bi1tZW51IGEiKS53aGVyZSh4IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0+IHguYXR0cigiaHJlZiIpLmF0dFZhbHVlKCkuaW5kZXhPZigiZ2VucmUiKSAhPT0gLTEpLmZvckVhY2goYSA9PiB7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZXMudmFsdWVzLnB1c2gobmV3IGxhYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsVmFsdWUoYS50ZXh0KGZhbHNlKSwgYS5hdHRyKCJocmVmIikudXJsKCkpKTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIH0NCiAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAgICAgY29uc29sZS5sb2coKTsNCiAgICAgICAgfQ0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0H0NCg0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5zb3J0VHlwZXMgPSB7DQogICAgICAgIG11bHRpU2VsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0aW9uOiBmYWxzZSwNCiAgICAgICAgdmFsdWVzOiBbDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnQ29tcGxldGVkJywgJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02NvbXBsZXRlZC17cH0uaHRtbCcpLA0KICAgICAgICBdLA0KICAgIH07DQogICAgcmV0dXJuT2JqZWN0LmdldFNlY3Rpb25zID0gKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GtleXMpID0+IHsNCiAgICAgICAgdmFyIHNlY3Rpb25zID0gWw0KICAgICAgICAgICAgbmV3IFNlY3Rpb24oImxhdGVzdCIsICJMYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRlc3QgVXBkYXRlIiwgIkxhdGVzdCIsIHRydWUpLA0KICAgICAgICAgICAgbmV3IFNlY3Rpb24oImNvbXBsZXRlZCIsICJDb21wbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GV0ZWQgTm92ZWwiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIodW5kZWZpbmVkLCAnY29tcGxldGVkLXtwfS5odG1sJykpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICBdDQogICAgICAgIHJldHVybiBzZWN0aW9ucy5maWx0ZXIoeCA9PiAha2V5cyB8fCBrZXlzLmluY2x1ZGVzKHgubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFtZSkpOw0KICAgIH0NCiAgICByZXR1cm5PYmplY3QudHJhbnNsYXRlU2VjdGlvbiA9IGFzeW5jIChzZWN0aW9uLCBwYWdlKSA9PMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iB7DQogICAgICAgIGlmIChzZWN0aW9uLmlkZW50aWZpZXIgPT0gIkxhdGVzdCIpIHJldHVybiBhd2FpdCByZXR1cm5PYmplY3QubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF0ZXN0KHBhZ2UpOw0KICAgICAgICBlbHNlIHJldHVybiBhd2FpdCByZXR1cm5PYmplY3Quc2VhcmNoKHNlY3Rpb24uZmlsdGVyIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Hx8IHJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyKCksIHBhZ2UpOw0KICAgIH0NCiAgICByZXR1cm5PYmplY3QuZGVmYXVsdEZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlciA9ICgpID0+IHsNCiAgICAgICAgdmFyIGZpbHRlciA9IG5ldyBGaWx0ZXIoKTsNCiAgICAgICAgcmV0dXJuIGZpbHRlcjsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICB9Ow0KDQogICAgcmV0dXJuT2JqZWN0LmdldEdlbnJlcyA9IGFzeW5jIChmaWx0ZXIpID0+IHsNCiAgICAgICAgdmFyIHVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CA9IGZpbHRlci5nZW5yZXNbMF07DQogICAgICAgIHZhciBjb250YWluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Eh0dHBDbGllbnQuZ2V0SHRtbCh1cmwpKTsNCiAgICAgICAgcmV0dXJuIGNvbnRhaW5lci5maW5kKCcuYm9vay1pbmZvJykubWFwKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ch4KSA9PiB7DQogICAgICAgICAgICByZXR1cm4gbmV3IExpZ2h0SXRlbSh4LmNsb3Nlc3QoImxpIikuc2VsZWN0KCIuYm9vay1pbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WcgaW1nIikuYXR0cigic3JjIikudXJsKCksDQogICAgICAgICAgICAgICAgeC5zZWxlY3QoJ2EnKS50ZXh0KGZhbHNlKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAnJywNCiAgICAgICAgICAgICAgICB4LnNlbGVjdCgnYScpLmF0dHIoImhyZWYiKS51cmwoKSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICByZXR1cm5PYmplY3QubmFtZQ0KICAgICAgICAgICAgKTsNCiAgICAgICAgfSk7DQoNCg0KICAgIH0NCg0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybk9iamVjdC5zZWFyY2ggPSBhc3luYyAoZmlsdGVyLCBwYWdlKSA9PiB7DQoNCiAgICAgICAgaWYgKGZpbHRlci5nZW5yZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMgJiYgZmlsdGVyLmdlbnJlcy5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICByZXR1cm4gYXdhaXQgcmV0dXJuT2JqZWN0LmdldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EdlbnJlcyhmaWx0ZXIpOw0KICAgICAgICB9DQogICAgICAgIHZhciB1cmwgPSByZXR1cm5PYmplY3Quc2VhcmNoVXJsOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBpZiAoZmlsdGVyLnNvcnRUeXBlICYmIGZpbHRlci5zb3J0VHlwZS5sZW5ndGggPiAwKQ0KICAgICAgICAgICAgdXJsID0gZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mlsdGVyLnNvcnRUeXBlLnVyaShyZXR1cm5PYmplY3QudXJsKTsNCg0KICAgICAgICB2YXIgdXJsID0gdXJsLnJlcGxhY2UoIntxfMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SIsIGZpbHRlci50aXRsZSB8fCAiIikucmVwbGFjZSgie3B9IiwgcGFnZSk7DQogICAgICAgIHZhciBjb250YWluZXIgPSByZXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m5PYmplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbCh1cmwpKTsNCiAgICAgICAgdmFyIHJlc3VsdCA9IFtdOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICBjb250YWluZXIuZmluZCgnLmNvbnRhaW5lciB0YWJsZSB0cicpLmZvckVhY2goKHgpID0+IHsNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHZhciBhID0geC5maW5kKCJ0ZCIpLmVxKDApLnNlbGVjdCgiYSIpLmF0dHIoImhyZWYiKS50ZXh0KCkuaW5kZXhPZigiZ2VucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mUiKSA9PT0gLTEgPyB4LmZpbmQoInRkIikuZXEoMCkuc2VsZWN0KCJhIikgOiB4LmZpbmQoInRkIikuZXEoMSkuc2VsZWN0KCJhIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ik7DQogICAgICAgICAgICByZXN1bHQucHVzaChuZXcgTGlnaHRJdGVtKG5ldyBJbWFnZUhhbmRsZXIocmV0dXJuT2JqZWN0LnVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CwgYS5hdHRyKCJocmVmIikudXJsKCksICIuYm9vay1pbWcgaW1nIiksIGEudGV4dChmYWxzZSksICcnLCBhLmF0dHIoImhyZWYiKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S51cmwoKSwgcmV0dXJuT2JqZWN0Lm5hbWUpKTsNCiAgICAgICAgfSk7DQogICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgfQ0KDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgcmV0dXJuT2JqZWN0LmdldE5vdmVsID0gYXN5bmMgKG5vdmVsVXJsKSA9PiB7DQogICAgICAgIHZhciBjb250YWluZXIgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbChub3ZlbFVybCkpOw0KICAgICAgICB2YXIgYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02hhcHRlcnMgPSBjb250YWluZXIuZmluZCgiI21vcmVsaXN0IGxpIGEiKS5tYXAoeCA9PiBuZXcgQ2hhcHRlcih4LnRleHQoZmFscMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02UpLCB4LmF0dHIoImhyZWYiKS51cmwoKSkpOw0KICAgICAgICB2YXIgaXRlbSA9IG5ldyBOb3ZlbFJldmlld3MoKTsNCg0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBpdGVtLmdlbnJlcyA9IGNvbnRhaW5lci5maW5kKCIuYm9vay1pbmZvIC5yZWQiKS50ZXh0QXJyYXkoKTsNCiAgICAgICAgaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRlbS5hdXRob3IgPSBjb250YWluZXIuZmluZCgiLmJvb2staW5mbyAuYmx1ZSIpLndoZXJlKHggPT4geC5pbm5lckhUTUwoKS50bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU00xvd2VyQ2FzZSgpLmluZGV4T2YoImF1dGhvciIpICE9IC0xKS5lcSgwKS5yZW1vdmUoInAiKS50ZXh0KGZhbHNlKS5yZXBsYWNlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C9hdXRob3I6L2dpLCAiIik7DQogICAgICAgIGl0ZW0uY29tcGxldGVkID0gY29udGFpbmVyLmZpbmQoIi5ib29rLWluZm8gLmJsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUiKS53aGVyZSh4ID0+IHguaW5uZXJIVE1MKCkudG9Mb3dlckNhc2UoKS5pbmRleE9mKCJzdGF0dXMiKSAhPSAtMSkudGV4dChmYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxzZSkucmVwbGFjZSgvc3RhdHVzOi9naSwgIiIpOw0KICAgICAgICByZXR1cm4gbmV3IERldGFsaUl0ZW0oY29udGFpbmVyLnNlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVjdCgnLmJvb2staW1nIGltZycpLmF0dHIoInNyYyIpLnVybCgpDQogICAgICAgICAgICAsIGNvbnRhaW5lci5zZWxlY3QoJy5ibMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029rLWluZm8gaDEnKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgIGNvbnRhaW5lci5maW5kKCcuaW50cm8gPiBzcGFuJykucmVtbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03ZlKCIuYmx1ZSIpLmxhc3QoKS5jbGVhbklubmVySFRNTCgpLA0KICAgICAgICAgICAgbm92ZWxVcmwsDQogICAgICAgICAgICBjaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFwdGVycywNCiAgICAgICAgICAgIGl0ZW0sDQogICAgICAgICAgICByZXR1cm5PYmplY3QubmFtZSwNCiAgICAgICAgICAgIHVuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVmaW5lZCk7DQogICAgfQ0KICAgIHJldHVybk9iamVjdC5nZXRDaGFwdGVyID0gYXN5bmMgKHVybCkgPT4gew0KICAgICAgICByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1cm4gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBuZXcgY2xpZW50KCkuZ2V0SHRtbCh1cmwpKS5zZWxlY3QoJy5lbnRyeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S1jb250ZW50JykuY2xlYW5Jbm5lckhUTUwoKTsNCiAgICB9DQogICAgcmV0dXJuT2JqZWN0LmxhdGVzdCA9IGFzeW5jIChwYWdlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SA9PiB7DQogICAgICAgIHZhciB1cmwgPSByZXR1cm5PYmplY3QubGF0ZXN0VXJsLnJlcGxhY2UoJ3twfScsIHBhZ2UudG9TdHJpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mcoKSk7DQogICAgICAgIHZhciBjb250YWluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRtbCh1cmwpKTsNCiAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgIGNvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRhaW5lci5maW5kKCcuY29udGFpbmVyIHRhYmxlIHRyJykuZm9yRWFjaCgoeCkgPT4gew0KICAgICAgICAgICAgdmFyIGEgPSB4LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mZpbmQoInRkIikuZXEoMSkuc2VsZWN0KCJhIik7DQogICAgICAgICAgICByZXN1bHQucHVzaChuZXcgTGlnaHRJdGVtKG5ldyBJbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFnZUhhbmRsZXIocmV0dXJuT2JqZWN0LnVybCwgYS5hdHRyKCJocmVmIikudXJsKCksICIuYm9vay1pbWcgaW1nIiksIGEudGV4dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ChmYWxzZSksICcnLCBhLmF0dHIoImhyZWYiKS51cmwoKSwgcmV0dXJuT2JqZWN0Lm5hbWUpKTsNCiAgICAgICAgfSk7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHJldHVybiByZXN1bHQ7DQogICAgfQ0KICAgIHJldHVybiByZXR1cm5PYmplY3Q7DQp9Ow==&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCkgPT4gew0KICAgIHZhciBpdGVtID0ge307DQogICAgaXRlbS5yb290ID0gImh0dHBzOi8vd3d3Lm5vdmVsdXBkYXRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5jb20iOw0KICAgIGl0ZW0uc2VhcmNoID0gYXN5bmMgKG5hbWUpID0+IHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGlmIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CghbmFtZSkNCiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkDQogICAgICAgICAgICB2YXIgaHRtbCA9IGF3YWl0IEh0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HBDbGllbnQucG9zdEZvcm0oImh0dHBzOi8vd3d3Lm5vdmVsdXBkYXRlcy5jb20vd3AtYWRtaW4vYWRtaW4tYWpheC5waHAiLCB7IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFjdGlvbjogIm5kX2FqYXhzZWFyY2htYWluIiwgc3RyVHlwZTogImRlc2t0b3AiLCBzdHJPbmU6IG5hbWUsIHN0clNlYXJjaFR5cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GU6ICJzZXJpZXMiIH0pOw0KICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHBhcnNlSHRtbChodG1sLCBpdGVtLnJvb3QpLmZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mQoImEiKTsNCiAgICAgICAgICAgIHJldHVybiBjb250YWluZXIud2hlcmUoeCA9PiBuYW1lLnRyaW0oKS5sZW5ndGggPT0gKHgucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VsZWN0KCIuc2VhcmNoX2hsIikuaGFzRWxlbWVudCgpID8geC5zZWxlY3QoIi5zZWFyY2hfaGwiKSA6IHguc2VsZWN0KCJzcGFuIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ikpLnRleHQoZmFsc2UpLnRyaW0oKS5sZW5ndGggJiYgKG5hbWUudG9Mb3dlckNhc2UoKS5pbmRleE9mKCh4LnNlbGVjdCgiLnNlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJjaF9obCIpLmhhc0VsZW1lbnQoKSA/IHguc2VsZWN0KCIuc2VhcmNoX2hsIikgOiB4LnNlbGVjdCgic3BhbiIpKS50ZXh0KGZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HNlKS50b0xvd2VyQ2FzZSgpKSAhPSAtMSkpLmF0dHIoImhyZWYiKS51cmwoKTsNCiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQ0KICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDsNCiAgICAgICAgfQ0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIH0NCg0KICAgIGl0ZW0uZ2V0QnlBdXRob3IgPSBhc3luYyAodXJsKSA9PiB7DQogICAgICAgIHZhciBjb250YWluZXIgPSBwYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJzZUh0bWwoKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbCh1cmwpKS5vdXRlckhUTUwsIGl0ZW0ucm9vdCk7DQogICAgICAgIHZhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iByZXN1bHQgPSBbXTsNCiAgICAgICAgY29udGFpbmVyLmZpbmQoIi5zZWFyY2hfbWFpbl9ib3hfbnUiKS5mb3JFYWNoKHggPT4geMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICAgICAgcmVzdWx0LnB1c2goDQogICAgICAgICAgICAgICAgbmV3IExpZ2h0SXRlbSh4LnNlbGVjdCgiLnNlYXJjaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0F9pbWdfbnUgaW1nIikuYXR0cigic3JjIikudXJsKCksIHguc2VsZWN0KCIuc2VhcmNoX3RpdGxlIGEiKS50ZXh0KGZhbHNlKSwgeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5zZWxlY3QoIi5zZWFyY2hfcmF0aW5ncyIpLnRleHQoZmFsc2UpLCAiIiwgIiIpDQogICAgICAgICAgICApDQogICAgICAgIH0pOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KDQogICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgfQ0KDQogICAgaXRlbS5nZXREZXRhbGlJdGVtID0gYXN5bmMgKG5vdmVsTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFtZSkgPT4gew0KICAgICAgICB2YXIgdXJsID0gYXdhaXQgaXRlbS5zZWFyY2gobm92ZWxOYW1lKTsNCiAgICAgICAgaWYgKCF1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mwpDQogICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkOw0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgdmFyIGNvbnRhaW5lcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iA9IHBhcnNlSHRtbCgoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKHVybCkpLm91dGVySFRNTCwgaXRlbS5yb290KTsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHZhciB0aXRlbSA9IG5ldyBOb3ZlbFJldmlld3MoKTsNCg0KICAgICAgICAgICAgdGl0ZW0uZ2VucmVzID0gY29udGFpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVyLmZpbmQoIiNzZXJpZXNnZW5yZSBhIikudGV4dEFycmF5KCk7DQogICAgICAgICAgICB0aXRlbS5kZXNjcmlwdGlvbiA9IGNvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRhaW5lci5zZWxlY3QoIiNlZGl0ZGVzY3JpcHRpb24iKS50ZXh0KHRydWUpOw0KICAgICAgICAgICAgdGl0ZW0udXZvdGVzID0gYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029udGFpbmVyLnNlbGVjdCgiLnV2b3RlcyIpLnRleHQoZmFsc2UpOw0KICAgICAgICAgICAgdGl0ZW0uYWx0ZXJuYXRpdmVOYW1lcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yA9IGNvbnRhaW5lci5zZWxlY3QoIiNlZGl0YXNzb2NpYXRlZCIpLnRleHQoZmFsc2UpLnJlcGxhY2UoLzxicj4vLCAiLCIpOw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgdGl0ZW0uYXV0aG9yID0gY29udGFpbmVyLmZpbmQoImRpdiNzaG93YXV0aG9ycyA+IGEiKS50ZXh0KGZhbHNlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TsNCiAgICAgICAgICAgIHRpdGVtLmxhbmcgPSBjb250YWluZXIuc2VsZWN0KCIjc2hvd2xhbmcgPiBhIikudGV4dChmYWxzZSkNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIHRpdGVtLmNvbXBsZXRlZCA9IGNvbnRhaW5lci5zZWxlY3QoIiNzaG93dHJhbnNsYXRlZCA+IGEiKS50ZXh0KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GZhbHNlKSA9PT0gIlllcyIgPyAiU3RhdHVzOkNvbXBsZXRlZCIgOiAiU3RhdHVzOk9uZ29pbmciOw0KICAgICAgICAgICAgdGl0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W0uYXV0aG9yVXJsID0gY29udGFpbmVyLnNlbGVjdCgiI3Nob3dhdXRob3JzID4gYSIpLmF0dHIoImhyZWYiKS50ZXh0KGZhbHNlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TsNCiAgICAgICAgICAgIHRpdGVtLnJlY3VtbWVuZGF0aW9ucyA9IGNvbnRhaW5lci5maW5kKCIud3BiX3dyYXBwZXIgLmdlbnJlIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ikud2hlcmUoeCA9PiAoeC5hdHRyKCJ0aXRsZSIpLnRleHQoZmFsc2UpKS5pbmRleE9mKCJSZWNvbW1lbmRlZCIpID4gLTEpLm1hcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ch4ID0+IHsNCiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IExpZ2h0SXRlbShhc3luYyAoKSA9PiB7DQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHZhciBodG1sID0gcGFyc2VIdG1sKChhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwoeC5hdHRyKCJocmVmIikudGV4dChmYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxzZSkudXJpKGl0ZW0ucm9vdCksIHRydWUpKS5vdXRlckhUTUwsIGl0ZW0ucm9vdCk7DQogICAgICAgICAgICAgICAgICAgIHJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybiBodG1sLnNlbGVjdCgiLnNlcmllc2ltZyBpbWciKS5hdHRyKCJzcmMiKS50ZXh0KGZhbHNlKS51cmkoaXRlbS5yb290KTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICB9LCB4LnRleHQoZmFsc2UpLCAiIiwgeC5hdHRyKCJocmVmIikudGV4dCgpLnVyaShpdGVtLnJvb3QpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAiIikNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICB0aXRlbS51cmwgPSB1cmw7DQogICAgICAgICAgICByZXR1cm4gdGl0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W07DQogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybiB1bmRlZmluZWQ7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICByZXR1cm4gaXRlbTsNCn0=&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIpID0+IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HsNCiAgICBjb25zdCByZXR1cm5PYmplY3QgPSB7fTsNCiAgICByZXR1cm5PYmplY3QuaWQgPSAiMS5ub3ZlbG9ubGluZWZ1bGwiOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgIHJldHVybk9iamVjdC5kZXRhbGlJdGVtVHlwZSA9IERldGFsaUl0ZW1UeXBlLk5vdmVsOw0KICAgIHJldHVybk9iamVjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5wYXJzZXJMYW5ndWFnZSA9ICJlbiI7DQogICAgcmV0dXJuT2JqZWN0Lm5hbWUgPSAnTm92ZWxPbmxpbmVGdWxsJzsNCiAgICByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1cm5PYmplY3QuZGlzcGxheU5hbWUgPSAiTm92ZWwtT25saW5lIg0KICAgIHJldHVybk9iamVjdC5sYXRlc3RVcmwgPSAnaHR0cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HM6Ly9ub3ZlbG9ubGluZWZ1bGwuY29tL25vdmVsX2xpc3Q/dHlwZT1sYXRlc3QmY2F0ZWdvcnk9YWxsJnN0YXRlPWFsbCZwYWdlPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XtwfSc7DQogICAgcmV0dXJuT2JqZWN0LnVybCA9ICdodHRwczovL25vdmVsb25saW5lZnVsbC5jb20vJzsNCiAgICByZXR1cm5PYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mplY3Quc2VhcmNoVXJsID0gJ2h0dHBzOi8vbm92ZWxvbmxpbmVmdWxsLmNvbS9zZWFyY2hfbm92ZWxzL3txfT9wYWdlPXtwfSc7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgcmV0dXJuT2JqZWN0LnBhbmluYXRpb24gPSB0cnVlOw0KICAgIHJldHVybk9iamVjdC5zZWFyY2hQYWdpbmF0aW9uID0gZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsc2U7DQogICAgcmV0dXJuT2JqZWN0Lmljb24gPSAnaHR0cHM6Ly9ub3ZlbG9ubGluZWZ1bGwuY29tL3RoZW1lcy9ob21lL2ltYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wdlcy9mYXZpY29uLnBuZyc7DQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzID0gbmV3IFBhcnNlclNlYXJjaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNldHRpbmdzKCk7DQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLm11bHRpU2VsZWN0aW9uID0gdHJ1ZTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3MuZ2VucmVzID0gew0KICAgICAgICBtdWx0aVNlbGVjdGlvbjogZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsc2UsDQogICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkFsbCIsICJhbGwiKSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5ldyBsYWJlbFZhbHVlKCJDaGluZXNlIiwgMyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiRW5nbGlzaCIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0DYpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIktvcmVhbiIsIDEzKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJPcmlnaW5hbCIsIDE5KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJBY3Rpb24iLCAxKSwNCiAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBsYWJlbFZhbHVlKCJBZHZlbnR1cmUiLCAyKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJDb21lZHkiLCA0KSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJEcmFtYSIsIDUpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkZhbnRhc3kiLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CA3KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJHZW5kZXIgQmVuZGVyIiwgOCksDQogICAgICAgICAgICBuZXcgbGFiZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxWYWx1ZSgiSGFyZW0iLCA5KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJIaXN0b3JpY2FsIiwgMTApLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbmV3IGxhYmVsVmFsdWUoIkhvcnJvciIsIDExKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJKb3NlaSIsIDEyKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJMb2xpY29uIiwgMTQpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0k1hcnRpYWwgQXJ0cyIsIDE1KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJNYXR1cmUiLCAxNiksDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBuZXcgbGFiZWxWYWx1ZSgiTWVjaGEiLCAxNyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTXlzdGVyeSIsIDE4KSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJQc3ljaG9sb2dpY2FsIiwgMjApLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUoIlJlaW5jYXJuYXRpb24iLCAyMSksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiUm9tYW5jZSIsIDIyKSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5ldyBsYWJlbFZhbHVlKCJTY2hvb2wgTGlmZSIsIDIzKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTY2ktZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mkiLCAyNCksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2VpbmVuIiwgMjUpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoIlNob3RhY29uIiwgMjYpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNob3VqbyIsIDI3KSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCJTaG91am8gQWkiLCAyOCksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2hvdW5lbiIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0DI5KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTaG91bmVuIEFpIiwgMzApLA0KICAgICAgICAgICAgbmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoIlNsaWNlIG9mIExpZmUiLCAzMSksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU211dCIsIDMyKSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5ldyBsYWJlbFZhbHVlKCJTcG9ydHMiLCAzMyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU3VwZXJuYXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsIiwgMzQpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlRyYWdlZHkiLCAzNSksDQogICAgICAgICAgICBuZXcgbGFiZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxWYWx1ZSgiVmlydHVhbCBSZWFsaXR5IiwgMzYpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIld1eGlhIiwgMzcpLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlhpYW54aWEiLCAzOCksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiWHVhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mh1YW4iLCAzOSksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQXJ0cyIsIDQwKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FZhbHVlKCJCaW9ncmFwaGllcyIsIDQxKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJCdXNpbmVzcyIsIDQyKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJDb21wdXRlcnMiLCA0MyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiRWR1YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02F0aW9uIiwgNDYpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkVudGVydGFpbm1lbnQiLCA0NyksDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBuZXcgbGFiZWxWYWx1ZSgiRmljdGlvbiIsIDQ4KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJIdW1vciIsIDUxKSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJJbnZlc3RpbmciLCA1MiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Gl0ZXJhdHVyZSIsIDUzKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJNZW1vaXJzIiwgNTQpDQoNCiAgICAgICAgXQ0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIH0NCg0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5zb3J0VHlwZXMgPSB7DQogICAgICAgIG11bHRpUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VsZWN0aW9uOiBmYWxzZSwNCiAgICAgICAgdmFsdWVzOiBbDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTGF0ZXN0JywgJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02xhdGVzdCcpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ05ld2VzdCcsICduZXdlc3QnKSwNCiAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBsYWJlbFZhbHVlKCdUb3AgdmlldycsICd0b3B2aWV3JykNCiAgICAgICAgXSwNCiAgICB9Ow0KDQogICAgcmV0dXJuT2JqZWN0LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mdldFNlY3Rpb25zID0gKGtleXMpID0+IHsNCiAgICAgICAgdmFyIHNlY3Rpb25zID0gWw0KICAgICAgICAgICAgbmV3IFNlY3RpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU024oImxhdGVzdCIsICJMYXRlc3QgVXBkYXRlIiwgIkxhdGVzdCIsIHRydWUpLA0KICAgICAgICAgICAgbmV3IFNlY3Rpb24oIm5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VzdCIsICJOZXdlc3QgTm92ZWwiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIodW5kZWZpbmVkLCAibmV3ZXN0IikpLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbmV3IFNlY3Rpb24oInRvcCIsICJUb3AgdmlldyIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mluZWQsICJ0b3B2aWV3IikpDQogICAgICAgIF0NCg0KICAgICAgICByZXR1cm4gc2VjdGlvbnMuZmlsdGVyKHggPT4gIWtleXMgfMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Hwga2V5cy5pbmNsdWRlcyh4Lm5hbWUpKTsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QudHJhbnNsYXRlU2VjdGlvbiA9IGFzeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5jIChzZWN0aW9uLCBwYWdlKSA9PiB7DQogICAgICAgIGlmIChzZWN0aW9uLmlkZW50aWZpZXIgPT0gIkxhdGVzdCIpDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICByZXR1cm4gYXdhaXQgcmV0dXJuT2JqZWN0LmxhdGVzdChwYWdlKTsNCiAgICAgICAgZWxzZQ0KICAgICAgICAgICAgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuIGF3YWl0IHJldHVybk9iamVjdC5zZWFyY2goc2VjdGlvbi5maWx0ZXIgfHwgcmV0dXJuT2JqZWN0LmRlZmF1bHRGaWx0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIoKSwgcGFnZSk7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmRlZmF1bHRGaWx0ZXIgPSAoKSA9PiB7DQogICAgICAgIHJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybiBuZXcgRmlsdGVyKFsiYWxsIl0sICJ0b3B2aWV3Iik7DQogICAgfTsNCg0KDQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaCA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFzeW5jIChmaWx0ZXIsIHBhZ2UpID0+IHsNCiAgICAgICAgdmFyIHNvcnRUeXBlVXJpID0gImh0dHBzOi8vbm92ZWxvbmxpbmVmdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxsLmNvbS9ub3ZlbF9saXN0P3R5cGU9e3N9JmNhdGVnb3J5PXtnfSZzdGF0ZT1hbGwmcGFnZT17cH0iDQogICAgICAgIHZhciBzbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03J0VHlwZVVybCA9IHNvcnRUeXBlVXJpLnJlcGxhY2UoIntzfSIsIGZpbHRlci5zb3J0VHlwZSkucmVwbGFjZSgie3B9IiwgcGFnZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S50b1N0cmluZygpKS5yZXBsYWNlKCJ7Z30iLCBmaWx0ZXIuZ2VucmVzLmxlbmd0aCA+IDAgPyBmaWx0ZXIuZ2VucmVzWzBdIDogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsbCIpOw0KDQogICAgICAgIHZhciB1cmwgPSAoIWZpbHRlci50aXRsZSB8fCBmaWx0ZXIudGl0bGUgPT0gIiIpICYmIGZpbHRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5zb3J0VHlwZSAmJiBmaWx0ZXIuc29ydFR5cGUgIT0gJycgPyBzb3J0VHlwZVVybCA6IHJldHVybk9iamVjdC5zZWFyY2hVcmwucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVwbGFjZSgne3F9JywgKGZpbHRlci50aXRsZSB8fCAiIikucmVwbGFjZSgvWyBdLywgIl8iKSk7DQoNCiAgICAgICAgdmFyIGNvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKHVybCkpOw0KICAgICAgICB2YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIgcmVzdWx0ID0gW107DQogICAgICAgIGNvbnRhaW5lci5maW5kKCIudXBkYXRlX2l0ZW0sIC5pdGVtdXBkYXRlIikuZm9yRWFjaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ch4ID0+IHsNCiAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBMaWdodEl0ZW0oeC5zZWxlY3QoImltZyIpLmF0dHIoInNyYyIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nVybCgpLA0KICAgICAgICAgICAgICAgIHguc2VsZWN0KCJpbWciKS5hdHRyKCJhbHQgfCB0aXRsZSIpLnRleHQoZmFsc2UpLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICIiLA0KICAgICAgICAgICAgICAgIHguc2VsZWN0KCJhIikuYXR0cigiaHJlZiIpLnVybCgpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIHJldHVybk9iamVjdC5uYW1lKSk7DQogICAgICAgIH0pOw0KDQogICAgICAgIHJldHVybiByZXN1bHQ7DQoNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICB9DQoNCiAgICByZXR1cm5PYmplY3QuZ2V0Tm92ZWwgPSBhc3luYyAobm92ZWxVcmwpID0+IHsNCiAgICAgICAgdmFyIGNvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKG5vdmVsVXJsKSk7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHZhciBjaGFwdGVycyA9IGNvbnRhaW5lci5maW5kKCIuY2hhcHRlci1saXN0IC5yb3cgYSIpLm1hcCh4ID0+IG5ldyBDaGFwdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVyKHgudGV4dChmYWxzZSksIHguYXR0cigiaHJlZiIpLnVybCgpKSk7DQogICAgICAgIHZhciBub3ZlbFJldmlld3MgPSBuZXcgTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m92ZWxSZXZpZXdzKCk7DQogICAgICAgIHZhciBpbmZvcyA9IGNvbnRhaW5lci5maW5kKCIudHJ1eWVuX2luZm9fcmlnaHQgbGkiKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Q0KDQoNCiAgICAgICAgbm92ZWxSZXZpZXdzLmdlbnJlcyA9IGluZm9zLmVxKDIpLmZpbmQoImEiKS50ZXh0QXJyYXkoKTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbm92ZWxSZXZpZXdzLmF1dGhvciA9IGluZm9zLmVxKDEpLmZpbmQoImEiKS50ZXh0KCk7DQogICAgICAgIG5vdmVsUmV2aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WV3cy51dm90ZXMgPSBpbmZvcy5lcSg2KS50ZXh0KGZhbHNlKTsNCiAgICAgICAgbm92ZWxSZXZpZXdzLmRlc2NyaXB0aW9uID0gaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5mb3Muc2VsZWN0KCIjbm9pZHVuZ20iKS50ZXh0KGZhbHNlKTsNCiAgICAgICAgbm92ZWxSZXZpZXdzLmNvbXBsZXRlZCA9IGluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m9zLmVxKDMpLnNlbGVjdCgiYSIpLnRleHQoZmFsc2UpID09PSAiQ29tcGxldGVkIiA/ICJTdGF0dXM6Q29tcGxldGVkIiA6ICJTdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF0dXM6T25nb2luZyI7DQoNCiAgICAgICAgcmV0dXJuIG5ldyBEZXRhbGlJdGVtKA0KICAgICAgICAgICAgY29udGFpbmVyLnNlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVjdCgiLmluZm9faW1hZ2UgaW1nIikuYXR0cigic3JjIikudXJsKCksDQogICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCcudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJ1eWVuX2luZm9fcmlnaHQgaDEnKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoJyNub2lkdW5nbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ScpLmNsZWFuSW5uZXJIVE1MKCksDQogICAgICAgICAgICBub3ZlbFVybCwNCiAgICAgICAgICAgIGNoYXB0ZXJzLnJldmVyc2UoKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cywNCiAgICAgICAgICAgIHJldHVybk9iamVjdC5uYW1lLA0KICAgICAgICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5kZWZpbmVkLA0KICAgICAgICApOw0KICAgIH0NCg0KDQogICAgcmV0dXJuT2JqZWN0LmdldENoYXB0ZXIgPSBhc3luYyAodXJsKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SA9PiB7DQogICAgICAgIHJldHVybiByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IG5ldyBjbGllbnQoKS5nZXRIdG1sKHVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CkpLnNlbGVjdCgiLnZ1bmdfZG9jIikuY2xlYW5Jbm5lckhUTUwoKTsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QubGF0ZXN0IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0gYXN5bmMgKHBhZ2UpID0+IHsNCiAgICAgICAgdmFyIHVybCA9IHJldHVybk9iamVjdC5sYXRlc3RVcmwucmVwbGFjZSgie3B9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iwgcGFnZS50b1N0cmluZygpKTsNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HR0cENsaWVudC5nZXRIdG1sKHVybCkpOw0KICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgIGNvbnRhaW5lci5maW5kKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIudXBkYXRlX2l0ZW0iKS5mb3JFYWNoKHggPT4gew0KICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IExpZ2h0SXRlbSh4LnNlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVjdCgiaW1nIikuYXR0cigic3JjIikudXJsKCksDQogICAgICAgICAgICAgICAgeC5zZWxlY3QoImltZyIpLmF0dHIoInRpdGxlIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ikudGV4dChmYWxzZSksDQogICAgICAgICAgICAgICAgIiIsDQogICAgICAgICAgICAgICAgeC5zZWxlY3QoImEiKS5hdHRyKCJocMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVmIikudXJsKCksDQogICAgICAgICAgICAgICAgcmV0dXJuT2JqZWN0Lm5hbWUpKTsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuIHJlc3VsdDsNCiAgICB9DQoNCiAgICByZXR1cm4gcmV0dXJuT2JqZWN0Ow0KfTs=&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIpID0+IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HsNCiAgICBjb25zdCByZXR1cm5PYmplY3QgPSB7fTsNCiAgICByZXR1cm5PYmplY3QuaWQgPSAiMS5yZWFkbGlnaHRub3ZlbCI7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgcmV0dXJuT2JqZWN0LmRldGFsaUl0ZW1UeXBlID0gRGV0YWxpSXRlbVR5cGUuTm92ZWw7DQogICAgcmV0dXJuT2JqZWN0LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nBhcnNlckxhbmd1YWdlID0gImVuIjsNCiAgICByZXR1cm5PYmplY3QubmFtZSA9ICdSZWFkTGlnaHROb3ZlbCc7DQogICAgcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuT2JqZWN0LmRpc3BsYXlOYW1lID0gIlItTm92ZWwtTGlnaHQiOw0KICAgIHJldHVybk9iamVjdC5sYXRlc3RVcmwgPSAnaHR0cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HM6Ly93d3cucmVhZGxpZ2h0bm92ZWwuY2MnOw0KICAgIHJldHVybk9iamVjdC51cmwgPSAnaHR0cHM6Ly93d3cucmVhZGxpZ2h0bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m92ZWwuY2MvJzsNCiAgICByZXR1cm5PYmplY3Quc2VhcmNoVXJsID0gJ2h0dHBzOi8vd3d3LnJlYWRsaWdodG5vdmVsLmNjL3NlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJjaC97cX0ve3B9JzsNCiAgICByZXR1cm5PYmplY3QucGFuaW5hdGlvbiA9IGZhbHNlOw0KICAgIHJldHVybk9iamVjdC5zZWFyYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02hQYWdpbmF0aW9uID0gdHJ1ZTsNCiAgICByZXR1cm5PYmplY3QuaWNvbiA9ICdodHRwczovL3d3dy5nb29nbGUuY29tL3MyL2ZhdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mljb25zP2RvbWFpbj1odHRwczovL3d3dy5yZWFkbGlnaHRub3ZlbC5jYy8nOw0KDQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJjaFNldHRpbmdzID0gbmV3IFBhcnNlclNlYXJjaFNldHRpbmdzKCk7DQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRpbmdzLmdlbnJlcyA9IHsNCiAgICAgICAgbXVsdGlTZWxlY3Rpb246IGZhbHNlLA0KICAgICAgICB2YWx1ZXM6IFsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5ldyBsYWJlbFZhbHVlKCdBbnknLCAwKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdGYW50YXN5JywgMSksDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnWGlhbnhpYScsIDIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1JvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFudGljJywgMyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnSGlzdG9yaWNhbCcsIDQpLA0KICAgICAgICAgICAgbmV3IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxhYmVsVmFsdWUoJ1NjaS1maScsIDUpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0dhbWUnLCA2KSwNCiAgICAgICAgXMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICB9Ow0KDQogICAgcmV0dXJuT2JqZWN0LmdldFNlY3Rpb25zID0gYXN5bmMgKGtleXMpID0+IHsNCiAgICAgICAgdmFyIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HNlY3Rpb25zID0gWw0KICAgICAgICAgICAgbmV3IFNlY3Rpb24oImxhdGVzdCIsICJMYXRlc3QgVXBkYXRlIiwgIkxhdGVzdCIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRydWUpDQogICAgICAgIF0NCg0KICAgICAgICByZXR1cm4gc2VjdGlvbnMuZmlsdGVyKHggPT4gIWtleXMgfHwga2V5cy5pbmNsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WRlcyh4Lm5hbWUpKTsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QudHJhbnNsYXRlU2VjdGlvbiA9IGFzeW5jIChzZWN0aW9uLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBwYWdlKSA9PiB7DQogICAgICAgIGlmIChzZWN0aW9uLmlkZW50aWZpZXIgPT0gIkxhdGVzdCIpDQogICAgICAgICAgICByZXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m4gYXdhaXQgcmV0dXJuT2JqZWN0LmxhdGVzdChwYWdlKTsNCiAgICAgICAgZWxzZQ0KICAgICAgICAgICAgcmV0dXJuIGF3YWl0IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybk9iamVjdC5zZWFyY2goc2VjdGlvbi5maWx0ZXIgfHwgcmV0dXJuT2JqZWN0LmRlZmF1bHRGaWx0ZXIoKSwgcGFnZSk7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmRlZmF1bHRGaWx0ZXIgPSAoKSA9PiB7DQogICAgICAgIHZhciBmaWx0ZXIgPSBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgRmlsdGVyKCk7DQogICAgICAgIHJldHVybiBmaWx0ZXI7DQogICAgfTsNCg0KICAgIHJldHVybk9iamVjdC5nZXRHZW5yZXNTZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFyY2ggPSBhc3luYyAoZmlsdGVyLCBwYWdlKSA9PiB7DQogICAgICAgIHZhciBxID0gJ2h0dHBzOi8vd3d3LnJlYWRsaWdodG5vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsLmNjL21lbWJlcmFjdGlvbi5hc3B4JzsNCiAgICAgICAgdmFyIGYgPSB7DQogICAgICAgICAgICBhY3Rpb246ICduZXh0Ym9vaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02NhdGVnb3J5JywNCiAgICAgICAgICAgIGNhdGVnb3J5aWQ6IGZpbHRlci5nZW5yZXNbMF0sDQogICAgICAgICAgICBwYWdlOiBwYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WdlLA0KICAgICAgICB9Ow0KDQogICAgICAgIHZhciBqc29uID0gYXdhaXQgSHR0cENsaWVudC5wb3N0Rm9ybShxLCBmKTsNCg0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICByZXR1cm4ganNvbiAmJiBqc29uLmRhdGEgPyBqc29uLmRhdGEubWFwKCh4KSA9Pg0KICAgICAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBMaWdodEl0ZW0oDQogICAgICAgICAgICAgICAgICAgIGFzeW5jICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CByZXR1cm4gKGF3YWl0IHJldHVybk9iamVjdC5nZXROb3ZlbCh4LkJvb2tQaW5ZaW4udXJpKHJldHVybk9iamVjdC5wYXJzZXIudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJsKSArICIvIiwgdHJ1ZSkpLmltYWdlDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgeC5Cb29rTmFtZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHguRGVzY3JpcHRpb24sDQogICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB4LkJvb2tQaW5ZaW4udXJpKHRyZXR1cm5PYmplY3RoaXMudXJsKSArICIvIiwNCiAgICAgICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybk9iamVjdC5uYW1lDQogICAgICAgICAgICAgICAgKSwNCiAgICAgICAgICAgICkgOg0KICAgICAgICAgICAgW107DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaCA9IGFzeW5jIChmaWx0ZXIsIHBhZ2UpID0+IHsNCiAgICAgICAgaWYgKGZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlci5nZW5yZXMubGVuZ3RoID4gMCkNCiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZXR1cm5PYmplY3QuZ2V0R2VucmVzU2VhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mNoKGZpbHRlciwgcGFnZSk7DQoNCiAgICAgICAgdmFyIHF1ZXJ5ID0gcmV0dXJuT2JqZWN0LnNlYXJjaFVybA0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgLnJlcGxhY2UoJ3txfScsIGZpbHRlci50aXRsZSB8fCAiIikNCiAgICAgICAgICAgIC5yZXBsYWNlKCd7cH0nLCBwYWdlLnRvUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03RyaW5nKCkpOw0KICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mdldEh0bWwocXVlcnkpKTsNCiAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICBjb250YWluZXIuZmluZCgnLmxpc3QtaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRlbScpLmZvckVhY2goeCA9PiB7DQogICAgICAgICAgICByZXN1bHQucHVzaCgNCiAgICAgICAgICAgICAgICBuZXcgTGlnaHRJdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVtKA0KICAgICAgICAgICAgICAgICAgICB4LnNlbGVjdCgnaW1nJykuYXR0cigic3JjIikudXJsKCksDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHguc2VsZWN0KCdpbWcnKS5hdHRyKCJhbHQgfCB0aXRsZSIpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAnJywNCiAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoJy5ib29rLW5hbWUnKS5hdHRyKCJocmVmIikudXJsKCksDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgIHJldHVybk9iamVjdC5uYW1lDQogICAgICAgICAgICAgICAgKSwNCiAgICAgICAgICAgICk7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIH0pOw0KICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5nZXROb3ZlbCA9IGFzeW5jIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Chub3ZlbFVybCwgaWdub3JlQ2hhcHRlcnMpID0+IHsNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKG5vdmVsVXJsLCBpZ25vcmVDaGFwdGVycykpOw0KICAgICAgICB2YXIgY2hhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlcnMgPSBbXTsNCiAgICAgICAgdmFyIG5vdmVsUmV2aWV3cyA9IG5ldyBOb3ZlbFJldmlld3MoKTsNCiAgICAgICAgaWYgKCFpZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU025vcmVDaGFwdGVycykgew0KICAgICAgICAgICAgdmFyIGh0bWxDaGFwdGVycyA9IGNvbnRhaW5lci5maW5kKCcuY2hhcHRlci1saMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XN0IGEnKTsNCiAgICAgICAgICAgIGh0bWxDaGFwdGVycy5mb3JFYWNoKCh4KSA9PiB7DQogICAgICAgICAgICAgICAgY2hhcHRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nMucHVzaCgNCiAgICAgICAgICAgICAgICAgICAgbmV3IENoYXB0ZXIoeC5zZWxlY3QoJy5jaGFwdGVyLW5hbWUnKS50ZXh0KGZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HNlKSwgeC5hdHRyKCJocmVmIikudXJsKCkpDQogICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIG5vdmVsUmV2aWV3cy5nZW5yZXMgPSBjb250YWluZXIuZmluZCgiLmJhc2UtaW5mbyAuYm9vay1jYXRhbG9nIC50eMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HQiKS50ZXh0QXJyYXkoKTsNCiAgICAgICAgbm92ZWxSZXZpZXdzLmF1dGhvciA9IGNvbnRhaW5lci5zZWxlY3QoIi5hdXRob3IgLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m5hbWUiKS50ZXh0KGZhbHNlKTsNCiAgICAgICAgbm92ZWxSZXZpZXdzLnV2b3RlcyA9IGNvbnRhaW5lci5zZWxlY3QoIi5zY29yZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SIpLnRleHQoZmFsc2UpICsgIiAvIDEwIjsNCiAgICAgICAgbm92ZWxSZXZpZXdzLmNvbXBsZXRlZCA9IGNvbnRhaW5lci5zZWxlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03QoIi5iYXNlLWluZm8gLmJvb2stc3RhdGUgLnR4dCIpLnRleHQoZmFsc2UpID09PSAiQ29tcGxldGVkIiA/ICJTdGF0dXM6Q29tcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxldGVkIiA6ICJTdGF0dXM6T25nb2luZyI7DQogICAgICAgIHJldHVybiBuZXcgRGV0YWxpSXRlbSgNCiAgICAgICAgICAgIGNvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRhaW5lci5zZWxlY3QoJy5ib29rLWNvbnRhaW5lciBpbWcnKS5hdHRyKCJzcmMiKS51cmwoKSwNCiAgICAgICAgICAgIGNvbnRhaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5lci5zZWxlY3QoJy5ib29rLWluZm8gLmJvb2stbmFtZScpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgY29udGFpbmVyLnNlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVjdCgnLnN5bm9wc2lzIC5jb250ZW50IC5kZXNjJykuY2xlYW5Jbm5lckhUTUwoKSwNCiAgICAgICAgICAgIG5vdmVsVXJsLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgY2hhcHRlcnMsDQogICAgICAgICAgICBub3ZlbFJldmlld3MsDQogICAgICAgICAgICByZXR1cm5PYmplY3QubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFtZSwNCiAgICAgICAgICAgIHVuZGVmaW5lZCwNCiAgICAgICAgKTsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QuZ2V0Q2hhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlciA9IGFzeW5jICh1cmwpID0+IHsNCiAgICAgICAgcmV0dXJuIHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgbmV3IGNsaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WVudCgpLmdldEh0bWwodXJsKSkuc2VsZWN0KCcucmVhZC1jb250YWluZXIgLnNlY3Rpb24tbGlzdCcpLmNsZWFuSW5uZXJIVE1MKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ck7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmxhdGVzdCA9IGFzeW5jIChwYWdlKSA9PiB7DQogICAgICAgIHZhciBjb250YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbChyZXR1cm5PYmplY3QubGF0ZXN0VMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJsKSk7DQogICAgICAgIHZhciByZXN1bHQgPSBbXTsNCg0KICAgICAgICBjb250YWluZXIuZmluZCgnLnVwZGF0ZS1jb250ZW50JMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ykuZm9yRWFjaCgoeCkgPT4gew0KICAgICAgICAgICAgdmFyIHUgPSB4LnNlbGVjdCgnLml0ZW0tdGl0bGUgYScpLmF0dHIoImhyZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WYiKS50ZXh0KGZhbHNlKTsNCiAgICAgICAgICAgIHZhciB0aXRsZSA9IHguc2VsZWN0KCcuaXRlbS10aXRsZSBhJykudGV4dChmYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxzZSk7DQogICAgICAgICAgICBpZiAodSAhPSAiIiAmJiAhcmVzdWx0LmZpbmQoKHgpID0+IHUudXJpKHJldHVybk9iamVjdC51cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mwpID09IHgubm92ZWwgfHwgdGl0bGUgPT0geC50aXRsZSkpDQogICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIG5ldyBMaWdodEl0ZW0oDQogICAgICAgICAgICAgICAgICAgICAgICBhc3luYyAoKSA9PiB7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoYXdhaXQgcmV0dXJuT2JqZWN0LmdldE5vdmVsKHUudXJpKHJldHVybk9iaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVjdC51cmwpLCB0cnVlKSkuaW1hZ2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIHRpdGxlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICcnLA0KICAgICAgICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHUudXJpKHJldHVybk9iamVjdC51cmwpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybk9iamVjdC5uYW1lDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgICAgICksDQogICAgICAgICAgICAgICAgKTsNCiAgICAgICAgfSk7DQogICAgICAgIHJldHVybiByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XN1bHQ7DQogICAgfQ0KDQogICAgcmV0dXJuIHJldHVybk9iamVjdDsNCn0=&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50KSA9PiB7DQoJY29uc3QgcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuT2JqZWN0ID0ge307DQoJcmV0dXJuT2JqZWN0LmlkID0gIjEucmVhZG5vdmVsZnVsbCI7DQoJcmV0dXJuT2JqZWN0LnBhcnNlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0kxhbmd1YWdlID0gImVuIjsNCglyZXR1cm5PYmplY3QubmFtZSA9ICdSZWFkTm92ZWxGdWxsJzsNCglyZXR1cm5PYmplY3QuZGlzcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxheU5hbWUgPSAiUi1Ob3ZlbC1GdWxseSI7DQoJcmV0dXJuT2JqZWN0LmRldGFsaUl0ZW1UeXBlID0gRGV0YWxpSXRlbVR5cGUuTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m92ZWw7DQoJcmV0dXJuT2JqZWN0LmxhdGVzdFVybCA9ICdodHRwczovL3JlYWRub3ZlbGZ1bGwuY29tL2xhdGVzdC1yZWxlYXNlLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5vdmVsP3BhZ2U9e3B9JzsNCglyZXR1cm5PYmplY3QudXJsID0gJ2h0dHBzOi8vcmVhZG5vdmVsZnVsbC5jb20vJzsNCglyZXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m5PYmplY3Quc2VhcmNoVXJsID0gJ2h0dHBzOi8vcmVhZG5vdmVsZnVsbC5jb20vc2VhcmNoP2tleXdvcmQ9e3F9JnBhZ2U9e3B9JMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0zsNCglyZXR1cm5PYmplY3QuY2hhcHRlcnNVcmwgPSAnaHR0cHM6Ly9yZWFkbm92ZWxmdWxsLmNvbS9hamF4L2NoYXB0ZXItb3B0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W9uP25vdmVsSWQ9e2lkfSZjdXJyZW50Q2hhcHRlcklkPTEnOw0KCXJldHVybk9iamVjdC5wYW5pbmF0aW9uID0gdHJ1ZTsNCglyZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1cm5PYmplY3Quc2VhcmNoUGFnaW5hdGlvbiA9IHRydWU7DQoJcmV0dXJuT2JqZWN0Lmljb24gPSAnaHR0cHM6Ly9yZWFkbm92ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxmdWxsLmNvbS9pbWcvZmF2aWNvbi5pY28nOw0KCXJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncyA9IG5ldyBQYXJzZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJTZWFyY2hTZXR0aW5ncygpOw0KCXJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZXMgPSB7DQoJCW11bHRpUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VsZWN0aW9uOiBmYWxzZSwNCgkJdmFsdWVzOiBbDQoJCQluZXcgbGFiZWxWYWx1ZSgnU2hvdW5lbicpLA0KCQkJbmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoJ0hhcmVtJyksDQoJCQluZXcgbGFiZWxWYWx1ZSgnQ29tZWR5JyksDQoJCQluZXcgbGFiZWxWYWx1ZSgnTWFydGlhbCBBcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRzJywgJ01hcnRpYWwrQXJ0cycpLA0KCQkJbmV3IGxhYmVsVmFsdWUoJ1NjaG9vbCBMaWZlJywgJ1NjaG9vbCtMaWZlJyksDQoJCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QluZXcgbGFiZWxWYWx1ZSgnTXlzdGVyeScpLA0KCQkJbmV3IGxhYmVsVmFsdWUoJ1Nob3VqbycpLA0KCQkJbmV3IGxhYmVsVmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUoJ1JvbWFuY2UnKSwNCgkJCW5ldyBsYWJlbFZhbHVlKCdTY2ktZmknKSwNCgkJCW5ldyBsYWJlbFZhbHVlKCdHZW5kZXIgQmVuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVyJywgJ0dlbmRlcitCZW5kZXInKSwNCgkJCW5ldyBsYWJlbFZhbHVlKCdNYXR1cmUnKSwNCgkJCW5ldyBsYWJlbFZhbHVlKCdGYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W50YXN5JyksDQoJCQluZXcgbGFiZWxWYWx1ZSgnSG9ycm9yJyksDQoJCQluZXcgbGFiZWxWYWx1ZSgnRHJhbWEnKSwNCgkJCW5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBsYWJlbFZhbHVlKCdUcmFnZWR5JyksDQoJCQluZXcgbGFiZWxWYWx1ZSgnU3VwZXJuYXR1cmFsJyksDQoJCQluZXcgbGFiZWxWYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZSgnRWNjaGknKSwNCgkJCW5ldyBsYWJlbFZhbHVlKCdYdWFuaHVhbicpLA0KCQkJbmV3IGxhYmVsVmFsdWUoJ0FkdmVudHVyZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ScpLA0KCQkJbmV3IGxhYmVsVmFsdWUoJ1BzeWNob2xvZ2ljYWwnKSwNCgkJCW5ldyBsYWJlbFZhbHVlKCdYaWFueGlhJyksDQoJCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QluZXcgbGFiZWxWYWx1ZSgnV3V4aWEnKSwNCgkJCW5ldyBsYWJlbFZhbHVlKCdIaXN0b3JpY2FsJyksDQoJCQluZXcgbGFiZWxWYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZSgnU2xpY2Ugb2YgTGlmZScsICdTbGljZStvZitMaWZlJyksDQoJCQluZXcgbGFiZWxWYWx1ZSgnTG9saWNvbicpLA0KCQkJbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV3IGxhYmVsVmFsdWUoJ0FkdWx0JyksDQoJCQluZXcgbGFiZWxWYWx1ZSgnSm9zZWknKSwNCgkJCW5ldyBsYWJlbFZhbHVlKCdTcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G9ydHMnKSwNCgkJCW5ldyBsYWJlbFZhbHVlKCdTbXV0JyksDQoJCQluZXcgbGFiZWxWYWx1ZSgnTWVjaGEnKSwNCgkJCW5ldyBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJlbFZhbHVlKCdZYW9pJyksDQoJCQluZXcgbGFiZWxWYWx1ZSgnU2hvdW5lbiBBaScsICdTaG91bmVuK0FpJyksDQoJCV0sDQoJfMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TsNCglyZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3Muc29ydFR5cGVzID0gew0KCQltdWx0aVNlbGVjdGlvbjogZmFscMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02UsDQoJCXZhbHVlczogWw0KCQkJbmV3IGxhYmVsVmFsdWUoJ0xhdGVzdCBSZWxlYXNlIE5vdmVsJywgJ2xhdGVzdC1yZWxlYXNlLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5vdmVsJyksDQoJCQluZXcgbGFiZWxWYWx1ZSgnSG90IE5vdmVsJywgJ2hvdC1ub3ZlbCcpLA0KCQkJbmV3IGxhYmVsVmFsdWUoJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU00NvbXBsZXRlZCBOb3ZlbCcsICdjb21wbGV0ZWQtbm92ZWwnKSwNCgkJCW5ldyBsYWJlbFZhbHVlKCdNb3N0IFBvcHVsYXInLCAnbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W9zdC1wb3B1bGFyLW5vdmVsJyksDQoJCV0sDQoJfTsNCglyZXR1cm5PYmplY3QuZ2V0U2VjdGlvbnMgPSAoa2V5cykgPT4gew0KCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ql2YXIgc2VjdGlvbnMgPSBbDQoJCQluZXcgU2VjdGlvbigibGF0ZXN0IiwgIkxhdGVzdCBVcGRhdGUiLCAiTGF0ZXN0IiwgdHJ1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SksDQoJCQluZXcgU2VjdGlvbigiaG90IiwgIkhvdCBOb3ZlbCIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZmluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WQsICJob3Qtbm92ZWwiKSksDQoJCQluZXcgU2VjdGlvbigiY29tcGxldGVkIiwgIkNvbXBsZXRlZCBOb3ZlbCIsICJTZWFyY2giLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsICJjb21wbGV0ZWQtbm92ZWwiKSksDQoJCQluZXcgU2VjdGlvbigicG9wdWxhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iIsICJNb3N0IFBvcHVsYXIiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIodW5kZWZpbmVkLCAibW9zdC1wb3B1bGFyLW5vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsIikpDQoJCV0NCgkJcmV0dXJuIHNlY3Rpb25zLmZpbHRlcih4ID0+ICFrZXlzIHx8IGtleXMuaW5jbHVkZXMoeC5uYW1lKSk7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QoJfQ0KCXJldHVybk9iamVjdC50cmFuc2xhdGVTZWN0aW9uID0gYXN5bmMgKHNlY3Rpb24sIHBhZ2UpID0+IHsNCgkJaWYgKHNlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03Rpb24uaWRlbnRpZmllciA9PSAiTGF0ZXN0IikgcmV0dXJuIGF3YWl0IHJldHVybk9iamVjdC5sYXRlc3QocGFnZSk7DQoJCWVscMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02UgcmV0dXJuIGF3YWl0IHJldHVybk9iamVjdC5zZWFyY2goc2VjdGlvbi5maWx0ZXIgfHwgcmV0dXJuT2JqZWN0LmRlZmF1bHRGaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx0ZXIoKSwgcGFnZSk7DQoJfQ0KCXJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyID0gKCkgPT4gew0KCQl2YXIgZmlsdGVyID0gbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV3IEZpbHRlcigpOw0KCQlyZXR1cm4gZmlsdGVyOw0KCX07DQoJcmV0dXJuT2JqZWN0LnNlYXJjaCA9IGFzeW5jIChmaWx0ZXIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HBhZ2UpID0+IHsNCgkJdmFyIGdlbnJlVXJsID0gImdlbnJlL3tnfT9wYWdlPXtwfSIudXJpKHJldHVybk9iamVjdC51cmwpLnJlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxhY2UoIntwfSIsIHBhZ2UudG9TdHJpbmcoKSk7DQoJCXZhciBzb3J0VHlwZVVybCA9ICJ7c30/cGFnZT17cH0iLnVyaShyZXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m5PYmplY3QudXJsKS5yZXBsYWNlKCJ7cH0iLCBwYWdlLnRvU3RyaW5nKCkpOw0KCQl2YXIgcSA9IGZpbHRlci5nZW5yZXMubGVuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03RoID4gMCA/IGdlbnJlVXJsLnJlcGxhY2UoIntnfSIsIGZpbHRlci5nZW5yZXNbMF0pIDogKGZpbHRlci5zb3J0VHlwZSAmJiBmaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx0ZXIuc29ydFR5cGUgIT0gJycgPyBzb3J0VHlwZVVybC5yZXBsYWNlKCJ7c30iLCBmaWx0ZXIuc29ydFR5cGUpIDogdW5kZWZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVkKTsNCgkJdmFyIHF1ZXJ5ID0gcSB8fCByZXR1cm5PYmplY3Quc2VhcmNoVXJsLnJlcGxhY2UoJ3txfScsIGZpbHRlci50aXRsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SB8fCAiIikucmVwbGFjZSgne3B9JywgcGFnZS50b1N0cmluZygpKTsNCgkJdmFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKHF1ZXJ5KSk7DQoJCXZhciByZXN1bHQgPSBbXTsNCgkJY29udGFpbmVyLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mZpbmQoJy5saXN0LW5vdmVsIC5yb3cnKS5mb3JFYWNoKCh4KSA9PiB7DQoJCQlpZiAoeC5zZWxlY3QoJ2ltZycpLmF0dHIoInNyYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yIpLmhhc1ZhbHVlKCkpIHJlc3VsdC5wdXNoKG5ldyBMaWdodEl0ZW0oeC5zZWxlY3QoJ2ltZycpLmF0dHIoInNyYyIpLnVybCgpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nJlcGxhY2UoL1swLTldK3hbMC05XSsvZ2ksICIxNTB4MTcwIiksIHguc2VsZWN0KCcubm92ZWwtdGl0bGUgYScpLnRleHQoZmFscMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02UpLCAnJywgeC5zZWxlY3QoJy5ub3ZlbC10aXRsZSBhJykuYXR0cigiaHJlZiIpLnVybCgpLCByZXR1cm5PYmplY3QubmFtZSksIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ck7DQoJCX0pOw0KCQlyZXR1cm4gcmVzdWx0Ow0KCX0NCglyZXR1cm5PYmplY3QuZ2V0Q2hhcHRlcnMgPSBhc3luYyAobm92ZWxVcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mwsIGh0bWxDb250YWluZXIpID0+IHsNCgkJdmFyIGNoYXB0ZXJzID0gW107DQoJCXZhciB1cmwgPSByZXR1cm5PYmplY3QuY2hhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlcnNVcmwucmVwbGFjZSgne2lkfScsIChodG1sQ29udGFpbmVyLnNlbGVjdCgnI3JhdGluZycpLmF0dHIoImRhdGEtbm92ZWwtaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WQiKS5oYXNWYWx1ZSgpID8gaHRtbENvbnRhaW5lci5zZWxlY3QoJyNyYXRpbmcnKS5hdHRyKCJkYXRhLW5vdmVsLWlkIikudGV4dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CgpIDogaHRtbENvbnRhaW5lci5zZWxlY3QoJ1tkYXRhLW5vdmVsLWlkXScpLmF0dHIoImRhdGEtbm92ZWwtaWQiKS50ZXh0KCkpKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TsNCgkJdmFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKHVybCkpOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KCQljb250YWluZXIuZmluZCgnb3B0aW9uJykuZm9yRWFjaCh4ID0+IHsNCgkJCWlmICh4LmF0dHIoInZhbHVlIikuaGFzVmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUoKSkgY2hhcHRlcnMucHVzaChuZXcgQ2hhcHRlcih4LnRleHQoZmFsc2UpLCB4LmF0dHIoInZhbHVlIikudXJsKCkpKTsNCgkJfMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Sk7DQoJCXJldHVybiBjaGFwdGVyczsNCgl9DQoJcmV0dXJuT2JqZWN0LmdldE5vdmVsID0gYXN5bmMgKG5vdmVsVXJsKSA9PiB7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QoJCXZhciBjb250YWluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbChub3ZlbFVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CkpOw0KCQl2YXIgY2hhcHRlcnMgPSBhd2FpdCByZXR1cm5PYmplY3QuZ2V0Q2hhcHRlcnMobm92ZWxVcmwsIGNvbnRhaW5lcik7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QoJCXZhciBpdGVtID0gbmV3IE5vdmVsUmV2aWV3cygpOw0KCQl2YXIgaW5mbyA9IGNvbnRhaW5lci5maW5kKCcuaW5mbyBsaScpOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KCQlpdGVtLmdlbnJlcyA9IGluZm8ud2hlcmUoeCA9PiB4LmlubmVySFRNTCgpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZigiZ2VucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mUiKSAhPSAtMSkuZmluZCgiYSIpLnRleHRBcnJheSgpOw0KCQlpdGVtLmF1dGhvciA9IGluZm8ud2hlcmUoeCA9PiB4LmlubmVySMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FRNTCgpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZigiYXV0aG9yIikgIT0gLTEpLmZpbmQoImEiKS50ZXh0KGZhbHNlKQ0KCQlpdGVtLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mNvbXBsZXRlZCA9IGluZm8ud2hlcmUoeCA9PiB4LmlubmVySFRNTCgpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZigic3RhdHVzIikgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0T0gLTEpLnRleHQoZmFsc2UpOw0KCQlpdGVtLmFsdGVybmF0aXZlTmFtZXMgPSBpbmZvLndoZXJlKHggPT4geC5pbm5lckhUTUwoKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S50b0xvd2VyQ2FzZSgpLmluZGV4T2YoImFsdGVybmF0aXZlIG5hbWVzIikgIT0gLTEpLnRleHQoKTsNCgkJcmV0dXJuIG5ldyBEZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRhbGlJdGVtKGNvbnRhaW5lci5zZWxlY3QoJy5ib29rIGltZycpLmF0dHIoInNyYyIpLnVybCgpLCBjb250YWluZXIuc2VsZWN0KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CcudGl0bGUnKS50ZXh0KGZhbHNlKSwgY29udGFpbmVyLnNlbGVjdCgnLmRlc2MtdGV4dCcpLmNsZWFuSW5uZXJIVE1MKCksIG5vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsVXJsLCBjaGFwdGVycywgaXRlbSwgcmV0dXJuT2JqZWN0Lm5hbWUsIHVuZGVmaW5lZCk7DQoJfQ0KCXJldHVybk9iamVjdC5nZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRDaGFwdGVyID0gYXN5bmMgKHVybCkgPT4gew0KCQlyZXR1cm4gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBuZXcgY2xpZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W50KCkuZ2V0SHRtbCh1cmwpKS5zZWxlY3QoJyNjaHItY29udGVudCcpLmNsZWFuSW5uZXJIVE1MKCk7DQoJfQ0KCXJldHVybk9iaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVjdC5sYXRlc3QgPSBhc3luYyAocGFnZSkgPT4gew0KCQl2YXIgdXJsID0gcmV0dXJuT2JqZWN0LmxhdGVzdFVybC5yZXBsYWNlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Cd7cH0nLCBwYWdlLnRvU3RyaW5nKCkpOw0KCQl2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRwQ2xpZW50LmdldEh0bWwodXJsKSk7DQoJCXZhciByZXN1bHQgPSBbXTsNCgkJY29udGFpbmVyLmZpbmQoJy5saXN0LW5vdmVsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5yb3cnKS5mb3JFYWNoKCh4KSA9PiB7DQoJCQlpZiAoeC5zZWxlY3QoJ2ltZycpLmF0dHIoInNyYyIpLmhhc1ZhbHVlKCkpIHJlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03VsdC5wdXNoKG5ldyBMaWdodEl0ZW0oeC5zZWxlY3QoJ2ltZycpLmF0dHIoInNyYyIpLnVybCgpLnJlcGxhY2UoL1swLTldK3hbMMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C05XSsvZ2ksICIxNTB4MTcwIiksIHguc2VsZWN0KCcubm92ZWwtdGl0bGUgYScpLnRleHQoKSwgJycsIHguc2VsZWN0KCcubm92ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WwtdGl0bGUgYScpLmF0dHIoImhyZWYiKS51cmwoKSwgcmV0dXJuT2JqZWN0Lm5hbWUpLCApOw0KCQl9KTsNCgkJcmV0dXJuIHJlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03VsdDsNCgl9DQoJcmV0dXJuIHJldHVybk9iamVjdDsNCn0=&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIpID0+IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HsNCiAgICBjb25zdCByZXR1cm5PYmplY3QgPSB7fTsNCiAgICByZXR1cm5PYmplY3QuaWQgPSAiMS5yb3lhbHJvYWQiOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybk9iamVjdC5kZXRhbGlJdGVtVHlwZSA9IERldGFsaUl0ZW1UeXBlLk5vdmVsOw0KICAgIHJldHVybk9iamVjdC5wYXJzZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJMYW5ndWFnZSA9ICJlbiI7DQogICAgcmV0dXJuT2JqZWN0Lm5hbWUgPSAnUm95YWxSb2FkJzsNCiAgICByZXR1cm5PYmplY3QuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlzcGxheU5hbWUgPSByZXR1cm5PYmplY3QubmFtZTsNCiAgICByZXR1cm5PYmplY3QubGF0ZXN0VXJsID0gJ2h0dHBzOi8vd3d3LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nJveWFscm9hZC5jb20vZmljdGlvbnMvbGF0ZXN0LXVwZGF0ZXM/cGFnZT17cH0nOw0KICAgIHJldHVybk9iamVjdC51cmwgPSAnaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HR0cHM6Ly93d3cucm95YWxyb2FkLmNvbSc7DQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaFVybCA9ICdodHRwczovL3d3dy5yb3lhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJvYWQuY29tL2ZpY3Rpb25zL3NlYXJjaD9wYWdlPXtwfSZ0aXRsZT17cX0nOw0KICAgIHJldHVybk9iamVjdC5wYW5pbmF0aW9uIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0gdHJ1ZTsNCiAgICByZXR1cm5PYmplY3Quc2VhcmNoUGFnaW5hdGlvbiA9IHRydWU7DQogICAgcmV0dXJuT2JqZWN0Lmljb24gPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SAnaHR0cHM6Ly93d3cucm95YWxyb2FkLmNvbS9mYXZpY29uLTE2eDE2LnBuZz92PTIwMjAwMTI1JzsNCiAgICByZXR1cm5PYmplYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03QucGFyc2VyU2VhcmNoU2V0dGluZ3MgPSBuZXcgUGFyc2VyU2VhcmNoU2V0dGluZ3MoKTsNCiAgICByZXR1cm5PYmplY3QucGFycMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VyU2VhcmNoU2V0dGluZ3MubXVsdGlTZWxlY3Rpb24gPSB0cnVlOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5ncy5nZW5yZXMgPSB7DQogICAgICAgIG11bHRpU2VsZWN0aW9uOiB0cnVlLA0KICAgICAgICB2YWx1ZXM6IFsNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCJBY3Rpb24iLCAiYWN0aW9uIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQWR2ZW50dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJlIiwgImFkdmVudHVyZSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkNvbWVkeSIsICJjb21lZHkiKSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5ldyBsYWJlbFZhbHVlKCJDb250ZW1wb3JhcnkiLCAiY29udGVtcG9yYXJ5IiksDQogICAgICAgICAgICBuZXcgbGFiZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxWYWx1ZSgiRHJhbWEiLCAiZHJhbWEiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJQc3ljaG9sb2dpY2FsIiwgInBzeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WNob2xvZ2ljYWwiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJSb21hbmNlIiwgInJvbWFuY2UiKSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCJTYXRpcmUiLCAic2F0aXJlIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2NpLUZpIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iwgInNjaV9maSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNob3J0IFN0b3J5IiwgIm9uZV9zaG90IiksDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBuZXcgbGFiZWxWYWx1ZSgiVHJhZ2VkeSIsICJ0cmFnZWR5IiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiRMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFudGFzeSIsICJmYW50YXN5IiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTXlzdGVyeSIsICJteXN0ZXJ5IiksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiSGlzdG9yaWNhbCIsICJoaXN0b3JpY2FsIiksDQogICAgICAgICAgICBuZXcgbGFiZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxWYWx1ZSgiSG9ycm9yIiwgImhvcnJvciIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIk1hZ2ljIiwgIm1hZ2ljIiksDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQW50aS1IZXJvIExlYWQiLCAiYW50aS1oZXJvX2xlYWQiKSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCJBcnRpZmljaWFsIEludGVsbGlnZW5jZSIsICJhcnRpZmljaWFsX2ludGVsbGlnZW5jZSIpLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkF0dHJhY3RpdmUgTUMiLCAiYXR0cmFjdGl2ZV9tYyIpLA0KICAgICAgICAgICAgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV3IGxhYmVsVmFsdWUoIkN5YmVycHVuayIsICJjeWJlcnB1bmsiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJEdW5nZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W9uIiwgImR1bmdlb24iKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJEeXN0b3BpYSIsICJkeXN0b3BpYSIpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkZlbWFsZSBMZWFkIiwgImZlbWFsZV9sZWFkIiksDQogICAgICAgICAgICBuZXcgbGFiZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxWYWx1ZSgiRmlyc3QgQ29udGFjdCIsICJGaXJzdF9Db250YWN0IiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiR2FtZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0UxpdCIsICJHYW1lTGl0IiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiR2VuZGVyIEJlbmRlciIsICJnZW5kZXJfYmVuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVyIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiR2VuZXRpY2FsbHkgRW5naW5lZXJlZCIsICJHZW5ldGljYWxseV9FbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mdpbmVlcmVkIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiR3JpbWRhcmsiLCAiR3JpbWRhcmsiKSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCJIYXJkIFNjaS1maSIsICJIYXJkX1NjaV9maSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUoIkhhcmVtIiwgImhhcmVtIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiSGlnaCBGYW50YXN5IiwgImhpZ2hfZmFudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFzeSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkxpdFJQRyIsICJMaXRSUEciKSwNCiAgICAgICAgICAgIG5ldyBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJlbFZhbHVlKCJMb29wIiwgIkxvb3AiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJMb3cgRmFudGFzeSIsICJsb3dfZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFudGFzeSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIk1hbGUgTGVhZCIsICJtYWxlX2xlYWQiKSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCJNYXJ0aWFsIEFydHMiLCAibWFydGlhbF9hcnRzIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZSgiTXVsdGlwbGUgTGVhZCBDaGFyYWN0ZXJzIiwgIm11dGxpcGxlX2xlYWQiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVlKCJNeXRob3MiLCAibXl0aG9zIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTm9uLUh1bWFuIGxlYWQiLCAibm9uLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wh1bWFuX2xlYWQiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJQb3J0YWwgRmFudGFzeSAvIElzZWthaSIsICJzdW1tbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU025lZF9oZXJvIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiUG9zdCBBcG9jYWx5cHRpYyIsICJwb3N0X2Fwb2NhbHlwdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GljIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiUHJvZ3Jlc3Npb24iLCAicHJvZ3Jlc3Npb24iKSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCJSZWFkZXIgaW50ZXJhY3RpdmUiLCAicmVhZGVyX2ludGVyYWN0aXZlIiksDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBuZXcgbGFiZWxWYWx1ZSgiUmVpbmNhcm5hdGlvbiIsICJyZWluY2FybmF0aW9uIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZSgiUnVsaW5nIENsYXNzIiwgInJ1bGluZ19jbGFzcyIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNjaG9vbCBMaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WZlIiwgInNjaG9vbF9saWZlIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2VjcmV0IElkZW50aXR5IiwgInNlY3JldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0F9pZGVudGl0eSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNsaWNlIG9mIExpZmUiLCAic2xpY2Vfb2ZfbGlmZSIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNvZnQgU2NpLWZpIiwgIlNvZnRfU2NpX2ZpIiksDQogICAgICAgICAgICBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgbGFiZWxWYWx1ZSgiU3BhY2UgT3BlcmEiLCAic3BhY2Vfb3BlcmEiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G9ydHMiLCAic3BvcnRzIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU3RlYW1wdW5rIiwgInN0ZWFtcHVuayIpLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlN0cmF0ZWd5IiwgInN0cmF0ZWd5IiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZSgiU3Ryb25nIExlYWQiLCAic3Ryb25nX2xlYWQiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTdXBlciBIZXJvZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMiLCAic3VwZXJfaGVyb2VzIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU3VwZXJuYXR1cmFsIiwgInN1cGVybmF0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJhbCIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlRlY2hub2xvZ2ljYWxseSBFbmdpbmVlcmVkIiwgIlRlY2hub2xvZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02ljYWxseV9FbmdpbmVlcmVkIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiVGltZSBUcmF2ZWwiLCAiVGltZV9UcmF2ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WwiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJVcmJhbiBGYW50YXN5IiwgInVyYmFuX2ZhbnRhc3kiKSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5ldyBsYWJlbFZhbHVlKCJWaWxsYWlub3VzIExlYWQiLCAidmlsbGFpbm91c19sZWFkIiksDQogICAgICAgICAgICBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgbGFiZWxWYWx1ZSgiVmlydHVhbCBSZWFsaXR5IiwgInZpcnR1YWxfcmVhbGl0eSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoIldhciBhbmQgTWlsaXRhcnkiLCAid2FyX2FuZF9taWxpdGFyeSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ld1eGlhIiwgInd1eGlhIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiWGlhbnhpYSIsICJ4aWFueGlhIikNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgXQ0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5zdGF0dXNlcyA9IHsNCiAgICAgICAgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XVsdGlTZWxlY3Rpb246IHRydWUsDQogICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkNvbXBsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRlZCIsICJDT01QTEVURUQiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJPbmdvaW5nIiwgIk9OR09JTkciKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJIaWF0dXMiLCAiSElBVFVTIiksDQoNCiAgICAgICAgXQ0KICAgIH0NCg0KICAgIHJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5sYW5ndWFnZXMgPSB7DQogICAgICAgIG11bHRpU2VsZWN0aW9uOiBmYWxzZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgdmFsdWVzOiBbDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiRmFuIEZpY3Rpb24iLCAiZmFuZmljdGlvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIk9yaWdpbmFsIiwgIm9yaWdpbmFsIikNCiAgICAgICAgXQ0KICAgIH0NCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0g0KDQogICAgcmV0dXJuT2JqZWN0LmdldFNlY3Rpb25zID0gKGtleXMpID0+IHsNCiAgICAgICAgdmFyIHNlY3Rpb25zID0gWw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbmV3IFNlY3Rpb24oImxhdGVzdCIsICJMYXRlc3QgVXBkYXRlIiwgIkxhdGVzdCIsIHRydWUpLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbmV3IFNlY3Rpb24oImNvbXBsZXRlZCIsICJDb21wbGV0ZWQiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIodW5kZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgIkNPTVBMRVRFRCIpKSwNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJvbmdvaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5nIiwgIk9uZ29pbmciLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIodW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CwgIk9OR09JTkciKSksDQogICAgICAgICAgICBuZXcgU2VjdGlvbigicm9tYW5jZSIsICJSb21hbmNlIiwgIlNlYXJjaCIsIGZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HNlLCBuZXcgRmlsdGVyKFsicm9tYW5jZSJdKSksDQogICAgICAgICAgICBuZXcgU2VjdGlvbigiYWN0aW9uIiwgIkFjdGlvbiIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcihbImFjdGlvbiJdKSksDQogICAgICAgICAgICBuZXcgU2VjdGlvbigibXlzdGVyeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SIsICJNeXN0ZXJ5IiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKFsibXlzdGVyeSJdKSksDQogICAgICAgIF0NCg0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICByZXR1cm4gc2VjdGlvbnMuZmlsdGVyKHggPT4gIWtleXMgfHwga2V5cy5pbmNsdWRlcyh4Lm5hbWUpKTsNCiAgICB9DQoNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICByZXR1cm5PYmplY3QudHJhbnNsYXRlU2VjdGlvbiA9IGFzeW5jIChzZWN0aW9uLCBwYWdlKSA9PiB7DQogICAgICAgIGlmIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ChzZWN0aW9uLmlkZW50aWZpZXIgPT0gIkxhdGVzdCIpDQogICAgICAgICAgICByZXR1cm4gYXdhaXQgcmV0dXJuT2JqZWN0LmxhdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVzdChwYWdlKTsNCiAgICAgICAgZWxzZQ0KICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHJldHVybk9iamVjdC5zZWFyY2goc2VjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Glvbi5maWx0ZXIgfHwgcmV0dXJuT2JqZWN0LmRlZmF1bHRGaWx0ZXIoKSwgcGFnZSk7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0LmRlZmF1bHRGaWx0ZXIgPSAoKSA9PiB7DQogICAgICAgIHZhciBmaWx0ZXIgPSBuZXcgRmlsdGVyKCk7DQogICAgICAgIHJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybiBmaWx0ZXI7DQogICAgfTsNCg0KICAgIHJldHVybk9iamVjdC5zZWFyY2ggPSBhc3luYyAoZmlsdGVyLCBwYWdlKSA9PiB7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIHZhciB1cmwgPSByZXR1cm5PYmplY3Quc2VhcmNoVXJsLnJlcGxhY2UoIntwfSIsIHBhZ2UudG9TdHJpbmcoKSkucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVwbGFjZSgie3F9IiwgZmlsdGVyLnRpdGxlIHx8ICIiKTsNCiAgICAgICAgaWYgKGZpbHRlci5nZW5yZXMubGVuZ3RoID4gMCkNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIHVybCArPSAiJiIgKyBmaWx0ZXIuZ2VucmVzLm1hcCh4ID0+ICJ0YWdzQWRkPSIgKyB4KS5qb2luKCImIikNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0g0KICAgICAgICBpZiAoZmlsdGVyLmFjdGl2ZSAmJiBmaWx0ZXIuYWN0aXZlICE9ICIiKQ0KICAgICAgICAgICAgdXJsICs9ICImcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03RhdHVzPSIgKyBmaWx0ZXIuYWN0aXZlOw0KDQogICAgICAgIGlmIChmaWx0ZXIubGFuZ3VhZ2UgJiYgZmlsdGVyLmxhbmd1YWdlIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CE9ICIiKQ0KICAgICAgICAgICAgdXJsICs9ICImdHlwZT0iICsgZmlsdGVyLmxhbmd1YWdlOw0KDQogICAgICAgIHZhciBjb250YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbCh1cmwpKTsNCiAgICAgICAgdmFyIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJlc3VsdCA9IFtdOw0KICAgICAgICBjb250YWluZXIuZmluZCgiLmZpY3Rpb24tbGlzdC1pdGVtIikuZm9yRWFjaCh4ID0+IHsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBMaWdodEl0ZW0oeC5zZWxlY3QoImltZyIpLmF0dHIoInNyYyIpLnVybCgpLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgIHguc2VsZWN0KCIuZmljdGlvbi10aXRsZSIpLnRleHQoKSwNCiAgICAgICAgICAgICAgICAiIiwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICB4LnNlbGVjdCgiLmZpY3Rpb24tdGl0bGUgYSIpLmF0dHIoImhyZWYiKS51cmwoKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICByZXR1cm5PYmplY3QubmFtZSkpOw0KICAgICAgICB9KTsNCg0KICAgICAgICByZXR1cm4gcmVzdWx0Ow0KDQogICAgfQ0KDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgcmV0dXJuT2JqZWN0LmdldE5vdmVsPSBhc3luYyAobm92ZWxVcmwpID0+IHsNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKG5vdmVsVXJsKSk7DQogICAgICAgIHZhciBjaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFwdGVycyA9IGNvbnRhaW5lci5maW5kKCIjY2hhcHRlcnMgdGJvZHkgdHIiKS5tYXAoeCA9PiB4LnNlbGVjdCgiYSIpKS5maWx0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIoeCA9PiB4Lmhhc0VsZW1lbnQoKSkubWFwKHggPT4gbmV3IENoYXB0ZXIoeC50ZXh0KCksIHguYXR0cigiaHJlZiIpLnVybCgpKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Sk7DQogICAgICAgIHZhciBub3ZlbFJldmlld3MgPSBuZXcgTm92ZWxSZXZpZXdzKCk7DQogICAgICAgIHZhciBpbmZvcyA9IGNvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRhaW5lci5zZWxlY3QoIi5maWN0aW9uLWluZm8gLmNvbC1tZC04Iik7DQoNCiAgICAgICAgbm92ZWxSZXZpZXdzLmdlbnJlcyA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GluZm9zLmZpbmQoIi50YWdzIGEiKS50ZXh0QXJyYXkoKTsNCiAgICAgICAgbm92ZWxSZXZpZXdzLmF1dGhvciA9IGNvbnRhaW5lcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5zZWxlY3QoIi5maWMtdGl0bGUgc3Bhbltwcm9wZXJ0eT1uYW1lXSIpLnRleHQoKTsNCiAgICAgICAgbm92ZWxSZXZpZXdzLmRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02NyaXB0aW9uID0gY29udGFpbmVyLnNlbGVjdCgiLmRlc2NyaXB0aW9uIikuY2xlYW5Jbm5lckhUTUwoKTsNCiAgICAgICAgbm92ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxSZXZpZXdzLmNvbXBsZXRlZCA9IGNvbnRhaW5lci5zZWxlY3QoIi50YWdzIikuY2xvc2VzdCgiZGl2IikuZmluZCgic3BhbiIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ndoZXJlKHg9PiB4LmlubmVySFRNTCgpLmluZGV4T2YoIkNPTVBMRVRFRCIpICE9IC0xKS5oYXNFbGVtZW50cygpID8gIlN0YXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0zpDb21wbGV0ZWQiIDogIlN0YXR1czpPbmdvaW5nIg0KICAgICAgICByZXR1cm4gbmV3IERldGFsaUl0ZW0oDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBjb250YWluZXIuc2VsZWN0KCIudGV4dC1jZW50ZXIgaW1nIikuYXR0cigic3JjIikudXJsKCksDQogICAgICAgICAgICBjb250YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WluZXIuc2VsZWN0KCIuZmljLXRpdGxlIGgxIikudGV4dChmYWxzZSksDQogICAgICAgICAgICBub3ZlbFJldmlld3MuZGVzY3JpcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRpb24sDQogICAgICAgICAgICBub3ZlbFVybCwNCiAgICAgICAgICAgIGNoYXB0ZXJzLA0KICAgICAgICAgICAgbm92ZWxSZXZpZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XdzLA0KICAgICAgICAgICAgcmV0dXJuT2JqZWN0Lm5hbWUsDQogICAgICAgICAgICB1bmRlZmluZWQsDQogICAgICAgICk7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmdldENoYXB0ZXIgPSBhc3luYyAodXJsKT0+IHsNCiAgICAgICAgcmV0dXJuIHJldHVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0k9iamVjdC5wYXJzZXIuanEoYXdhaXQgbmV3IGNsaWVudCgpLmdldEh0bWwodXJsKSkuc2VsZWN0KCIuY2hhcHRlci1jb250ZW50IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ikuY2xlYW5Jbm5lckhUTUwoKTsNCg0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5sYXRlc3Q9IGFzeW5jIChwYWdlKSA9PiB7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIHZhciB1cmwgPSByZXR1cm5PYmplY3QubGF0ZXN0VXJsLnJlcGxhY2UoIntwfSIsIHBhZ2UudG9TdHJpbmcoKSk7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIHZhciBjb250YWluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbCh1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mwpKTsNCiAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICBjb250YWluZXIuc2VsZWN0KCIuZmljdGlvbi1saXN0LWl0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W0iKS5mb3JFYWNoKHggPT4gew0KICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IExpZ2h0SXRlbSgNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB4LnNlbGVjdCgiaW1nIikuYXR0cigic3JjIikudXJsKCksDQogICAgICAgICAgICAgICAgeC5zZWxlY3QoIi5maWN0aW9uLXRpdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxlIikudGV4dChmYWxzZSksDQogICAgICAgICAgICAgICAgIiIsDQogICAgICAgICAgICAgICAgeC5zZWxlY3QoIi5maWN0aW9uLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRpdGxlIGEiKS5hdHRyKCJocmVmIikudXJsKCksDQogICAgICAgICAgICAgICAgcmV0dXJuT2JqZWN0Lm5hbWUpKTsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgfSk7DQoNCiAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICB9DQoNCiAgICByZXR1cm4gcmV0dXJuT2JqZWN0Ow0KDQp9Ow==&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIpID0+IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HsNCiAgICBjb25zdCByZXR1cm5PYmplY3QgPSB7fTsNCiAgICByZXR1cm5PYmplY3QuaWQgPSAiMS5zY3JpYmJsZWh1YiI7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgcmV0dXJuT2JqZWN0LmRldGFsaUl0ZW1UeXBlID0gRGV0YWxpSXRlbVR5cGUuTm92ZWw7DQogICAgcmV0dXJuT2JqZWN0LnBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlckxhbmd1YWdlID0gImVuIjsNCiAgICByZXR1cm5PYmplY3QubmFtZSA9ICdTY3JpYmJsZUh1Yic7DQogICAgcmV0dXJuT2JqZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0LmRpc3BsYXlOYW1lID0gIlItTm92ZWwtSHViIjsNCiAgICByZXR1cm5PYmplY3QubGF0ZXN0VXJsID0gJ2h0dHBzOi8vd3d3LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNjcmliYmxlaHViLmNvbS8/cGc9e3B9JzsNCiAgICByZXR1cm5PYmplY3QudXJsID0gJ2h0dHBzOi8vd3d3LnNjcmliYmxlaHViLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mNvbSc7DQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaFVybCA9ICdodHRwczovL3d3dy5zY3JpYmJsZWh1Yi5jb20vP3M9e3F9JnBvcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03RfdHlwZT1maWN0aW9ucG9zdHMnOw0KICAgIHJldHVybk9iamVjdC5wYW5pbmF0aW9uID0gdHJ1ZTsNCiAgICByZXR1cm5PYmplYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03Quc2VhcmNoUGFnaW5hdGlvbiA9IGZhbHNlOw0KICAgIHJldHVybk9iamVjdC5pY29uID0gJ2h0dHBzOi8vd3d3LnNjcmliYmxlaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HViLmNvbS9mYXZpY29uLmljbyc7DQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzID0gbmV3IFBhcnNlclNlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJjaFNldHRpbmdzKCk7DQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLm11bHRpU2VsZWN0aW9uID0gdHJ1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3Muc29ydFR5cGVzID0gew0KICAgICAgICBtdWx0aVNlbGVjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlvbjogZmFsc2UsDQogICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0NoYXB0ZXJzIHBlciBXZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WVrJywgImZyZXF1ZW5jeSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0RhdGUgQWRkZWQnLCAiZGF0ZWFkZGVkIiksDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnRmF2b3JpdGVzJywgImZhdm9yaXRlcyIpLA0KICAgICAgICAgICAgbmV3IGxhYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsVmFsdWUoJ0xhc3QgVXBkYXRlJywgImxhc3RjaHBkYXRlIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTnVtYmVyIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G9mIFJhdGluZ3MnLCAibnVtb2ZyYXRlIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnUGFnZXMnLCAicGFnZXMiKSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdQYWdldmlld3MnLCAicGFnZXZpZXdzIiksDQogICAgICAgICAgICBuZXcgbGFiZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxWYWx1ZSgnUmF0aW5ncycsICJyYXRpbmdzIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnUmVhZGVycycsICJyZWFkZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJzIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnVG90YWwgV29yZHMnLCAidG90YWx3b3JkcyIpLA0KICAgICAgICBdLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgIH07DQoNCiAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3MuZ2VucmVzID0gew0KICAgICAgICBtdWx0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0VNlbGVjdGlvbjogdHJ1ZSwNCiAgICAgICAgdmFsdWVzOiBbDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQWN0aW9uIiwgOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQ29tZWR5IiwgNyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiRMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFudGFzeSIsIDE5KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJIaXN0b3JpY2FsIiwgMjEpLA0KICAgICAgICAgICAgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV3IGxhYmVsVmFsdWUoIkxpdFJQRyIsIDExODApLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIk15c3RlcnkiLCA5MDkpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNjaS1maSIsIDkxMiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WR1bHQiLCA5MDIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkRyYW1hIiwgOTAzKSwNCiAgICAgICAgICAgIG5ldyBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJlbFZhbHVlKCJHZW5kZXIgQmVuZGVyIiwgOTA1KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJIb3Jyb3IiLCAyMiksDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTWFydGlhbCBBcnRzIiwgOTA3KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVlKCJQc3ljaG9sb2dpY2FsIiwgOTEwKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTZWluZW4iLCA5MTMpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlN1cGVybmF0dXJhbCIsIDUpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkFkdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVudHVyZSIsIDgpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkVjY2hpIiwgOTA0KSwNCiAgICAgICAgICAgIG5ldyBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJlbFZhbHVlKCJHaXJscyBMb3ZlIiwgODkyKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJJc2VrYWkiLCAzNyksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTWF0dXJlIiwgMjApLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlJvbWFuYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02UiLCA2KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTbGljZSBvZiBMaWZlIiwgOTE0KSwNCiAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBsYWJlbFZhbHVlKCJUcmFnZWR5IiwgOTAxKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJCb3lzIExvdmUiLCA4OTEpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkZhbmZpY3Rpb24iLCAzOCksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgiSGFyZW0iLCAxMDE1KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJKb3NlaSIsIDkwNiksDQogICAgICAgICAgICBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgbGFiZWxWYWx1ZSgiTWVjaGEiLCA5MDgpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNjaG9vbCBMaWZlIiwgOTExKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTbXV0IiwgOTE1KSwNCg0KICAgICAgICBdDQogICAgfQ0KDQogICAgcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLnN0YXR1c2VzID0gew0KICAgICAgICBtdWx0aVNlbGVjdGlvbjogZmFsc2UsDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkFsbCIsICJhbGwiKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBsYWJlbFZhbHVlKCJDb21wbGV0ZWQiLCAiY29tcGxldGVkIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiT25nbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02luZyIsICJvbmdvaW5nIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiSGlhdHVzIiwgImhpYXR1cyIpDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0F0NCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QuZ2V0U2VjdGlvbnMgPSAoa2V5cykgPT4gew0KICAgICAgICB2YXIgc2VjdGlvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nMgPSBbDQogICAgICAgICAgICBuZXcgU2VjdGlvbigibGF0ZXN0IiwgIkxhdGVzdCBVcGRhdGUiLCAiTGF0ZXN0IiwgdHJ1ZSksDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICBuZXcgU2VjdGlvbigicG9wdWxhciIsICJQb3B1bGFyIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVuZGVmaW5lZCwgInBhZ2V2aWV3cyIpKSwNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJmYXZvcml0ZXMiLCAiRmF2b3JpdGVzIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKHVuZGVmaW5lZCwgImZhdm9yaXRlcyIpKSwNCiAgICAgICAgICAgIG5ldyBTZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0aW9uKCJjb21wbGV0ZWQiLCAiQ29tcGxldGVkIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKHVuZGVmaW5lZCwgdW5kZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WZpbmVkLCB1bmRlZmluZWQsICJjb21wbGV0ZWQiKSkNCiAgICAgICAgXQ0KDQogICAgICAgIHJldHVybiBzZWN0aW9ucy5maWx0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIoeCA9PiAha2V5cyB8fCBrZXlzLmluY2x1ZGVzKHgubmFtZSkpOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC50cmFuc2xhdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVTZWN0aW9uID0gYXN5bmMgKHNlY3Rpb24sIHBhZ2UpID0+IHsNCiAgICAgICAgaWYgKHNlY3Rpb24uaWRlbnRpZmllciA9PSAiTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF0ZXN0IikNCiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZXR1cm5PYmplY3QubGF0ZXN0KHBhZ2UpOw0KICAgICAgICBlbHNlDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICByZXR1cm4gYXdhaXQgcmV0dXJuT2JqZWN0LnNlYXJjaChzZWN0aW9uLmZpbHRlciB8fCByZXR1cm5PYmplYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03QuZGVmYXVsdEZpbHRlcigpLCBwYWdlKTsNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QuZGVmYXVsdEZpbHRlciA9ICgpID0+IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HsNCiAgICAgICAgdmFyIGZpbHRlciA9IG5ldyBGaWx0ZXIodW5kZWZpbmVkLCAicGFnZXZpZXdzIiwgdW5kZWZpbmVkLCAiYWxsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ik7DQogICAgICAgIHJldHVybiBmaWx0ZXI7DQogICAgfTsNCg0KICAgIHJldHVybk9iamVjdC5zZWFyY2ggPSBhc3luYyAoZmlsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVyLCBwYWdlKSA9PiB7DQogICAgICAgIHZhciBzb3J0VHlwZVVyaSA9ICJodHRwczovL3d3dy5zY3JpYmJsZWh1Yi5jb20vc2VyaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WVzLWZpbmRlci8/c2Y9MSZnaT17Z30mbWdpPWFuZCZzb3J0PXtzb3J0fSZvcmRlcj1kZXNjJmNwPXtzdGF0dXN9JnBnPSIgKyBwYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WdlOw0KICAgICAgICB2YXIgc29ydFR5cGVVcmwgPSBzb3J0VHlwZVVyaS5yZXBsYWNlKCJ7Z30iLCBmaWx0ZXIuZ2VucmVzLmpvaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W4oIiwiKSkucmVwbGFjZSgie3NvcnR9IiwgZmlsdGVyLnNvcnRUeXBlKS5yZXBsYWNlKCJ7c3RhdHVzfSIsIGZpbHRlci5hY3RpdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mUpOw0KDQogICAgICAgIHZhciB1cmwgPSBmaWx0ZXIudGl0bGUgJiYgZmlsdGVyLnRpdGxlLmxlbmd0aCA+IDAgPyByZXR1cm5PYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mplY3Quc2VhcmNoVXJsLnJlcGxhY2UoIntxfSIsIGZpbHRlci50aXRsZSkgOiBzb3J0VHlwZVVybDsNCg0KICAgICAgICB2YXIgYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwodXJsKSk7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HZhciByZXN1bHQgPSBbXTsNCiAgICAgICAgY29udGFpbmVyLmZpbmQoIi5zZWFyY2hfbWFpbl9ib3giKS5mb3JFYWNoKHggPT4geMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IExpZ2h0SXRlbSgNCiAgICAgICAgICAgICAgICB4LnNlbGVjdCgiaW1nIikuYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR0cigic3JjIikudXJsKCksDQogICAgICAgICAgICAgICAgeC5zZWxlY3QoIi5zZWFyY2hfdGl0bGUiKS50ZXh0KGZhbHNlKSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICAiIiwNCiAgICAgICAgICAgICAgICB4LnNlbGVjdCgiLnNlYXJjaF90aXRsZSBhIikuYXR0cigiaHJlZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iIpLnVybCgpLA0KICAgICAgICAgICAgICAgIHJldHVybk9iamVjdC5uYW1lKSk7DQogICAgICAgIH0pOw0KICAgICAgICByZXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m4gcmVzdWx0Ow0KICAgIH0NCg0KDQogICAgcmV0dXJuT2JqZWN0LmdldENoYXB0ZXJzID0gYXN5bmMgKGlkKSA9PiB7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIGNvbnNvbGUubG9nKCJzdHJTSUQ6IiArIGlkKQ0KICAgICAgICB2YXIgaHRtbCA9IGF3YWl0IEh0dHBDbGllbnQucG9zdEZvcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m0oImh0dHBzOi8vd3d3LnNjcmliYmxlaHViLmNvbS93cC1hZG1pbi9hZG1pbi1hamF4LnBocCIsIHsNCiAgICAgICAgICAgIGFjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlvbjogIndpX2dldHRvY2NocCIsDQogICAgICAgICAgICBzdHJTSUQ6IHBhcnNlSW50KGlkKSwNCiAgICAgICAgICAgIHN0cm15cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G9zdGlkOiAwLA0KICAgICAgICAgICAgc3RyRmljOiAieWVzIg0KICAgICAgICB9KTsNCiAgICAgICAgcmV0dXJuIHJldHVybk9iaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVjdC5wYXJzZXIuanEoSHR0cENsaWVudC5wYXJzZUh0bWwoaHRtbCkpLmZpbmQoImEiKS5tYXAoeCA9PiBuZXcgQ2hhcHRlcih4LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRleHQoZmFsc2UpLCB4LmF0dHIoImhyZWYiKS51cmwoKSkpOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5nZXROb3ZlbCA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFzeW5jIChub3ZlbFVybCkgPT4gew0KICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBIdHRwQ2xpZW50LmdldEh0bWwobm92ZWxVcmwpKTsNCiAgICAgICAgdmFyIGlkID0gY29udGFpbmVyLnNlbGVjdCgiI215cG9zdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlkIikubm9kZVZhbHVlKCkgPyBjb250YWluZXIuc2VsZWN0KCIjbXlwb3N0aWQiKS5ub2RlVmFsdWUoKSA6IG5vdmVsVXJsLnNwbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Gl0KCIvIilbbm92ZWxVcmwuc3BsaXQoIi8iKS5pbmRleE9mKCJzZXJpZXMiKSArIDFdOw0KICAgICAgICB2YXIgY2hhcHRlcnMgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SBhd2FpdCByZXR1cm5PYmplY3QuZ2V0Q2hhcHRlcnMoaWQgfHwgIiIpOw0KICAgICAgICB2YXIgcmVnID0gbmV3IFJlZ0V4cCgvIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ihyYXRpbmdWYWx1ZSkiOiIoKFxcInxbXiJdKSopIi8sICJpIikNCiAgICAgICAgdmFyIHJlcyA9IHJlZy5leGVjKGNvbnRhaW5lcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5pbm5lckhUTUwoKSk7DQogICAgICAgIHZhciByYXRlID0gZXZhbCgocmVzICYmIHJlcy5sZW5ndGggPiAwID8gKHJlcy5maW5kQMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XQoMCkgfHwgIiIpLnNwbGl0KCI6IikubGFzdCgpIHx8ICIiIDogIjEiKSk7DQogICAgICAgIHZhciBub3ZlbFJldmlld3MgPSBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgTm92ZWxSZXZpZXdzKCk7DQogICAgICAgIG5vdmVsUmV2aWV3cy5hdXRob3IgPSBjb250YWluZXIuc2VsZWN0KCJbcHJvcGVydMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Hk9J2F1dGhvciddIC5hdXRoX25hbWVfZmljIikudGV4dChmYWxzZSk7DQogICAgICAgIG5vdmVsUmV2aWV3cy5nZW5yZXMgPSBjbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0250YWluZXIuZmluZCgiLndpX2ZpY19nZW5yZSBhIikudGV4dEFycmF5KCk7DQogICAgICAgIG5vdmVsUmV2aWV3cy51dm90ZXMgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SAiUmF0aW5nOiIgKyBwYXJzZUludChyYXRlID8gcmF0ZSA6ICIxIikudG9GaXhlZCgwKSArICIvNSI7DQogICAgICAgIG5vdmVsUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV2aWV3cy5jb21wbGV0ZWQgPSBjb250YWluZXIuc2VsZWN0KCIud2lkZ2V0X2ZpY19zaW1pbGFyIikudGV4dChmYWxzZSkuaW5kZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XhPZigiQ29tcGxldGVkIikgIT0gLTEgPyAiU3RhdHVzOkNvbXBsZXRlZCIgOiAiU3RhdHVzOk9uZ29pbmciOw0KICAgICAgICByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1cm4gbmV3IERldGFsaUl0ZW0oDQogICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCIubm92ZWwtY292ZXIgaW1nIikuYXR0cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0igic3JjIikudXJsKCksDQogICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCcuZmljX3RpdGxlJykudGV4dChmYWxzZSksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCcud2lfZmljX2Rlc2MnKS5jbGVhbklubmVySFRNTCgpLA0KICAgICAgICAgICAgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m92ZWxVcmwsDQogICAgICAgICAgICBjaGFwdGVycy5yZXZlcnNlKCksDQogICAgICAgICAgICBub3ZlbFJldmlld3MsDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICByZXR1cm5PYmplY3QubmFtZSwNCiAgICAgICAgICAgIHVuZGVmaW5lZCwNCiAgICAgICAgKTsNCiAgICB9DQoNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CByZXR1cm5PYmplY3QuZ2V0Q2hhcHRlciA9IGFzeW5jICh1cmwpID0+IHsNCiAgICAgICAgcmV0dXJuIHJldHVybk9iamVjdC5wYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJzZXIuanEoYXdhaXQgbmV3IGNsaWVudCgpLmdldEh0bWwodXJsKSkuc2VsZWN0KCIuY2hwX3JhdyIpLmNsZWFuSW5uZXJIVE1MKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ck7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmxhdGVzdCA9IGFzeW5jIChwYWdlKSA9PiB7DQogICAgICAgIHZhciB1cmwgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SByZXR1cm5PYmplY3QubGF0ZXN0VXJsLnJlcGxhY2UoIntwfSIsIHBhZ2UudG9TdHJpbmcoKSk7DQogICAgICAgIHZhciBjb250YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbCh1cmwpKTsNCiAgICAgICAgdmFyIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJlc3VsdCA9IFtdOw0KICAgICAgICBjb250YWluZXIuc2VsZWN0KCIjbWFpbl9yZWxlYXNlcyB0ZCIpLmZvckVhY2goeCA9PiB7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICByZXN1bHQucHVzaChuZXcgTGlnaHRJdGVtKA0KICAgICAgICAgICAgICAgIHguc2VsZWN0KCJpbWciKS5hdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRyKCJzcmMiKS51cmwoKSwNCiAgICAgICAgICAgICAgICB4LnNlbGVjdCgiLmZwX3RpdGxlIikudGV4dChmYWxzZSksDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIiIsDQogICAgICAgICAgICAgICAgeC5zZWxlY3QoIi5mcF90aXRsZSIpLmF0dHIoImhyZWYiKS51cmwoKSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICByZXR1cm5PYmplY3QubmFtZSkpOw0KICAgICAgICB9KTsNCiAgICAgICAgcmV0dXJuIHJlc3VsdDsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICB9DQoNCiAgICByZXR1cm4gcmV0dXJuT2JqZWN0Ow0KDQp9Ow==&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIpID0+IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HsNCiAgICBjb25zdCByZXR1cm5PYmplY3QgPSB7fTsNCiAgICByZXR1cm5PYmplY3QuaWQgPSAiMS50YXByZWFkIjsNCiAgICByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1cm5PYmplY3QuZGV0YWxpSXRlbVR5cGUgPSBEZXRhbGlJdGVtVHlwZS5Ob3ZlbDsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFuZ3VhZ2UgPSAiZW4iOw0KICAgIHJldHVybk9iamVjdC5uYW1lID0gJ1RhcFJlYWQnOw0KICAgIHJldHVybk9iamVjdC5kaXNwbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF5TmFtZSA9ICJULU5vdmVsLVJlYWQiOw0KICAgIHJldHVybk9iamVjdC5sYXRlc3RVcmwgPSAnaHR0cHM6Ly93d3cudGFwcmVhZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5jb20vYWpheC9ib29rL2xhc3R1cGRhdGVsaXN0JzsNCiAgICByZXR1cm5PYmplY3QudXJsID0gJ2h0dHBzOi8vd3d3LnRhcHJlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WQuY29tLyc7DQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaFVybCA9ICdodHRwczovL3d3dy50YXByZWFkLmNvbS9hamF4L3NlYXJjaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C9zdG9yeSc7DQogICAgcmV0dXJuT2JqZWN0LnBhbmluYXRpb24gPSB0cnVlOw0KICAgIHJldHVybk9iamVjdC5zZWFyY2hQYWdpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mF0aW9uID0gZmFsc2U7DQogICAgcmV0dXJuT2JqZWN0Lmljb24gPSAnaHR0cHM6Ly9zdGF0aWMudGFwcmVhZC5jb20vcGMvaW1hZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VzL2Zhdmljb24uaWNvJzsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3MgPSBuZXcgUGFyc2VyU2VhcmNoUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02V0dGluZ3MoKTsNCg0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZXMgPSB7DQogICAgICAgIG11bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRpU2VsZWN0aW9uOiBmYWxzZSwNCiAgICAgICAgdmFsdWVzOiBbDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQWxsIiwgMMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiV3V4aWEmWGlhbnhpYSIsIDEpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoIkZhbnRhc3kiLCAyKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJSb21hbmNlIiwgMyksDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBuZXcgbGFiZWxWYWx1ZSgiTEdCVCsiLCA0MyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiVXJiYW4iLCA0NCksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiR2FtZXMiLCA0NSksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiRWFzdGVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iIsIDQ2KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJIb3Jyb3ImVGhyaWxsZXIiLCA0NyksDQogICAgICAgICAgICBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgbGFiZWxWYWx1ZSgiSGlzdG9yaWNhbCIsIDc1KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTY2ktRmkiLCA3NiksDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QoNCiAgICAgICAgXQ0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5nZXRTZWN0aW9ucyA9IChrZXlzKSA9PiB7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HZhciBzZWN0aW9ucyA9IFsNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJsYXRlc3QiLCAiTGF0ZXN0IFVwZGF0ZSIsICJMYXRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03QiLCB0cnVlKSwNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJob3Jyb3IiLCAiSG9ycm9yJlRocmlsbGVyIiwgIlNlYXJjaCIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GZhbHNlLCBuZXcgRmlsdGVyKFs0N10pKSwNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJyb21hbmNlIiwgIlJvbWFuY2UiLCAiUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIoWzNdKSksDQogICAgICAgICAgICBuZXcgU2VjdGlvbigiZmFudGFzeSIsICJGYW50YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XN5IiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKFsyXSkpLA0KICAgICAgICBdDQoNCiAgICAgICAgcmV0dXJuIHNlY3RpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU025zLmZpbHRlcih4ID0+ICFrZXlzIHx8IGtleXMuaW5jbHVkZXMoeC5uYW1lKSk7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRyYW5zbGF0ZVNlY3Rpb24gPSBhc3luYyAoc2VjdGlvbiwgcGFnZSkgPT4gew0KICAgICAgICBpZiAoc2VjdGlvbi5pZGVudGlmaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WVyID09ICJMYXRlc3QiKQ0KICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHJldHVybk9iamVjdC5sYXRlc3QocGFnZSk7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIGVsc2UNCiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZXR1cm5PYmplY3Quc2VhcmNoKHNlY3Rpb24uZmlsdGVyIHx8IHJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybk9iamVjdC5kZWZhdWx0RmlsdGVyKCksIHBhZ2UpOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0gKCkgPT4gew0KICAgICAgICB2YXIgZmlsdGVyID0gbmV3IEZpbHRlcigpOw0KICAgICAgICByZXR1cm4gZmlsdGVyOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0H07DQoNCiAgICByZXR1cm5PYmplY3QuZ2V0R2VucmUgPSBhc3luYyAoZmlsdGVyLCBwYWdlKSA9PiB7DQogICAgICAgIHZhciB1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mwgPSAiaHR0cHM6Ly93d3cudGFwcmVhZC5jb20vYWpheC9jYXRlZ29yeS9kZXRhaWwiOw0KICAgICAgICB2YXIgcmVzdWx0ID0gWMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0107DQogICAgICAgIHZhciBkYXRhID0gYXdhaXQgSHR0cENsaWVudC5wb3N0Rm9ybSh1cmwsIHsgY2F0ZUlkOiBmaWx0ZXIuZ2VucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVzWzBdLCBwYWdlTm86IHBhZ2UgfSk7DQogICAgICAgIGlmIChkYXRhICYmIGRhdGEucmVzdWx0ICYmIGRhdGEucmVzdWx0LmJvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02tMaXN0KSB7DQogICAgICAgICAgICBkYXRhLnJlc3VsdC5ib29rTGlzdC5mb3JFYWNoKChpdGVtKSA9PiB7DQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgcmVzdWx0LnB1c2gobmV3IExpZ2h0SXRlbShhc3luYyAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiAoYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XdhaXQgcmV0dXJuT2JqZWN0LmdldE5vdmVsKGl0ZW0uYm9va0lkLCB0cnVlKSkuaW1hZ2UNCiAgICAgICAgICAgICAgICB9LCBpdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVtLmJvb2tOYW1lLCBpdGVtLmRlc2NyaXB0aW9uLCBpdGVtLmJvb2tJZCwgcmV0dXJuT2JqZWN0Lm5hbWUpKQ0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgfSk7DQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4gcmVzdWx0Ow0KDQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LnNlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJjaCA9IGFzeW5jIChmaWx0ZXIsIHBhZ2UpID0+IHsNCiAgICAgICAgaWYgKGZpbHRlci5nZW5yZXMubGVuZ3RoID4gMCkNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIHJldHVybiBhd2FpdCByZXR1cm5PYmplY3QuZ2V0R2VucmUoZmlsdGVyLCBwYWdlKTsNCg0KICAgICAgICB2YXIgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVzdWx0ID0gW107DQogICAgICAgIHZhciBkYXRhID0gYXdhaXQgSHR0cENsaWVudC5wb3N0Rm9ybShyZXR1cm5PYmplY3Quc2VhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mNoVXJsLCB7IHNlYXJjaFRleHQ6IGZpbHRlci50aXRsZSB8fCAiIiwgc3RvcnlUeXBlOiAxLCBwYWdlTm86IHBhZ2UgfSk7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIGlmIChkYXRhICYmIGRhdGEucmVzdWx0ICYmIGRhdGEucmVzdWx0LnN0b3J5TGlzdCkgew0KICAgICAgICAgICAgZGF0YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S5yZXN1bHQuc3RvcnlMaXN0LmZvckVhY2goKGl0ZW0pID0+IHsNCiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZXcgTGlnaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRJdGVtKGFzeW5jICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChhd2FpdCByZXR1cm5PYmplY3QuZ2V0Tm92ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WwoaXRlbS5zdG9yeUlkLCB0cnVlKSkuaW1hZ2UNCiAgICAgICAgICAgICAgICB9LCBpdGVtLnN0b3J5TmFtZSwgIiIsIGl0ZW0ucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03RvcnlJZCwgcmV0dXJuT2JqZWN0Lm5hbWUpKQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4gcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVzdWx0Ow0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5nZXRDaGFwdGVycyA9IGFzeW5jIChib29rSWQpID0+IHsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgdmFyIGRhdGEgPSBhd2FpdCBIdHRwQ2xpZW50LnBvc3RGb3JtKCJodHRwczovL3d3dy50YXByZWFkLmNvbS9hamF4L2Jvb2svYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029udGVudHMiLCB7IGJvb2tJZDogYm9va0lkIH0pOw0KICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgIGlmIChkYXRhIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CYmIGRhdGEucmVzdWx0ICYmIGRhdGEucmVzdWx0LmNoYXB0ZXJMaXN0KQ0KICAgICAgICAgICAgZGF0YS5yZXN1bHQuY2hhcHRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0kxpc3QuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZXcgQ2hhcHRlcihpdGVtLmNoYXB0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJOYW1lLCAoaXRlbS5ib29rSWQgKyAiLyIgKyBpdGVtLmNoYXB0ZXJJZCkudXJpKCJodHRwczovL3d3dy50YXByZWFkLmNvbS9haMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mF4L2Jvb2svY2hhcHRlciIpKSkNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgIHJldHVybiByZXN1bHQ7DQoNCiAgICB9DQoNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICByZXR1cm5PYmplY3QuZ2V0Tm92ZWwgPSBhc3luYyAobm92ZWxVcmwsIGlnbm9yZWNoYXB0ZXJzKSA9PiB7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5vdmVsVXJsID0gcGFyc2VJbnQobm92ZWxVcmwpLnRvU3RyaW5nKCk7DQogICAgICAgIHZhciBjb250YWluZXIgPSByZXR1cm5PYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbChub3ZlbFVybC50b1N0cmluZygpLnVyaSgiaHR0cHM6Ly93dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03cudGFwcmVhZC5jb20vYm9vay9kZXRhaWwvIiksIGlnbm9yZWNoYXB0ZXJzKSk7DQogICAgICAgIHZhciBjaGFwdGVycyA9ICFpZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU025vcmVjaGFwdGVycyA/IGF3YWl0IHJldHVybk9iamVjdC5nZXRDaGFwdGVycyhub3ZlbFVybCkgOiBbXTsNCiAgICAgICAgdmFyIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5vdmVsUmV2aWV3cyA9IG5ldyBOb3ZlbFJldmlld3MoKTsNCiAgICAgICAgbm92ZWxSZXZpZXdzLmdlbnJlcyA9IGNvbnRhaW5lcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5maW5kKCIuYmFzZS1pbmZvIC5ib29rLWNhdGFsb2cgLnR4dCIpLnRleHRBcnJheSgpOw0KICAgICAgICBub3ZlbFJldmlld3MuYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XV0aG9yID0gY29udGFpbmVyLnNlbGVjdCgiLmF1dGhvciAubmFtZSIpLnRleHQoZmFsc2UpOw0KICAgICAgICBub3ZlbFJldmlldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03MudXZvdGVzID0gY29udGFpbmVyLnNlbGVjdCgiLnNjb3JlIikudGV4dCgpICsgIiAvIDUiOw0KICAgICAgICBub3ZlbFJldmlldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03MuY29tcGxldGVkID0gY29udGFpbmVyLnNlbGVjdCgiLmJhc2UtaW5mbyAuYm9vay1zdGF0ZSAudHh0IikudGV4dChmYWxzZSkgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0T09ICJDb21wbGV0ZWQiID8gIlN0YXR1czpDb21wbGV0ZWQiIDogIlN0YXR1czpPbmdvaW5nIjsNCiAgICAgICAgcmV0dXJuIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBEZXRhbGlJdGVtKA0KICAgICAgICAgICAgY29udGFpbmVyLnNlbGVjdCgnLmJvb2staW1nIGltZycpLmF0dHIoInNyYyIpLnVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CgpLA0KICAgICAgICAgICAgY29udGFpbmVyLnNlbGVjdCgnLmJvb2stbmFtZScpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029udGFpbmVyLnNlbGVjdCgnLmRlc2MnKS5jbGVhbklubmVySFRNTCgpLA0KICAgICAgICAgICAgbm92ZWxVcmwsDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBjaGFwdGVycywNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cywNCiAgICAgICAgICAgIHJldHVybk9iamVjdC5uYW1lLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgdW5kZWZpbmVkLA0KICAgICAgICApOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5nZXRDaGFwdGVyID0gYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XN5bmMgKHVybCkgPT4gew0KICAgICAgICB2YXIgdXJsQ29udGVudCA9IHVybC5zcGxpdCgiLyIpOw0KICAgICAgICB2YXIgYm9vaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU00lkID0gdXJsQ29udGVudFt1cmxDb250ZW50Lmxlbmd0aCAtIDJdOw0KICAgICAgICB2YXIgY2hhcHRlcklkID0gdXJsQ29udGVudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ft1cmxDb250ZW50Lmxlbmd0aCAtIDFdOw0KICAgICAgICBjb25zb2xlLmxvZygiYm9va0lkOiIgKyBib29rSWQpDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GNvbnNvbGUubG9nKCJjaGFwdGVySWQ6IiArIGNoYXB0ZXJJZCkNCiAgICAgICAgdmFyIGRhdGEgPSBhd2FpdCBuZXcgY2xpZW50KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CkucG9zdEZvcm0oImh0dHBzOi8vd3d3LnRhcHJlYWQuY29tL2FqYXgvYm9vay9jaGFwdGVyIiwgeyBib29rSWQ6IGJvb2tJZCwgYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02hhcHRlcklkOiBjaGFwdGVySWQgfSkNCiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5yZXN1bHQpDQogICAgICAgICAgICByZXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m4gZGF0YS5yZXN1bHQuY29udGVudDsNCiAgICAgICAgcmV0dXJuICJTb21ldGhpbmcgd2VudCB3cm9uZyI7DQoNCiAgICB9DQoNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICByZXR1cm5PYmplY3QubGF0ZXN0ID0gYXN5bmMgKHBhZ2UpID0+IHsNCiAgICAgICAgdmFyIHVybCA9IHJldHVybk9iamVjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5sYXRlc3RVcmw7DQogICAgICAgIHZhciBkYXRhID0gYXdhaXQgSHR0cENsaWVudC5wb3N0Rm9ybSh1cmwsIHsgYW1vdW10OiAwLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBwYWdlTm86IHBhZ2UgfSk7DQogICAgICAgIHZhciByZXN1bHQgPSBbXTsNCiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5yZXN1bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HQgJiYgZGF0YS5yZXN1bHQpIHsNCiAgICAgICAgICAgIGRhdGEucmVzdWx0LmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgcmVzdWx0LnB1c2gobmV3IExpZ2h0SXRlbShhc3luYyAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiAoYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XdhaXQgcmV0dXJuT2JqZWN0LmdldE5vdmVsKGl0ZW0uYm9va0lkLCB0cnVlKSkuaW1hZ2UNCiAgICAgICAgICAgICAgICB9LCBpdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVtLnRpdGxlLCAiIiwgaXRlbS5ib29rSWQsIHJldHVybk9iamVjdC5uYW1lKSkNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QoNCiAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICB9DQoNCiAgICByZXR1cm4gcmV0dXJuT2JqZWN0Ow0KfTs=&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCkgPT4gew0KICAgIGNvbnN0IHJldHVybk9iamVjdCA9IHt9Ow0KICAgIGNvbnN0IGhDbGllbnQgPSBuZXcgY2xpZW50KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ck7DQogICAgaENsaWVudC5hZGRTdGF0aWNIZWFkZXIoInNpdGUtZG9tYWluIiwgIndubXRsLm9yZyIpOw0KICAgIHJldHVybk9iaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVjdC5pZCA9ICIxLndubXRsb3JnIjsNCiAgICByZXR1cm5PYmplY3QuZGV0YWxpSXRlbVR5cGUgPSBEZXRhbGlJdGVtVHlwZS5ObMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03ZlbDsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyTGFuZ3VhZ2UgPSAiZW4iOw0KICAgIHJldHVybk9iamVjdC5uYW1lID0gJ1dubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRsJzsNCiAgICByZXR1cm5PYmplY3QuZGlzcGxheU5hbWUgPSAiVy1NVEwiOw0KICAgIHJldHVybk9iamVjdC5sYXRlc3RVcmwgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SAnaHR0cHM6Ly9hcGkubXlzdG9yeXdhdmUuY29tL3N0b3J5LXdhdmUtYmFja2VuZC9hcGkvdjEvY29udGVudC9ib29rcy9jdXN0bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU020vTGFzdFVwZGF0ZWRMb2NhbCc7DQogICAgcmV0dXJuT2JqZWN0LnVybCA9ICdodHRwOi8vd3d3LndubXRsLm9yZyc7DQogICAgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuT2JqZWN0LnNlYXJjaFVybCA9ICIiOw0KICAgIHJldHVybk9iamVjdC5wYW5pbmF0aW9uID0gdHJ1ZTsNCiAgICByZXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m5PYmplY3Quc2VhcmNoUGFnaW5hdGlvbiA9IHRydWU7DQogICAgcmV0dXJuT2JqZWN0Lmljb24gPSAnaHR0cHM6Ly9ub3ZlbGZ1bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GwuY29tL3dlYi9pbWFnZXMvZmF2aWNvbi5pY28nOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncyA9IG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBQYXJzZXJTZWFyY2hTZXR0aW5ncygpOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZXMgPSB7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIG11bHRpU2VsZWN0aW9uOiBmYWxzZSwNCiAgICAgICAgdmFsdWVzOiBbDQogICAgICAgICAgICBuZXcgbGFiZWxWYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZSgnRmFudGFzeScsIDEpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1NjaS1maScsIDIpLA0KICAgICAgICAgICAgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV3IGxhYmVsVmFsdWUoJ1Nwb3J0cycsIDMpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1VyYmFuJywgNCksDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBuZXcgbGFiZWxWYWx1ZSgnRWFzdGVybiBGYW50YXN5JywgNSksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnSMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G9ycm9yJlRocmlsbGVyJywgNiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnVmlkZW8gR2FtZScsIDcpLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbmV3IGxhYmVsVmFsdWUoJ0hpc3RvcnknLCA4KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdXYXInLCA5KSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdVcmJhbiBSb21hbmNlJywgMTApLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUoJ0ZhbnRhc3kgUm9tYW5jZScsIDExKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdIaXN0b3JpY2FsIFJvbWFuY2UnLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAxMiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnVGVlbicsIDEzKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CdMR0JUKycsIDE0KSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdSb21hbmNlJywgMTUpLA0KICAgICAgICAgICAgbmV3IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxhYmVsVmFsdWUoJ09USEVSUysnLCAxNiksDQogICAgICAgIF0sDQogICAgfQ0KDQoNCiAgICByZXR1cm5PYmplY3QuZ2V0U2VjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlvbnMgPSAoa2V5cykgPT4gew0KICAgICAgICB2YXIgc2VjdGlvbnMgPSBbDQogICAgICAgICAgICBuZXcgU2VjdGlvbigibGF0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XN0IiwgIkxhdGVzdCBVcGRhdGUiLCAiTGF0ZXN0IiwgdHJ1ZSksDQogICAgICAgICAgICBuZXcgU2VjdGlvbigiVXJiYW4iLCAiVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJiYW4gTm92ZWwiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIoWzRdKSksDQogICAgICAgICAgICBuZXcgU2VjdGlvbigiUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m9tYW5jZSIsICJSb21hbmNlIE5vdmVsIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKFsxNV0pKSwNCiAgICAgICAgXQ0KDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIHJldHVybiBzZWN0aW9ucy5maWx0ZXIoeCA9PiAha2V5cyB8fCBrZXlzLmluY2x1ZGVzKHgubmFtZSkpOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0H0NCg0KICAgIHJldHVybk9iamVjdC50cmFuc2xhdGVTZWN0aW9uID0gYXN5bmMgKHNlY3Rpb24sIHBhZ2UpID0+IHsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgaWYgKHNlY3Rpb24uaWRlbnRpZmllciA9PSAiTGF0ZXN0IikNCiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZXR1cm5PYmplYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03QubGF0ZXN0KHBhZ2UpOw0KICAgICAgICBlbHNlDQogICAgICAgICAgICByZXR1cm4gYXdhaXQgcmV0dXJuT2JqZWN0LnNlYXJjaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ChzZWN0aW9uLmZpbHRlciB8fCByZXR1cm5PYmplY3QuZGVmYXVsdEZpbHRlcigpLCBwYWdlKTsNCiAgICB9DQoNCiAgICByZXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m5PYmplY3QuZGVmYXVsdEZpbHRlciA9ICgpID0+IHsNCiAgICAgICAgcmV0dXJuIG5ldyBGaWx0ZXIoKTsNCiAgICB9DQoNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CByZXR1cm5PYmplY3Quc2VhcmNoID0gYXN5bmMgKGZpbHRlciwgcGFnZSkgPT4gew0KICAgICAgICB2YXIgdXJsID0gImh0dHBzOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i8vYXBpLm15c3Rvcnl3YXZlLmNvbS9zdG9yeS13YXZlLWJhY2tlbmQvYXBpL3YxL2NvbnRlbnQvYm9va3MvcmFuay9yZWFkQ291bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRzPyZwYWdlTnVtYmVyPSIgKyBwYWdlICsgIiZwYWdlU2l6ZT0xMDAiDQogICAgICAgIGlmIChmaWx0ZXIuZ2VucmVzICYmIGZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlci5nZW5yZXMubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgdXJsID0gdXJsICsgIiZnZW5yZT0iICsgZmlsdGVyLmdlbnJlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU01tmaWx0ZXIuZ2VucmVzLmxlbmd0aCAtIDFdOw0KICAgICAgICB9ZWxzZSB1cmwgPSB1cmwgPSAiaHR0cHM6Ly9hcGkubXlzdG9yeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XdhdmUuY29tL3N0b3J5LXdhdmUtYmFja2VuZC9hcGkvdjEvY29udGVudC9ib29rcy9zZWFyY2g/a2V5V29yZD0iICsgZmlsdGVyLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRpdGxlICsgIiZwYWdlTnVtYmVyPSIgKyBwYWdlICsgIiZwYWdlU2l6ZT0xMDAiDQogICAgICAgIHZhciBjb250YWluZXIgPSBhdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02FpdCBoQ2xpZW50LkdldEpzb24odXJsKTsNCiAgICAgICAgcmV0dXJuIGNvbnRhaW5lci5kYXRhLmxpc3QubWFwKHggPT4gew0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgcmV0dXJuIG5ldyBMaWdodEl0ZW0oDQogICAgICAgICAgICAgICAgeC5jb3ZlckltZ1VybCwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB4LnRpdGxlLA0KICAgICAgICAgICAgICAgICcnLA0KICAgICAgICAgICAgICAgICJodHRwczovL2FwaS5teXN0b3J5dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02F2ZS5jb20vc3Rvcnktd2F2ZS1iYWNrZW5kL2FwaS92MS9jb250ZW50L2Jvb2tzLyIgKyB4LmlkLCByZXR1cm5PYmplY3QubmFtZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Q0KICAgICAgICAgICAgKTsNCiAgICAgICAgfSk7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmdldENoYXB0ZXJzID0gYXN5bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mMgKG5vdmVsVXJsKSA9PiB7DQogICAgICAgIHZhciBjaGFwdGVycyA9IFtdOw0KICAgICAgICB2YXIgaWQgPSBub3ZlbFVybC5zcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxpdCgiLyIpLmxhc3QoKTsNCiAgICAgICAgdmFyIHVybCA9ICJodHRwczovL2FwaS5teXN0b3J5d2F2ZS5jb20vc3Rvcnktd2F2ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S1iYWNrZW5kL2FwaS92MS9jb250ZW50L2NoYXB0ZXJzL3BhZ2U/c29ydERpcmVjdGlvbj1BU0MmYm9va0lkPSIgKyBpZCArICImcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFnZU51bWJlcj0xJnBhZ2VTaXplPTEwMDAwMCINCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IGF3YWl0IGhDbGllbnQuR2V0SnNvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ih1cmwpOw0KICAgICAgICBpZiAoY29udGFpbmVyLmRhdGEgJiYgY29udGFpbmVyLmRhdGEubGlzdCkNCiAgICAgICAgICAgIGNvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRhaW5lci5kYXRhLmxpc3QuZm9yRWFjaCgoeCwgaSkgPT4gew0KICAgICAgICAgICAgICAgIGNoYXB0ZXJzLnB1c2gobmV3IENoYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XB0ZXIoKHguY2hhcHRlck9yZGVyICE9IHVuZGVmaW5lZCA/IHguY2hhcHRlck9yZGVyIDogaSArIDEpICsgIi0iICsgeC50aXRsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwgImh0dHBzOi8vYXBpLm15c3Rvcnl3YXZlLmNvbS9zdG9yeS13YXZlLWJhY2tlbmQvYXBpL3YxL2NvbnRlbnQvY2hhcHRlcnMvIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iArIHguaWQpKTsNCiAgICAgICAgICAgIH0pDQoNCiAgICAgICAgcmV0dXJuIGNoYXB0ZXJzOw0KICAgIH0NCg0KICAgIHJldHVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0k9iamVjdC5nZXROb3ZlbCA9IGFzeW5jIChub3ZlbFVybCkgPT4gew0KICAgICAgICB2YXIgY29udGFpbmVyID0gYXdhaXQgaENsaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WVudC5HZXRKc29uKG5vdmVsVXJsKTsNCg0KICAgICAgICB2YXIgY2hhcHRlcnMgPSBhd2FpdCByZXR1cm5PYmplY3QuZ2V0Q2hhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlcnMobm92ZWxVcmwpOw0KICAgICAgICB2YXIgbm92ZWxSZXZpZXdzID0gbmV3IE5vdmVsUmV2aWV3cygpOw0KICAgICAgICBubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03ZlbFJldmlld3MuZ2VucmVzID0gW2NvbnRhaW5lci5kYXRhLmdlbnJlTmFtZV0NCiAgICAgICAgbm92ZWxSZXZpZXdzLmF1dGhvcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iA9IGNvbnRhaW5lci5kYXRhLmF1dGhvclBzZXVkb255bTsNCiAgICAgICAgbm92ZWxSZXZpZXdzLnV2b3RlcyA9IGNvbnRhaW5lcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5kYXRhLnJhdGluZ0NvdW50cyArICIgLyA1IjsNCiAgICAgICAgcmV0dXJuIG5ldyBEZXRhbGlJdGVtKA0KICAgICAgICAgICAgYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029udGFpbmVyLmRhdGEuY292ZXJJbWdVcmwsDQogICAgICAgICAgICBjb250YWluZXIuZGF0YS50aXRsZSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HBhcnNlSHRtbChjb250YWluZXIuZGF0YS5zeW5vcHNpcykuY2xlYW5Jbm5lckhUTUwoKSwNCiAgICAgICAgICAgIG5vdmVsVXJsLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgY2hhcHRlcnMsDQogICAgICAgICAgICBub3ZlbFJldmlld3MsDQogICAgICAgICAgICByZXR1cm5PYmplYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03QubmFtZSwNCiAgICAgICAgICAgIHVuZGVmaW5lZCwNCiAgICAgICAgKTsNCiAgICB9DQoNCg0KICAgIHJldHVybk9iamVjdC5nZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRDaGFwdGVyID0gYXN5bmMgKHVybCkgPT4gew0KICAgICAgICB2YXIgY29udGFpbmVyID0gYXdhaXQgaENsaWVudC5HZXRKc29uKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybCk7DQogICAgICAgIHZhciBkYXRhID0gY29udGFpbmVyLmRhdGEuY29udGVudC5zcGxpdCgiXG4iKTsNCiAgICAgICAgZGF0YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SA9IGRhdGEuZmlsdGVyKHggPT4geCAmJiB4Lmxlbmd0aCA+IDApLm1hcCh4ID0+ICI8cD4iICsgeCArICI8L3A+Iikuam9pbigiIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ik7DQogICAgICAgIHJldHVybiBwYXJzZUh0bWwoZGF0YSkuY2xlYW5Jbm5lckhUTUwoKTsNCiAgICB9DQoNCiAgICByZXR1cm5PYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mplY3QubGF0ZXN0ID0gYXN5bmMgKHBhZ2UpID0+IHsNCiAgICAgICAgdmFyIHVybCA9IHJldHVybk9iamVjdC5sYXRlc3RVcmw7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIHZhciBkYXRhID0gYXdhaXQgaENsaWVudC5wb3N0SnNvbih1cmwsIHsgY29uZGl0aW9uSnNvbjogJ3sidGl0bGUiOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iJMYXRlc3QgVXBkYXRlcyIsbWF4U2l6ZToxNiwgbW9iaWxlSXRlbXM6MTJ9JywgcGFnZU51bWJlcjogcGFnZSwgcGFnZVNpemU6IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0DIwIH0pOw0KICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgIGlmIChkYXRhLmRhdGEgJiYgZGF0YS5kYXRhLmxpc3QgJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iYgZGF0YS5kYXRhLmxpc3QubGVuZ3RoKSB7DQogICAgICAgICAgICBkYXRhLmRhdGEubGlzdC5mb3JFYWNoKHggPT4gew0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIHJlc3VsdC5wdXNoKA0KICAgICAgICAgICAgICAgICAgICBuZXcgTGlnaHRJdGVtKA0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgeC5jb3ZlckltZ1VybCwNCiAgICAgICAgICAgICAgICAgICAgICAgIHgudGl0bGUsDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAnJywNCiAgICAgICAgICAgICAgICAgICAgICAgICJodHRwczovL2FwaS5teXN0b3J5d2F2ZS5jb20vc3RvcnktdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02F2ZS1iYWNrZW5kL2FwaS92MS9jb250ZW50L2Jvb2tzLyIgKyB4LmlkLCByZXR1cm5PYmplY3QubmFtZQ0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICApKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICB9DQoNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CByZXR1cm4gcmV0dXJuT2JqZWN0Ow0KDQp9Ow==&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIpID0+IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HsNCiAgICBjb25zdCByZXR1cm5PYmplY3QgPSB7fTsNCiAgICByZXR1cm5PYmplY3QuaWQgPSAiMS53dXhpYXdvcmxkIjsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CByZXR1cm5PYmplY3QuZGV0YWxpSXRlbVR5cGUgPSBEZXRhbGlJdGVtVHlwZS5Ob3ZlbDsNCiAgICByZXR1cm5PYmplY3QucGFycMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VyTGFuZ3VhZ2UgPSAiZW4iOw0KICAgIHJldHVybk9iamVjdC5uYW1lID0gJ1d1eGlhd29ybGQnOw0KICAgIHJldHVybk9iamVjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5kaXNwbGF5TmFtZSA9ICJXLU5vdmVsLVdvcmxkIjsNCiAgICByZXR1cm5PYmplY3QubGF0ZXN0VXJsID0gJ2h0dHBzOi8vd3d3LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nd1eGlhd29ybGQuY29tL3VwZGF0ZXMnOw0KICAgIHJldHVybk9iamVjdC51cmwgPSAnaHR0cHM6Ly93d3cud3V4aWF3b3JsZC5jbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU020nOw0KICAgIHJldHVybk9iamVjdC5zZWFyY2hVcmwgPSAnaHR0cHM6Ly93d3cud3V4aWF3b3JsZC5jb20vYXBpL25vdmVscy9zZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFyY2gnOw0KICAgIHJldHVybk9iamVjdC5wYW5pbmF0aW9uID0gZmFsc2U7DQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaFBhZ2luYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRpb24gPSB0cnVlOw0KICAgIHJldHVybk9iamVjdC5pY29uID0gJ2h0dHBzOi8vd3d3Lnd1eGlhd29ybGQuY29tL2Zhdmljb24tMMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0zJ4MzIucG5nP3Y9andFa0tYdzhQWSc7DQoNCiAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3MgPSBuZXcgUGFycMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VyU2VhcmNoU2V0dGluZ3MoKTsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3MubXVsdGlTZWxlY3Rpb24gPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SB0cnVlOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZXMgPQ0KICAgIHsNCiAgICAgIG11bHRpUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VsZWN0aW9uOiB0cnVlLA0KICAgICAgdmFsdWVzOiBbDQogICAgICAgIG5ldyBsYWJlbFZhbHVlKCdBY3Rpb24nKSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbmV3IGxhYmVsVmFsdWUoJ0NoZWF0IFN5c3RlbXMnKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0Nvb2tpbmcnKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbmV3IGxhYmVsVmFsdWUoJ0FsY2hlbXknKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0NyYWZ0aW5nJyksDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCdDb21lZHknKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0ZhbnRhc3knKSwNCiAgICAgICAgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV3IGxhYmVsVmFsdWUoJ0hhcmVtJyksDQogICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNYXR1cmUnKSwNCiAgICAgICAgbmV3IGxhYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsVmFsdWUoJ0tpbmdkb20gQnVpbGRpbmcnKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ01vZGVybiBTZXR0aW5nJyksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5ldyBsYWJlbFZhbHVlKCdNeXN0ZXJ5JyksDQogICAgICAgIG5ldyBsYWJlbFZhbHVlKCdQb2xpdGljYWwgSW50cmlndMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUnKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1BldHMnKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1Bvc3QtYXBvY2FseMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XB0aWMnKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1JvbWFuY2UnKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0ZlbWFsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SBQcm90YWdvbmlzdCcpLA0KICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU2NpLWZpJyksDQogICAgICAgIG5ldyBsYWJlbFZhbHVlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CdUaHJpbGxlcicpLA0KICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU3VwZXJwb3dlcnMnKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUoJ1RyYWdlZHknKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1ZpcnR1YWwgUmVhbGl0eScpLA0KICAgICAgICBuZXcgbGFiZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxWYWx1ZSgnWGlhbnhpYScpLA0KICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnV3V4aWEnKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUoJ1h1YW5odWFuJyksDQogICAgICAgIG5ldyBsYWJlbFZhbHVlKCdFc3BvcnRzJyksDQogICAgICAgIG5ldyBsYWJlbFZhbHVlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CdDdWx0aXZhdGlvbicpLA0KICAgICAgXSwNCiAgICB9Ow0KDQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mxhbmd1YWdlcyA9DQogICAgew0KICAgICAgbXVsdGlTZWxlY3Rpb246IGZhbHNlLA0KICAgICAgdmFsdWVzOiBbDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBsYWJlbFZhbHVlKCdBbnknKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0NoaW5lc2UnKSwNCiAgICAgICAgbmV3IGxhYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsVmFsdWUoJ0VuZ2xpc2gnKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0tvcmVhbicpLA0KICAgICAgXSwNCiAgICB9Ow0KDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLnN0YXR1c2VzID0NCiAgICB7DQogICAgICBtdWx0aVNlbGVjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlvbjogZmFsc2UsDQogICAgICB2YWx1ZXM6IFsNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0FueScsIG51bGwpLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBuZXcgbGFiZWxWYWx1ZSgnT25nb2luZycsIHRydWUpLA0KICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnQ29tcGxldGVkJywgZmFscMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02UpLA0KICAgICAgXSwNCiAgICB9Ow0KDQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLnNvcnRUeXBlcyA9DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgew0KICAgICAgbXVsdGlTZWxlY3Rpb246IGZhbHNlLA0KICAgICAgdmFsdWVzOiBbDQogICAgICAgIG5ldyBsYWJlbFZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVlKCdOYW1lJyksDQogICAgICAgIG5ldyBsYWJlbFZhbHVlKCdQb3B1bGFyJyksDQogICAgICAgIG5ldyBsYWJlbFZhbHVlKCdDaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFwdGVycycpLA0KICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTmV3JyksDQogICAgICAgIG5ldyBsYWJlbFZhbHVlKCdSYXRpbmcnKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgIF0sDQogICAgfTsNCg0KDQogICAgcmV0dXJuT2JqZWN0LmdldFNlY3Rpb25zID0gKGtleXMpID0+IHsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgdmFyIHNlY3Rpb25zID0gWw0KICAgICAgICAgIG5ldyBTZWN0aW9uKCJsYXRlc3QiLCAiTGF0ZXN0IFVwZGF0ZSIsICJMYXRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03QiLCB0cnVlKSwNCiAgICAgICAgICBuZXcgU2VjdGlvbigibmV3IiwgIk5ldyBOb3ZlbCIsICJTZWFyY2giLCBmYWxzZSwgSHR0cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ENsaWVudC5jbG9uZUl0ZW0ocmV0dXJuT2JqZWN0LmRlZmF1bHRGaWx0ZXIoKSwgeyBzb3J0VHlwZTogIk5ldyIgfSkpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5ldyBTZWN0aW9uKCJwb3B1bGFyIiwgIlBvcHVsYXIgTm92ZWwiLCAiU2VhcmNoIiwgZmFsc2UsIEh0dHBDbGllbnQuYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02xvbmVJdGVtKHJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyKCksIHsgc29ydFR5cGU6ICJQb3B1bGFyIiB9KSksDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbmV3IFNlY3Rpb24oImNvbXBsZXRlZCIsICJDb21wbGV0ZWQgTm92ZWwiLCAiU2VhcmNoIiwgZmFsc2UsIEh0dHBDbGllbnQuYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02xvbmVJdGVtKHJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyKCksIHsgYWN0aXZlOiBmYWxzZSB9KSkNCiAgICAgICAgXQ0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICByZXR1cm4gc2VjdGlvbnMuZmlsdGVyKHggPT4gIWtleXMgfHwga2V5cy5pbmNsdWRlcyh4Lm5hbWUpKTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIH0NCiAgICANCiAgICAgIHJldHVybk9iamVjdC50cmFuc2xhdGVTZWN0aW9uID0gYXN5bmMgKHNlY3Rpb24sIHBhZ2UpID0+IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HsNCiAgICAgICAgaWYgKHNlY3Rpb24uaWRlbnRpZmllciA9PSAiTGF0ZXN0IikNCiAgICAgICAgICByZXR1cm4gYXdhaXQgcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuT2JqZWN0LmxhdGVzdChwYWdlKTsNCiAgICAgICAgZWxzZQ0KICAgICAgICAgIHJldHVybiBhd2FpdCByZXR1cm5PYmplY3QucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VhcmNoKHNlY3Rpb24uZmlsdGVyIHx8IHJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyKCksIHBhZ2UpOw0KICAgICAgfQ0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgcmV0dXJuT2JqZWN0LmRlZmF1bHRGaWx0ZXIgPSAoKSA9PiB7DQogICAgICAgIHZhciBmaWx0ZXIgPSBuZXcgRmlsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVyKCk7DQogICAgICAgIGZpbHRlci5sYW5ndWFnZSA9IHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5sYW5ndWFnZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMudmFsdWVzLmZpbmRBdCgwKS52YWx1ZTsNCiAgICAgICAgZmlsdGVyLnNvcnRUeXBlID0gcmV0dXJuT2JqZWN0LnBhcnNlclNlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJjaFNldHRpbmdzLnNvcnRUeXBlcy52YWx1ZXMuZmluZEF0KDApLnZhbHVlOw0KICAgICAgICBmaWx0ZXIuYWN0aXZlID0gcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLnN0YXR1c2VzLnZhbHVlcy5maW5kQXQoMCkudmFsdWU7DQogICAgICAgIHJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybiBmaWx0ZXI7DQogICAgICB9DQogICAgDQogICAgICByZXR1cm5PYmplY3Quc2VhcmNoID0gYXN5bmMgKGZpbHRlciwgcGFnZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Sk9PiB7DQogICAgICAgIHZhciBkYXRhID0gYXdhaXQgSHR0cENsaWVudC5wb3N0SnNvbihyZXR1cm5PYmplY3Quc2VhcmNoVXJsLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBmaWx0ZXIpOw0KICAgICAgICByZXR1cm4gZGF0YSAmJiBkYXRhLml0ZW1zDQogICAgICAgICAgPyBkYXRhLml0ZW1zLmZpbHRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0igoeCkgPT4gIXguc25lYWtQZWVrKS5tYXAoDQogICAgICAgICAgICAoeCkgPT4NCiAgICAgICAgICAgICAgbmV3IExpZ2h0SXRlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgNCiAgICAgICAgICAgICAgICB4LmNvdmVyVXJsLA0KICAgICAgICAgICAgICAgIHgubmFtZSwNCiAgICAgICAgICAgICAgICB4LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nN5bm9wc2lzLA0KICAgICAgICAgICAgICAgIHguc2x1Zy51cmkoJ2h0dHBzOi8vd3d3Lnd1eGlhd29ybGQuY29tL25vdmVsLycpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CByZXR1cm5PYmplY3QubmFtZQ0KICAgICAgICAgICAgICApLA0KICAgICAgICAgICkNCiAgICAgICAgICA6IFtdOw0KICAgICAgfMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Q0KICAgIA0KICAgICAgcmV0dXJuT2JqZWN0LmdldE5vdmVsPSBhc3luYyAobm92ZWxVcmwpID0+IHsNCiAgICAgICAgdmFyIGNvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKG5vdmVsVXJsKSk7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHZhciBjaGFwdGVycyA9IFtdOw0KICAgICAgICBjb250YWluZXIuZmluZCgnLm5vdmVsLWNvbnRlbnQgLmNoYXB0ZXItaXRlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SBhJykuZm9yRWFjaCgoeCkgPT4gew0KICAgICAgICAgIGNoYXB0ZXJzLnB1c2goDQogICAgICAgICAgICBuZXcgQ2hhcHRlcigNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgeC50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgeC5hdHRyKCJocmVmIikudXJsKCkNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICksDQogICAgICAgICAgKTsNCiAgICAgICAgfSk7DQogICAgDQogICAgICAgIHZhciBub3ZlbFJldmlld3MgPSBuZXcgTm92ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxSZXZpZXdzKCk7DQogICAgDQogICAgICAgIHZhciBub2RlID0gY29udGFpbmVyLnNlbGVjdCgiLm5vdmVsLWJvZHkiKTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CANCiAgICAgICAgbm92ZWxSZXZpZXdzLmdlbnJlcyA9IGNvbnRhaW5lci5maW5kKCcuZ2VucmVzIGEnKS50ZXh0QXJyYXkoKTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgdmFyIGF1dGhvciA9IG5vZGUuc2VsZWN0KCJkdDpjb250YWlucyhBdXRob3IpIikNCiAgICAgICAgbm92ZWxSZXZpZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XdzLmF1dGhvciA9IGF1dGhvci5jbG9zZXN0KCJkaXYiKS5maW5kKCJkZCIpLnRleHQoZmFsc2UpOw0KICAgICAgICByZXR1cm4gbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV3IERldGFsaUl0ZW0oDQogICAgICAgICAgY29udGFpbmVyLnNlbGVjdCgnLmltZy10aHVtYm5haWwnKS5hdHRyKCJzcmMiKS51cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mwoKSwNCiAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCcubm92ZWwtYm9keSBoMicpLnRleHQoZmFsc2UpLA0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GNvbnRhaW5lci5maW5kKCcubm92ZWwtYm90dG9tID5kaXYnKS5lcSgxKS5jbGVhbklubmVySFRNTCgpLA0KICAgICAgICAgIG5vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsVXJsLA0KICAgICAgICAgIGNoYXB0ZXJzLA0KICAgICAgICAgIG5vdmVsUmV2aWV3cywNCiAgICAgICAgICByZXR1cm5PYmplYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03QubmFtZSwNCiAgICAgICAgKTsNCiAgICAgIH0NCiAgICANCiAgICAgIHJldHVybk9iamVjdC5nZXRDaGFwdGVyPSBhc3luYyAodMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJsKSA9PiB7DQogICAgICAgIHJldHVybiByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IG5ldyBjbGllbnQoKS5nZXRIdG1sKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybCkpLnNlbGVjdCgnI2NoYXB0ZXItY29udGVudCcpLmNsZWFuSW5uZXJIVE1MKCk7DQogICAgICB9DQogICAgDQogICAgICByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1cm5PYmplY3QubGF0ZXN0PSBhc3luYyAocGFnZSkgPT57DQogICAgICAgIHZhciBjb250YWluZXIgPSByZXR1cm5PYmplY3QucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbChyZXR1cm5PYmplY3QubGF0ZXN0VXJsKSk7DQogICAgICAgIHJldHVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iBjb250YWluZXIuZmluZCgnLnNlY3Rpb24tY29udGVudCAudGl0bGUgYScpLm1hcCgoeCkgPT4gew0KICAgICAgICAgIHJldHVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iBuZXcgTGlnaHRJdGVtKGFzeW5jICgpID0+IHsNCiAgICAgICAgICAgIHZhciBlbGVtID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Shhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwoeC5hdHRyKCdocmVmJykudXJsKCksIHRydWUpKQ0KICAgICAgICAgICAgcmV0dXJuIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVsZW0uc2VsZWN0KCIuaW1nLXRodW1ibmFpbCIpLmF0dHIoInNyYyIpLnVybCgpOw0KICAgICAgICAgIH0sIHgudGV4dChmYWxzZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SksICcnLCB4LmF0dHIoJ2hyZWYnKS51cmwoKSwgcmV0dXJuT2JqZWN0Lm5hbWUpOw0KICAgICAgICB9KTsNCiAgICAgIH0NCg0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHJldHVybiByZXR1cm5PYmplY3Q7DQp9Ow==&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIpID0+IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HsNCiAgICBjb25zdCByZXR1cm5PYmplY3QgPSB7fTsNCiAgICByZXR1cm5PYmplY3QuaWQgPSAiMS53dXhpYXdvcmxkX3NpdGUiOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgIHJldHVybk9iamVjdC5kZXRhbGlJdGVtVHlwZSA9IERldGFsaUl0ZW1UeXBlLk5vdmVsOw0KICAgIHJldHVybk9iamVjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5wYXJzZXJMYW5ndWFnZSA9ICJlbiI7DQogICAgcmV0dXJuT2JqZWN0Lm5hbWUgPSAnV3V4aWF3b3JsZC5TaXRlJzsNCiAgICByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1cm5PYmplY3QuZGlzcGxheU5hbWUgPSAiVy1Ob3ZlbC1TIjsNCiAgICByZXR1cm5PYmplY3QubGF0ZXN0VXJsID0gJ2h0dHBzOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i8vd3V4aWF3b3JsZC5zaXRlL3BhZ2Uve3B9Lyc7DQogICAgcmV0dXJuT2JqZWN0LnVybCA9ICdodHRwczovL3d1eGlhd29ybGQucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02l0ZSc7DQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaFVybCA9ICdodHRwczovL3d1eGlhd29ybGQuc2l0ZS93cC1hZG1pbi9hZG1pbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i1hamF4LnBocCc7DQogICAgcmV0dXJuT2JqZWN0LnBhbmluYXRpb24gPSB0cnVlOw0KICAgIHJldHVybk9iamVjdC5zZWFyY2hQYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WdpbmF0aW9uID0gdHJ1ZTsNCiAgICByZXR1cm5PYmplY3QuaWNvbiA9ICdodHRwczovL3d1eGlhd29ybGQuYi1jZG4ubmV0L3dwLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WNvbnRlbnQvdXBsb2Fkcy8yMDE5LzA0L2Zhdmljb24tMS5pY28nOw0KDQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRpbmdzID0gbmV3IFBhcnNlclNlYXJjaFNldHRpbmdzKCk7DQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m11bHRpU2VsZWN0aW9uID0gdHJ1ZTsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3MuZ2VucmVzID0NCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB7DQogICAgICAgIG11bHRpU2VsZWN0aW9uOiB0cnVlLA0KICAgICAgICB2YWx1ZXM6IFsNCiAgICAgICAgICAgIG5ldyBsYWJlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FZhbHVlKCdBY3Rpb24nLCAiYWN0aW9uIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnQWR1bHQnLCAiYWR1bHQiKSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJEcmFtYSIsICJkcmFtYSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0kVjY2hpIiwgImVjY2hpIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnQWR2ZW50dXJlJywgImFkdmVudHVyZSIpLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkdlbmRlciBCZW5kZXIiLCAiZ2VuZGVyLWJlbmRlciIpLA0KICAgICAgICAgICAgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV3IGxhYmVsVmFsdWUoIkhpc3RvcmljYWwiLCAiaGlzdG9yaWNhbCIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkhvcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nJvciIsICJob3Jyb3IiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJJc2VrYWkiLCAiaXNla2FpIiksDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBuZXcgbGFiZWxWYWx1ZSgiSm9zZWkiLCAiam9zZWkiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJMR0JUKyIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJsZ2J0IiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTWFnaWNhbCBSZWFsaXNtIiwgIm1hZ2ljYWwtcmVhbGlzbSIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIk1hbmh3YSIsICJtYW5od2EiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVlKCJNYXJ0aWFsIEFydHMiLCAibWFydGlhbC1hcnRzIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTWF0dXJlIiwgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m1hdHVyZSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIk1lY2hhIiwgIm1lY2hhIiksDQogICAgICAgICAgICBuZXcgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFiZWxWYWx1ZSgiUHN5Y2hvbG9naWNhbCIsICJwc3ljaG9sb2dpY2FsIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVpbmNhcm5hdGlvbiIsICJyZWluY2FybmF0aW9uIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2Nob29sIExpZmUiLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAic2Nob29sLWxpZmUiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTZWluZW4iLCAic2VpbmVuIiksDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBuZXcgbGFiZWxWYWx1ZSgiU2hvdWpvIiwgInNob3VqbyIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNob3VqbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y1BaSIsICJzaG91am8tYWkiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTaG91bmVuIiwgInNob3VuZW4iKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTaG91bmVuLUFpIiwgInNob3VuZW4tYWkiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FZhbHVlKCJTbGljZSBvZiBMaWZlIiwgInNsaWNlLW9mLWxpZmUiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTbXV0IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iwgInNtdXQiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTdXBlcm5hdHVyYWwiLCAic3VwZXJuYXR1cmFsIiksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiVGhyaWxsZXIiLCAidGhyaWxsZXIiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVlKCJUZWVuIiwgInRlZW4iKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJWaWRlbyBHYW1lcyIsICJ2aWRlby1nYW1lcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIldlYmNvbWljcyIsICJ3ZWJjb21pY3MiKSwNCiAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBsYWJlbFZhbHVlKCdDb21lZHknLCAiY29tZWR5IiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnRmFudGFzeScsICJmYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W50YXN5IiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnSGFyZW0nLCAiaGFyZW0tbm92ZWwiKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBsYWJlbFZhbHVlKCdZYW9pJywgInlhb2kiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJZdXJpIiwgInl1cmkiKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdLaW5nZG9tIEJ1aWxkaW5nJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZSgnTW9kZXJuIFNldHRpbmcnKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNeXN0ZXJ5JywgIm15c3RlcnkiKSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdSb21hbmNlJywgInJvbWFuY2UiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVlKCdTY2ktZmknLCAic2NpLWZpIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnVHJhZ2VkeScsICJ0cmFnZWR5IiksDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnVmlydHVhbCBSZWFsaXR5JyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgnWGlhbnhpYScsICJ4aWFueGlhIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnV3V4aWEnLCAid3V4aWEiKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdYdWFuaHVhbicsICJ4dWFuaHVhbiIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUoJ1Nwb3J0cycsICJzcG9ydHMiKSwNCiAgICAgICAgXSwNCiAgICB9Ow0KDQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNldHRpbmdzLnN0YXR1c2VzID0NCiAgICB7DQogICAgICAgIG11bHRpU2VsZWN0aW9uOiBmYWxzZSwNCiAgICAgICAgdmFsdWVzOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iBbDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnT25nb2luZycsICJvbi1nb2luZyIpLA0KICAgICAgICAgICAgbmV3IGxhYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsVmFsdWUoJ0NvbXBsZXRlZCcsICJlbmQiKSwNCiAgICAgICAgXSwNCiAgICB9Ow0KDQoNCiAgICByZXR1cm5PYmplY3QuZ2V0UMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VjdGlvbnMgPSAoa2V5cykgPT4gew0KICAgICAgICB2YXIgc2VjdGlvbnMgPSBbDQogICAgICAgICAgICBuZXcgU2VjdGlvbigibMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF0ZXN0IiwgIkxhdGVzdCBVcGRhdGUiLCAiTGF0ZXN0IiwgdHJ1ZSksDQogICAgICAgICAgICBuZXcgU2VjdGlvbigibWFuZ2EiLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAiQ29taWNzIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKFsid2ViY29taWNzIl0pKSwNCiAgICAgICAgICAgIG5ldyBTZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0aW9uKCJhY3Rpb24iLCAiQWN0aW9uIE5vdmVsIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKFsiYWN0aW9uIl0pKSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJhZHVsdCIsICJBZHVsdCBOb3ZlbCIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ihbImFkdWx0Il0pKSwNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJyb21hbmNlIiwgIlJvbWFuY2UgTm92ZWwiLCAiU2VhcmNoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iwgZmFsc2UsIG5ldyBGaWx0ZXIoWyJyb21hbmNlIl0pKSwNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJkcmFtYSIsICJEcmFtYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SBOb3ZlbCIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcihbImRyYW1hIl0pKSwNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJjb21wbGV0ZWQiLCAiQ29tcGxldGVkIE5vdmVsIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKHVuZGVmaW5lZCwgdW5kZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WZpbmVkLCB1bmRlZmluZWQsICJlbmQiKSkNCiAgICAgICAgXQ0KDQogICAgICAgIHJldHVybiBzZWN0aW9ucy5maWx0ZXIoeCA9PMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAha2V5cyB8fCBrZXlzLmluY2x1ZGVzKHgubmFtZSkpOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC50cmFuc2xhdGVTZWN0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W9uID0gYXN5bmMgKHNlY3Rpb24sIHBhZ2UpID0+IHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGlmIChzZWN0aW9uLmlkZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W50aWZpZXIgPT0gIkxhdGVzdCIpDQogICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHJldHVybk9iamVjdC5sYXRlc3QocGFnZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Sk7DQogICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHJldHVybk9iamVjdC5zZWFyY2goc2VjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Glvbi5maWx0ZXIgfHwgcmV0dXJuT2JqZWN0LmRlZmF1bHRGaWx0ZXIoKSwgcGFnZSk7DQogICAgICAgIH0gY2F0Y2ggKGVycm9yKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikNCiAgICAgICAgICAgIHJldHVybiBbXTsNCiAgICAgICAgfQ0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0H0NCg0KICAgIHJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyID0gKCkgPT4gew0KICAgICAgICByZXR1cm4gbmV3IEZpbHRlcigpOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5nZXRUeXBlID0gKHVybCkgPT4gew0KICAgICAgICB2YXIgdXJsID0gdXJsLnRvTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G93ZXJDYXNlKCk7DQogICAgICAgIGlmICh1cmwuaW5kZXhPZigibWFuZ2EiKSAhPSAtMSB8fCB1cmwuaW5kZXhPZigiY29taWMiKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SAhPSAtMSB8fCB1cmwuaW5kZXhPZigiY29taWNzIikgIT0gLTEgfHwgdXJsLmluZGV4T2YoIndlYmNvbWljcyIpICE9IC0xKQ0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgcmV0dXJuIERldGFsaUl0ZW1UeXBlLk1hbmFnYTsNCiAgICAgICAgcmV0dXJuIERldGFsaUl0ZW1UeXBlLk5vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5nZXRCeUdlbnJlcyA9IGFzeW5jIChmaWx0ZXIsIHBhZ2UpID0+IHsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICB2YXIgYWR2YW5jZWRTZWFjaFVybCA9ICJodHRwczovL3d1eGlhd29ybGQucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02l0ZS9wYWdlLyIrcGFnZSsiLz9zPSZwb3N0X3R5cGU9d3AtbWFuZ2Eme2d9Jm9wJmF1dGhvciZhcnRpc3QmcmVsZWFzZSZhZHVsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CZ7c30iDQogICAgICAgIGlmIChmaWx0ZXIuZ2VucmVzLmxlbmd0aCA+IDApDQogICAgICAgICAgICBhZHZhbmNlZFNlYWNoVXJsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0gYWR2YW5jZWRTZWFjaFVybC5yZXBsYWNlKCJ7Z30iLCBmaWx0ZXIuZ2VucmVzLm1hcCh4ID0+ICJnZW5yZSU1QiU1RD0iICt4KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S5qb2luKCImIikpDQogICAgICAgIGVsc2UgYWR2YW5jZWRTZWFjaFVybCA9IGFkdmFuY2VkU2VhY2hVcmwucmVwbGFjZSgiJntnfMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SIsICIiKQ0KDQogICAgICAgIGlmIChmaWx0ZXIuYWN0aXZlICYmIGZpbHRlci5hY3RpdmUgIT0gIiIpDQogICAgICAgICAgICBhZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HZhbmNlZFNlYWNoVXJsID0gYWR2YW5jZWRTZWFjaFVybC5yZXBsYWNlKCJ7c30iLCBmaWx0ZXIuYWN0aXZlKTsNCiAgICAgICAgZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxzZSBhZHZhbmNlZFNlYWNoVXJsID0gYWR2YW5jZWRTZWFjaFVybC5yZXBsYWNlKCIme3N9IiwgIiIpOw0KICAgICAgICB2YXIgYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwoYWR2YW5jZWRTZWFjaFVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CkpOw0KICAgICAgICBjb250YWluZXIuZmluZCgiLmMtdGFicy1pdGVtX19jb250ZW50IikuZm9yRWFjaCh4ID0+IHsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHJlc3VsdC5wdXNoKA0KICAgICAgICAgICAgICAgIG5ldyBMaWdodEl0ZW0oDQogICAgICAgICAgICAgICAgICAgIHgucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VsZWN0KCIudGFiLXRodW1iIGltZyIpLmF0dHIoInNyYyB8IHNyY3NldCIpLnVybCgpLA0KICAgICAgICAgICAgICAgICAgICB4LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlbGVjdCgiLnRhYi10aHVtYiBhIikuYXR0cigidGl0bGUiKS50ZXh0KCksDQogICAgICAgICAgICAgICAgICAgICIiLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICB4LnNlbGVjdCgiLnRhYi10aHVtYiBhIikuYXR0cigiaHJlZiIpLnVybCgpLA0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICByZXR1cm5PYmplY3QubmFtZSwNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuT2JqZWN0LmdldFR5cGUoeC5zZWxlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03QoIi50YWItdGh1bWIgYSIpLmF0dHIoImhyZWYiKS51cmwoKSkNCiAgICAgICAgICAgICAgICApDQogICAgICAgICAgICApDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIH0pDQogICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgfQ0KDQoNCiAgICByZXR1cm5PYmplY3Quc2VhcmNoID0gYXN5bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mMgKGZpbHRlciwgcGFnZSkgPT4gew0KICAgICAgICBpZiAoIWZpbHRlci50aXRsZSkNCiAgICAgICAgZmlsdGVyLnRpdGxlID0iIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0jsNCiAgICAgICAgaWYgKChmaWx0ZXIudGl0bGUuaXNFbXB0eU9yU3BhY2VzKCkpICYmIChmaWx0ZXIuZ2VucmVzLmxlbmd0aCA+IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0DAgfHwgKCFmaWx0ZXIuYWN0aXZlICYmIGZpbHRlci5hY3RpdmUgIT0gIiIpKSkNCiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1cm5PYmplY3QuZ2V0QnlHZW5yZXMoZmlsdGVyLCBwYWdlKTsNCg0KICAgICAgICBpZiAoZmlsdGVyLnRpdGxlLmlzRW1wdHlPcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0lNwYWNlcygpKQ0KICAgICAgICAgICAgcmV0dXJuIFtdOw0KDQoNCiAgICAgICAgdmFyIGpzb24gPSBhd2FpdCBIdHRwQ2xpZW50LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nBvc3RGb3JtKHJldHVybk9iamVjdC5zZWFyY2hVcmwsIHsgYWN0aW9uOiAid3AtbWFuZ2Etc2VhcmNoLW1hbmdhIiwgdGl0bGU6IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GZpbHRlci50aXRsZSB9KTsNCg0KICAgICAgICBpZiAoanNvbiAmJiBqc29uLmRhdGEgJiYganNvbi5kYXRhLmxlbmd0aCA+IDApIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HsNCiAgICAgICAgICAgIHJldHVybiBqc29uLmRhdGEubWFwKHggPT4gew0KICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTGlnaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRJdGVtKA0KICAgICAgICAgICAgICAgICAgICBhc3luYyAoKSA9PiAoYXdhaXQgcmV0dXJuT2JqZWN0LmdldE5vdmVsKHgudXJsLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nVyaShyZXR1cm5PYmplY3QudXJsKSwgdHJ1ZSkpLmltYWdlLA0KICAgICAgICAgICAgICAgICAgICB4LnRpdGxlLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAiIiwNCiAgICAgICAgICAgICAgICAgICAgeC51cmwudXJpKHJldHVybk9iamVjdC51cmwpLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICByZXR1cm5PYmplY3QubmFtZSwNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuT2JqZWN0LmdldFR5cGUoeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C50eXBlIHx8IHgudXJsKQ0KICAgICAgICAgICAgICAgICkNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICAgICAgcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuIFtdOw0KDQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmdldENoYXB0ZXJzID0gYXN5bmMgKGNvbnRhaW5lcikgPT4gew0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB2YXIgdXJsID0gImh0dHBzOi8vd3V4aWF3b3JsZC5zaXRlL3dwLWFkbWluL2FkbWluLWFqYXgucGhwIjsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgdmFyIGNoYXB0ZXJzID0gY29udGFpbmVyLnNlbGVjdCgiLmxpc3RpbmctY2hhcHRlcnNfd3JhcCIpLmhhc0VsZW1lbnQoKSAmJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iBjb250YWluZXIuZmluZCgiLmxpc3RpbmctY2hhcHRlcnNfd3JhcCBhIikubGVuZ3RoKCkgPiAxID8gY29udGFpbmVyLmZpbmQoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5saXN0aW5nLWNoYXB0ZXJzX3dyYXAgYSIpIDogcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LnBvc3RGbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03JtKHVybCwgeyBhY3Rpb246ICJtYW5nYV9nZXRfY2hhcHRlcnMiLCBtYW5nYTogY29udGFpbmVyLnNlbGVjdCgiLnJhdGluZy1wbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03N0LWlkIikuYXR0cigidmFsdWUiKS50ZXh0KCkgfSkpLmZpbmQoImEiKTsNCiAgICAgICAgcmV0dXJuIGNoYXB0ZXJzLm1hcCgoeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CkgPT4gew0KICAgICAgICAgICAgcmV0dXJuIG5ldyBDaGFwdGVyKA0KICAgICAgICAgICAgICAgIHgudGV4dChmYWxzZSksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgeC5hdHRyKCJocmVmIikudXJsKCkNCiAgICAgICAgICAgICk7DQogICAgICAgIH0pOw0KICAgIH0NCg0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHJldHVybk9iamVjdC5nZXROb3ZlbCA9IGFzeW5jIChub3ZlbFVybCwgaWdub3JlQ2hhcHRlcnMpID0+IHsNCiAgICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKG5vdmVsVXJsLCBpZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU025vcmVDaGFwdGVycykpOw0KICAgICAgICB2YXIgY2hhcHRlcnMgPSBbXTsNCiAgICAgICAgaWYgKCFpZ25vcmVDaGFwdGVycykgeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICAgICAgY2hhcHRlcnMgPSBhd2FpdCByZXR1cm5PYmplY3QuZ2V0Q2hhcHRlcnMoY29udGFpbmVyKTsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgfQ0KDQogICAgICAgIHZhciBub3ZlbFJldmlld3MgPSBuZXcgTm92ZWxSZXZpZXdzKCk7DQogICAgICAgIGlmICghaWdub3JlQMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02hhcHRlcnMpIHsNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cy51dm90ZXMgPSBjb250YWluZXIuc2VsZWN0KCIudm90ZS1kZXRhaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxzIikucmVtb3ZlKCdbcHJvcGVydHk9Iml0ZW1SZXZpZXdlZCJdJykudGV4dChmYWxzZSk7DQogICAgICAgICAgICBub3ZlbFJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mlld3MuYXV0aG9yID0gY29udGFpbmVyLmZpbmQoIi5hdXRob3ItY29udGVudCBhIikudGV4dChmYWxzZSk7DQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBub3ZlbFJldmlld3MuZ2VucmVzID0gY29udGFpbmVyLmZpbmQoIi5nZW5yZXMtY29udGVudCBhIikudGV4dEFycmF5KCk7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBub3ZlbFJldmlld3MuY29tcGxldGVkID0gY29udGFpbmVyLmZpbmQoIi5wb3N0LWNvbnRlbnRfaXRlbSIpLndoZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJlKHggPT4geC5pbm5lckhUTUwoKS5pbmRleE9mKCJDb21wbGV0ZWQiKSAhPSAtMSkuaGFzRWxlbWVudCgpID8gIlN0YXR1czpDbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU021wbGV0ZWQiIDogIlN0YXR1czpPbmdvaW5nIjsNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cy5kZXNjcmlwdGlvbiA9IGNvbnRhaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5lci5zZWxlY3QoIi5kZXNjcmlwdGlvbi1zdW1tYXJ5IikuY2xlYW5Jbm5lckhUTUwoKTsNCiAgICAgICAgfQ0KDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybiBuZXcgRGV0YWxpSXRlbSgNCiAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoJy5zdW1tYXJ5X2ltYWdlIGltZycpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mF0dHIoInNyYyB8IHNyY3NldCIpLnVybCgpLA0KICAgICAgICAgICAgY29udGFpbmVyLnNlbGVjdCgnLnBvc3QtdGl0bGUnKS50ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Xh0KGZhbHNlKSwNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cy5kZXNjcmlwdGlvbiB8fCAiIiwNCiAgICAgICAgICAgIG5vdmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJsLA0KICAgICAgICAgICAgY2hhcHRlcnMucmV2ZXJzZSgpLA0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLA0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgcmV0dXJuT2JqZWN0Lm5hbWUsDQogICAgICAgICAgICAiIiwNCiAgICAgICAgICAgIHJldHVybk9iamVjdC5nZXRUeXBlKG5vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsVXJsKQ0KICAgICAgICApOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5nZXRDaGFwdGVyID0gYXN5bmMgKHVybCkgPT4geMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBuZXcgY2xpZW50KCkuZ2V0SHRtbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ch1cmwpKS5yZW1vdmUoInNjcmlwdCIpLnJlbW92ZSgic3R5bGUiKTsNCiAgICAgICAgdmFyIHJlc3VsdCA9ICIiOw0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBpZiAocmV0dXJuT2JqZWN0LmdldFR5cGUodXJsKSA9PT0gRGV0YWxpSXRlbVR5cGUuTWFuYWdhKQ0KICAgICAgICAgICAgcmVzdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx0ID0gY29udGFpbmVyLmZpbmQoIi5yZWFkaW5nLWNvbnRlbnQgaW1nIikubWFwKHggPT4geC5hdHRyKCJzcmMiKS5oYXNWYWx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgpID8geC5hdHRyKCJzcmMiKS51cmwoKSA6ICIiKS5maWx0ZXIoeCA9PiAheC5pc0VtcHR5T3JTcGFjZXMoKSk7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVsc2UNCiAgICAgICAgICAgIHJlc3VsdCA9IGNvbnRhaW5lci5zZWxlY3QoIi5yZWFkaW5nLWNvbnRlbnQiKS5jbGVhbklubmVySMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FRNTCgpOw0KICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5sYXRlc3QgPSBhc3luYyAocMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFnZSkgPT4gew0KICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mdldEh0bWwocmV0dXJuT2JqZWN0LmxhdGVzdFVybC5yZXBsYWNlKCJ7cH0iLCBwYWdlLnRvU3RyaW5nKCkpKSk7DQoNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgcmV0dXJuIGNvbnRhaW5lci5maW5kKCIucGFnZS1pdGVtLWRldGFpbCIpLm1hcCh4ID0+IHsNCiAgICAgICAgICAgIHJldHVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iBuZXcgTGlnaHRJdGVtKA0KICAgICAgICAgICAgICAgIHguc2VsZWN0KCJpbWciKS5hdHRyKCJzcmMgfCBzcmNzZXQiKS51cmwoKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgICAgICB4LnNlbGVjdCgiLnBvc3QtdGl0bGUgYSIpLnRleHQoKSwNCiAgICAgICAgICAgICAgICAiIiwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICB4LnNlbGVjdCgiLnBvc3QtdGl0bGUgYSIpLmF0dHIoImhyZWYiKS51cmwoKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICByZXR1cm5PYmplY3QubmFtZSwNCiAgICAgICAgICAgICAgICByZXR1cm5PYmplY3QuZ2V0VHlwZSh4LnNlbGVjdCgiLnBvcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03QtdGl0bGUgYSIpLmF0dHIoImhyZWYiKS51cmwoKSkNCiAgICAgICAgICAgICkNCiAgICAgICAgfSkNCiAgICB9DQoNCg0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybiByZXR1cm5PYmplY3Q7DQp9Ow==&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIpID0+IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HsNCiAgICBjb25zdCByZXR1cm5PYmplY3QgPSB7fTsNCiAgICByZXR1cm5PYmplY3QuaWQgPSAiMS56aW5ub3ZlbCI7DQogICAgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuT2JqZWN0LmRldGFsaUl0ZW1UeXBlID0gRGV0YWxpSXRlbVR5cGUuTm92ZWw7DQogICAgcmV0dXJuT2JqZWN0LnBhcnNlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0kxhbmd1YWdlID0gImVuIjsNCiAgICByZXR1cm5PYmplY3QubmFtZSA9ICdaaW5Ob3ZlbCc7DQogICAgcmV0dXJuT2JqZWN0LmRpcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03BsYXlOYW1lID0gIlotTm92ZWwiOw0KICAgIHJldHVybk9iamVjdC5sYXRlc3RVcmwgPSAnaHR0cHM6Ly96aW5ub3ZlbC5jb20vcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFnZS97cH0vJzsNCiAgICByZXR1cm5PYmplY3QudXJsID0gJ2h0dHBzOi8vemlubm92ZWwuY29tLyc7DQogICAgcmV0dXJuT2JqZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0LnNlYXJjaFVybCA9ICcnOw0KICAgIHJldHVybk9iamVjdC5wYW5pbmF0aW9uID0gdHJ1ZTsNCiAgICByZXR1cm5PYmplY3QucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VhcmNoUGFnaW5hdGlvbiA9IGZhbHNlOw0KICAgIHJldHVybk9iamVjdC5pY29uID0gJ2h0dHBzOi8vemlubm92ZWwuY29tL3dwLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WNvbnRlbnQvdXBsb2Fkcy8yMDIwLzA3L2Nyb3BwZWQtVW50aXRsZWQtMi0zMngzMi5qcGcnOw0KICAgIHJldHVybk9iamVjdC5wYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJzZXJTZWFyY2hTZXR0aW5ncyA9IG5ldyBQYXJzZXJTZWFyY2hTZXR0aW5ncygpOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFyY2hTZXR0aW5ncy5nZW5yZXMgPSB7DQogICAgICAgIG11bHRpU2VsZWN0aW9uOiB0cnVlLA0KICAgICAgICB2YWx1ZXM6IFtdLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgIH07DQoNCg0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5zb3J0VHlwZXMgPSB7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G11bHRpU2VsZWN0aW9uOiB0cnVlLA0KICAgICAgICB2YWx1ZXM6IFsNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdPbmdvaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5nJywgJ29uLWdvaW5nJyksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnQ29tcGxldGVkIE5vdmVsJywgJ2VuZCcpLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBdLA0KICAgIH07DQoNCg0KICAgIHJldHVybk9iamVjdC5sb2FkU2V0dGluZ3MgPSBhc3luYyAoKSA9PiB7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHRyeSB7DQogICAgICAgICAgICBpZiAocmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLmdlbnJlcy52YWx1ZXMubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVuZ3RoIDw9IDApIHsNCiAgICAgICAgICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBIdHRwQ2xpZW50LmdldEh0bWwoImh0dHBzOi8vemlubm92ZWwuY29tLz9zPSZwb3N0X3R5cGU9d3AtbWFuZ2EiKSkNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBjb250YWluZXIuZmluZCgiI3NlYXJjaC1hZHZhbmNlZCAuY2hlY2tib3gtZ3JvdXAgLmNoZWNrYm94IikuZm9yRMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFjaChhID0+IHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLmdlbnJlcy52YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZXMucHVzaChuZXcgbGFiZWxWYWx1ZShhLmZpbmQoImxhYmVsIikudGV4dCgpLCBhLmZpbmQoImlucHV0IikuYXR0cigidmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUiKS50ZXh0KCkpKTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBjYXRjaCAoZSkgew0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgY29uc29sZS5sb2coKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5nZXRTZWN0aW9ucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yA9IChrZXlzKSA9PiB7DQogICAgICAgIHZhciBzZWN0aW9ucyA9IFsNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJsYXRlc3QiLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAiTGF0ZXN0IFVwZGF0ZSIsICJMYXRlc3QiLCB0cnVlKSwNCiAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJhY3Rpb24iLCAiQWN0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W9uIE5vdmVsIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKFsiYWN0aW9uIl0pKSwNCiAgICAgICAgICAgIG5ldyBTZWN0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W9uKCJyb21hbmNlIiwgIlJvbWFuY2UgTm92ZWwiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIoWyJyb21hbmNlIl0pKSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJvbmdvaW5nIiwgIk9uZ29pbmcgTm92ZWwiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx0ZXIodW5kZWZpbmVkLCAiZW5kIikpLA0KICAgICAgICAgICAgbmV3IFNlY3Rpb24oImNvbXBsZXRlZCIsICJDb21wbGV0ZWQgTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m92ZWwiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIodW5kZWZpbmVkLCAiZW5kIikpDQoNCiAgICAgICAgXQ0KDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHJldHVybiBzZWN0aW9ucy5maWx0ZXIoeCA9PiAha2V5cyB8fCBrZXlzLmluY2x1ZGVzKHgubmFtZSkpOw0KICAgIH0NCg0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHRyYW5zbGF0ZVNlY3Rpb24gPSBhc3luYyAoc2VjdGlvbiwgcGFnZSkgPT4gew0KICAgICAgICBpZiAoc2VjdGlvbi5pZGVudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlmaWVyID09ICJMYXRlc3QiKQ0KICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHJldHVybk9iamVjdC5sYXRlc3QocGFnZSk7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIGVsc2UNCiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZXR1cm5PYmplY3Quc2VhcmNoKHNlY3Rpb24uZmlsdGVyIHx8IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyKCksIHBhZ2UpOw0KICAgIH0NCg0KICAgIHJldHVybk9iamVjdC5kZWZhdWx0RmlsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVyID0gKCkgPT4gew0KICAgICAgICB2YXIgZmlsdGVyID0gbmV3IEZpbHRlcigpOw0KICAgICAgICByZXR1cm4gZmlsdGVyOw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIH0NCiAgICAvL2h0dHBzOi8vemlubm92ZWwuY29tLz9zPXtzfSZwb3N0X3R5cGU9d3AtbWFuZ2EmZ2VucmUlNUIlNUQ9YWN0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W9uJmdlbnJlJTVCJTVEPWFkdmVudHVyZSZvcD0mYXV0aG9yPSZhcnRpc3Q9JnJlbGVhc2U9JmFkdWx0PSZzdGF0dXMlNUIlNUQ9ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5kJnN0YXR1cyU1QiU1RD1vbi1nb2luZw0KICAgIHJldHVybk9iamVjdC5zZWFyY2ggPSBhc3luYyAoZmlsdGVyLCBwYWdlKSA9PMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iB7DQogICAgICAgIHZhciB1cmwgPSAiaHR0cHM6Ly96aW5ub3ZlbC5jb20vP3M9IiArKGZpbHRlci50aXRsZSB8fCAiIikrIiZwbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03N0X3R5cGU9d3AtbWFuZ2Eme2dlbnJlfSZvcD0mYXV0aG9yPSZhcnRpc3Q9JnJlbGVhc2U9JmFkdWx0PSZ7c3RhdHVzfSINCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgaWYgKGZpbHRlci5nZW5yZXMubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoIntnZW5yZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0X0iLCBmaWx0ZXIuZ2VucmVzLm1hcCh4ID0+ICJnZW5yZSU1QiU1RD0iK3gpLmpvaW4oIiYiKSk7DQogICAgICAgIH0gZWxzZSB1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mwgPSB1cmwucmVwbGFjZSgiJntnZW5yZX0iLCAiIik7DQoNCiAgICAgICAgaWYgKGZpbHRlci5zb3J0VHlwZSAmJiBmaWx0ZXIucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029ydFR5cGUubGVuZ3RoID4gMSkNCiAgICAgICAgICAgIHVybCA9IHVybC5yZXBsYWNlKCJ7c3RhdHVzfSIsICJzdGF0dXMlNUIlNMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0UQ9IiArZmlsdGVyLnNvcnRUeXBlKTsNCiAgICAgICAgZWxzZSB1cmwgPSB1cmwucmVwbGFjZSgiJntzdGF0dXN9IiwgIiIpOw0KDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIHZhciBjb250YWluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbCh1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mwpKTsNCiAgICAgICAgdmFyIHJlc3VsdCA9IFtdDQogICAgICAgIGNvbnRhaW5lci5maW5kKCcuYy10YWJzLWl0ZW0gLnJvdycpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mZvckVhY2goKHgpID0+IHsNCiAgICAgICAgICAgIHJlc3VsdC5wdXNoKA0KICAgICAgICAgICAgICAgIG5ldyBMaWdodEl0ZW0oeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5maW5kKCJpbWciKS5hdHRyKCJkYXRhLXNyYyIpLnVybCgpLA0KICAgICAgICAgICAgICAgICAgICB4LnNlbGVjdCgnLnBvc3QtdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Gl0bGUgYScpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgICAgICAgICAnJywNCiAgICAgICAgICAgICAgICAgICAgeC5zZWxlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03QoJy5wb3N0LXRpdGxlIGEnKS5hdHRyKCJocmVmIikudXJsKCksIHJldHVybk9iamVjdC5uYW1lDQogICAgICAgICAgICAgICAgKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgICk7DQogICAgICAgIH0pOw0KDQogICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgfQ0KDQoNCg0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybk9iamVjdC5nZXROb3ZlbCA9IGFzeW5jIChub3ZlbFVybCkgPT4gew0KICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LmdldEh0bWwobm92ZWxVcmwpKTsNCiAgICAgICAgdmFyIGNoYXB0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJzID0gY29udGFpbmVyLmZpbmQoIi5saXN0aW5nLWNoYXB0ZXJzX3dyYXAgbGkgYSIpLm1hcCh4ID0+IG5ldyBDaGFwdGVyKHgudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GV4dChmYWxzZSksIHguYXR0cigiaHJlZiIpLnVybCgpKSkucmV2ZXJzZSgpDQogICAgICAgIHZhciBub3ZlbFJldmlld3MgPSBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgTm92ZWxSZXZpZXdzKCk7DQoNCiAgICAgICAgbm92ZWxSZXZpZXdzLmdlbnJlcyA9IGNvbnRhaW5lci5maW5kKCIuZ2VucmVzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WNvbnRlbnQgYSIpLm1hcCh4ID0+IHgudGV4dChmYWxzZSkpOw0KICAgICAgICBub3ZlbFJldmlld3MuYXV0aG9yID0gY29udGFpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVyLmZpbmQoIi5hdXRob3ItY29udGVudCBhIikubWFwKHggPT4geC50ZXh0KGZhbHNlKSkuam9pbigiLCAiKTsNCiAgICAgICAgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m92ZWxSZXZpZXdzLnV2b3RlcyA9IGNvbnRhaW5lci5zZWxlY3QoIi5wb3N0LXJhdGluZyAudG90YWxfdm90ZXMiKS50ZXh0KGZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HNlKSArICIgLyA1IjsNCiAgICAgICAgbm92ZWxSZXZpZXdzLmNvbXBsZXRlZCA9IGNvbnRhaW5lci5zZWxlY3QoIi5wb3N0LXN0YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1cyAucG9zdC1jb250ZW50X2l0ZW0gLnN1bW1hcnktY29udGVudCIpLnRleHQoZmFsc2UpID09PSAiQ29tcGxldGVkIiA/ICJTdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF0dXM6Q29tcGxldGVkIiA6ICJTdGF0dXM6T25nb2luZyI7DQoNCiAgICAgICAgcmV0dXJuIG5ldyBEZXRhbGlJdGVtKA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgY29udGFpbmVyLnNlbGVjdCgnLnN1bW1hcnlfaW1hZ2UgaW1nJykuYXR0cigiZGF0YS1zcmMiKS51cmwoKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoJy5wb3N0LXRpdGxlJykudGV4dChmYWxzZSksDQogICAgICAgICAgICBjb250YWluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIuc2VsZWN0KCcuZGVzY3JpcHRpb24tc3VtbWFyeScpLmNsZWFuSW5uZXJIVE1MKCksDQogICAgICAgICAgICBub3ZlbFVybCwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIGNoYXB0ZXJzLA0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLA0KICAgICAgICAgICAgcmV0dXJuT2JqZWN0LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m5hbWUsDQogICAgICAgICAgICB1bmRlZmluZWQsDQogICAgICAgICk7DQogICAgfQ0KDQoNCiAgICByZXR1cm5PYmplY3QuZ2V0QMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02hhcHRlciA9IGFzeW5jICh1cmwpID0+IHsNCiAgICAgICAgcmV0dXJuIHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgbmV3IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GNsaWVudCgpLmdldEh0bWwodXJsKSkuc2VsZWN0KCcucmVhZGluZy1jb250ZW50JykuY2xlYW5Jbm5lckhUTUwoKTsNCiAgICB9DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QoNCiAgICByZXR1cm5PYmplY3QubGF0ZXN0ID0gYXN5bmMgKHBhZ2UpID0+IHsNCiAgICAgICAgdmFyIHVybCA9IHJldHVybk9iaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVjdC5sYXRlc3RVcmwucmVwbGFjZSgne3B9JywgcGFnZS50b1N0cmluZygpKTsNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKHVybCkpOw0KICAgICAgICB2YXIgcmVzdWx0ID0gWMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0107DQogICAgICAgIGNvbnRhaW5lci5maW5kKCcucGFnZS1jb250ZW50LWxpc3RpbmcgLnBhZ2UtaXRlbS1kZXRhaWwnKS5mb3JFYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WNoKCh4KSA9PiB7DQogICAgICAgICAgICBpZiAoeC5zZWxlY3QoJ2ltZycpLmF0dHIoInNyYyIpLmhhc1ZhbHVlKCkpDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgcmVzdWx0LnB1c2goDQogICAgICAgICAgICAgICAgICAgIG5ldyBMaWdodEl0ZW0oeC5maW5kKCJpbWciKS5hdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRyKCJkYXRhLXNyYyIpLnVybCgpLA0KICAgICAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoJy5wb3N0LXRpdGxlIGEnKS50ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Xh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICcnLA0KICAgICAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5wb3N0LXRpdGxlIGEnKS5hdHRyKCJocmVmIikudXJsKCksIHJldHVybk9iamVjdC5uYW1lDQogICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CkpOw0KICAgICAgICB9KTsNCg0KICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0NCg0KICAgIHJldHVybiByZXR1cm5PYmplYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03Q7DQp9Ow==