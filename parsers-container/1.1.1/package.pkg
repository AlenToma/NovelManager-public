KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KICAgIHJldHVybiB7DQogICAgICAgIG5hbWU6ICJpbmNsdWRlZFBhcnNlcnMiLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBkYXRhOiBbDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgImZpbGUiOiAiUmVhZE5vdmVsRnVsbCIsDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgImRlYnVnT25seSI6IGZhbHNlDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICJmaWxlIjogIld1eGlhd29ybGQiLA0KICAgICAgICAgICAgICAgICJkZWJ1Z09ubHkiOiB0cnVlDQogICAgICAgICAgICB9LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICJmaWxlIjogIk1hbmdhbkVsbyIsDQogICAgICAgICAgICAgICAgImRlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nVnT25seSI6IGZhbHNlDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICJmaWxlIjogIk5vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsRnVsbCIsDQogICAgICAgICAgICAgICAgImRlYnVnT25seSI6IGZhbHNlDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICAgICAgICAgICJmaWxlIjogIkJveE5vdmVsIiwNCiAgICAgICAgICAgICAgICAiZGVidWdPbmx5IjogZmFsc2UNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgImZpbGUiOiAiVy1NVEwiLA0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICJkZWJ1Z09ubHkiOiBmYWxzZQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAiZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mlsZSI6ICJBbGxOb3ZlbCIsDQogICAgICAgICAgICAgICAgImRlYnVnT25seSI6IGZhbHNlDQogICAgICAgICAgICB9LA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgew0KICAgICAgICAgICAgICAgICJmaWxlIjogIkNvbXJhZGVtYW8iLA0KICAgICAgICAgICAgICAgICJkZWJ1Z09ubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HkiOiBmYWxzZQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAiZmlsZSI6ICJMaWdodE5vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsUHViIiwNCiAgICAgICAgICAgICAgICAiZGVidWdPbmx5IjogZmFsc2UNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgImZpbGUiOiAiTm92ZWxPbmxpbmVGdWxsIiwNCiAgICAgICAgICAgICAgICAiZGVidWdPbmx5IjogZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsc2UNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgImZpbGUiOiAiUmVhZExpZ2h0Tm92ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WwiLA0KICAgICAgICAgICAgICAgICJkZWJ1Z09ubHkiOiB0cnVlDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICJmaWxlIjogIlJveWFsUm9hZCIsDQogICAgICAgICAgICAgICAgImRlYnVnT25seSI6IGZhbHNlDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICJmaWxlIjogIk5vdmVsSGFsbCIsDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgImRlYnVnT25seSI6IGZhbHNlDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICJmaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxlIjogIlNjcmliYmxlSHViIiwNCiAgICAgICAgICAgICAgICAiZGVidWdPbmx5IjogZmFsc2UNCiAgICAgICAgICAgIH0sDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICB7DQogICAgICAgICAgICAgICAgImZpbGUiOiAiWmluTm92ZWwiLA0KICAgICAgICAgICAgICAgICJkZWJ1Z09ubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HkiOiBmYWxzZQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAiZmlsZSI6ICJUYXBSZWFkIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iwNCiAgICAgICAgICAgICAgICAiZGVidWdPbmx5IjogZmFsc2UNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgImZpbGUiOiAiTXRsTm92ZWwiLA0KICAgICAgICAgICAgICAgICJkZWJ1Z09ubHkiOiB0cnVlDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICJmaWxlIjogIld1eGlhd29ybGQuU2l0ZSIsDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgImRlYnVnT25seSI6IHRydWUNCiAgICAgICAgICAgIH0NCiAgICAgICAgXQ0KICAgIH0NCn0=&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KDQoNCiAgICBmdW5jdGlvbiBQYXJzZXIoKSB7DQogICAgICAgIHRoaXMuaWQgPSAiMS5hbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Gxub3ZlbCI7DQogICAgICAgIHRoaXMuZGV0YWxpSXRlbVR5cGUgPSBEZXRhbGlJdGVtVHlwZS5Ob3ZlbDsNCiAgICAgICAgdGhpcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5wYXJzZXJMYW5ndWFnZSA9ICJlbiI7DQogICAgICAgIHRoaXMubmFtZSA9ICdBbGxOb3ZlbCc7DQogICAgICAgIHRoaXMuZGlzcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxheU5hbWUgPSB0aGlzLm5hbWU7DQogICAgICAgIHRoaXMubGF0ZXN0VXJsID0gJ2h0dHBzOi8vYWxsbm92ZWwubmV0Lyc7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHRoaXMudXJsID0gJ2h0dHBzOi8vYWxsbm92ZWwubmV0Lyc7DQogICAgICAgIHRoaXMuc2VhcmNoVXJsID0gJ2h0dHBzOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i8vYWxsbm92ZWwubmV0L3NlYXJjaC5waHA/a2V5d29yZD17cX0nOw0KICAgICAgICB0aGlzLnBhbmluYXRpb24gPSBmYWxzZTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgdGhpcy5zZWFyY2hQYWdpbmF0aW9uID0gdHJ1ZTsNCiAgICAgICAgdGhpcy5pY29uID0gJ2h0dHBzOi8vYWxsbm92ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WwubmV0L21lZGlhL2Zhdmljb24ucG5nJzsNCiAgICAgICAgdGhpcy5wYXJzZXJTZWFyY2hTZXR0aW5ncyA9IG5ldyBQYXJzZXJTZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFyY2hTZXR0aW5ncygpOw0KICAgICAgICB0aGlzLnBhcnNlclNlYXJjaFNldHRpbmdzLmdlbnJlcyA9IHsNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G11bHRpU2VsZWN0aW9uOiBmYWxzZSwNCiAgICAgICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVlKCJSb21hbmNlIiwgInJvbWFuY2UuaHRtbD9wYWdlPXtwfSIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJBZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HZlbnR1cmUiLCAiYWR2ZW50dXJlLmh0bWw/cGFnZT17cH0iKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiVGhyaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxsZXIiLCAidGhyaWxsZXIuaHRtbD9wYWdlPXtwfSIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJGYW50YXN5IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iwgImZhbnRhc3kuaHRtbD9wYWdlPXtwfSIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJZb3VuZyBBZHVsdCIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJ5b3VuZy1hZHVsdC5odG1sP3BhZ2U9e3B9IiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIk15c3RlcnkiLCAibMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XlzdGVyeS5odG1sP3BhZ2U9e3B9IiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkhpc3RvcmljYWwiLCAiaGlzdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G9yaWNhbC5odG1sP3BhZ2U9e3B9IiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkhvcnJvciIsICJob3Jyb3IuaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRtbD9wYWdlPXtwfSIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTY2llbmNlIEZpY3Rpb24iLCAic2NpZW5jZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S1maWN0aW9uLmh0bWw/cGFnZT17cH0iKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiSHVtb3JvdXMiLCAiaHVtbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03JvdXMuaHRtbD9wYWdlPXtwfSIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJDaHJpc3RpYW4iLCAiY2hyaXN0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFuLmh0bWw/cGFnZT17cH0iKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiV2VzdGVybiIsICJ3ZXN0ZXJuLmh0bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ww/cGFnZT17cH0iKQ0KICAgICAgICAgICAgXQ0KICAgICAgICB9DQogICAgICAgIHRoaXMuY2xlYW5lciA9IHBsdWdpbnMuZmluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ch4ID0+IHgubmFtZSA9PSAiQ2xlYW5lciIpOw0KICAgIH0NCg0KICAgIFBhcnNlci5wcm90b3R5cGUgPSB7DQogICAgICAgIGdldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb25zOiBmdW5jdGlvbiAoa2V5cykgew0KICAgICAgICAgICAgdmFyIHNlY3Rpb25zID0gWw0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBTZWN0aW9uKCJsYXRlc3QiLCAiTGF0ZXN0IFVwZGF0ZSIsICJMYXRlc3QiLCB0cnVlKSwNCiAgICAgICAgICAgICAgICBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgU2VjdGlvbigicm9tYW5jZSIsICJSb21hbmNlIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKFsicm9tYW5jZS5odG1sPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03BhZ2U9e3B9Il0pKSwNCiAgICAgICAgICAgICAgICBuZXcgU2VjdGlvbigieW91bmctYWR1bHQiLCAiWW91bmcgQWR1bHQiLCAiUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIoWyJ5b3VuZy1hZHVsdC5odG1sP3BhZ2U9e3B9Il0pKSwNCiAgICAgICAgICAgIF0NCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0g0KICAgICAgICAgICAgcmV0dXJuIHNlY3Rpb25zLmZpbHRlcih4ID0+ICFrZXlzIHx8IGtleXMuaW5jbHVkZXMoeC5uYW1lKSk7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIH0sDQoNCiAgICAgICAgdHJhbnNsYXRlU2VjdGlvbjogYXN5bmMgZnVuY3Rpb24gKHNlY3Rpb24sIHBhZ2UpIHsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIGlmIChzZWN0aW9uLmlkZW50aWZpZXIgPT0gIkxhdGVzdCIpDQogICAgICAgICAgICAgICAgcmV0dXJuIGF3YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wl0IHRoaXMubGF0ZXN0KHBhZ2UpOw0KICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlYXJjaChzZWN0aW9uLmZpbHRlciB8fCB0aGlzLmRlZmF1bHRGaWx0ZXIoKSwgcGFnZSk7DQogICAgICAgIH0sDQoNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgZGVmYXVsdEZpbHRlcjogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIGZpbHRlciA9IG5ldyBGaWx0ZXIoKTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIHJldHVybiBmaWx0ZXI7DQogICAgICAgIH0sDQoNCiAgICAgICAgc2VhcmNoOiBhc3luYyBmdW5jdGlvbiAoZmlsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVyLCBwYWdlKSB7DQogICAgICAgICAgICBpZiAoIWZpbHRlci50aXRsZSkNCiAgICAgICAgICAgICAgICBmaWx0ZXIudGl0bGUgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SAiIjsNCiAgICAgICAgICAgIGlmIChmaWx0ZXIuZ2VucmVzLmxlbmd0aCA8PSAwICYmIGZpbHRlci50aXRsZSA9PSAiIikNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICByZXR1cm4gW107DQogICAgICAgICAgICB2YXIgdXJsID0gZmlsdGVyLmdlbnJlcy5sZW5ndGggPiAwID8gZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mlsdGVyLmdlbnJlc1swXS50b1N0cmluZygpLnVyaSh0aGlzLnVybCkucmVwbGFjZSgie3B9IiwgcGFnZSkgOiB0aGlzLnNlYXJjaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FVybC5yZXBsYWNlKCJ7cX0iLCBmaWx0ZXIudGl0bGUpOw0KICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwodXJsKSkuZmluZCgiLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mxpc3Qtbm92ZWwgYSIpLmZvckVhY2goeCA9PiB7DQogICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IExpZ2h0SXRlbSgNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoImltZyIpLmF0dHIoInNyYyIpLnVybCgpLA0KICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB4LnNlbGVjdCgiLnRpdGxlLWhvbWUtbm92ZWwiKS50ZXh0KCksDQogICAgICAgICAgICAgICAgICAgICIiLA0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICB4LmF0dHIoImhyZWYiKS51cmwoKSwNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5uYW1lKSk7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB9KTsNCg0KICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICAgICAgfSwNCg0KICAgICAgICBnZXROb3ZlbDogYXN5bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mMgZnVuY3Rpb24gKG5vdmVsVXJsKSB7DQoNCiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLnBhcnNlci5qcShhd2FpdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwobm92ZWxVcmwpKTsNCiAgICAgICAgICAgIHZhciBjaGFwdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVycyA9IGNvbnRhaW5lci5maW5kKCIubGlzdC1wYWdlLW5vdmVsIGEiKS5tYXAoeCA9PiBuZXcgQ2hhcHRlcih4LnRleHQoZmFscMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02UpLCB4LmF0dHIoImhyZWYiKS51cmwoKSkpOw0KICAgICAgICAgICAgdmFyIG5vdmVsUmV2aWV3cyA9IG5ldyBOb3ZlbFJldmlldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03MoKTsNCiAgICAgICAgICAgIHZhciBpbmZvID0gY29udGFpbmVyLmZpbmQoIi5saXN0LWluZm8iKTsNCiAgICAgICAgICAgIG5vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsUmV2aWV3cy5nZW5yZXMgPSBpbmZvLmVxKDEpLmZpbmQoImEiKS50ZXh0QXJyYXkoKTsNCiAgICAgICAgICAgIG5vdmVsUmV2aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WV3cy5hdXRob3IgPSBpbmZvLmVxKDApLnNlbGVjdCgiYSIpLnRleHQoZmFsc2UpOw0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nV2b3RlcyA9IGluZm8uZXEoMikuc2VsZWN0KCJzcGFuIikuaGFzRWxlbWVudCgpID8gaW5mby5lcSgyKS5zZWxlY3QoInNwYW4iKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S50ZXh0KGZhbHNlKSArICIgVmlld3MiIDogIiI7DQogICAgICAgICAgICByZXR1cm4gbmV3IERldGFsaUl0ZW0oDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgY29udGFpbmVyLnNlbGVjdCgiLnJvdyBpbWciKS5hdHRyKCJzcmMiKS51cmwoKSwNCiAgICAgICAgICAgICAgICBjbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0250YWluZXIuc2VsZWN0KCIuZGV0YWlsLW5vdmVsIGgxIikudGV4dChmYWxzZSksDQogICAgICAgICAgICAgICAgY29udGFpbmVyLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlbGVjdCgiLmRlcy1ub3ZlbCIpLmNsZWFuSW5uZXJIVE1MKCksDQogICAgICAgICAgICAgICAgbm92ZWxVcmwsDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgY2hhcHRlcnMsDQogICAgICAgICAgICAgICAgbm92ZWxSZXZpZXdzLA0KICAgICAgICAgICAgICAgIHRoaXMubmFtZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgICAgICB1bmRlZmluZWQsDQogICAgICAgICAgICApOw0KICAgICAgICB9LA0KDQogICAgICAgIGdldENoYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XB0ZXI6IGFzeW5jIGZ1bmN0aW9uICh1cmwpIHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLmNsZWFuZXIuY2xlYW5DaGFwdGVyKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRoaXMucGFyc2VyLmpxKGF3YWl0IHRoaXMuY2xlYW5lci5nZXRDbGllbnQodGhpcy5pZCkuZ2V0SHRtbCh1cmwpKS5zZWxlY3QoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5jb250ZW50X25vdmVsIiksIHRoaXMubmFtZSk7DQogICAgICAgIH0sDQoNCiAgICAgICAgbGF0ZXN0OiBhc3luYyBmdW5jdGlvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAocGFnZSkgew0KICAgICAgICAgICAgdmFyIHVybCA9IHRoaXMubGF0ZXN0VXJsLnJlcGxhY2UoIntwfSIsIHBhZ2UudG9TdHJpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mcoKSk7DQogICAgICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5wYXJzZXIuanEoYXdhaXQgdGhpcy5jbGVhbmVyLmdldENsaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WVudCgpLmdldEh0bWwodXJsKSk7DQogICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgICAgICBjb250YWluZXIuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mluZCgiLmxpc3Qtbm92ZWwgYSIpLmZvckVhY2goeCA9PiB7DQogICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IExpZ2h0SMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRlbSgNCiAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoImltZyIpLmF0dHIoInNyYyIpLnVybCgpLA0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB4LnNlbGVjdCgiLnRpdGxlLWhvbWUtbm92ZWwiKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgICAgICAgIiIsDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgICAgIHguYXR0cigiaHJlZiIpLnVybCgpLA0KICAgICAgICAgICAgICAgICAgICB0aGlzLm5hbWUpKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TsNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgICAgICB9DQogICAgfQ0KDQogICAgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuIG5ldyBQYXJzZXIoKTsNCn07&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KDQogICAgZnVuY3Rpb24gUGFyc2VyKCkgew0KICAgICAgICB0aGlzLmlkID0gIjEuYm94bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m92ZWwiOw0KICAgICAgICB0aGlzLnBhcnNlckxhbmd1YWdlID0gImVuIjsNCiAgICAgICAgdGhpcy5uYW1lID0gJ0JveE5vdmVsJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0zsNCiAgICAgICAgdGhpcy5kaXNwbGF5TmFtZSA9IHRoaXMubmFtZTsNCiAgICAgICAgdGhpcy5kZXRhbGlJdGVtVHlwZSA9IERldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFsaUl0ZW1UeXBlLk5vdmVsOw0KICAgICAgICB0aGlzLmxhdGVzdFVybCA9ICdodHRwczovL2JveG5vdmVsLmNvbS9wYWdlL3twfMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Sc7DQogICAgICAgIHRoaXMudXJsID0gJ2h0dHBzOi8vYm94bm92ZWwuY29tJzsNCiAgICAgICAgdGhpcy5zZWFyY2hVcmwgPSAnJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0zsNCiAgICAgICAgdGhpcy5wYW5pbmF0aW9uID0gdHJ1ZTsNCiAgICAgICAgdGhpcy5zZWFyY2hQYWdpbmF0aW9uID0gdHJ1ZTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgdGhpcy5pY29uID0gJ2h0dHBzOi8vYm94bm92ZWwuY29tL3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDE4LzA0L2JveC1pYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029uLTE1MHgxNTAucG5nJzsNCiAgICAgICAgdGhpcy5wYXJzZXJTZWFyY2hTZXR0aW5ncyA9IG5ldyBQYXJzZXJTZWFyY2hTZXR0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5ncygpOw0KICAgICAgICB0aGlzLnBhcnNlclNlYXJjaFNldHRpbmdzLmdlbnJlcyA9IHsNCiAgICAgICAgICAgIG11bHRpU2VsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0aW9uOiB0cnVlLA0KICAgICAgICAgICAgdmFsdWVzOiBbDQogICAgICAgICAgICBdLA0KICAgICAgICB9Ow0KDQoNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgdGhpcy5wYXJzZXJTZWFyY2hTZXR0aW5ncy5zb3J0VHlwZXMgPSB7DQogICAgICAgICAgICBtdWx0aVNlbGVjdGlvbjogZmFscMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02UsDQogICAgICAgICAgICB2YWx1ZXM6IFsNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTGF0ZXN0IFJlbGVhc2UgTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m92ZWwnLCAnbGF0ZXN0JyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1JlbGV2YW5jZScsICcnKSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnUmF0aW5nJywgJ3JhdGluZycpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVlKCdUcmVuZGluZycsICd0cmVuZGluZycpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNb3N0IFZpZXdzJywgJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03ZpZXdzJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ05ldycsICduZXctbWFuZ2EnKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0F0sDQogICAgICAgIH07DQoNCiAgICAgICAgdGhpcy5jbGVhbmVyID0gcGx1Z2lucy5maW5kKHggPT4geC5uYW1lID09ICJDbGVhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVyIik7DQogICAgfQ0KDQogICAgUGFyc2VyLnByb3RvdHlwZSA9IHsNCiAgICAgICAgbG9hZFNldHRpbmdzOiBhc3luYyBmdW5jdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlvbiAoKSB7DQogICAgICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5wYXJzZXIuanEoYXdhaXQgdGhpcy5jbGVhbmVyLmdldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ENsaWVudCh0aGlzLmlkKS5nZXRIdG1sKCJodHRwczovL2JveG5vdmVsLmNvbS8/cz0mcG9zdF90eXBlPXdwLW1hbmdhIikpOw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgY29udGFpbmVyLmZpbmQoIi5jaGVja2JveC1ncm91cCAuY2hlY2tib3giKS5mb3JFYWNoKHggPT4gew0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIHRoaXMucGFyc2VyU2VhcmNoU2V0dGluZ3MuZ2VucmVzLnZhbHVlcy5wdXNoKG5ldyBsYWJlbFZhbHVlKHgucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VsZWN0KCJsYWJlbCIpLnRleHQoKSwgeC5zZWxlY3QoImlucHV0IikuYXR0cigidmFsdWUiKS50ZXh0KCkpKTsNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIH0pDQogICAgICAgIH0sDQoNCiAgICAgICAgZ2V0U2VjdGlvbnM6IGZ1bmN0aW9uIChrZXlzKSB7DQogICAgICAgICAgICB2YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIgc2VjdGlvbnMgPSBbDQogICAgICAgICAgICAgICAgbmV3IFNlY3Rpb24oImxhdGVzdCIsICJMYXRlc3QgVXBkYXRlIiwgIkxhdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVzdCIsIHRydWUpLA0KICAgICAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJuZXciLCAiTmV3IE5vdmVscyIsICJTZWFyY2giLCBmYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsICJuZXctbWFuZ2EiKSksDQogICAgICAgICAgICAgICAgbmV3IFNlY3Rpb24oIk1vcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03QgVmlld3MiLCAiTW9zdCBWaWV3cyIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsICJ2aWV3cyIpKSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIF0NCiAgICAgICAgICAgIHJldHVybiBzZWN0aW9ucy5maWx0ZXIoeCA9PiAha2V5cyB8fCBrZXlzLmluY2x1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVzKHgubmFtZSkpOw0KICAgICAgICB9LA0KDQogICAgICAgIHRyYW5zbGF0ZVNlY3Rpb246IGFzeW5jIGZ1bmN0aW9uIChzZWN0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W9uLCBwYWdlKSB7DQogICAgICAgICAgICBpZiAoc2VjdGlvbi5pZGVudGlmaWVyID09ICJMYXRlc3QiKSByZXR1cm4gYXdhaXQgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ghpcy5sYXRlc3QocGFnZSk7DQogICAgICAgICAgICBlbHNlIHJldHVybiBhd2FpdCB0aGlzLnNlYXJjaChzZWN0aW9uLmZpbHRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iB8fCB0aGlzLmRlZmF1bHRGaWx0ZXIoKSwgcGFnZSk7DQogICAgICAgIH0sDQoNCiAgICAgICAgZGVmYXVsdEZpbHRlcjogZnVuYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIGZpbHRlciA9IG5ldyBGaWx0ZXIoKTsNCiAgICAgICAgICAgIHJldHVybiBmaWx0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XI7DQogICAgICAgIH0sDQoNCiAgICAgICAgc2VhcmNoOiBhc3luYyBmdW5jdGlvbiAoZmlsdGVyLCBwYWdlKSB7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB2YXIgdXJsID0gYGh0dHBzOi8vYm94bm92ZWwuY29tL3BhZ2UvJHtwYWdlfS8/cz0ke2ZpbHRlci50aXRsZSB8fCAiIn0mcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G9zdF90eXBlPXdwLW1hbmdhJntnZW5yZX0mb3AmYXV0aG9yJmFydGlzdCZyZWxlYXNlJmFkdWx0Jm1fb3JkZXJieT0ke2ZpbHRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5zb3J0VHlwZSB8fCAiIn1gDQogICAgICAgICAgICBpZiAoZmlsdGVyLmdlbnJlcyAmJiBmaWx0ZXIuZ2VucmVzLmxlbmd0aCA+IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0DApIHsNCiAgICAgICAgICAgICAgICB1cmwgPSB1cmwucmVwbGFjZSgie2dlbnJlfSIsIGZpbHRlci5nZW5yZXMubWFwKHggPT4gIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mdlbnJlJTVCMCU1RD0iICsgeCkuam9pbigiJiIpKQ0KICAgICAgICAgICAgfSBlbHNlIHVybCA9IHVybC5yZXBsYWNlKCIme2dlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nJlfSIsICIiKQ0KICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMucGFyc2VyLmpxKGF3YWl0IHRoaXMuY2xlYW5lci5nZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRDbGllbnQodGhpcy5pZCkuZ2V0SHRtbCh1cmwpKTsNCiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTsNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GNvbnRhaW5lci5maW5kKCcudGFiLWNvbnRlbnQtd3JhcCAuYy10YWJzLWl0ZW0gLnRhYi10aHVtYiBhJykuZm9yRWFjaCgoeCkgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0T4gew0KICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBMaWdodEl0ZW0oeC5zZWxlY3QoJ2ltZycpLmF0dHIoInNyYyIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nVybCgpLCB4LmF0dHIoInRpdGxlIikudGV4dCgpLCAnJywgeC5hdHRyKCJocmVmIikudXJsKCksIHRoaXMubmFtZSkpOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgfSk7DQogICAgICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgICAgICB9LA0KDQogICAgICAgIGdldENoYXB0ZXJzOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iBhc3luYyBmdW5jdGlvbiAobm92ZWxVcmwpIHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgdmFyIGNoYXB0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJzID0gW107DQogICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMucGFyc2VyLmpxKGF3YWl0IHRoaXMuY2xlYW5lcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5nZXRDbGllbnQodGhpcy5pZCkucG9zdEZvcm0oImFqYXgvY2hhcHRlcnMiLnVyaShub3ZlbFVybCksIHsga2V5OiAidGVzdCIgfMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SkpOw0KICAgICAgICAgICAgICAgIGNvbnRhaW5lci5maW5kKCcubGlzdGluZy1jaGFwdGVyc193cmFwIGEnKS5mb3JFYWNoKHggPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0T4gew0KICAgICAgICAgICAgICAgICAgICBjaGFwdGVycy5wdXNoKG5ldyBDaGFwdGVyKHgudGV4dChmYWxzZSksIHguYXR0cigiaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJlZiIpLnVybCgpKSk7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgcmV0dXJuIGNoYXB0ZXJzLnJldmVycMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02UoKTsNCiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKQ0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHRocm93IGUNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgZ2V0Tm92ZWw6IGFzeW5jIGZ1bmN0aW9uIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Chub3ZlbFVybCkgew0KICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMucGFyc2VyLmpxKGF3YWl0IHRoaXMuY2xlYW5lcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5nZXRDbGllbnQodGhpcy5pZCkuZ2V0SHRtbChub3ZlbFVybCkpOw0KICAgICAgICAgICAgdmFyIGNoYXB0ZXJzID0gYXdhaXQgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ghpcy5nZXRDaGFwdGVycyhub3ZlbFVybCk7DQogICAgICAgICAgICB2YXIgaXRlbSA9IG5ldyBOb3ZlbFJldmlld3MoKTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIGl0ZW0uZ2VucmVzID0gY29udGFpbmVyLmZpbmQoIi5nZW5yZXMtY29udGVudCBhIikudGV4dEFycmF5KCk7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBpdGVtLmF1dGhvciA9IGNvbnRhaW5lci5maW5kKCIuYXV0aG9yLWNvbnRlbnQgYSIpLnRleHQoZmFsc2UpDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBpdGVtLmNvbXBsZXRlZCA9ICJTdGF0dXM6IiArIGNvbnRhaW5lci5maW5kKCIucG9zdC1zdGF0dXMgLnBvc3QtYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029udGVudF9pdGVtIikubGFzdCgpLnNlbGVjdCgiLnN1bW1hcnktY29udGVudCIpLnRleHQoZmFsc2UpDQogICAgICAgICAgICBpdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVtLnV2b3RlcyA9ICJSYXRpbmc6IiArIGNvbnRhaW5lci5zZWxlY3QoIi50b3RhbF92b3RlcyIpLnRleHQoZmFsc2UpICsgIi81IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0jsNCiAgICAgICAgICAgIHJldHVybiBuZXcgRGV0YWxpSXRlbShjb250YWluZXIuc2VsZWN0KCcuc3VtbWFyeV9pbWFnZSBpbWcnKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S5hdHRyKCJzcmMiKS51cmwoKSwgY29udGFpbmVyLnNlbGVjdCgnLnBvc3QtdGl0bGUgaDEnKS50ZXh0KGZhbHNlKSwgY29udGFpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVyLnNlbGVjdCgnLnN1bW1hcnlfX2NvbnRlbnQnKS5jbGVhbklubmVySFRNTCgpLCBub3ZlbFVybCwgY2hhcHRlcnMsIGl0ZW0sIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRoaXMubmFtZSwgdW5kZWZpbmVkKTsNCiAgICAgICAgfSwNCiAgICAgICAgZ2V0Q2hhcHRlcjogYXN5bmMgZnVuY3Rpb24gKHVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ckgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xlYW5lci5jbGVhbkNoYXB0ZXIodGhpcy5wYXJzZXIuanEoYXdhaXQgdGhpcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5jbGVhbmVyLmdldENsaWVudCh0aGlzLmlkKS5nZXRIdG1sKHVybCkpLnNlbGVjdCgnLnJlYWRpbmctY29udGVudCcpLCB0aGlzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m5hbWUpOw0KICAgICAgICB9LA0KICAgICAgICBsYXRlc3Q6IGFzeW5jIGZ1bmN0aW9uIChwYWdlKSB7DQogICAgICAgICAgICB2YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIgdXJsID0gdGhpcy5sYXRlc3RVcmwucmVwbGFjZSgne3B9JywgcGFnZS50b1N0cmluZygpKTsNCiAgICAgICAgICAgIHZhciBjbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0250YWluZXIgPSB0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwodXJsKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Sk7DQogICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgICAgICBjb250YWluZXIuZmluZCgnLnBhZ2UtbGlzdGluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y1pdGVtIC5yb3cnKS5mb3JFYWNoKCh4KSA9PiB7DQogICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IExpZ2h0SXRlbSh4LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlbGVjdCgnaW1nJykuYXR0cigic3JjIikudXJsKCksIHguc2VsZWN0KCcucG9zdC10aXRsZSBhJykudGV4dCgpLCAnJywgeC5zZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxlY3QoJy5wb3N0LXRpdGxlIGEnKS5hdHRyKCJocmVmIikudXJsKCksIHRoaXMubmFtZSkpOw0KICAgICAgICAgICAgfSk7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgICAgICB9DQogICAgfQ0KDQogICAgcmV0dXJuIG5ldyBQYXJzZXIoKTsNCn07&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KICAgIGZ1bmN0aW9uIFBhcnNlcigpIHsNCiAgICAgICAgdGhpcy5pZCA9ICIxLmNvbXJhZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVtYW8iOw0KICAgICAgICB0aGlzLmRldGFsaUl0ZW1UeXBlID0gRGV0YWxpSXRlbVR5cGUuTm92ZWw7DQogICAgICAgIHRoaXMubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFtZSA9ICdDb21yYWRlbWFvJzsNCiAgICAgICAgdGhpcy5kaXNwbGF5TmFtZSA9ICJHb29nbGUgVHJhbnNsYXRlZCBub3ZlbHMiOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICB0aGlzLmxhdGVzdFVybCA9ICdodHRwczovL2NvbXJhZGVtYW8uY29tL3BhZ2Uve3B9Lyc7DQogICAgICAgIHRoaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMudXJsID0gJ2h0dHBzOi8vY29tcmFkZW1hby5jb20nOw0KICAgICAgICB0aGlzLnNlYXJjaFVybCA9ICdodHRwczovL2NvbXJhZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVtYW8uY29tL3BhZ2Uve3B9Lz9zPXtxfSZwb3N0X3R5cGU9bm92ZWwnOw0KICAgICAgICB0aGlzLnBhbmluYXRpb24gPSB0cnVlOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICB0aGlzLnNlYXJjaFBhZ2luYXRpb24gPSB0cnVlOw0KICAgICAgICB0aGlzLmljb24gPSAnaHR0cHM6Ly93d3cuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029vZ2xlLmNvbS9zMi9mYXZpY29ucz9kb21haW49aHR0cHM6Ly9jb21yYWRlbWFvLmNvbSc7DQogICAgICAgIHRoaXMucGFyc2VyUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VhcmNoU2V0dGluZ3MgPSBuZXcgUGFyc2VyU2VhcmNoU2V0dGluZ3MoKTsNCiAgICAgICAgdGhpcy5wYXJzZXJMYW5ndWFnZSA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJlbiI7DQogICAgICAgIHRoaXMucGFyc2VyU2VhcmNoU2V0dGluZ3MuZ2VucmVzID0gew0KICAgICAgICAgICAgbXVsdGlTZWxlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03Rpb246IGZhbHNlLA0KICAgICAgICAgICAgdmFsdWVzOiBbDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0FjdGlvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0icpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdDb21lZHknKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZSgnRmFudGFzeScpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdIYXJlbScpLA0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBsYWJlbFZhbHVlKCdNYXR1cmUnKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTXlzdGVyeScpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdSb21hbmNlJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1NjaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S1maScpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdUcmFnZWR5JyksDQogICAgICAgICAgICAgICAgbmV3IGxhYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsVmFsdWUoJ1hpYW54aWEnKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnV3V4aWEnKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBuZXcgbGFiZWxWYWx1ZSgnWHVhbmh1YW4nKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnQWR2ZW50dXJlJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1N1cGVybmF0dXJhbCcpLA0KICAgICAgICAgICAgICAgIG5ldyBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJlbFZhbHVlKCdEcmFtYScpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNYXJ0aWFsIEFydHMnLCAiTWFydGlhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C1BcnRzIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1NlaW5lbicpLA0KICAgICAgICAgICAgICAgIG5ldyBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJlbFZhbHVlKCdQc3ljaG9sb2dpY2FsJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1NsaWNlIG9mIExpZmUnLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAic2xpY2Utb2YtbGlmZSIpLA0KICAgICAgICAgICAgXSwNCiAgICAgICAgfTsNCg0KDQoNCiAgICAgICAgdGhpcy5wYXJzZXJTZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFyY2hTZXR0aW5ncy5zb3J0VHlwZXMgPSB7DQogICAgICAgICAgICBtdWx0aVNlbGVjdGlvbjogZmFsc2UsDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB2YWx1ZXM6IFsNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnQ2hpbmVzZScsICdjaGluZXNlJyksDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0phcGFuZXNlJywgJ2phcGFuZXNlJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoJ0tvcmVhbicsICdrb3JlYW4nKSwNCiAgICAgICAgICAgIF0sDQogICAgICAgIH07DQoNCiAgICAgICAgdGhpcy5wYXJzZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJTZWFyY2hTZXR0aW5ncy5zdGF0dXNlcyA9IHsNCiAgICAgICAgICAgIG11bHRpU2VsZWN0aW9uOiBmYWxzZSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHZhbHVlczogWw0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJDb21wbGV0ZSIsICJjb21wbGV0ZSIpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJPbkdvaW5nIiwgIm9uLWdvaW5nIikNCiAgICAgICAgICAgIF0NCiAgICAgICAgfMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Q0KDQoNCiAgICAgICAgdGhpcy5jbGVhbmVyID0gcGx1Z2lucy5maW5kKHggPT4geC5uYW1lID09ICJDbGVhbmVyIik7DQogICAgfMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Q0KDQogICAgUGFyc2VyLnByb3RvdHlwZSA9IHsNCiAgICAgICAgIGdldFNlY3Rpb25zOiBmdW5jdGlvbiAoa2V5cykgew0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgdmFyIHNlY3Rpb25zID0gWw0KICAgICAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJsYXRlc3QiLCAiTGF0ZXN0IFVwZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF0ZSIsICJMYXRlc3QiLCB0cnVlKSwNCiAgICAgICAgICAgICAgICBuZXcgU2VjdGlvbigiY29tcGxldGVkIiwgIkNvbXBsZXRlZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCAiY29tcGxldGUiKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SksDQogICAgICAgICAgICAgICAgbmV3IFNlY3Rpb24oImNoaW5lc2UiLCAiQ2hpbmVzZSIsICJTZWFyY2giLCBmYWxzZSwgbmV3IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlcih1bmRlZmluZWQsICJjaGluZXNlIikpLA0KICAgICAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJqYXBhbmVzZSIsICJKYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XBhbmVzZSIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsICJqYXBhbmVzZSIpKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBuZXcgU2VjdGlvbigia29yZWFuIiwgIktvcmVhbiIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJrb3JlYW4iKSkNCiAgICAgICAgICAgIF0NCg0KICAgICAgICAgICAgcmV0dXJuIHNlY3Rpb25zLmZpbHRlcih4ID0+ICFrZXlzIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Hx8IGtleXMuaW5jbHVkZXMoeC5uYW1lKSk7DQogICAgICAgIH0sDQoNCiAgICAgICAgdHJhbnNsYXRlU2VjdGlvbjogYXN5bmMgZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nVuY3Rpb24gKHNlY3Rpb24sIHBhZ2UpIHsNCiAgICAgICAgICAgIGlmIChzZWN0aW9uLmlkZW50aWZpZXIgPT0gIkxhdGVzdCIpDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMubGF0ZXN0KHBhZ2UpOw0KICAgICAgICAgICAgZWxzZQ0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnNlYXJjaChzZWN0aW9uLmZpbHRlciB8fCB0aGlzLmRlZmF1bHRGaWx0ZXIoKSwgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFnZSk7DQogICAgICAgIH0sDQoNCiAgICAgICAgZGVmYXVsdEZpbHRlcjogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GZpbHRlciA9IG5ldyBGaWx0ZXIoKTsNCiAgICAgICAgICAgIHJldHVybiBmaWx0ZXI7DQogICAgICAgIH0sDQoNCiAgICAgICAgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VhcmNoOiBhc3luYyBmdW5jdGlvbiAoZmlsdGVyLCBwYWdlKSB7DQogICAgICAgICAgICB2YXIgc29ydFR5cGVVcmkgPSAiaHR0cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HM6Ly9jb21yYWRlbWFvLmNvbS9tdHlwZS97c30vcGFnZS97cH0vIg0KICAgICAgICAgICAgdmFyIHNvcnRUeXBlVXJsID0gc29ydMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FR5cGVVcmkucmVwbGFjZSgie3N9IiwgZmlsdGVyLnNvcnRUeXBlKS5yZXBsYWNlKCJ7cH0iLCBwYWdlLnRvU3RyaW5nKCkpOw0KDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICB2YXIgdXJsID0gZmlsdGVyLnNvcnRUeXBlICYmIGZpbHRlci5zb3J0VHlwZSAhPSAiIiA/IHNvcnRUeXBlVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJsIDogdGhpcy5zZWFyY2hVcmwucmVwbGFjZSgne3F9JywgZmlsdGVyLnRpdGxlIHx8ICIiKS5yZXBsYWNlKCJ7cH0iLCBwYWdlLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRvU3RyaW5nKCkpOw0KICAgICAgICAgICAgaWYgKGZpbHRlci5nZW5yZXMubGVuZ3RoICYmIGZpbHRlci5nZW5yZXMubGVuZ3RoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D4gMCkNCiAgICAgICAgICAgICAgICB1cmwgPSAoImdlbnJlLyIgKyBmaWx0ZXIuZ2VucmVzWzBdICsgIi9wYWdlL3twfSIpLnJlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxhY2UoIntwfSIsIHBhZ2UudG9TdHJpbmcoKSkudXJpKHRoaXMudXJsKTsNCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBpZiAoZmlsdGVyLmFjdGl2ZSAmJiAoIWZpbHRlci5zb3J0VHlwZSB8fCBmaWx0ZXIuc29ydFR5cGUgPT0gIiIpKQ0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICB1cmwgPSAoInN0YXR1cy8iICsgZmlsdGVyLmFjdGl2ZSArICIvcGFnZS97cH0iKS5yZXBsYWNlKCJ7cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0H0iLCBwYWdlLnRvU3RyaW5nKCkpLnVyaSh0aGlzLnVybCk7DQoNCiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLnBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwodXJsKSk7DQogICAgICAgICAgICB2YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIgbXlib3ggPSBjb250YWluZXIuc2VsZWN0KCIubXlib3giKS5oYXNFbGVtZW50KCk7DQogICAgICAgICAgICB2YXIgaXRlbSA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CFteWJveCA/IGNvbnRhaW5lci5maW5kKCJzZWN0aW9uIC5jb2x1bW5zIikgOiBjb250YWluZXIuZmluZCgiLm15Ym94IGxpIik7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QoNCiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTsNCiAgICAgICAgICAgIGl0ZW0uZm9yRWFjaCh4ID0+IHsNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB2YXIgYSA9IG15Ym94ID8geC5zZWxlY3QoImgzIGEiKSA6IHguZmluZCgiYSIpLmxhc3QoKTsNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICByZXN1bHQucHVzaChuZXcgTGlnaHRJdGVtKA0KICAgICAgICAgICAgICAgICAgICB4LnNlbGVjdCgiaW1nIikuYXR0cigicMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03JjIikudXJsKCksDQogICAgICAgICAgICAgICAgICAgIGEudGV4dChmYWxzZSksICIiLA0KICAgICAgICAgICAgICAgICAgICBhLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mF0dHIoImhyZWYiKS51cmwoKSwgdGhpcy5uYW1lKSk7DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgcmV0dXJuIHJlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03VsdDsNCiAgICAgICAgfSwNCg0KICAgICAgICBnZXRDaGFwdGVyczogYXN5bmMgZnVuY3Rpb24gKHVybCkgew0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgdmFyIHJlc3VsdCA9IHt9Ow0KICAgICAgICAgICAgdmFyIHBhZ2UgPSAxOw0KDQogICAgICAgICAgICB3aGlsZSAodHJ1ZSkgeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KDQogICAgICAgICAgICAgICAgdmFyIHBVcmwgPSAoIi9wYWdlL3twYWdlfS8iKS51cmkodXJsKTsNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB2YXIgaXRlbSA9IHRoaXMucGFyc2VyLnJlbmRlckNvdW50ZXJDYWxscyhwYWdlLCBwVXJsKTsNCiAgICAgICAgICAgICAgICBwYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WdlID0gaXRlbS5wYWdlOw0KICAgICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBhd2FpdCBQcm9taXNlLmFsbChpdGVtLnByb21pcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VzKTsNCiAgICAgICAgICAgICAgICB2YXIgYnJlYWtJdCA9IGZhbHNlOw0KDQogICAgICAgICAgICAgICAgdmFsdWVzLmZvckVhYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02goeCA9PiB7DQogICAgICAgICAgICAgICAgICAgIGlmICghYnJlYWtJdCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Gl0ZW1zID0gdGhpcy5wYXJzZXIuanEoeCkuZmluZCgidGJvZHkgdHIgdGggYSIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WYgKCFpdGVtcy5oYXNFbGVtZW50cygpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtJdCA9IHRydWU7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHRBID0gaXRlbXMucmVkdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WNlKChhcnIsIHgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJbeC50ZXh0KCkgKyB4LmF0dHIoImhyZWYiKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S51cmwoKV0gPSBuZXcgQ2hhcHRlcih4LnRleHQoZmFsc2UpLCB4LmF0dHIoImhyZWYiKS51cmwoKSk7DQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICB9LCB7fSk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhcnNlci52YWxpZGF0ZUNoYXB0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJzKHJlc3VsdEEsIHJlc3VsdCkgPT0gZmFsc2UpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVha0l0ID0gdHJ1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgfSkNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICBpZiAoYnJlYWtJdCkNCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQoNCiAgICAgICAgICAgIH0NCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKHJlc3VsdCk7DQogICAgICAgIH0sDQoNCiAgICAgICAgZ2V0Tm92ZWw6IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFzeW5jIGZ1bmN0aW9uIChub3ZlbFVybCwgYmFzaWNJbmZvKSB7DQoNCiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwobm92ZWxVcmwsIGJhc2ljSW5mbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ykpOw0KICAgICAgICAgICAgdmFyIGNoYXB0ZXJzID0gYmFzaWNJbmZvID09PSB0cnVlID8gW10gOiBhd2FpdCB0aGlzLmdldENoYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XB0ZXJzKG5vdmVsVXJsKTsNCiAgICAgICAgICAgIHZhciBub3ZlbFJldmlld3MgPSBuZXcgTm92ZWxSZXZpZXdzKCk7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBpZiAoIWJhc2ljSW5mbykgew0KICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02RlID0gY29udGFpbmVyLmZpbmQoIiNOb3ZlbEluZm8gPiBwIik7DQoNCiAgICAgICAgICAgICAgICAgICAgbm92ZWxSZXZpZXdzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mdlbnJlcyA9IG5vZGUuZXEoMSkuZmluZCgiYSIpLm1hcCh4ID0+IHgudGV4dCgpKTsNCiAgICAgICAgICAgICAgICAgICAgbm92ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxSZXZpZXdzLmF1dGhvciA9IG5vZGUuZXEoMikuc2VsZWN0KCJhIikudGV4dCgpOw0KICAgICAgICAgICAgICAgICAgICBub3ZlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FJldmlld3MuY29tcGxldGVkID0gbm9kZS5sYXN0KCkuc2VsZWN0KCJhIikudGV4dCgpID09PSAiQ29tcGxldGUiID8gIlN0YXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0zpDb21wbGV0ZWQiIDogIlN0YXR1czpPbmdvaW5nIjsNCiAgICAgICAgICAgICAgICAgICAgbm92ZWxSZXZpZXdzLmF1dGhvclVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CA9IG5vZGUuZXEoMikuc2VsZWN0KCJhIikuYXR0cigiaHJlZiIpLnRleHQoKTsNCg0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GUpIHsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB9DQogICAgICAgICAgICByZXR1cm4gbmV3IERldGFsaUl0ZW0oDQogICAgICAgICAgICAgICAgY29udGFpbmVyLnNlbGVjdCgnIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU005vdmVsSW5mbyBpbWcnKS5hdHRyKCJzcmMiKS51cmwoKSwNCiAgICAgICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCd0aXRsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ScpLnRleHQoKS5yZXBsYWNlKCJDb21yYWRlIE1hbyIsICIiKS5yZXBsYWNlKCItIiwgIiIpLnRyaW0oKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBjb250YWluZXIuZmluZCgnI05vdmVsSW5mbyAuY29sdW1ucyAuY29sdW1uJykubGFzdCgpLmNsZWFuSW5uZXJIVE1MKCksDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgbm92ZWxVcmwsDQogICAgICAgICAgICAgICAgY2hhcHRlcnMucmV2ZXJzZSgpLA0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5vdmVsUmV2aWV3cywNCiAgICAgICAgICAgICAgICB0aGlzLm5hbWUsDQogICAgICAgICAgICAgICAgdW5kZWZpbmVkLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgKQ0KICAgICAgICB9LA0KDQogICAgICAgIGdldENoYXB0ZXI6IGFzeW5jIGZ1bmN0aW9uICh1cmwpIHsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIHJldHVybiB0aGlzLmNsZWFuZXIuY2xlYW5DaGFwdGVyKHRoaXMucGFyc2VyLmpxKGF3YWl0IHRoaXMuY2xlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5lci5nZXRDbGllbnQodGhpcy5pZCkuZ2V0SHRtbCh1cmwpKS5zZWxlY3QoIiNjb250ZW50IiksIHRoaXMubmFtZSk7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIH0sDQoNCiAgICAgICAgbGF0ZXN0OiBhc3luYyBmdW5jdGlvbiAocGFnZSkgew0KICAgICAgICAgICAgdmFyIHVybCA9IHRoaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMubGF0ZXN0VXJsLnJlcGxhY2UoIntwfSIsIHBhZ2UudG9TdHJpbmcoKSk7DQogICAgICAgICAgICB2YXIgY29udGFpbmVyID0gdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ghpcy5wYXJzZXIuanEoYXdhaXQgdGhpcy5jbGVhbmVyLmdldENsaWVudCh0aGlzLmlkKS5nZXRIdG1sKHVybCkpOw0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICAgICAgY29udGFpbmVyLmZpbmQoInRib2R5ID4gdHIgPiB0aDpmaXJzdC1jaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlsZCA+IGEiKS5mb3JFYWNoKHggPT4gew0KICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBMaWdodEl0ZW0oYXN5bmMgKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CkgPT4gKGF3YWl0IHRoaXMuZ2V0Tm92ZWwoeC5hdHRyKCJocmVmIikudXJsKCksIHRydWUpKS5pbWFnZSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgeC50ZXh0KGZhbHNlKSwgIiIsIHguYXR0cigiaHJlZiIpLnVybCgpLCB0aGlzLm5hbWUpKTsNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0H0pOw0KICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHJldHVybiBuZXcgUGFyc2VyKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ck7DQp9Ow==&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KDQoNCiAgICBmdW5jdGlvbiBQYXJzZXIoKXsNCiAgICAgICAgdGhpcy5pZCA9ICIxLmxpZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02h0bm92ZWxwdWIiOw0KICAgICAgICB0aGlzLmRldGFsaUl0ZW1UeXBlID0gRGV0YWxpSXRlbVR5cGUuTm92ZWw7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRoaXMucGFyc2VyTGFuZ3VhZ2UgPSAiZW4iOw0KICAgICAgICB0aGlzLm5hbWUgPSAnTGlnaHROb3ZlbFB1Yic7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRoaXMuZGlzcGxheU5hbWUgPSAiTGlnaHQtTm92ZWwiOw0KICAgICAgICB0aGlzLmxhdGVzdFVybCA9ICdodHRwczovL3d3dy5saMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WdodG5vdmVscHViLmNvbS9icm93c2UvYWxsL3VwZGF0ZWQvYWxsL3twfSc7DQogICAgICAgIHRoaXMudXJsID0gJ2h0dHBzOi8vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03d3LmxpZ2h0bm92ZWxwdWIuY29tJzsNCiAgICAgICAgdGhpcy5zZWFyY2hVcmwgPSAnaHR0cHM6Ly93d3cubGlnaHRub3ZlbHB1YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5jb20vbG5zZWFyY2hsaXZlJzsNCiAgICAgICAgdGhpcy5wYW5pbmF0aW9uID0gdHJ1ZTsNCiAgICAgICAgdGhpcy5zZWFyY2hQYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WdpbmF0aW9uID0gdHJ1ZTsNCiAgICAgICAgdGhpcy5pY29uID0gJ2h0dHBzOi8vc3RhdGljLmxpZ2h0bm92ZWxwdWIuY29tL2NvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRlbnQvaW1nL2xpZ2h0bm92ZWxwdWIvYXBwbGUtdG91Y2gtaWNvbi5wbmcnOw0KICAgICAgICB0aGlzLnBhcnNlclNlYXJjaFNldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRpbmdzID0gbmV3IFBhcnNlclNlYXJjaFNldHRpbmdzKCk7DQogICAgICAgIHRoaXMucGFyc2VyU2VhcmNoU2V0dGluZ3MubXVsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlTZWxlY3Rpb24gPSB0cnVlOw0KICAgICAgICB0aGlzLnBhcnNlclNlYXJjaFNldHRpbmdzLmdlbnJlcyA9IHsNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG11bHRpU2VsZWN0aW9uOiB0cnVlLA0KICAgICAgICAgICAgdmFsdWVzOiBbDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoIkFjdGlvbiIsIDEpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJBZHVsdCIsIDQ4KSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQWR2ZW50dXJlIiwgMiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkNvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WVkeSIsIDEyKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQ29udGVtcG9yYXJ5IFJvbWFuY2UiLCA1OSksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkRyYW1hIiwgMyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0kVhc3Rlcm4gRmFudGFzeSIsIDU4KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiRWNjaGkiLCAxMSksDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkZhbnRhc3kiLCA0KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiRMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFudGFzeSBSb21hbmNlIiwgNjApLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJHZW5kZXIgQmVuZGVyIiwgNTIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJIYXJlbSIsIDUpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVlKCJIaXN0b3JpY2FsIiwgNDYpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJIb3Jyb3IiLCA0NCksDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkpvc2VpIiwgMjMpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJMbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02xpY29uIiwgNTEpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJNYWdpY2FsIFJlYWxpc20iLCA1NyksDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIk1hcnRpYWwgQXJ0cyIsIDYpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVlKCJNYXR1cmUiLCA3KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTWVjaGEiLCA0NSksDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbmV3IGxhYmVsVmFsdWUoIk15c3RlcnkiLCAxNCksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlBzeWNobMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02xvZ2ljYWwiLCAxOCksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlJvbWFuY2UiLCA4KSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBuZXcgbGFiZWxWYWx1ZSgiU2Nob29sIExpZmUiLCAyMSksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNjaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S1maSIsIDE5KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2VpbmVuIiwgNDkpLA0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBsYWJlbFZhbHVlKCJTaG91am8iLCA0NyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNob3VqbyBBaSIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0DYxKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2hvdW5lbiIsIDQzKSwNCiAgICAgICAgICAgICAgICBuZXcgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFiZWxWYWx1ZSgiU2hvdW5lbiBBaSIsIDUzKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2xpY2Ugb2YgTGlmZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SIsIDEzKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU211dCIsIDU2KSwNCiAgICAgICAgICAgICAgICBuZXcgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFiZWxWYWx1ZSgiU3BvcnRzIiwgNTApLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTdXBlcm5hdHVyYWwiLCAxNMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlRyYWdlZHkiLCA5KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxWYWx1ZSgiVmlkZW8gR2FtZXMiLCA1NSksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIld1eGlhIiwgNDIpLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJYaWFueGlhIiwgMjApLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVlKCJYdWFuaHVhbiIsIDEwKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiWWFvaSIsIDU0KQ0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgXQ0KICAgICAgICB9DQogICAgDQogICAgICAgIHRoaXMucGFyc2VyU2VhcmNoU2V0dGluZ3Muc3RhdHVzZXMgPSB7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBtdWx0aVNlbGVjdGlvbjogdHJ1ZSwNCiAgICAgICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgICAgIG5ldyBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJlbFZhbHVlKCJDb21wbGV0ZWQiLCAxKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiT25nb2luZyIsIDIpLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgXQ0KICAgICAgICB9DQogICAgDQogICAgICAgIHRoaXMucGFyc2VyU2VhcmNoU2V0dGluZ3MubGFuZ3VhZ2VzIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0gew0KICAgICAgICAgICAgbXVsdGlTZWxlY3Rpb246IHRydWUsDQogICAgICAgICAgICB2YWx1ZXM6IFsNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBuZXcgbGFiZWxWYWx1ZSgiQ2hpbmVzZSBOb3ZlbCIsIDQpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJLbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03JlYW4gTm92ZWwiLCA1KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTGlnaHQgTm92ZWwiLCA2KSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTGlnaHQgTm92ZWwgKEpQKSIsIDkpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FZhbHVlKCJMaWdodCBOb3ZlbCAoS1IpIiwgMTApLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJQdWJsaXNoZWQgTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m92ZWwgKENOKSIsIDExKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiUHVibGlzaGVkIE5vdmVsIChLUikiLCA4KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiV2ViIE5vdmVsIiwgNyksDQogICAgICAgICAgICAgICAgbmV3IGxhYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsVmFsdWUoIldlYiBOb3ZlbCAoQ04pIiwgMSksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIldlYiBOb3ZlbCAoSMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0lApIiwgMyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIldlYiBOb3ZlbCAoS1IpIiwgMikNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0F0NCiAgICAgICAgfQ0KDQogICAgICAgIHRoaXMuY2xlYW5lciA9IHBsdWdpbnMuZmluZCh4ID0+IHgubmFtZSA9PSAiQ2xlYW5lcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iIpOw0KICAgIH0NCg0KDQogICAgUGFyc2VyLnByb3RvdHlwZSA9IHsNCiAgICAgICAgZ2V0U2VjdGlvbnM6IGZ1bmN0aW9uKGtleMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMpIHsNCiAgICAgICAgICAgIHZhciBzZWN0aW9ucyA9IFsNCiAgICAgICAgICAgICAgICBuZXcgU2VjdGlvbigibGF0ZXN0IiwgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0kxhdGVzdCBVcGRhdGUiLCAiTGF0ZXN0IiwgdHJ1ZSksDQogICAgICAgICAgICAgICAgbmV3IFNlY3Rpb24oInJvbWFuY2UiLCAiUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m9tYW5jZSIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcihbOF0pKSwNCiAgICAgICAgICAgICAgICBuZXcgU2VjdGlvbigiYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0aW9uIiwgIkFjdGlvbiIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcihbMV0pKSwNCiAgICAgICAgICAgICAgICBuZXcgUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VjdGlvbigibXlzdGVyeSIsICJNeXN0ZXJ5IiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKFsxNF0pKSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIF0NCiAgICANCiAgICAgICAgICAgIHJldHVybiBzZWN0aW9ucy5maWx0ZXIoeCA9PiAha2V5cyB8fCBrZXlzLmluY2x1ZGVzKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HgubmFtZSkpOw0KICAgICAgICB9LA0KICAgIA0KICAgICAgICB0cmFuc2xhdGVTZWN0aW9uOiBhc3luYyBmdW5jdGlvbihzZWN0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W9uLCBwYWdlKSAgew0KICAgICAgICAgICAgaWYgKHNlY3Rpb24uaWRlbnRpZmllciA9PSAiTGF0ZXN0IikNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICByZXR1cm4gYXdhaXQgdGhpcy5sYXRlc3QocGFnZSk7DQogICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuIGF3YWl0IHRoaXMuc2VhcmNoKHNlY3Rpb24uZmlsdGVyIHx8IHRoaXMuZGVmYXVsdEZpbHRlcigpLCBwYWdlKTsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgfSwNCiAgICANCiAgICAgICAgZGVmYXVsdEZpbHRlcjogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICByZXR1cm4gbmV3IEZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlcigpOw0KICAgICAgICB9LA0KICAgIA0KICAgICAgICBnZXRHZW5yZXM6IGFzeW5jIGZ1bmN0aW9uKGZpbHRlciwgcGFnZSkgeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICAgICAgdmFyIHVybCA9ICJodHRwczovL3d3dy5saWdodG5vdmVscHViLmNvbS9zZWFyY2hhZHY/Y3RnY29uPWFuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CZ0YWdjb249YW5kJnJhdGNvbj1taW4mcmF0aW5nPTAmc29ydD1zZGF0ZSZwYWdlTm89IiArIHBhZ2U7DQogICAgICAgICAgICBpZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAoZmlsdGVyLmFjdGl2ZSkNCiAgICAgICAgICAgICAgICB1cmwgPSB1cmwgKyAiJnN0YXR1cz0iICsgZmlsdGVyLmFjdGl2ZTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIGlmIChmaWx0ZXIubGFuZ3VhZ2UgJiYgZmlsdGVyLmxhbmd1YWdlICE9ICIiKQ0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybCA9IHVybCArICImZ2VucmV0eXBlcz0iICsgZmlsdGVyLmxhbmd1YWdlOw0KICAgIA0KICAgICAgICAgICAgaWYgKGZpbHRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5nZW5yZXMubGVuZ3RoID4gMCkNCiAgICAgICAgICAgICAgICB1cmwgPSB1cmwgKyAiJmNhdGVnb3JpZXM9IiArIGZpbHRlci5nZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5yZXMuam9pbigiJTJDIik7DQogICAgICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5wYXJzZXIuanEoYXdhaXQgdGhpcy5jbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVhbmVyLmdldENsaWVudCh0aGlzLmlkKS5nZXRIdG1sKHVybCkpOw0KICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgY29udGFpbmVyLmZpbmQoIi5ub3ZlbC1pdGVtIikuZm9yRWFjaCh4ID0+IHsNCiAgICAgICAgICAgICAgICByZXN1bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HQucHVzaChuZXcgTGlnaHRJdGVtKHguc2VsZWN0KCJpbWciKS5hdHRyKCJkYXRhLXNyYyB8IHNyYyIpLnVybCgpLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICB4LnNlbGVjdCgiLm5vdmVsLXRpdGxlIGEiKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iIsDQogICAgICAgICAgICAgICAgICAgIHguc2VsZWN0KCIubm92ZWwtdGl0bGUgYSIpLmF0dHIoImhyZWYiKS51cmwoKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgdGhpcy5uYW1lKSk7DQogICAgICAgICAgICB9KTsNCiAgICANCiAgICAgICAgICAgIHJldHVybiByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XN1bHQ7DQogICAgICAgIH0sDQogICAgDQogICAgICAgIHNlYXJjaDogYXN5bmMgZnVuY3Rpb24oZmlsdGVyLCBwYWdlKSB7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBpZiAoIWZpbHRlci50aXRsZSkNCiAgICAgICAgICAgICAgICBmaWx0ZXIudGl0bGUgPSAiIjsNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHZhciB1cmwgPSB0aGlzLnNlYXJjaFVybDsNCiAgICAgICAgICAgIGlmIChmaWx0ZXIuZ2VucmVzLmxlbmd0aCA+IDAgfHwgZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mlsdGVyLmxhbmd1YWdlICE9ICIiIHx8IGZpbHRlci5hY3RpdmUpDQogICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02V0R2VucmVzKGZpbHRlciwgcGFnZSk7DQogICAgICAgICAgICB2YXIgY29udGFpbmVyID0gYXdhaXQgdGhpcy5jbGVhbmVyLmdldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ENsaWVudCh0aGlzLmlkKS5wb3N0RW5jb2RlZEZvcm0odXJsLCB7IGlucHV0Q29udGVudDogZmlsdGVyLnRpdGxlIH0pOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgY29uc29sZS5sb2coY29udGFpbmVyKTsNCiAgICAgICAgICAgIHZhciBodG1sID0gdGhpcy5wYXJzZXIuanEoY29udMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFpbmVyLnJlc3VsdHZpZXcudG9IdG1sKCkpOw0KICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICAgICAgaHRtbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5maW5kKCIubm92ZWwtaXRlbSIpLmZvckVhY2goeCA9PiB7DQogICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IExpZ2h0SMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRlbSh4LnNlbGVjdCgiaW1nIikuYXR0cigiZGF0YS1zcmMgfCBzcmMiKS51cmwoKSwNCiAgICAgICAgICAgICAgICAgICAgeC5zZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxlY3QoIi5ub3ZlbC10aXRsZSIpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgICAgICAgICAiIiwNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgeC5zZWxlY3QoImEiKS5hdHRyKCJocmVmIikudXJsKCksDQogICAgICAgICAgICAgICAgICAgIHRoaXMubmFtZSkpOw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgfSk7DQogICAgICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgICAgICB9LA0KICAgIA0KICAgIA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBnZXRDaGFwdGVyczogYXN5bmMgZnVuY3Rpb24obm92ZWxVcmwpICB7DQogICAgICAgICAgICB2YXIgcGFnZSA9IDE7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB2YXIgcmVzdWx0ID0ge307DQogICAgICAgICAgICB3aGlsZSAodHJ1ZSkgew0KICAgICAgICAgICAgICAgIHZhciB1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mwgPSBub3ZlbFVybCArICIvcGFnZS17cGFnZX0iOw0KICAgICAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcy5wYXJzZXIucmVuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVyQ291bnRlckNhbGxzKHBhZ2UsIHVybCk7DQogICAgICAgICAgICAgICAgcGFnZSA9IGl0ZW0ucGFnZTsNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB2YXIgdmFsdWVzID0gYXdhaXQgUHJvbWlzZS5hbGwoaXRlbS5wcm9taXNlcyk7DQogICAgICAgICAgICAgICAgdmFyIGJyZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFrSXQgPSBmYWxzZTsNCiAgICANCiAgICAgICAgICAgICAgICB2YWx1ZXMuZm9yRWFjaCh4ID0+IHsNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgaWYgKCFicmVha0l0KSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbXMgPSB0aGlzLnBhcnNlci5qcSh4KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S5maW5kKCIuY2hhcHRlci1saXN0IGEiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXRlbXMuaGFzRWxlbWVudHMoKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Skgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrSXQgPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgfMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Q0KICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdEEgPSBpdGVtcy5yZWR1Y2UoKGFyciwgeCkgPT4gew0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyclt4LmF0dHIoInRpdGxlIikudGV4dCgpICsgeC5hdHRyKCJocmVmIikudXJsKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CldID0gbmV3IENoYXB0ZXIoeC5hdHRyKCJ0aXRsZSIpLnRleHQoKSwgeC5hdHRyKCJocmVmIikudXJsKCkpOw0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgfSwge30pOw0KICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGFyc2VyLnZhbGlkYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRlQ2hhcHRlcnMocmVzdWx0QSwgcmVzdWx0KSA9PSBmYWxzZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrSMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XQgPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgfSkNCiAgICANCiAgICAgICAgICAgICAgICBpZiAoYnJlYWtJdCkNCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICB9DQogICAgDQogICAgICAgICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhyZXN1bHQpOw0KICAgIA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB9LA0KICAgIA0KICAgICAgICBnZXROb3ZlbDogYXN5bmMgZnVuY3Rpb24obm92ZWxVcmwpIHsNCiAgICAgICAgICAgIHZhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iBjb250YWluZXIgPSB0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwobMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m92ZWxVcmwpKTsNCiAgICAgICAgICAgIHZhciBjaGFwdGVyVXJsID0gY29udGFpbmVyLnNlbGVjdCgiLmNoYXB0ZXItbGF0ZXN0LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WNvbnRhaW5lciIpLmF0dHIoImhyZWYiKS51cmwoKTsNCiAgICAgICAgICAgIGlmICghY2hhcHRlclVybCB8fCBjaGFwdGVyVXJsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D09ICIiKQ0KICAgICAgICAgICAgICAgIGNoYXB0ZXJVcmwgPSBub3ZlbFVybDsNCiAgICAgICAgICAgIHZhciBjaGFwdGVycyA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF3YWl0IHRoaXMuZ2V0Q2hhcHRlcnMoY2hhcHRlclVybCk7DQogICAgICAgICAgICB2YXIgbm92ZWxSZXZpZXdzID0gbmV3IE5vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsUmV2aWV3cygpOw0KICAgICAgICAgICAgdmFyIGluZm8gPSBjb250YWluZXIuc2VsZWN0KCIubm92ZWwtaW5mbyIpOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbm92ZWxSZXZpZXdzLmdlbnJlcyA9IGluZm8uZmluZCgiLmNhdGVnb3JpZXMgYSIpLnRleHRBcnJheSgpOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbm92ZWxSZXZpZXdzLmF1dGhvciA9IGluZm8uc2VsZWN0KCIuYXV0aG9yIGEiKS50ZXh0KGZhbHNlKTsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5vdmVsUmV2aWV3cy51dm90ZXMgPSAiUmF0aW5nOiIgKyBjb250YWluZXIuc2VsZWN0KCIucmF0aW5nLXN0YXIgc3RybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU025nIikudGV4dChmYWxzZSkgKyAiLzUiOw0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLmRlc2NyaXB0aW9uID0gY29udGFpbmVyLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlbGVjdCgiI2luZm8gLnN1bW1hcnkiKS5jbGVhbklubmVySFRNTCgpOw0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLmNvbXBsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRlZCA9IGluZm8udGV4dChmYWxzZSkgPT09ICJDb21wbGV0ZWQiID8gIlN0YXR1czpDb21wbGV0ZWQiIDogIlN0YXR1czpPbmdvaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5nIjsNCiAgICANCiAgICAgICAgICAgIHJldHVybiBuZXcgRGV0YWxpSXRlbSgNCiAgICAgICAgICAgICAgICBjb250YWluZXIucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VsZWN0KCIuY292ZXIgaW1nIikuYXR0cigiZGF0YS1zcmMgfCBzcmMiKS51cmwoKSwNCiAgICAgICAgICAgICAgICBjb250YWluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIuc2VsZWN0KCIubm92ZWwtdGl0bGUiKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgICBub3ZlbFJldmlld3MuZGVzY3JpcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRpb24sDQogICAgICAgICAgICAgICAgbm92ZWxVcmwsDQogICAgICAgICAgICAgICAgY2hhcHRlcnMsDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbm92ZWxSZXZpZXdzLA0KICAgICAgICAgICAgICAgIHRoaXMubmFtZSwNCiAgICAgICAgICAgICAgICB1bmRlZmluZWQsDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICApDQogICAgICAgIH0sDQogICAgDQogICAgICAgIGdldENoYXB0ZXI6IGFzeW5jIGZ1bmN0aW9uKHVybCkgew0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xlYW5lci5jbGVhbkNoYXB0ZXIodGhpcy5wYXJzZXIuanEoYXdhaXQgdGhpcy5jbGVhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVyLmdldENsaWVudCh0aGlzLmlkKS5nZXRIdG1sKHVybCkpLnNlbGVjdCgiI2NoYXB0ZXItY29udGFpbmVyIiksIHRoaXMubmFtZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Sk7DQogICAgICAgIH0sDQogICAgDQogICAgICAgIGxhdGVzdDogYXN5bmMgZnVuY3Rpb24ocGFnZSkgew0KICAgICAgICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFyIHVybCA9IHRoaXMubGF0ZXN0VXJsLnJlcGxhY2UoIntwfSIsIHBhZ2UudG9TdHJpbmcoKSk7DQogICAgICAgICAgICB2YXIgYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029udGFpbmVyID0gdGhpcy5wYXJzZXIuanEoYXdhaXQgdGhpcy5jbGVhbmVyLmdldENsaWVudCh0aGlzLmlkKS5nZXRIdG1sKHVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CkpOw0KICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICAgICAgY29udGFpbmVyLmZpbmQoIi5ub3ZlbC1pdGVtIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ikuZm9yRWFjaCh4ID0+IHsNCiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZXcgTGlnaHRJdGVtKHguc2VsZWN0KCIubm92ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WwtY292ZXIgaW1nIikuYXR0cigiZGF0YS1zcmMgfCBzcmMiKS51cmwoKSwNCiAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5ub3ZlbC10aXRsZSIpLnRleHQoKSwNCiAgICAgICAgICAgICAgICAgICAgIiIsDQogICAgICAgICAgICAgICAgICAgIHguc2VsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0KCIuY292ZXItd3JhcCBhIikuYXR0cigiaHJlZiIpLnVybCgpLA0KICAgICAgICAgICAgICAgICAgICB0aGlzLm5hbWUpKTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICAgICAgfQ0KICAgIH0NCg0KDQogICAgcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuIG5ldyBQYXJzZXIoKTsNCg0KfTs=&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KDQogICAgZnVuY3Rpb24gUGFyc2VyKCkgew0KICAgICAgICB0aGlzLmlkID0gIjEubWFuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02FuZWxvIjsNCiAgICAgICAgdGhpcy5kZXRhbGlJdGVtVHlwZSA9IERldGFsaUl0ZW1UeXBlLk1hbmFnYTsNCiAgICAgICAgdGhpcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5wYXJzZXJMYW5ndWFnZSA9ICJlbiI7DQogICAgICAgIHRoaXMubmFtZSA9ICdNYW5nYW5FbG8nOw0KICAgICAgICB0aGlzLmRpcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03BsYXlOYW1lID0gIk1hbmdhLVNlY3RvciI7DQogICAgICAgIHRoaXMubGF0ZXN0VXJsID0gJ2h0dHBzOi8vbWFuZ2FuZWxvLmNvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S9nZW5yZS1hbGwve3B9JzsNCiAgICAgICAgdGhpcy51cmwgPSAnaHR0cHM6Ly9tYW5nYW5lbG8uY29tLyc7DQogICAgICAgIHRoaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMuc2VhcmNoVXJsID0gJ2h0dHBzOi8vbWFuZ2FuZWxvLmNvbS9hZHZhbmNlZF9zZWFyY2g/cz1hbGwmcGFnZT17cH0nOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB0aGlzLnBhbmluYXRpb24gPSB0cnVlOw0KICAgICAgICB0aGlzLnNlYXJjaFBhZ2luYXRpb24gPSB0cnVlOw0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB0aGlzLmljb24gPSAnaHR0cHM6Ly9tYW5nYW5lbG8uY29tL2Zhdmljb24ucG5nJzsNCiAgICAgICAgdGhpcy5wYXJzZXJTZWFyYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02hTZXR0aW5ncyA9IG5ldyBQYXJzZXJTZWFyY2hTZXR0aW5ncygpOw0KICAgICAgICB0aGlzLnBhcnNlclNlYXJjaFNldHRpbmdzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m11bHRpU2VsZWN0aW9uID0gdHJ1ZTsNCiAgICAgICAgdGhpcy5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZXMgPSB7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBtdWx0aVNlbGVjdGlvbjogZmFsc2UsDQogICAgICAgICAgICB2YWx1ZXM6IFsNCiAgICAgICAgICAgICAgICBuZXcgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFiZWxWYWx1ZSgnQWN0aW9uJywgMiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0FkdWx0JywgMyksDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0FkdmVudHVyZScsIDQpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CdDb21lZHknLCA2KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnQ29va2luZycsIDcpLA0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCdEb3VqaW5zaGknLCA5KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnRHJhbWEnLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAxMCksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0VjY2hpJywgMTEpLA0KICAgICAgICAgICAgICAgIG5ldyBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJlbFZhbHVlKCdGYW50YXN5JywgMTIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdHZW5kZXIgYmVuZGVyJywgMMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TMpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdIYXJlbScsIDE0KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxWYWx1ZSgnSGlzdG9yaWNhbCcsIDE1KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnSG9ycm9yJywgMTYpLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdJc2VrYWknLCA0NSksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUoJ0pvc2VpJywgMTcpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNYW5odWEnLCA0NCksDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbmV3IGxhYmVsVmFsdWUoJ01hbmh3YScsIDQzKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTWFydGlhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBhcnRzJywgMTkpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNYXR1cmUnLCAyMCksDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbmV3IGxhYmVsVmFsdWUoJ01lY2hhJywgMjEpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNZWRpY2FsJywgMMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0jIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNeXN0ZXJ5JywgMjQpLA0KICAgICAgICAgICAgICAgIG5ldyBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJlbFZhbHVlKCdPbmUgc2hvdCcsIDI1KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnUHN5Y2hvbG9naWNhbCcsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0DI2KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnUm9tYW5jZScsIDI3KSwNCiAgICAgICAgICAgICAgICBuZXcgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFiZWxWYWx1ZSgnU2Nob29sIGxpZmUnLCAyOCksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1NjaSBmaScsIDI5KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU2VpbmVuJywgMzApLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FZhbHVlKCdTaG91am8nLCAzMSksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1Nob3VqbyBhaScsIDMyKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU2hvdW5lbicsIDMzKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgnU2hvdW5lbiBhaScsIDM0KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU2xpY2Ugb2YgbGlmZScsIDM1KSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU211dCcsIDM2KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgnU3BvcnRzJywgMzcpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTdXBlcm5hdHVyYWwnLCAzOCksDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1RyYWdlZHknLCAzOSksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU01dlYnRvb25zJywgNDApLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdZYW9pJywgNDEpLA0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCdZdXJpJywgNDIpLA0KICAgICAgICAgICAgXSwNCiAgICAgICAgfTsNCg0KICAgICAgICB0aGlzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nBhcnNlclNlYXJjaFNldHRpbmdzLnNvcnRUeXBlcyA9IHsNCiAgICAgICAgICAgIG11bHRpU2VsZWN0aW9uOiBmYWxzZSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdMYXRlc3QgUmVsZWFzZScsICcnKSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTmV3ZXN0JywgJ25ld2VzdCcpLA0KICAgICAgICAgICAgICAgIG5ldyBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJlbFZhbHVlKCdUb3AgdmlldycsICd0b3B2aWV3JyksDQogICAgICAgICAgICBdLA0KICAgICAgICB9Ow0KDQogICAgICAgIHRoaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMucGFyc2VyU2VhcmNoU2V0dGluZ3Muc3RhdHVzZXMgPSB7DQogICAgICAgICAgICBtdWx0aVNlbGVjdGlvbjogZmFsc2UsDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICB2YWx1ZXM6IFsNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQ29tcGxldGVkIiwgImNvbXBsZXRlZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJvbmdvaW5nIiwgIm9uZ29pbmciKQ0KICAgICAgICAgICAgXQ0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB9DQoNCiAgICAgICAgdGhpcy5jbGVhbmVyID0gcGx1Z2lucy5maW5kKHggPT4geC5uYW1lID09ICJDbGVhbmVyIik7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QoNCiAgICB9DQoNCiAgICBQYXJzZXIucHJvdG90eXBlID0gew0KICAgICAgICBnZXRTZWN0aW9uczogZnVuY3Rpb24gKGtleXMpIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HsNCiAgICAgICAgICAgIHZhciBzZWN0aW9ucyA9IFsNCiAgICAgICAgICAgICAgICBuZXcgU2VjdGlvbigibGF0ZXN0IiwgIkxhdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVzdCBVcGRhdGUiLCAiTGF0ZXN0IiwgdHJ1ZSksDQogICAgICAgICAgICAgICAgbmV3IFNlY3Rpb24oImhvdCIsICJOZXdlc3QiLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIodW5kZWZpbmVkLCAibmV3ZXN0IikpLA0KICAgICAgICAgICAgICAgIG5ldyBTZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0aW9uKCJjb21wbGV0ZWQiLCAiQ29tcGxldGVkIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKHVuZGVmaW5lZCwgdW5kZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WZpbmVkLCB1bmRlZmluZWQsICJjb21wbGV0ZWQiKSksDQogICAgICAgICAgICAgICAgbmV3IFNlY3Rpb24oInBvcHVsYXIiLCAiTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W9zdCBQb3B1bGFyIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKHVuZGVmaW5lZCwgInRvcHZpZXciKSkNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIF0NCg0KICAgICAgICAgICAgcmV0dXJuIHNlY3Rpb25zLmZpbHRlcih4ID0+ICFrZXlzIHx8IGtleXMuaW5jbHVkZXMoeC5uYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W1lKSk7DQogICAgICAgIH0sDQoNCiAgICAgICAgdHJhbnNsYXRlU2VjdGlvbjogYXN5bmMgZnVuY3Rpb24gKHNlY3Rpb24sIHBhZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02UpIHsNCiAgICAgICAgICAgIGlmIChzZWN0aW9uLmlkZW50aWZpZXIgPT0gIkxhdGVzdCIpDQogICAgICAgICAgICAgICAgcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuIGF3YWl0IHRoaXMubGF0ZXN0KHBhZ2UpOw0KICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB0aGlzLnNlYXJjaChzZWN0aW9uLmZpbHRlciB8fCB0aGlzLmRlZmF1bHRGaWx0ZXIoKSwgcGFnZSk7DQogICAgICAgIH0sDQoNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgZGVmYXVsdEZpbHRlcjogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIGZpbHRlciA9IG5ldyBGaWx0ZXIoKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TsNCiAgICAgICAgICAgIHJldHVybiBmaWx0ZXI7DQogICAgICAgIH0sDQoNCiAgICAgICAgc2VhcmNoOiBhc3luYyBmdW5jdGlvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAoZmlsdGVyLCBwYWdlKSB7DQogICAgICAgICAgICB2YXIgdXJsID0gdGhpcy5zZWFyY2hVcmwucmVwbGFjZSgie3B9IiwgcGFnZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S50b1N0cmluZygpKTsNCiAgICAgICAgICAgIGlmIChmaWx0ZXIuZ2VucmVzLmxlbmd0aCA+IDApDQogICAgICAgICAgICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJsID0gKCImZ19pPV8iICsgZmlsdGVyLmdlbnJlcy5qb2luKCJfIikpLnVyaSh1cmwpOw0KICAgICAgICAgICAgaWYgKGZpbHRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5zb3J0VHlwZSAmJiBmaWx0ZXIuc29ydFR5cGUgIT0gIiIpDQogICAgICAgICAgICAgICAgdXJsID0gKCImb3JieT0iICsgZmlsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVyLnNvcnRUeXBlKS51cmkodXJsKTsNCiAgICAgICAgICAgIGlmIChmaWx0ZXIuYWN0aXZlICYmIGZpbHRlci5hY3RpdmUgIT0gIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iIpDQogICAgICAgICAgICAgICAgdXJsID0gKCImc3RzPSIgKyBmaWx0ZXIuYWN0aXZlKS51cmkodXJsKTsNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlmIChmaWx0ZXIudGl0bGUgJiYgZmlsdGVyLnRpdGxlLnRyaW0oKS5sZW5ndGggPiAwKQ0KICAgICAgICAgICAgICAgIHVybCA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CgiJmtleXc9IiArIGZpbHRlci50aXRsZS5yZXBsYWNlKC9bIF0vZywgIl8iKSkudXJpKHVybCk7DQogICAgICAgICAgICB2YXIgYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029udGFpbmVyID0gdGhpcy5wYXJzZXIuanEoYXdhaXQgdGhpcy5jbGVhbmVyLmdldENsaWVudCh0aGlzLmlkKS5nZXRIdG1sKHVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CkpOw0KICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICAgICAgY29udGFpbmVyLmZpbmQoJy5jb250ZW50LWdlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nJlcy1pdGVtJykuZm9yRWFjaCgoeCkgPT4gew0KICAgICAgICAgICAgICAgIGlmICh4LnNlbGVjdCgnLmdlbnJlcy1pdGVtLWltZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBpbWcnKS5hdHRyKCJzcmMiKS5oYXNWYWx1ZSgpKQ0KICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCgNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgIG5ldyBMaWdodEl0ZW0oDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoJy5nZW5yZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMtaXRlbS1pbWcgaW1nJykuYXR0cigic3JjIikudXJsKCksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5nZW5yZXMtaXRlbS1pbWcnKS5hdHRyKCJ0aXRsZSIpLnRleHQoKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJywNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICAgICAgICAgICAgICB4LnNlbGVjdCgnLmdlbnJlcy1pdGVtLWltZycpLmF0dHIoImhyZWYiKS51cmwoKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5hbWUNCiAgICAgICAgICAgICAgICAgICAgICAgICksDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICAgICAgfMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCg0KICAgICAgICBnZXROb3ZlbDogYXN5bmMgZnVuY3Rpb24gKG5vdmVsVXJsKSB7DQogICAgICAgICAgICB2YXIgY29udGFpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVyID0gdGhpcy5wYXJzZXIuanEoYXdhaXQgdGhpcy5jbGVhbmVyLmdldENsaWVudCh0aGlzLmlkKS5nZXRIdG1sKG5vdmVsVXJsKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Sk7DQoNCiAgICAgICAgICAgIHZhciBpdGVtID0gbmV3IE5vdmVsUmV2aWV3cygpOw0KICAgICAgICAgICAgdmFyIHRiSW5mbyA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GNvbnRhaW5lci5maW5kKCIudmFyaWF0aW9ucy10YWJsZUluZm8gdHIiKQ0KICAgICAgICAgICAgaWYgKHRiSW5mby5sZW5ndGgoKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SA+IDMpDQogICAgICAgICAgICAgICAgaXRlbS5nZW5yZXMgPSB0YkluZm8uZXEoMykuZmluZCgiLnRhYmxlLXZhbHVlIGEiKS5tYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XAoeCA9PiB4LnRleHQoZmFsc2UpKTsNCiAgICAgICAgICAgIGVsc2UgaWYgKHRiSW5mby5sZW5ndGgoKSA9PSAzKQ0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIGl0ZW0uZ2VucmVzID0gdGJJbmZvLmVxKDIpLmZpbmQoIi50YWJsZS12YWx1ZSBhIikubWFwKHggPT4geC50ZXh0KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GZhbHNlKSk7DQogICAgICAgICAgICBpdGVtLmRlc2NyaXB0aW9uID0gY29udGFpbmVyLnNlbGVjdCgiLnBhbmVsLXN0b3J5LWluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m8tZGVzY3JpcHRpb24iKS50ZXh0KGZhbHNlKQ0KDQogICAgICAgICAgICBpdGVtLnV2b3RlcyA9IGNvbnRhaW5lci5zZWxlY3QoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVtW3R5cGVvZj0ndjpSYXRpbmcnXSIpLnRleHQoZmFsc2UpLnJlbW92ZU5ld0xpbmUoIiAiKTsNCiAgICAgICAgICAgIGl0ZW0uYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx0ZXJuYXRpdmVOYW1lcyA9IHRiSW5mby5sZW5ndGgoKSA+IDMgPyB0YkluZm8uZXEoMCkuc2VsZWN0KCIjZWRpdGFzc29jaWF0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WQiKS50ZXh0KGZhbHNlKSA6ICIiOw0KICAgICAgICAgICAgaWYgKHRiSW5mby5sZW5ndGgoKSA+IDMpDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgaXRlbS5hdXRob3IgPSB0YkluZm8uZXEoMSkuc2VsZWN0KCIudGFibGUtdmFsdWUiKS50ZXh0KGZhbHNlKTsNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIGVsc2UgaWYgKHRiSW5mby5sZW5ndGgoKSA+IDApDQogICAgICAgICAgICAgICAgaXRlbS5hdXRob3IgPSB0YkluZm8uZXEoMMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ckuc2VsZWN0KCIudGFibGUtdmFsdWUiKS50ZXh0KGZhbHNlKTsNCiAgICAgICAgICAgIGl0ZW0ubGFuZyA9ICIiOw0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgaWYgKHRiSW5mby5sZW5ndGgoKSA+IDMpDQogICAgICAgICAgICAgICAgaXRlbS5jb21wbGV0ZWQgPSB0YkluZm8uZXEoMMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ikudGV4dChmYWxzZSkucmVtb3ZlTmV3TGluZSgiICIpOw0KICAgICAgICAgICAgZWxzZSBpZiAodGJJbmZvLmxlbmd0aCgpID09IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0DMpDQogICAgICAgICAgICAgICAgaXRlbS5jb21wbGV0ZWQgPSB0YkluZm8uZXEoMSkudGV4dChmYWxzZSkucmVtb3ZlTmV3TGluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgiICIpOw0KICAgICAgICAgICAgdmFyIGNoYXB0ZXJzID0gY29udGFpbmVyLmZpbmQoIi5yb3ctY29udGVudC1jaGFwdGVyIGEiKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S5tYXAoeCA9PiBuZXcgQ2hhcHRlcih4LnRleHQoZmFsc2UpLCB4LmF0dHIoImhyZWYiKS51cmwoKSkpOw0KICAgICAgICAgICAgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuIG5ldyBEZXRhbGlJdGVtKA0KICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoJy5pbmZvLWltYWdlIGltZycpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mF0dHIoInNyYyIpLnVybCgpLA0KICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoJy5zdG9yeS1pbmZvLXJpZ2h0IGgxJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ykudGV4dChmYWxzZSksDQogICAgICAgICAgICAgICAgaXRlbS5kZXNjcmlwdGlvbiwNCiAgICAgICAgICAgICAgICBub3ZlbFVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CwNCiAgICAgICAgICAgICAgICBjaGFwdGVycy5yZXZlcnNlKCksDQogICAgICAgICAgICAgICAgaXRlbSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB0aGlzLm5hbWUsDQogICAgICAgICAgICAgICAgdW5kZWZpbmVkLA0KICAgICAgICAgICAgKTsNCiAgICAgICAgfSwNCg0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBnZXRDaGFwdGVyOiBhc3luYyBmdW5jdGlvbiAodXJsKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZXIuaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nEoYXdhaXQgdGhpcy5jbGVhbmVyLmdldENsaWVudCh0aGlzLmlkKS5nZXRIdG1sKHVybCkpLmZpbmQoIi5jb250YWluZXItY2hhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlci1yZWFkZXIgaW1nIikubWFwKHggPT4geC5hdHRyKCJzcmMiKS51cmwoKSkuZmlsdGVyKHggPT4geCAmJiB4ICE9ICIiKTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgfSwNCg0KICAgICAgICBsYXRlc3Q6IGFzeW5jIGZ1bmN0aW9uIChwYWdlKSB7DQogICAgICAgICAgICB2YXIgdXJsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0gdGhpcy5sYXRlc3RVcmwucmVwbGFjZSgne3B9JywgcGFnZS50b1N0cmluZygpKTsNCiAgICAgICAgICAgIHZhciBjb250YWluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIgPSB0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwodXJsKSk7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgICAgICBjb250YWluZXIuZmluZCgnLmNvbnRlbnQtZ2VucmVzLWl0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W0nKS5mb3JFYWNoKHggPT4gew0KICAgICAgICAgICAgICAgIGlmICh4LnNlbGVjdCgnLmdlbnJlcy1pdGVtLWltZyBpbWcnKS5hdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRyKCJzcmMiKS5oYXNWYWx1ZSgpKQ0KICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCgNCiAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5ldyBMaWdodEl0ZW0oDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoIi5nZW5yZXMtaXRlbS1pbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WcgaW1nIikuYXR0cigic3JjIikudGV4dCgpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHguc2VsZWN0KCIuZ2VucmVzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wl0ZW0taW1nIikuYXR0cigidGl0bGUiKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJywNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICAgICAgICB4LnNlbGVjdCgnLmdlbnJlcy1pdGVtLWltZycpLmF0dHIoImhyZWYiKS51cmwoKSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5hbWUNCiAgICAgICAgICAgICAgICAgICAgICAgICksDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICk7DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICAgICAgfQ0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIH0NCg0KICAgIHJldHVybiBuZXcgUGFyc2VyKCk7DQp9&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KDQoNCiAgICBmdW5jdGlvbiBQYXJzZXIoKSB7DQogICAgICAgIHRoaXMuaWQgPSAiMS5tdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Gxub3ZlbCI7DQogICAgICAgIHRoaXMuZGV0YWxpSXRlbVR5cGUgPSBEZXRhbGlJdGVtVHlwZS5Ob3ZlbDsNCiAgICAgICAgdGhpcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5wYXJzZXJMYW5ndWFnZSA9ICJlbiI7DQogICAgICAgIHRoaXMubmFtZSA9ICdNdGxOb3ZlbCc7DQogICAgICAgIHRoaXMuZGlzcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxheU5hbWUgPSB0aGlzLm5hbWU7DQogICAgICAgIHRoaXMubGF0ZXN0VXJsID0gJ2h0dHBzOi8vd3d3Lm10bG5vdmVsLmNvbS93cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C1hZG1pbi9hZG1pbi1hamF4LnBocD9hY3Rpb249cmNudF91cGRhdGUmdmlld19hbGw9eWVzJm1vcmVJdGVtc1BhZ2VJbmRleD17cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0H0mX19hbXBfc291cmNlX29yaWdpbj1odHRwcyUzQSUyRiUyRnd3dy5tdGxub3ZlbC5jb20nOw0KICAgICAgICB0aGlzLnVybCA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CdodHRwczovL3d3dy5tdGxub3ZlbC5jb20nOw0KICAgICAgICB0aGlzLnNlYXJjaFVybCA9ICdodHRwczovL3d3dy5tdGxub3ZlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5jb20vd3AtYWRtaW4vYWRtaW4tYWpheC5waHA/YWN0aW9uPWF1dG9zdWdnZXN0JnE9e3F9Jm1vcmVJdGVtc1BhZ2VJbmRleD17cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0H0mX19hbXBfc291cmNlX29yaWdpbj1odHRwcyUzQSUyRiUyRnd3dy5tdGxub3ZlbC5jb20nOw0KICAgICAgICB0aGlzLnBhbmluYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRpb24gPSB0cnVlOw0KICAgICAgICB0aGlzLnNlYXJjaFBhZ2luYXRpb24gPSB0cnVlOw0KICAgICAgICB0aGlzLmljb24gPSAnaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HR0cHM6Ly93d3cubXRsbm92ZWwubmV0L3RoZW1lcy9tdGxub3ZlbC9pbWFnZXMvbXRsbm92ZWwtMzIuaWNvJzsNCiAgICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ghpcy5wYXJzZXJTZWFyY2hTZXR0aW5ncyA9IG5ldyBQYXJzZXJTZWFyY2hTZXR0aW5ncygpOw0KICAgICAgICB0aGlzLnBhcnNlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0lNlYXJjaFNldHRpbmdzLm11bHRpU2VsZWN0aW9uID0gZmFsc2U7DQogICAgICAgIHRoaXMucGFyc2VyU2VhcmNoU2V0dGluZ3MuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VucmVzID0gew0KICAgICAgICAgICAgbXVsdGlTZWxlY3Rpb246IGZhbHNlLA0KICAgICAgICAgICAgdmFsdWVzOiBbDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0FjdGlvbicpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdBZHVsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CcpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdDb21lZHknKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZSgnQWR2ZW50dXJlJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0RyYW1hJyksDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbmV3IGxhYmVsVmFsdWUoJ0VjY2hpJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0VyY2l5dWFuJyksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0Zhbi1GaWN0aW9uJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUoJ0ZhbnRhc3knKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnR2FtZScpLA0KICAgICAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBsYWJlbFZhbHVlKCdHZW5kZXIgQmVuZGVyJywgImdlbmRlci1iZW5kZXIiKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZSgnSGFyZW0nKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnSGlzdG9yaWNhbCcpLA0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCdIb3Jyb3InKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnSm9zZWknKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTWFydGlhbCBBcnRzJywgIm1hcnRpYWwtYXJ0cyIpLA0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCdNYXR1cmUnKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTWVjaGEnKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTWlsaXRhcnknKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XlzdGVyeScpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdQc3ljaG9sb2dpY2FsJyksDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbmV3IGxhYmVsVmFsdWUoJ1JvbWFuY2UnKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU2Nob29sIExpZmUnLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAnc2Nob29sLWxpZmUnKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU2NpLWZpJyksDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbmV3IGxhYmVsVmFsdWUoJ1NlaW5lbicpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTaG91am8nKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU2hvdWpvIEFpJywgInNob3Vqby1haSIpLA0KICAgICAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBsYWJlbFZhbHVlKCdTaG91bmVuJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1Nob3VuZW4gQWknLCAic2hvdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5lbi1haSIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTbGljZSBvZiBMaWZlJywgInNsaWNlLW9mLWxpZmUiKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU211dCcpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CdTcG9ydHMnKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU3VwZXJuYXR1cmFsJyksDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbmV3IGxhYmVsVmFsdWUoJ1RyYWdlZHknKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnVHdvLWRpbWVuc2lvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsJywgInR3by1kaW1lbnNpb25hbC1ub3ZlbCIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdVcmJhbiBMaWZlJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ywgInVyYmFuLWZpY3Rpb24iKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnV3V4aWEnKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBuZXcgbGFiZWxWYWx1ZSgnWGlhbnhpYScpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdYdWFuaHVhbicpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdZYW9pJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU01l1cmknKSwNCg0KICAgICAgICAgICAgXSwNCiAgICAgICAgfTsNCg0KICAgICAgICB0aGlzLnBhcnNlclNlYXJjaFNldHRpbmdzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nN0YXR1c2VzID0gew0KICAgICAgICAgICAgbXVsdGlTZWxlY3Rpb246IGZhbHNlLA0KICAgICAgICAgICAgdmFsdWVzOiBbDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0NvbXBsZXRlZCcpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CdEcm9wcGVkJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0hpYXR1cycpLA0KICAgICAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBsYWJlbFZhbHVlKCdJbmNvbXBsZXRlJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ09uZ29pbmcnKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIF0sDQogICAgICAgIH07DQoNCg0KICAgICAgICB0aGlzLmNsZWFuZXIgPSBwbHVnaW5zLmZpbmQoeCA9PiB4Lm5hbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUgPT0gIkNsZWFuZXIiKTsNCiAgICB9DQoNCg0KICAgIFBhcnNlci5wcm90b3R5cGUgPSB7DQogICAgICAgIGdldFNlY3Rpb25zOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iBmdW5jdGlvbiAoa2V5cykgew0KICAgICAgICAgICAgdmFyIHNlY3Rpb25zID0gWw0KICAgICAgICAgICAgICAgIG5ldyBTZWN0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W9uKCJsYXRlc3QiLCAiTGF0ZXN0IFVwZGF0ZSIsICJMYXRlc3QiLCB0cnVlKSwNCiAgICAgICAgICAgICAgICBuZXcgU2VjdGlvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0igiY29tcGxldGVkIiwgIkNvbXBsZXRlZCBOb3ZlbCIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsIHVuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVmaW5lZCwgdW5kZWZpbmVkLCAiY29tcGxldGVkIikpLA0KICAgICAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJvbmdvaW5nIiwgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0k9uZ29pbmcgTm92ZWwiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIodW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CwgIm9uZ29pbmciKSksDQogICAgICAgICAgICBdDQoNCiAgICAgICAgICAgIHJldHVybiBzZWN0aW9ucy5maWx0ZXIoeCA9PiAhaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02V5cyB8fCBrZXlzLmluY2x1ZGVzKHgubmFtZSkpOw0KICAgICAgICB9LA0KDQogICAgICAgIHRyYW5zbGF0ZVNlY3Rpb246IGFzeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5jIGZ1bmN0aW9uIChzZWN0aW9uLCBwYWdlKSB7DQogICAgICAgICAgICBpZiAoc2VjdGlvbi5pZGVudGlmaWVyID09ICJMYXRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03QiKQ0KICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmxhdGVzdChwYWdlKTsNCiAgICAgICAgICAgIGVsc2UNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5zZWFyY2goc2VjdGlvbi5maWx0ZXIgfHwgdGhpcy5kZWZhdWx0RmlsdGVyKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CksIHBhZ2UpOw0KICAgICAgICB9LA0KDQogICAgICAgIGRlZmF1bHRGaWx0ZXI6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HZhciBmaWx0ZXIgPSBuZXcgRmlsdGVyKCk7DQogICAgICAgICAgICByZXR1cm4gZmlsdGVyOw0KICAgICAgICB9LA0KDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIGdldEJ5R2VucmVzOiBhc3luYyBmdW5jdGlvbiAoZmlsdGVyLCBwYWdlKSB7DQogICAgICAgICAgICB2YXIgcmVzdWx0ID0gWMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0107DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIHZhciBnZW5yZVVybCA9ICJnZW5yZS97Z30vcGFnZS97cH0vIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i51cmkodGhpcy51cmwpLnJlcGxhY2UoIntwfSIsIHBhZ2UudG9TdHJpbmcoKSk7DQogICAgICAgICAgICAgICAgdmFyIHN0YXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU01VybCA9ICJzdGF0dXMve3N9L3BhZ2Uve3B9LyIudXJpKHRoaXMudXJsKS5yZXBsYWNlKCJ7cH0iLCBwYWdlLnRvU3RyaW5nKCkpOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICAgICAgICAgIHZhciBxID0NCiAgICAgICAgICAgICAgICAgICAgZmlsdGVyLmdlbnJlcy5sZW5ndGggPiAwID8NCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICAgICAgICAgIGdlbnJlVXJsLnJlcGxhY2UoIntnfSIsIGZpbHRlci5nZW5yZXNbMF0udG9Mb3dlckNhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02UoKSkgOg0KICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyLmFjdGl2ZSAmJiBmaWx0ZXIuYWN0aXZlICE9ICcnID8NCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNVcmwucmVwbGFjZSgie3N9IiwgZmlsdGVyLmFjdGl2ZS50b0xvd2VyQ2FzZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgpKSA6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkOw0KICAgICAgICAgICAgICAgIHZhciBjb250YWluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIgPSB0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwocSB8fCAiIikpOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICAgICAgICAgIHZhciBkYXRhID0gY29udGFpbmVyLmZpbmQoJy5ib3gnKTsNCiAgICAgICAgICAgICAgICB2YXIgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVzdWx0ID0gW107DQogICAgICAgICAgICAgICAgZGF0YS5mb3JFYWNoKCh4KSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHZhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iBocmVmID0geC5zZWxlY3QoIi5saXN0LWEiKS5hdHRyKCJocmVmIikudGV4dCgpDQogICAgICAgICAgICAgICAgICAgIHZhciB0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRsZSA9IGNvbnRhaW5lci5maW5kKCIubGlzdC10aXRsZSIpLndoZXJlKHggPT4geC5hdHRyKCJocmVmIikudGV4dCgpID09IGhyZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WYpLnRleHQoKTsNCiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goDQogICAgICAgICAgICAgICAgICAgICAgICBuZXcgTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlnaHRJdGVtKHguc2VsZWN0KCcubGlzdC1pbWcnKS5hdHRyKCdzcmMnKS51cmwoKSwgdGl0bGUsDQogICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgJycsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaHJlZi51cmkodGhpcy51cmwpLCB0aGlzLm5hbWUNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICAgICAgICAgICksDQogICAgICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgfSk7DQoNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0g0KICAgICAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOw0KICAgICAgICAgICAgfMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Q0KICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICAgICAgfSwNCg0KICAgICAgICBzZWFyY2g6IGFzeW5jIGZ1bmN0aW9uIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ChmaWx0ZXIsIHBhZ2UpIHsNCg0KICAgICAgICAgICAgaWYgKGZpbHRlci5nZW5yZXMubGVuZ3RoID4gMCB8fCAoZmlsdGVyLmFjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Gl2ZSAmJiBmaWx0ZXIuYWN0aXZlICE9ICIiKSkNCiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5nZXRCeUdlbnJlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yhmaWx0ZXIsIHBhZ2UpOw0KDQogICAgICAgICAgICBpZiAoIWZpbHRlci50aXRsZSB8fCBmaWx0ZXIudGl0bGUubGVuZ3RoIDw9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0DApDQogICAgICAgICAgICAgICAgcmV0dXJuIFtdOw0KICAgICAgICAgICAgdmFyIGpzb25EYXRhID0gYXdhaXQgdGhpcy5jbGVhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVyLmdldENsaWVudCh0aGlzLmlkKS5HZXRKc29uKHRoaXMuc2VhcmNoVXJsLnJlcGxhY2UoIntxfSIsIGZpbHRlci50aXRsZSB8fMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAiIikucmVwbGFjZSgie3B9IiwgcGFnZS50b1N0cmluZygpKSk7DQogICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBpZiAoanNvbkRhdGEuaXRlbXMgJiYganNvbkRhdGEuaXRlbXMubGVuZ3RoID4gMCkNCiAgICAgICAgICAgICAgICBqcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029uRGF0YS5pdGVtcy5mb3JFYWNoKHggPT4gew0KICAgICAgICAgICAgICAgICAgICBpZiAoeC5yZXN1bHRzICYmIHgucmVzdWx0cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB4LnJlc3VsdHMuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IExpZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02h0SXRlbShpdGVtLnRodW1ibmFpbCwgaXRlbS50aXRsZS5odG1sVGV4dChmYWxzZSksICIiLCBpdGVtLnBlcm1hbGluay51cmkodMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ghpcy51cmwpIHx8ICIiLCB0aGlzLm5hbWUpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgKQ0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICByZXR1cm4gcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVzdWx0Ow0KICAgICAgICB9LA0KDQogICAgICAgIGdldENoYXB0ZXJzOiBhc3luYyBmdW5jdGlvbiAobm92ZWxVcmwpIHsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIHZhciB1cmwgPSAiY2hhcHRlci1saXN0LyIudXJpKG5vdmVsVXJsKTsNCiAgICAgICAgICAgIHZhciBjb250YWluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIgPSB0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwodXJsKSk7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICByZXR1cm4gY29udGFpbmVyLmZpbmQoIi5jaC1saXN0IGEiKS5tYXAoeCA9PiBuZXcgQ2hhcHRlcih4LnRleHQoZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsc2UpLCB4LmF0dHIoImhyZWYiKS51cmwoKSkpLnJldmVyc2UoKTsNCiAgICAgICAgfSwNCg0KICAgICAgICBnZXROb3ZlbDogYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XN5bmMgZnVuY3Rpb24gKG5vdmVsVXJsKSB7DQogICAgICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5wYXJzZXIuanEoYXdhaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XQgdGhpcy5jbGVhbmVyLmdldENsaWVudCh0aGlzLmlkKS5nZXRIdG1sKG5vdmVsVXJsKSk7DQogICAgICAgICAgICB2YXIgY2hhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlcnMgPSBhd2FpdCB0aGlzLmdldENoYXB0ZXJzKG5vdmVsVXJsKTsNCiAgICAgICAgICAgIHZhciBub3ZlbFJldmlld3MgPSBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgTm92ZWxSZXZpZXdzKCk7DQogICAgICAgICAgICBub3ZlbFJldmlld3MuZ2VucmVzID0gY29udGFpbmVyLmZpbmQoIiNjdXJyZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W50Z2VuIGEiKS50ZXh0QXJyYXkoKTsNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cy51dm90ZXMgPSBjb250YWluZXIuc2VsZWN0KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIucmF0aW5nLWluZm8gc3Ryb25nIikudGV4dChmYWxzZSkgKyAiIC8gNSI7DQogICAgICAgICAgICBub3ZlbFJldmlld3MuY29tcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxldGVkID0gY29udGFpbmVyLnNlbGVjdCgiI2N1cnJlbnRzdGF0dXMiKS50ZXh0KGZhbHNlKSA9PT0gIkNvbXBsZXRlZCIgPyAiUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03RhdHVzOkNvbXBsZXRlZCIgOiAiU3RhdHVzOiIgKyBjb250YWluZXIuc2VsZWN0KCIjY3VycmVudHN0YXR1cyIpLnRleHQoZmFscMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02UpOw0KICAgICAgICAgICAgdmFyIHRyID0gY29udGFpbmVyLnNlbGVjdCgiI3BhbmVsbm92ZWxpbmZvIC5pbmZvIikuZmluZCgidMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HIiKTsNCiAgICAgICAgICAgIGlmICh0ciAhPT0gbnVsbCAmJiB0ciAmJiB0ci5sZW5ndGgoKSA+IDApDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbm92ZWxSZXZpZXdzLmF1dGhvciA9IHRyLmVxKHRyLmxlbmd0aCgpIC0gMSkuc2VsZWN0KCJhIikudGV4dEFycmF5KCkuam9pbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0igiLCIpOw0KICAgICAgICAgICAgcmV0dXJuIG5ldyBEZXRhbGlJdGVtKA0KICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03QoJy5tYWluLXRtYicpLmF0dHIoJ3NyYycpLnVybCgpLA0KICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoJy5lbnRyeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S10aXRsZScpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoJy5kZXNjJykuY2xlYW5Jbm5lcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0khUTUwoKSwNCiAgICAgICAgICAgICAgICBub3ZlbFVybCwNCiAgICAgICAgICAgICAgICBjaGFwdGVycywNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBub3ZlbFJldmlld3MsDQogICAgICAgICAgICAgICAgdGhpcy5uYW1lLA0KICAgICAgICAgICAgICAgIHVuZGVmaW5lZCwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICk7DQogICAgICAgIH0sDQoNCiAgICAgICAgZ2V0Q2hhcHRlcjogYXN5bmMgZnVuY3Rpb24gKHVybCkgew0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMucGFyc2VyLmpxKGF3YWl0IHRoaXMuY2xlYW5lci5nZXRDbGllbnQodGhpcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5pZCkuZ2V0SHRtbCh1cmwpKTsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLmNsZWFuZXIuY2xlYW5DaGFwdGVyKGNvbnRhaW5lcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5zZWxlY3QoJy5wb3N0LWNvbnRlbnQgLnBhcicpLCB0aGlzLm5hbWUpDQogICAgICAgIH0sDQoNCiAgICAgICAgbGF0ZXN0OiBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03luYyBmdW5jdGlvbiAocGFnZSkgew0KICAgICAgICAgICAgdmFyIHVybCA9IHRoaXMubGF0ZXN0VXJsLnJlcGxhY2UoJ3twfScsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HBhZ2UudG9TdHJpbmcoKSk7DQogICAgICAgICAgICB2YXIganNvbkRhdGEgPSBhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRoaXMuaWQpLkdldEpzb24odXJsKTsNCiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTsNCiAgICAgICAgICAgIGlmIChqc29uRMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF0YS5pdGVtcyAmJiBqc29uRGF0YS5pdGVtcy5sZW5ndGggPiAwKQ0KICAgICAgICAgICAgICAgIGpzb25EYXRhLml0ZW1zLmZvcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0kVhY2goeCA9PiB7DQogICAgICAgICAgICAgICAgICAgIHZhciBsbmsgPSAoeC5ub3ZlbF9wZXJtYWxpbmsgfHwgIiIpLnRvSHRtbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CgpLnF1ZXJ5U2VsZWN0b3IoImEiKTsNCiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goDQogICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBuZXcgTGlnaHRJdGVtKHgudG1iLCAobG5rLmlubmVyVGV4dCB8fCAiIiksICIiLCBsbmsuZ2V0QXR0cmlidXRlKCJocMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVmIikudXJpKHRoaXMudXJsKSwgdGhpcy5uYW1lKQ0KICAgICAgICAgICAgICAgICAgICApDQogICAgICAgICAgICAgICAgfSkNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgICAgIH0NCiAgICB9DQogICAgcmV0dXJuIG5ldyBQYXJzZXIoKTsNCn0=&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KDQoNCiAgICBmdW5jdGlvbiBQYXJzZXIoKSB7DQoNCg0KICAgICAgICB0aGlzLmlkID0gIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0jEubm92ZWxmdWxsIjsNCiAgICAgICAgdGhpcy5kZXRhbGlJdGVtVHlwZSA9IERldGFsaUl0ZW1UeXBlLk5vdmVsOw0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB0aGlzLnBhcnNlckxhbmd1YWdlID0gImVuIjsNCiAgICAgICAgdGhpcy5uYW1lID0gJ05vdmVsRnVsbCc7DQogICAgICAgIHRoaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMuZGlzcGxheU5hbWUgPSAiTm92ZWwtRnVsbHkiOw0KICAgICAgICB0aGlzLmxhdGVzdFVybCA9ICdodHRwczovL25vdmVsZnVsbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5jb20vbGF0ZXN0LXJlbGVhc2Utbm92ZWw/cGFnZT17cH0nOw0KICAgICAgICB0aGlzLnVybCA9ICdodHRwczovL25vdmVsZnVsbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5jb20nOw0KICAgICAgICB0aGlzLnNlYXJjaFVybCA9ICdodHRwczovL25vdmVsZnVsbC5jb20vc2VhcmNoP2tleXdvcmQ9e3F9JMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nBhZ2U9e3B9JzsNCiAgICAgICAgdGhpcy5jaGFwdGVyc1VybCA9ICdodHRwczovL25vdmVsZnVsbC5jb20vYWpheC1jaGFwdGVyLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W9wdGlvbj9ub3ZlbElkPXtpZH0nOw0KICAgICAgICB0aGlzLnBhbmluYXRpb24gPSB0cnVlOw0KICAgICAgICB0aGlzLnNlYXJjaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FBhZ2luYXRpb24gPSB0cnVlOw0KICAgICAgICB0aGlzLmljb24gPSAnaHR0cHM6Ly9ub3ZlbGZ1bGwuY29tL3dlYi9pbWFnZXMvZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mF2aWNvbi5pY28nOw0KICAgICAgICB0aGlzLnBhcnNlclNlYXJjaFNldHRpbmdzID0gbmV3IFBhcnNlclNlYXJjaFNldHRpbmdzKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ck7DQogICAgICAgIHRoaXMucGFyc2VyU2VhcmNoU2V0dGluZ3MuZ2VucmVzID0gew0KICAgICAgICAgICAgbXVsdGlTZWxlY3RpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0246IGZhbHNlLA0KICAgICAgICAgICAgdmFsdWVzOiBbDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1Nob3VuZW4nKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnSGFyZW0nKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgnQ29tZWR5JyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ01hcnRpYWwgQXJ0cycsICdNYXJ0aWFsK0FydHMnKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU2Nob29sIExpZmUnLCAnU2Nob29sK0xpZmUnKSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTXlzdGVyeScpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTaG91am8nKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnUm9tYW5jZScpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVlKCdTY2ktZmknKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnR2VuZGVyIEJlbmRlcicsICdHZW5kZXIrQmVuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVyJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ01hdHVyZScpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FZhbHVlKCdGYW50YXN5JyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0hvcnJvcicpLA0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCdEcmFtYScpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdUcmFnZWR5JyksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1N1cGVybmF0dXJhbCcpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVlKCdFY2NoaScpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdYdWFuaHVhbicpLA0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBsYWJlbFZhbHVlKCdBZHZlbnR1cmUnKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnUHN5Y2hvbG9naWNhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CcpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdYaWFueGlhJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoJ1d1eGlhJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0hpc3RvcmljYWwnKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBuZXcgbGFiZWxWYWx1ZSgnU2xpY2Ugb2YgTGlmZScsICdTbGljZStvZitMaWZlJyksDQogICAgICAgICAgICAgICAgbmV3IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxhYmVsVmFsdWUoJ0xvbGljb24nKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnQWR1bHQnKSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBuZXcgbGFiZWxWYWx1ZSgnSm9zZWknKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU3BvcnRzJyksDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1NtdXQnKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WVjaGEnKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnWWFvaScpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FZhbHVlKCdTaG91bmVuIEFpJywgJ1Nob3VuZW4rQWknKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnS+G7syBUwMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU061jaCBWxrDGoW5nIFThu41hJywgJ0vhu7MrVMOtY2grVsawxqFuZytU4buNYScpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FZhbHVlKCdNVCcpLA0KICAgICAgICAgICAgXSwNCiAgICAgICAgfQ0KDQogICAgICAgIHRoaXMucGFyc2VyU2VhcmNoU2V0dGluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03Muc29ydFR5cGVzID0gew0KICAgICAgICAgICAgbXVsdGlTZWxlY3Rpb246IGZhbHNlLA0KICAgICAgICAgICAgdmFsdWVzOiBbDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0xhdGVzdCBSZWxlYXNlIE5vdmVsJywgJ2xhdGVzdC1yZWxlYXNlLW5vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0hvdCBOb3ZlbCcsICdob3Qtbm92ZWwnKSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBuZXcgbGFiZWxWYWx1ZSgnQ29tcGxldGVkIE5vdmVsJywgJ2NvbXBsZXRlZC1ub3ZlbCcpLA0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCdNb3N0IFBvcHVsYXInLCAnbW9zdC1wb3B1bGFyJyksDQogICAgICAgICAgICBdLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB9DQoNCg0KICAgICAgICB0aGlzLmNsZWFuZXIgPSBwbHVnaW5zLmZpbmQoeCA9PiB4Lm5hbWUgPT0gIkNsZWFuZXIiKTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB9DQoNCiAgICBQYXJzZXIucHJvdG90eXBlID0gew0KICAgICAgICBnZXRTZWN0aW9uczogZnVuY3Rpb24gKGtleXMpIHsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIHZhciBzZWN0aW9ucyA9IFsNCiAgICAgICAgICAgICAgICBuZXcgU2VjdGlvbigibGF0ZXN0IiwgIkxhdGVzdCBVcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GRhdGUiLCAiTGF0ZXN0IiwgdHJ1ZSksDQogICAgICAgICAgICAgICAgbmV3IFNlY3Rpb24oImhvdCIsICJIb3QgTm92ZWwiLCAiUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIodW5kZWZpbmVkLCAiaG90LW5vdmVsIikpLA0KICAgICAgICAgICAgICAgIG5ldyBTZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0aW9uKCJjb21wbGV0ZWQiLCAiQ29tcGxldGVkIE5vdmVsIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKHVuZGVmaW5lZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CwgImNvbXBsZXRlZC1ub3ZlbCIpKSwNCiAgICAgICAgICAgICAgICBuZXcgU2VjdGlvbigicG9wdWxhciIsICJNb3N0IFBvcHVsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIodW5kZWZpbmVkLCAibW9zdC1wb3B1bGFyIikpDQogICAgICAgICAgICBdDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QoNCiAgICAgICAgICAgIHJldHVybiBzZWN0aW9ucy5maWx0ZXIoeCA9PiAha2V5cyB8fCBrZXlzLmluY2x1ZGVzKHgubmFtZSkpOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICB9LA0KDQogICAgICAgIHRyYW5zbGF0ZVNlY3Rpb246IGFzeW5jIGZ1bmN0aW9uIChzZWN0aW9uLCBwYWdlKSB7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICBpZiAoc2VjdGlvbi5pZGVudGlmaWVyID09ICJMYXRlc3QiKQ0KICAgICAgICAgICAgICAgIHJldHVybiBhdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02FpdCB0aGlzLmxhdGVzdChwYWdlKTsNCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5zZWFyY2goc2VjdGlvbi5maWx0ZXIgfHwgdGhpcy5kZWZhdWx0RmlsdGVyKCksIHBhZ2UpOw0KICAgICAgICB9LA0KDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIGRlZmF1bHRGaWx0ZXI6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHJldHVybiBuZXcgRmlsdGVyKCk7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0H0sDQoNCiAgICAgICAgc2VhcmNoOiBhc3luYyBmdW5jdGlvbiAoZmlsdGVyLCBwYWdlKSB7DQogICAgICAgICAgICB2YXIgZ2VucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVVcmwgPSAiZ2VucmUve2d9P3BhZ2U9e3B9Ii51cmkodGhpcy51cmwpLnJlcGxhY2UoIntwfSIsIHBhZ2UudG9TdHJpbmcoKSk7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICB2YXIgc29ydFR5cGVVcmwgPSAie3N9P3BhZ2U9e3B9Ii51cmkodGhpcy51cmwpLnJlcGxhY2UoIntwfSIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HBhZ2UudG9TdHJpbmcoKSk7DQogICAgICAgICAgICB2YXIgcSA9IGZpbHRlci5nZW5yZXMubGVuZ3RoID4gMCA/IGdlbnJlVXJsLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nJlcGxhY2UoIntnfSIsIGZpbHRlci5nZW5yZXNbMF0pIDogKChmaWx0ZXIuc29ydFR5cGUgJiYgZmlsdGVyLnNvcnRUeXBlICE9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CcnID8gc29ydFR5cGVVcmwucmVwbGFjZSgie3N9IiwgZmlsdGVyLnNvcnRUeXBlKSA6IHVuZGVmaW5lZCkpOw0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgdmFyIHF1ZXJ5ID0gcSB8fCB0aGlzLnNlYXJjaFVybC5yZXBsYWNlKCd7cX0nLCBmaWx0ZXIudGl0bGUgfHwgIiIpLnJlcGxhYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02UoJ3twfScsIHBhZ2UudG9TdHJpbmcoKSk7DQogICAgICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5wYXJzZXIuanEoYXdhaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XQgdGhpcy5jbGVhbmVyLmdldENsaWVudCh0aGlzLmlkKS5nZXRIdG1sKHF1ZXJ5KSk7DQogICAgICAgICAgICB2YXIgcmVzdWx0IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0gW107DQogICAgICAgICAgICBjb250YWluZXIuZmluZCgnLmxpc3QtdHJ1eWVuIC5yb3cnKS5mb3JFYWNoKCh4KSA9PiB7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgaWYgKHguc2VsZWN0KCdpbWcnKS5hdHRyKCJzcmMiKS5oYXNWYWx1ZSgpKQ0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICByZXN1bHQucHVzaCgNCiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBMaWdodEl0ZW0obmV3IEltYWdlSGFuZGxlcih0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlzLnVybCwgeC5zZWxlY3QoJy50cnV5ZW4tdGl0bGUgYScpLmF0dHIoImhyZWYiKS51cmwoKSwgIi5ib29rIGltZyIpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICAgICAgIHguc2VsZWN0KCcudHJ1eWVuLXRpdGxlIGEnKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICAnJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4LnNlbGVjdCgnLnRydXllbi10aXRsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SBhJykuYXR0cigiaHJlZiIpLnVybCgpLCB0aGlzLm5hbWUNCiAgICAgICAgICAgICAgICAgICAgICAgICksDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICk7DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICAgICAgfSwNCg0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBnZXRDaGFwdGVyczogYXN5bmMgZnVuY3Rpb24gKG5vdmVsVXJsLCBodG1sQ29udGFpbmVyKSB7DQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB2YXIgY2hhcHRlcnMgPSBbXTsNCiAgICAgICAgICAgIHZhciB1cmwgPSAiaHR0cHM6Ly9ub3ZlbGZ1bGwuY29tL2FqYXgtY2hhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlci1vcHRpb24/bm92ZWxJZD17aWR9Ii5yZXBsYWNlKCJ7aWR9IiwNCiAgICAgICAgICAgICAgICBodG1sQ29udGFpbmVyLnNlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVjdCgiI3JhdGluZyIpLmF0dHIoImRhdGEtbm92ZWwtaWQiKS5oYXNWYWx1ZSgpID8NCiAgICAgICAgICAgICAgICAgICAgaHRtbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ENvbnRhaW5lci5zZWxlY3QoIiNyYXRpbmciKS5hdHRyKCJkYXRhLW5vdmVsLWlkIikudGV4dCgpIDoNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgaHRtbENvbnRhaW5lci5zZWxlY3QoIltkYXRhLW5vdmVsLWlkXSIpLmF0dHIoImRhdGEtbm92ZWwtaWQiKS50ZXh0KCkpOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KDQogICAgICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5wYXJzZXIuanEoYXdhaXQgdGhpcy5jbGVhbmVyLmdldENsaWVudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ch0aGlzLmlkKS5nZXRIdG1sKHVybCkpOw0KDQogICAgICAgICAgICBjb250YWluZXIuZmluZCgnb3B0aW9uJykuZm9yRWFjaChhIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0+IHsNCiAgICAgICAgICAgICAgICB2YXIgYVVybCA9IGEuYXR0cigidmFsdWUiKS51cmwoKTsNCiAgICAgICAgICAgICAgICB2YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIgdGl0bGUgPSBhLnRleHQoZmFsc2UpOw0KICAgICAgICAgICAgICAgIGlmICh1cmwgJiYgdXJsICE9PSAnJykgY2hhcHRlcnMucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVzaChuZXcgQ2hhcHRlcih0aXRsZSwgYVVybCkpOw0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIHJldHVybiBjaGFwdGVycMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0zsNCiAgICAgICAgfSwNCg0KICAgICAgICBnZXROb3ZlbDogYXN5bmMgZnVuY3Rpb24gKG5vdmVsVXJsKSB7DQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB2YXIgY29udGFpbmVyID0gdGhpcy5wYXJzZXIuanEoYXdhaXQgdGhpcy5jbGVhbmVyLmdldENsaWVudCh0aGlzLmlkKS5nZXRIdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G1sKG5vdmVsVXJsKSk7DQogICAgICAgICAgICB2YXIgY2hhcHRlcnMgPSBhd2FpdCB0aGlzLmdldENoYXB0ZXJzKG5vdmVsVXJsLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBjb250YWluZXIpOw0KICAgICAgICAgICAgdmFyIG5vdmVsUmV2aWV3cyA9IG5ldyBOb3ZlbFJldmlld3MoKTsNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHZhciBpbmZvcyA9IGNvbnRhaW5lci5maW5kKCIuaW5mbyA+IGRpdiIpOw0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLmdlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nJlcyA9IGluZm9zLmVxKDIpLmZpbmQoImEiKS5tYXAoeCA9PiB4LnRleHQoZmFsc2UpKTsNCiAgICAgICAgICAgIG5vdmVsUmV2aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WV3cy5hdXRob3IgPSBpbmZvcy5lcSgwKS5maW5kKCJhIikudGV4dChmYWxzZSk7DQogICAgICAgICAgICBub3ZlbFJldmlld3MudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XZvdGVzID0gY29udGFpbmVyLnNlbGVjdCgiLmNvbC1pbmZvLWRlc2MgPiAuZGVzYyA+IC5zbWFsbCBzdHJvbmc6Zmlyc3QtY2hpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GQgc3BhbiIpLnRleHQoZmFsc2UpICsgIiAvIDEwIjsNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cy5jb21wbGV0ZWQgPSBpbmZvcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5sYXN0KCkuc2VsZWN0KCJhIikudGV4dChmYWxzZSkgPT09ICJDb21wbGV0ZWQiID8gIlN0YXR1czpDb21wbGV0ZWQiIDogIlN0YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1czpPbmdvaW5nIjsNCg0KICAgICAgICAgICAgcmV0dXJuIG5ldyBEZXRhbGlJdGVtKA0KICAgICAgICAgICAgICAgIGNvbnRhaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5lci5zZWxlY3QoJy5ib29rIGltZycpLmF0dHIoInNyYyIpLnVybCgpLA0KICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03QoJy50aXRsZScpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoJy5kZXNjLXRleHQnKS5jbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVhbklubmVySFRNTCgpLA0KICAgICAgICAgICAgICAgIG5vdmVsVXJsLA0KICAgICAgICAgICAgICAgIGNoYXB0ZXJzLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIG5vdmVsUmV2aWV3cywNCiAgICAgICAgICAgICAgICB0aGlzLm5hbWUsDQogICAgICAgICAgICAgICAgdW5kZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WZpbmVkLA0KICAgICAgICAgICAgKTsNCiAgICAgICAgfSwNCg0KICAgICAgICBnZXRDaGFwdGVyOiBhc3luYyBmdW5jdGlvbiAodMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJsKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5jbGVhbmVyLmNsZWFuQ2hhcHRlcih0aGlzLnBhcnNlci5qcShhd2FpdCB0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwodXJsKSkuc2VsZWN0KCcjY2hhcHRlci1jb250ZW50JyksIHRoaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMubmFtZSk7DQogICAgICAgIH0sDQoNCiAgICAgICAgbGF0ZXN0OiBhc3luYyBmdW5jdGlvbiAocGFnZSkgew0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgdmFyIHVybCA9IHRoaXMubGF0ZXN0VXJsLnJlcGxhY2UoJ3twfScsIHBhZ2UudG9TdHJpbmcoKSk7DQogICAgICAgICAgICB2YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIgY29udGFpbmVyID0gdGhpcy5wYXJzZXIuanEoYXdhaXQgdGhpcy5jbGVhbmVyLmdldENsaWVudCh0aGlzLmlkKS5nZXRIdG1sKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybCkpOw0KICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICAgICAgY29udGFpbmVyLmZpbmQoJy5saXN0LXRydMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XllbiAucm93JykuZm9yRWFjaCgoeCkgPT4gew0KICAgICAgICAgICAgICAgIGlmICh4LnNlbGVjdCgnaW1nJykuYXR0cigic3JjIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ikuaGFzVmFsdWUoKSkNCiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goDQogICAgICAgICAgICAgICAgICAgICAgICBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgTGlnaHRJdGVtKA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBJbWFnZUhhbmRsZXIodGhpcy51cmwsIHguc2VsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0KCcudHJ1eWVuLXRpdGxlIGEnKS5hdHRyKCJocmVmIikudXJsKCksICIuYm9vayBpbWciKSwNCiAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICB4LnNlbGVjdCgnLnRydXllbi10aXRsZSBhJykudGV4dChmYWxzZSksDQogICAgICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgJycsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoJy50cnV5ZW4tdGl0bGUgYScpLmF0dHIoImhyZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WYiKS51cmwoKSwgdGhpcy5uYW1lDQogICAgICAgICAgICAgICAgICAgICAgICApKTsNCiAgICAgICAgICAgIH0pOw0KDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgICAgICB9DQogICAgfQ0KDQoNCg0KICAgIHJldHVybiBuZXcgUGFyc2VyKCk7DQoNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0n07&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KDQogICAgZnVuY3Rpb24gUGFyc2VyKCkgew0KDQogICAgICAgIHRoaXMuY2xlYW5lciA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HBsdWdpbnMuZmluZCh4ID0+IHgubmFtZSA9PSAiQ2xlYW5lciIpOw0KDQogICAgICAgIHRoaXMuaWQgPSAiMS5ub3ZlbGhhbGwiOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICB0aGlzLnBhcnNlckxhbmd1YWdlID0gImVuIjsNCiAgICAgICAgdGhpcy5uYW1lID0gJ05vdmVsSGFsbCc7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHRoaXMuZGlzcGxheU5hbWUgPSAiTm92ZWwtQ2hhbm5lbCINCiAgICAgICAgdGhpcy5kZXRhbGlJdGVtVHlwZSA9IERldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFsaUl0ZW1UeXBlLk5vdmVsOw0KICAgICAgICB0aGlzLmxhdGVzdFVybCA9ICdodHRwczovL3d3dy5ub3ZlbGhhbGwuY29tL2xhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03R1cGRhdGUte3B9Lmh0bWwnOw0KICAgICAgICB0aGlzLnVybCA9ICdodHRwczovL3d3dy5ub3ZlbGhhbGwuY29tLyc7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHRoaXMuc2VhcmNoVXJsID0gJ2h0dHBzOi8vd3d3Lm5vdmVsaGFsbC5jb20vaW5kZXgucGhwP3M9c28mbW9kdWxlPWJvb2smaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02V5d29yZD17cX0nOw0KICAgICAgICB0aGlzLnBhbmluYXRpb24gPSB0cnVlOw0KICAgICAgICB0aGlzLnNlYXJjaFBhZ2luYXRpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU024gPSB0cnVlOw0KICAgICAgICB0aGlzLmljb24gPSAnaHR0cHM6Ly93d3cubm92ZWxoYWxsLmNvbS9mYXZpY29uLmljbyc7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHRoaXMucGFyc2VyU2VhcmNoU2V0dGluZ3MgPSBuZXcgUGFyc2VyU2VhcmNoU2V0dGluZ3MoKTsNCiAgICAgICAgdGhpcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZXMgPSB7DQogICAgICAgICAgICBtdWx0aVNlbGVjdGlvbjogZmFsc2UsDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB2YWx1ZXM6IFsNCiAgICAgICAgICAgIF0sDQogICAgICAgIH07DQoNCg0KICAgICAgICB0aGlzLnBhcnNlclNlYXJjaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNldHRpbmdzLnNvcnRUeXBlcyA9IHsNCiAgICAgICAgICAgIG11bHRpU2VsZWN0aW9uOiBmYWxzZSwNCiAgICAgICAgICAgIHZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVlczogWw0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdDb21wbGV0ZWQnLCAnY29tcGxldGVkLXtwfS5odG1sJyksDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICBdLA0KICAgICAgICB9Ow0KICAgIH0NCg0KICAgIFBhcnNlci5wcm90b3R5cGUgPSB7DQoNCiAgICAgICAgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G9hZFNldHRpbmdzOiBhc3luYyBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIGlmICh0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlzLnBhcnNlclNlYXJjaFNldHRpbmdzLmdlbnJlcy52YWx1ZXMubGVuZ3RoIDw9IDApIHsNCiAgICAgICAgICAgICAgICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFyIGNvbnRhaW5lciA9IHRoaXMucGFyc2VyLmpxKGF3YWl0IHRoaXMuY2xlYW5lci5nZXRDbGllbnQodGhpcy5pZCkuZ2V0SHRtbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ch0aGlzLnVybCkpDQogICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5maW5kKCIuZHJvcGRvd24tbWVudSBhIikud2hlcmUoeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CA9PiB4LmF0dHIoImhyZWYiKS5hdHRWYWx1ZSgpLmluZGV4T2YoImdlbnJlIikgIT09IC0xKS5mb3JFYWNoKGEgPT4gew0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZXMudmFsdWVzLnB1c2gobmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoYS50ZXh0KGZhbHNlKSwgYS5hdHRyKCJocmVmIikudXJsKCkpKTsNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCk7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICB9DQogICAgICAgIH0sDQoNCg0KICAgICAgICBnZXRTZWN0aW9uczogZnVuY3Rpb24gKGtleXMpIHsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHZhciBzZWN0aW9ucyA9IFsNCiAgICAgICAgICAgICAgICBuZXcgU2VjdGlvbigibGF0ZXN0IiwgIkxhdGVzdCBVcGRhdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GUiLCAiTGF0ZXN0IiwgdHJ1ZSksDQogICAgICAgICAgICAgICAgbmV3IFNlY3Rpb24oImNvbXBsZXRlZCIsICJDb21wbGV0ZWQgTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m92ZWwiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIodW5kZWZpbmVkLCAnY29tcGxldGVkLXtwfS5odG1sJykpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgXQ0KICAgICAgICAgICAgcmV0dXJuIHNlY3Rpb25zLmZpbHRlcih4ID0+ICFrZXlzIHx8IGtleXMuaW5jbHVkZXMoeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5uYW1lKSk7DQogICAgICAgIH0sDQogICAgICAgIHRyYW5zbGF0ZVNlY3Rpb246IGFzeW5jIGZ1bmN0aW9uIChzZWN0aW9uLCBwYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WdlKSB7DQogICAgICAgICAgICBpZiAoc2VjdGlvbi5pZGVudGlmaWVyID09ICJMYXRlc3QiKSByZXR1cm4gYXdhaXQgdGhpcy5sYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRlc3QocGFnZSk7DQogICAgICAgICAgICBlbHNlIHJldHVybiBhd2FpdCB0aGlzLnNlYXJjaChzZWN0aW9uLmZpbHRlciB8fCB0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlzLmRlZmF1bHRGaWx0ZXIoKSwgcGFnZSk7DQogICAgICAgIH0sDQogICAgICAgIGRlZmF1bHRGaWx0ZXI6IGZ1bmN0aW9uICgpIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HsNCiAgICAgICAgICAgIHZhciBmaWx0ZXIgPSBuZXcgRmlsdGVyKCk7DQogICAgICAgICAgICByZXR1cm4gZmlsdGVyOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB9LA0KDQogICAgICAgIGdldEdlbnJlczogYXN5bmMgZnVuY3Rpb24gKGZpbHRlcikgew0KICAgICAgICAgICAgdmFyIHVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CA9IGZpbHRlci5nZW5yZXNbMF07DQogICAgICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5wYXJzZXIuanEoYXdhaXQgdGhpcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5jbGVhbmVyLmdldENsaWVudCh0aGlzLmlkKS5nZXRIdG1sKHVybCkpOw0KICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5lci5maMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5kKCcuYm9vay1pbmZvJykubWFwKCh4KSA9PiB7DQogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBMaWdodEl0ZW0oeC5jbG9zZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XN0KCJsaSIpLnNlbGVjdCgiLmJvb2staW1nIGltZyIpLmF0dHIoInNyYyIpLnVybCgpLA0KICAgICAgICAgICAgICAgICAgICB4LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlbGVjdCgnYScpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgICAgICAgICAnJywNCiAgICAgICAgICAgICAgICAgICAgeC5zZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxlY3QoJ2EnKS5hdHRyKCJocmVmIikudXJsKCksDQogICAgICAgICAgICAgICAgICAgIHRoaXMubmFtZQ0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCg0KICAgICAgICBzZWFyY2g6IGFzeW5jIGZ1bmN0aW9uIChmaWx0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIsIHBhZ2UpIHsNCg0KICAgICAgICAgICAgaWYgKGZpbHRlci5nZW5yZXMgJiYgZmlsdGVyLmdlbnJlcy5sZW5ndGggPiAwKSB7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0R2VucmVzKGZpbHRlcik7DQogICAgICAgICAgICB9DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB2YXIgdXJsID0gdGhpcy5zZWFyY2hVcmw7DQogICAgICAgICAgICBpZiAoZmlsdGVyLnNvcnRUeXBlICYmIGZpbHRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5zb3J0VHlwZS5sZW5ndGggPiAwKQ0KICAgICAgICAgICAgICAgIHVybCA9IGZpbHRlci5zb3J0VHlwZS51cmkodGhpcy51cmwpOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KDQogICAgICAgICAgICB2YXIgdXJsID0gdXJsLnJlcGxhY2UoIntxfSIsIGZpbHRlci50aXRsZSB8fCAiIikucmVwbGFjZSgieMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03B9IiwgcGFnZSk7DQogICAgICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5wYXJzZXIuanEoYXdhaXQgdGhpcy5jbGVhbmVyLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mdldENsaWVudCh0aGlzLmlkKS5nZXRIdG1sKHVybCkpOw0KICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgY29udGFpbmVyLmZpbmQoJy5jb250YWluZXIgdGFibGUgdHInKS5mb3JFYWNoKCh4KSA9PiB7DQogICAgICAgICAgICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFyIGEgPSB4LmZpbmQoInRkIikuZXEoMCkuc2VsZWN0KCJhIikuYXR0cigiaHJlZiIpLnRleHQoKS5pbmRleE9mKCJnZW5yZSIpIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D09PSAtMSA/IHguZmluZCgidGQiKS5lcSgwKS5zZWxlY3QoImEiKSA6IHguZmluZCgidGQiKS5lcSgxKS5zZWxlY3QoImEiKTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZXcgTGlnaHRJdGVtKG5ldyBJbWFnZUhhbmRsZXIodGhpcy51cmwsIGEuYXR0cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0igiaHJlZiIpLnVybCgpLCAiLmJvb2staW1nIGltZyIpLCBhLnRleHQoZmFsc2UpLCAnJywgYS5hdHRyKCJocmVmIikudXJsKCksIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRoaXMubmFtZSkpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgICAgICB9LA0KDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIGdldE5vdmVsOiBhc3luYyBmdW5jdGlvbiAobm92ZWxVcmwpIHsNCiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSB0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlzLnBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwobm92ZWxVcmwpKTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIHZhciBjaGFwdGVycyA9IGNvbnRhaW5lci5maW5kKCIjbW9yZWxpc3QgbGkgYSIpLm1hcCh4ID0+IG5ldyBDaGFwdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVyKHgudGV4dChmYWxzZSksIHguYXR0cigiaHJlZiIpLnVybCgpKSk7DQogICAgICAgICAgICB2YXIgaXRlbSA9IG5ldyBOb3ZlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FJldmlld3MoKTsNCg0KICAgICAgICAgICAgaXRlbS5nZW5yZXMgPSBjb250YWluZXIuZmluZCgiLmJvb2staW5mbyAucmVkIikudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GV4dEFycmF5KCk7DQogICAgICAgICAgICBpdGVtLmF1dGhvciA9IGNvbnRhaW5lci5maW5kKCIuYm9vay1pbmZvIC5ibHVlIikudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02hlcmUoeCA9PiB4LmlubmVySFRNTCgpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZigiYXV0aG9yIikgIT0gLTEpLmVxKDApLnJlbW92ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgicCIpLnRleHQoZmFsc2UpLnJlcGxhY2UoL2F1dGhvcjovZ2ksICIiKTsNCiAgICAgICAgICAgIGl0ZW0uY29tcGxldGVkID0gYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029udGFpbmVyLmZpbmQoIi5ib29rLWluZm8gLmJsdWUiKS53aGVyZSh4ID0+IHguaW5uZXJIVE1MKCkudG9Mb3dlckNhc2UoKS5pbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mRleE9mKCJzdGF0dXMiKSAhPSAtMSkudGV4dChmYWxzZSkucmVwbGFjZSgvc3RhdHVzOi9naSwgIiIpOw0KICAgICAgICAgICAgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuIG5ldyBEZXRhbGlJdGVtKGNvbnRhaW5lci5zZWxlY3QoJy5ib29rLWltZyBpbWcnKS5hdHRyKCJzcmMiKS51cmwoKQ0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICwgY29udGFpbmVyLnNlbGVjdCgnLmJvb2staW5mbyBoMScpLnRleHQoZmFsc2UpLA0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIGNvbnRhaW5lci5maW5kKCcuaW50cm8gPiBzcGFuJykucmVtb3ZlKCIuYmx1ZSIpLmxhc3QoKS5jbGVhbklubmVySFRNTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CgpLA0KICAgICAgICAgICAgICAgIG5vdmVsVXJsLA0KICAgICAgICAgICAgICAgIGNoYXB0ZXJzLA0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Gl0ZW0sDQogICAgICAgICAgICAgICAgdGhpcy5uYW1lLA0KICAgICAgICAgICAgICAgIHVuZGVmaW5lZCk7DQogICAgICAgIH0sDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIGdldENoYXB0ZXI6IGFzeW5jIGZ1bmN0aW9uICh1cmwpIHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLmNsZWFuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIuY2xlYW5DaGFwdGVyKHRoaXMucGFyc2VyLmpxKGF3YWl0IHRoaXMuY2xlYW5lci5nZXRDbGllbnQodGhpcy5pZCkuZ2V0SHRtbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ch1cmwpKS5zZWxlY3QoJy5lbnRyeS1jb250ZW50JyksIHRoaXMubmFtZSk7DQogICAgICAgIH0sDQogICAgICAgIGxhdGVzdDogYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XN5bmMgZnVuY3Rpb24gKHBhZ2UpIHsNCiAgICAgICAgICAgIHZhciB1cmwgPSB0aGlzLmxhdGVzdFVybC5yZXBsYWNlKCd7cH0nLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBwYWdlLnRvU3RyaW5nKCkpOw0KICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMucGFyc2VyLmpxKGF3YWl0IHRoaXMuYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02xlYW5lci5nZXRDbGllbnQodGhpcy5pZCkuZ2V0SHRtbCh1cmwpKTsNCiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIHZhciByZXN1bHQgPSBbXTsNCiAgICAgICAgICAgIGNvbnRhaW5lci5maW5kKCcuY29udGFpbmVyIHRhYmxlIHRyJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ykuZm9yRWFjaCgoeCkgPT4gew0KICAgICAgICAgICAgICAgIHZhciBhID0geC5maW5kKCJ0ZCIpLmVxKDEpLnNlbGVjdCgiYSIpOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBMaWdodEl0ZW0obmV3IEltYWdlSGFuZGxlcih0aGlzLnVybCwgYS5hdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRyKCJocmVmIikudXJsKCksICIuYm9vay1pbWcgaW1nIiksIGEudGV4dChmYWxzZSksICcnLCBhLmF0dHIoImhyZWYiKS51cmwoKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwgdGhpcy5uYW1lKSk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgICAgIH0NCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB9DQoNCg0KICAgIHJldHVybiBuZXcgUGFyc2VyKCk7DQp9Ow==&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KICAgIGZ1bmN0aW9uIFBhcnNlcigpIHsNCiAgICAgICAgdGhpcy5yb290ID0gImh0dHBzOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i8vd3d3Lm5vdmVsdXBkYXRlcy5jb20iOw0KICAgICAgICB0aGlzLmNsZWFuZXIgPSBwbHVnaW5zLmZpbmQoeCA9PiB4Lm5hbWUgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0T0gIkNsZWFuZXIiKTsNCiAgICAgICAgdGhpcy5jbGllbnROYW1lID0iaW5mb3JtYXRpb24iOw0KICAgIH0NCg0KICAgIFBhcnNlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5wcm90b3R5cGUgPSB7DQogICAgICAgIHNlYXJjaDogYXN5bmMgZnVuY3Rpb24gKG5hbWUpIHsNCiAgICAgICAgICAgIHRyeSB7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgaWYgKCFuYW1lKQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgdmFyIGh0bWwgPSBhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuY2xpZW50TmFtZSkucG9zdEZvcm0oIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mh0dHBzOi8vd3d3Lm5vdmVsdXBkYXRlcy5jb20vd3AtYWRtaW4vYWRtaW4tYWpheC5waHAiLCB7IGFjdGlvbjogIm5kX2FqYXhzZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFyY2htYWluIiwgc3RyVHlwZTogImRlc2t0b3AiLCBzdHJPbmU6IG5hbWUsIHN0clNlYXJjaFR5cGU6ICJzZXJpZXMiIH0pOw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgIHZhciBjb250YWluZXIgPSBwYXJzZUh0bWwoaHRtbCwgdGhpcy5yb290KS5maW5kKCJhIik7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5lci53aGVyZSh4ID0+IG5hbWUudHJpbSgpLmxlbmd0aCA+PSAoeC5zZWxlY3QoIi5zZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFyY2hfaGwiKS5oYXNFbGVtZW50KCkgPyB4LnNlbGVjdCgiLnNlYXJjaF9obCIpIDogeC5zZWxlY3QoInNwYW4iKSkudGV4dChmYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxzZSkudHJpbSgpLmxlbmd0aCAmJiAoKHguc2VsZWN0KCIuc2VhcmNoX2hsIikuaGFzRWxlbWVudCgpID8geC5zZWxlY3QoIi5zZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFyY2hfaGwiKSA6IHguc2VsZWN0KCJzcGFuIikpLnRleHQoZmFsc2UpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihuYW1lLnRvTG93ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJDYXNlKCkpICE9IC0xKSkuYXR0cigiaHJlZiIpLnVybCgpOw0KICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikNCiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkOw0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgfQ0KICAgICAgICB9LA0KICAgICAgICBnZXRCeUF1dGhvcjogYXN5bmMgZnVuY3Rpb24gKHVybCkgew0KICAgICAgICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFyIGNvbnRhaW5lciA9IHBhcnNlSHRtbCgoYXdhaXQgdGhpcy5jbGVhbmVyLmdldENsaWVudCh0aGlzLmNsaWVudE5hbWUpLmdldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Eh0bWwodXJsKSksIHRoaXMucm9vdCk7DQogICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgICAgICBjb250YWluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIuZmluZCgiLnNlYXJjaF9tYWluX2JveF9udSIpLmZvckVhY2goeCA9PiB7DQogICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgICAgIG5ldyBMaWdodEl0ZW0oeC5zZWxlY3QoIi5zZWFyY2hfaW1nX251IGltZyIpLmF0dHIoInNyYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yIpLnVybCgpLCB4LnNlbGVjdCgiLnNlYXJjaF90aXRsZSBhIikudGV4dChmYWxzZSksICIiLCB4LnNlbGVjdCgiLnNlYXJjaF90aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRsZSBhIikuYXR0cigiaHJlZiIpLnVybCgpLCAiIikNCiAgICAgICAgICAgICAgICApDQogICAgICAgICAgICB9KTsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHJldHVybiByZXN1bHQ7DQogICAgICAgIH0sDQoNCiAgICAgICAgZ2V0RGV0YWxpSXRlbTogYXN5bmMgZnVuY3Rpb24gKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5vdmVsTmFtZSkgew0KICAgICAgICAgICAgdmFyIHVybCA9IGF3YWl0IHRoaXMuc2VhcmNoKG5vdmVsTmFtZSk7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBpZiAoIXVybCkNCiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkOw0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICB2YXIgY29udGFpbmVyID0gcGFyc2VIdG1sKGF3YWl0IHRoaXMuY2xlYW5lci5nZXRDbGllbnQodGhpcy5jbGllbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nROYW1lKS5nZXRIdG1sKHVybCksIHRoaXMucm9vdCk7DQogICAgICAgICAgICAgICAgdmFyIHRpdGVtID0gbmV3IE5vdmVsUmV2aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WV3cygpOw0KDQogICAgICAgICAgICAgICAgdGl0ZW0uZ2VucmVzID0gY29udGFpbmVyLmZpbmQoIiNzZXJpZXNnZW5yZSBhIikudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GV4dEFycmF5KCk7DQogICAgICAgICAgICAgICAgdGl0ZW0uZGVzY3JpcHRpb24gPSBjb250YWluZXIuc2VsZWN0KCIjZWRpdGRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02NyaXB0aW9uIikudGV4dCh0cnVlKTsNCiAgICAgICAgICAgICAgICB0aXRlbS51dm90ZXMgPSBjb250YWluZXIuc2VsZWN0KCIudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XZvdGVzIikudGV4dChmYWxzZSk7DQogICAgICAgICAgICAgICAgdGl0ZW0uYWx0ZXJuYXRpdmVOYW1lcyA9IGNvbnRhaW5lci5zZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxlY3QoIiNlZGl0YXNzb2NpYXRlZCIpLnRleHQoZmFsc2UpLnJlcGxhY2UoLzxicj4vLCAiLCIpOw0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRpdGVtLmF1dGhvciA9IGNvbnRhaW5lci5maW5kKCJkaXYjc2hvd2F1dGhvcnMgPiBhIikudGV4dChmYWxzZSk7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgdGl0ZW0ubGFuZyA9IGNvbnRhaW5lci5zZWxlY3QoIiNzaG93bGFuZyA+IGEiKS50ZXh0KGZhbHNlKQ0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIHRpdGVtLmNvbXBsZXRlZCA9IGNvbnRhaW5lci5zZWxlY3QoIiNzaG93dHJhbnNsYXRlZCA+IGEiKS50ZXh0KGZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HNlKSA9PT0gIlllcyIgPyAiU3RhdHVzOiBDb21wbGV0ZWQiIDogIlN0YXR1czogT25nb2luZyI7DQogICAgICAgICAgICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Gl0ZW0uYXV0aG9yVXJsID0gY29udGFpbmVyLnNlbGVjdCgiZGl2I3Nob3dhdXRob3JzID4gYSIpLmF0dHIoImhyZWYiKS50ZXh0KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GZhbHNlKTsNCiAgICAgICAgICAgICAgICB0aXRlbS5yZWN1bW1lbmRhdGlvbnMgPSBjb250YWluZXIuZmluZCgiLndwYl93cmFwcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVyIC5nZW5yZSIpLndoZXJlKHggPT4gKHguYXR0cigidGl0bGUiKS50ZXh0KGZhbHNlKSkuaW5kZXhPZigiUmVjb21tZW5kZWQiKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SA+IC0xKS5tYXAoeCA9PiB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTGlnaHRJdGVtKGFzeW5jICgpID0+IHsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICAgICAgICAgIHZhciBodG1sID0gcGFyc2VIdG1sKChhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRoaXMuY2xpZW50TmFtZSkuZ2V0SHRtbCh4LmF0dHIoImhyZWYiKS50ZXh0KGZhbHNlKS51cmkodGhpcy5yb290KSwgdHJ1ZSkpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB0aGlzLnJvb3QpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGh0bWwuc2VsZWN0KCIuc2VyaWVzaW1nIGltZyIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mF0dHIoInNyYyIpLnRleHQoZmFsc2UpLnVyaSh0aGlzLnJvb3QpOw0KICAgICAgICAgICAgICAgICAgICB9LCB4LnRleHQoZmFscMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02UpLCAiIiwgeC5hdHRyKCJocmVmIikudGV4dCgpLnVyaSh0aGlzLnJvb3QpLCAiIikNCiAgICAgICAgICAgICAgICB9KTsNCg0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgIGlmICghdGl0ZW0uZ2VucmVzIHx8IHRpdGVtLmdlbnJlcy5sZW5ndGggPD0gMCkNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDsNCiAgICAgICAgICAgICAgICB0aXRlbS51cmwgPSB1cmw7DQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgcmV0dXJuIHRpdGVtOw0KICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yhlcnJvcikNCiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Q0KDQogICAgcmV0dXJuIG5ldyBQYXJzZXIoKTsNCn0=&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KICAgIGZ1bmN0aW9uIFBhcnNlcigpIHsNCiAgICAgICAgdGhpcy5jbGVhbmVyID0gcGx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02lucy5maW5kKHggPT4geC5uYW1lID09ICJDbGVhbmVyIik7DQogICAgICAgIHRoaXMuaWQgPSAiMS5ub3ZlbG9ubGluZWZ1bGwiOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICB0aGlzLmRldGFsaUl0ZW1UeXBlID0gRGV0YWxpSXRlbVR5cGUuTm92ZWw7DQogICAgICAgIHRoaXMucGFyc2VyTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFuZ3VhZ2UgPSAiZW4iOw0KICAgICAgICB0aGlzLm5hbWUgPSAnTm92ZWxPbmxpbmVGdWxsJzsNCiAgICAgICAgdGhpcy5kaXNwbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF5TmFtZSA9ICJOb3ZlbC1PbmxpbmUiDQogICAgICAgIHRoaXMubGF0ZXN0VXJsID0gJ2h0dHBzOi8vbm92ZWxvbmxpbmVmdWxsLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mNvbS9ub3ZlbF9saXN0P3R5cGU9bGF0ZXN0JmNhdGVnb3J5PWFsbCZzdGF0ZT1hbGwmcGFnZT17cH0nOw0KICAgICAgICB0aGlzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nVybCA9ICdodHRwczovL25vdmVsb25saW5lZnVsbC5jb20vJzsNCiAgICAgICAgdGhpcy5zZWFyY2hVcmwgPSAnaHR0cHM6Ly9ubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03ZlbG9ubGluZWZ1bGwuY29tL3NlYXJjaF9ub3ZlbHMve3F9P3BhZ2U9e3B9JzsNCiAgICAgICAgdGhpcy5wYW5pbmF0aW9uID0gdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJ1ZTsNCiAgICAgICAgdGhpcy5zZWFyY2hQYWdpbmF0aW9uID0gZmFsc2U7DQogICAgICAgIHRoaXMuaWNvbiA9ICdodHRwczovLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU025vdmVsb25saW5lZnVsbC5jb20vdGhlbWVzL2hvbWUvaW1hZ2VzL2Zhdmljb24ucG5nJzsNCiAgICAgICAgdGhpcy5wYXJzZXJTZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFyY2hTZXR0aW5ncyA9IG5ldyBQYXJzZXJTZWFyY2hTZXR0aW5ncygpOw0KICAgICAgICB0aGlzLnBhcnNlclNlYXJjaFNldHRpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mdzLm11bHRpU2VsZWN0aW9uID0gdHJ1ZTsNCiAgICAgICAgdGhpcy5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZXMgPSB7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBtdWx0aVNlbGVjdGlvbjogZmFsc2UsDQogICAgICAgICAgICB2YWx1ZXM6IFsNCiAgICAgICAgICAgICAgICBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgbGFiZWxWYWx1ZSgiQWxsIiwgImFsbCIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJDaGluZXNlIiwgMyksDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkVuZ2xpc2giLCA2KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZSgiS29yZWFuIiwgMTMpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJPcmlnaW5hbCIsIDE5KSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQWN0aW9uIiwgMSksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkFkdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVudHVyZSIsIDIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJDb21lZHkiLCA0KSwNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBuZXcgbGFiZWxWYWx1ZSgiRHJhbWEiLCA1KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiRmFudGFzeSIsIDcpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJHZW5kZXIgQmVuZGVyIiwgOCksDQogICAgICAgICAgICAgICAgbmV3IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxhYmVsVmFsdWUoIkhhcmVtIiwgOSksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkhpc3RvcmljYWwiLCAxMCksDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkhvcnJvciIsIDExKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZSgiSm9zZWkiLCAxMiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkxvbGljb24iLCAxNCksDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbmV3IGxhYmVsVmFsdWUoIk1hcnRpYWwgQXJ0cyIsIDE1KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgiTWF0dXJlIiwgMTYpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJNZWNoYSIsIDE3KSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBuZXcgbGFiZWxWYWx1ZSgiTXlzdGVyeSIsIDE4KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiUHN5Y2hvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G9naWNhbCIsIDIwKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiUmVpbmNhcm5hdGlvbiIsIDIxKSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiUm9tYW5jZSIsIDIyKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02Nob29sIExpZmUiLCAyMyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNjaS1maSIsIDI0KSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2VpbmVuIiwgMjUpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTaG90YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WNvbiIsIDI2KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2hvdWpvIiwgMjcpLA0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBsYWJlbFZhbHVlKCJTaG91am8gQWkiLCAyOCksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNob3VuZW4iLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAyOSksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNob3VuZW4gQWkiLCAzMCksDQogICAgICAgICAgICAgICAgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV3IGxhYmVsVmFsdWUoIlNsaWNlIG9mIExpZmUiLCAzMSksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNtdXQiLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAzMiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNwb3J0cyIsIDMzKSwNCiAgICAgICAgICAgICAgICBuZXcgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFiZWxWYWx1ZSgiU3VwZXJuYXR1cmFsIiwgMzQpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJUcmFnZWR5IiwgMMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0zUpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJWaXJ0dWFsIFJlYWxpdHkiLCAzNiksDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbmV3IGxhYmVsVmFsdWUoIld1eGlhIiwgMzcpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJYaWFueGlhIiwgMMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0zgpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJYdWFuaHVhbiIsIDM5KSwNCiAgICAgICAgICAgICAgICBuZXcgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFiZWxWYWx1ZSgiQXJ0cyIsIDQwKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQmlvZ3JhcGhpZXMiLCA0MSksDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkJ1c2luZXNzIiwgNDIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FZhbHVlKCJDb21wdXRlcnMiLCA0MyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkVkdWNhdGlvbiIsIDQ2KSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiRW50ZXJ0YWlubWVudCIsIDQ3KSwNCiAgICAgICAgICAgICAgICBuZXcgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFiZWxWYWx1ZSgiRmljdGlvbiIsIDQ4KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiSHVtb3IiLCA1MSksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkludmVzdGluZyIsIDUyKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZSgiTGl0ZXJhdHVyZSIsIDUzKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTWVtb2lycyIsIDU0KQ0KDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBdDQogICAgICAgIH0NCg0KICAgICAgICB0aGlzLnBhcnNlclNlYXJjaFNldHRpbmdzLnNvcnRUeXBlcyA9IHsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIG11bHRpU2VsZWN0aW9uOiBmYWxzZSwNCiAgICAgICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBsYWJlbFZhbHVlKCdMYXRlc3QnLCAnbGF0ZXN0JyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ05ld2VzdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CcsICduZXdlc3QnKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnVG9wIHZpZXcnLCAndG9wdmlldycpDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBdLA0KICAgICAgICB9Ow0KICAgIH0NCg0KICAgIFBhcnNlci5wcm90b3R5cGUgPSB7DQogICAgICAgIGdldFNlY3RpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU025zOiBmdW5jdGlvbiAoa2V5cykgew0KICAgICAgICAgICAgdmFyIHNlY3Rpb25zID0gWw0KICAgICAgICAgICAgICAgIG5ldyBTZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0aW9uKCJsYXRlc3QiLCAiTGF0ZXN0IFVwZGF0ZSIsICJMYXRlc3QiLCB0cnVlKSwNCiAgICAgICAgICAgICAgICBuZXcgU2VjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlvbigibmV3ZXN0IiwgIk5ld2VzdCBOb3ZlbCIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsICJuZXdlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03QiKSksDQogICAgICAgICAgICAgICAgbmV3IFNlY3Rpb24oInRvcCIsICJUb3AgdmlldyIsICJTZWFyY2giLCBmYWxzZSwgbmV3IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlcih1bmRlZmluZWQsICJ0b3B2aWV3IikpDQogICAgICAgICAgICBdDQoNCiAgICAgICAgICAgIHJldHVybiBzZWN0aW9ucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5maWx0ZXIoeCA9PiAha2V5cyB8fCBrZXlzLmluY2x1ZGVzKHgubmFtZSkpOw0KICAgICAgICB9LA0KDQogICAgICAgIHRyYW5zbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF0ZVNlY3Rpb246IGFzeW5jIGZ1bmN0aW9uIChzZWN0aW9uLCBwYWdlKSB7DQogICAgICAgICAgICBpZiAoc2VjdGlvbi5pZGVudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlmaWVyID09ICJMYXRlc3QiKQ0KICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmxhdGVzdChwYWdlKTsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5zZWFyY2goc2VjdGlvbi5maWx0ZXIgfHwgdGhpcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5kZWZhdWx0RmlsdGVyKCksIHBhZ2UpOw0KICAgICAgICB9LA0KDQogICAgICAgIGRlZmF1bHRGaWx0ZXI6IGZ1bmN0aW9uICgpIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HsNCiAgICAgICAgICAgIHJldHVybiBuZXcgRmlsdGVyKFsiYWxsIl0sICJ0b3B2aWV3Iik7DQogICAgICAgIH0sDQoNCg0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBzZWFyY2g6IGFzeW5jIGZ1bmN0aW9uIChmaWx0ZXIsIHBhZ2UpIHsNCiAgICAgICAgICAgIHZhciBzb3J0VHlwZVVyaSA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJodHRwczovL25vdmVsb25saW5lZnVsbC5jb20vbm92ZWxfbGlzdD90eXBlPXtzfSZjYXRlZ29yeT17Z30mc3RhdGU9YWxsJnBhZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02U9e3B9Ig0KICAgICAgICAgICAgdmFyIHNvcnRUeXBlVXJsID0gc29ydFR5cGVVcmkucmVwbGFjZSgie3N9IiwgZmlsdGVyLnNvcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRUeXBlKS5yZXBsYWNlKCJ7cH0iLCBwYWdlLnRvU3RyaW5nKCkpLnJlcGxhY2UoIntnfSIsIGZpbHRlci5nZW5yZXMubGVuZ3RoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D4gMCA/IGZpbHRlci5nZW5yZXNbMF0gOiAiYWxsIik7DQoNCiAgICAgICAgICAgIHZhciB1cmwgPSAoIWZpbHRlci50aXRsZSB8fMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBmaWx0ZXIudGl0bGUgPT0gIiIpICYmIGZpbHRlci5zb3J0VHlwZSAmJiBmaWx0ZXIuc29ydFR5cGUgIT0gJycgPyBzb3J0VHlwZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0VVybCA6IHRoaXMuc2VhcmNoVXJsLnJlcGxhY2UoJ3txfScsIChmaWx0ZXIudGl0bGUgfHwgIiIpLnJlcGxhY2UoL1sgXS8sICJfIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ikpOw0KDQogICAgICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5wYXJzZXIuanEoYXdhaXQgdGhpcy5jbGVhbmVyLmdldENsaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WVudCh0aGlzLmlkKS5nZXRIdG1sKHVybCkpOw0KICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICAgICAgY29udMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFpbmVyLmZpbmQoIi51cGRhdGVfaXRlbSwgLml0ZW11cGRhdGUiKS5mb3JFYWNoKHggPT4gew0KICAgICAgICAgICAgICAgIHJlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03VsdC5wdXNoKG5ldyBMaWdodEl0ZW0oeC5zZWxlY3QoImltZyIpLmF0dHIoInNyYyIpLnVybCgpLA0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB4LnNlbGVjdCgiaW1nIikuYXR0cigiYWx0IHwgdGl0bGUiKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iIsDQogICAgICAgICAgICAgICAgICAgIHguc2VsZWN0KCJhIikuYXR0cigiaHJlZiIpLnVybCgpLA0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB0aGlzLm5hbWUpKTsNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICByZXR1cm4gcmVzdWx0Ow0KDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0H0sDQoNCiAgICAgICAgZ2V0Tm92ZWw6IGFzeW5jIGZ1bmN0aW9uIChub3ZlbFVybCkgew0KICAgICAgICAgICAgdmFyIGNvbnRhaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5lciA9IHRoaXMucGFyc2VyLmpxKGF3YWl0IHRoaXMuY2xlYW5lci5nZXRDbGllbnQodGhpcy5pZCkuZ2V0SHRtbChub3ZlbFVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CkpOw0KICAgICAgICAgICAgdmFyIGNoYXB0ZXJzID0gY29udGFpbmVyLmZpbmQoIi5jaGFwdGVyLWxpc3QgLnJvdyBhIikubWFwKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HggPT4gbmV3IENoYXB0ZXIoeC50ZXh0KGZhbHNlKSwgeC5hdHRyKCJocmVmIikudXJsKCkpKTsNCiAgICAgICAgICAgIHZhciBubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03ZlbFJldmlld3MgPSBuZXcgTm92ZWxSZXZpZXdzKCk7DQogICAgICAgICAgICB2YXIgaW5mb3MgPSBjb250YWluZXIuZmluZCgiLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRydXllbl9pbmZvX3JpZ2h0IGxpIikNCg0KDQogICAgICAgICAgICBub3ZlbFJldmlld3MuZ2VucmVzID0gaW5mb3MuZXEoMikuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mluZCgiYSIpLnRleHRBcnJheSgpOw0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLmF1dGhvciA9IGluZm9zLmVxKDEpLmZpbmQoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mEiKS50ZXh0KCk7DQogICAgICAgICAgICBub3ZlbFJldmlld3MudXZvdGVzID0gaW5mb3MuZXEoNikudGV4dChmYWxzZSk7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBub3ZlbFJldmlld3MuZGVzY3JpcHRpb24gPSBpbmZvcy5zZWxlY3QoIiNub2lkdW5nbSIpLnRleHQoZmFsc2UpOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLmNvbXBsZXRlZCA9IGluZm9zLmVxKDMpLnNlbGVjdCgiYSIpLnRleHQoZmFsc2UpIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D09PSAiQ29tcGxldGVkIiA/ICJTdGF0dXM6Q29tcGxldGVkIiA6ICJTdGF0dXM6T25nb2luZyI7DQoNCiAgICAgICAgICAgIHJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybiBuZXcgRGV0YWxpSXRlbSgNCiAgICAgICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCIuaW5mb19pbWFnZSBpbWciKS5hdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRyKCJzcmMiKS51cmwoKSwNCiAgICAgICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCcudHJ1eWVuX2luZm9fcmlnaHQgaDEnKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCcjbm9pZHVuZ20nKS5jbGVhbklubmVySFRNTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CgpLA0KICAgICAgICAgICAgICAgIG5vdmVsVXJsLA0KICAgICAgICAgICAgICAgIGNoYXB0ZXJzLnJldmVyc2UoKSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBub3ZlbFJldmlld3MsDQogICAgICAgICAgICAgICAgdGhpcy5uYW1lLA0KICAgICAgICAgICAgICAgIHVuZGVmaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5lZCwNCiAgICAgICAgICAgICk7DQogICAgICAgIH0sDQoNCg0KICAgICAgICBnZXRDaGFwdGVyOiBhc3luYyBmdW5jdGlvbiAodMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJsKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5jbGVhbmVyLmNsZWFuQ2hhcHRlcih0aGlzLnBhcnNlci5qcShhd2FpdCB0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwodXJsKSkuc2VsZWN0KCIudnVuZ19kb2MiKSwgdGhpcy5uYW1lKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TsNCiAgICAgICAgfSwNCg0KICAgICAgICBsYXRlc3Q6IGFzeW5jIGZ1bmN0aW9uIChwYWdlKSB7DQogICAgICAgICAgICB2YXIgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJsID0gdGhpcy5sYXRlc3RVcmwucmVwbGFjZSgie3B9IiwgcGFnZS50b1N0cmluZygpKTsNCiAgICAgICAgICAgIHZhciBjb250YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WluZXIgPSB0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwodXJsKSk7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgICAgICBjb250YWluZXIuZmluZCgiLnVwZGF0ZV9pdGVtIikuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m9yRWFjaCh4ID0+IHsNCiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZXcgTGlnaHRJdGVtKHguc2VsZWN0KCJpbWciKS5hdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRyKCJzcmMiKS51cmwoKSwNCiAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoImltZyIpLmF0dHIoInRpdGxlIikudGV4dChmYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxzZSksDQogICAgICAgICAgICAgICAgICAgICIiLA0KICAgICAgICAgICAgICAgICAgICB4LnNlbGVjdCgiYSIpLmF0dHIoImhyZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WYiKS51cmwoKSwNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5uYW1lKSk7DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgcmV0dXJuIHJlc3VsdDsNCiAgICAgICAgfQ0KICAgIH0NCiAgICByZXR1cm4gbmV3IFBhcnNlcigpOw0KfQ==&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KDQoNCiAgICBmdW5jdGlvbiBQYXJzZXIoKSB7DQogICAgICAgIHRoaXMuY2xlYW5lciA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HBsdWdpbnMuZmluZCh4ID0+IHgubmFtZSA9PSAiQ2xlYW5lciIpOw0KICAgICAgICB0aGlzLmlkID0gIjEucmVhZGxpZ2h0bm92ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WwiOw0KICAgICAgICB0aGlzLmRldGFsaUl0ZW1UeXBlID0gRGV0YWxpSXRlbVR5cGUuTm92ZWw7DQogICAgICAgIHRoaXMucGFycMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VyTGFuZ3VhZ2UgPSAiZW4iOw0KICAgICAgICB0aGlzLm5hbWUgPSAnUmVhZExpZ2h0Tm92ZWwnOw0KICAgICAgICB0aGlzLmRpcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03BsYXlOYW1lID0gIlItTm92ZWwtTGlnaHQiOw0KICAgICAgICB0aGlzLmxhdGVzdFVybCA9ICdodHRwczovL3d3dy5yZWFkbGlnaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRub3ZlbC5jYyc7DQogICAgICAgIHRoaXMudXJsID0gJ2h0dHBzOi8vd3d3LnJlYWRsaWdodG5vdmVsLmNjLyc7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRoaXMuc2VhcmNoVXJsID0gJ2h0dHBzOi8vd3d3LnJlYWRsaWdodG5vdmVsLmNjL3NlYXJjaC97cX0ve3B9JzsNCiAgICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ghpcy5wYW5pbmF0aW9uID0gZmFsc2U7DQogICAgICAgIHRoaXMuc2VhcmNoUGFnaW5hdGlvbiA9IHRydWU7DQogICAgICAgIHRoaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMuaWNvbiA9ICdodHRwczovL3d3dy5nb29nbGUuY29tL3MyL2Zhdmljb25zP2RvbWFpbj1odHRwczovL3d3dy5yZWFkbGlnaHRubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03ZlbC5jYy8nOw0KDQogICAgICAgIHRoaXMucGFyc2VyU2VhcmNoU2V0dGluZ3MgPSBuZXcgUGFyc2VyU2VhcmNoU2V0dGluZ3MoKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TsNCiAgICAgICAgdGhpcy5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZXMgPSB7DQogICAgICAgICAgICBtdWx0aVNlbGVjdGlvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0jogZmFsc2UsDQogICAgICAgICAgICB2YWx1ZXM6IFsNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnQW55JywgMCksDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0ZhbnRhc3knLCAxKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZSgnWGlhbnhpYScsIDIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdSb21hbnRpYycsIDMpLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdIaXN0b3JpY2FsJywgNCksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU01NjaS1maScsIDUpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdHYW1lJywgNiksDQogICAgICAgICAgICBdLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB9Ow0KICAgIH0NCg0KICAgIFBhcnNlci5wcm90b3R5cGUgPSB7DQogICAgICAgIGdldFNlY3Rpb25zOiBhc3luYyBmdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5jdGlvbiAoa2V5cykgew0KICAgICAgICAgICAgdmFyIHNlY3Rpb25zID0gWw0KICAgICAgICAgICAgICAgIG5ldyBTZWN0aW9uKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJsYXRlc3QiLCAiTGF0ZXN0IFVwZGF0ZSIsICJMYXRlc3QiLCB0cnVlKQ0KICAgICAgICAgICAgXQ0KDQogICAgICAgICAgICByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1cm4gc2VjdGlvbnMuZmlsdGVyKHggPT4gIWtleXMgfHwga2V5cy5pbmNsdWRlcyh4Lm5hbWUpKTsNCiAgICAgICAgfSwNCg0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB0cmFuc2xhdGVTZWN0aW9uOiBhc3luYyBmdW5jdGlvbiAoc2VjdGlvbiwgcGFnZSkgew0KICAgICAgICAgICAgaWYgKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HNlY3Rpb24uaWRlbnRpZmllciA9PSAiTGF0ZXN0IikNCiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5sYXRlc3QocMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFnZSk7DQogICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuc2VhcmNoKHNlY3Rpb24uZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mlsdGVyIHx8IHRoaXMuZGVmYXVsdEZpbHRlcigpLCBwYWdlKTsNCiAgICAgICAgfSwNCg0KICAgICAgICBkZWZhdWx0RmlsdGVyOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgZmlsdGVyID0gbmV3IEZpbHRlcigpOw0KICAgICAgICAgICAgcmV0dXJuIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GZpbHRlcjsNCiAgICAgICAgfSwNCg0KICAgICAgICBnZXRHZW5yZXNTZWFyY2g6IGFzeW5jIGZ1bmN0aW9uIChmaWx0ZXIsIHBhZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02UpIHsNCiAgICAgICAgICAgIHZhciBxID0gJ2h0dHBzOi8vd3d3LnJlYWRsaWdodG5vdmVsLmNjL21lbWJlcmFjdGlvbi5hc3B4JMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0zsNCiAgICAgICAgICAgIHZhciBmID0gew0KICAgICAgICAgICAgICAgIGFjdGlvbjogJ25leHRib29rY2F0ZWdvcnknLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIGNhdGVnb3J5aWQ6IGZpbHRlci5nZW5yZXNbMF0sDQogICAgICAgICAgICAgICAgcGFnZTogcGFnZSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIH07DQoNCiAgICAgICAgICAgIHZhciBqc29uID0gYXdhaXQgdGhpcy5jbGVhbmVyLmdldENsaWVudCh0aGlzLmlkKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S5wb3N0Rm9ybShxLCBmKTsNCg0KICAgICAgICAgICAgcmV0dXJuIGpzb24gJiYganNvbi5kYXRhID8ganNvbi5kYXRhLm1hcCgoeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CkgPT4NCiAgICAgICAgICAgICAgICBuZXcgTGlnaHRJdGVtKA0KICAgICAgICAgICAgICAgICAgICBhc3luYyAoKSA9PiB7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGF3YWl0IHRoaXMuZ2V0Tm92ZWwoeC5Cb29rUGluWWluLnVyaSh0aGlzLnBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlci51cmwpICsgIi8iLCB0cnVlKSkuaW1hZ2UNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5Cb29rTmFtZSwNCiAgICAgICAgICAgICAgICAgICAgeC5EZXNjcmlwdGlvbiwNCiAgICAgICAgICAgICAgICAgICAgeC5Cb29rUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GluWWluLnVyaSh0aGlzLnVybCkgKyAiLyIsDQogICAgICAgICAgICAgICAgICAgIHRoaXMubmFtZQ0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CksDQogICAgICAgICAgICApIDoNCiAgICAgICAgICAgICAgICBbXTsNCiAgICAgICAgfSwNCg0KICAgICAgICBzZWFyY2g6IGFzeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5jIGZ1bmN0aW9uIChmaWx0ZXIsIHBhZ2UpIHsNCiAgICAgICAgICAgIGlmIChmaWx0ZXIuZ2VucmVzLmxlbmd0aCA+IDApDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0R2VucmVzU2VhcmNoKGZpbHRlciwgcGFnZSk7DQoNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHZhciBxdWVyeSA9IHRoaXMuc2VhcmNoVXJsDQogICAgICAgICAgICAgICAgLnJlcGxhY2UoJ3txfScsIGZpbHRlci50aXRsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SB8fCAiIikNCiAgICAgICAgICAgICAgICAucmVwbGFjZSgne3B9JywgcGFnZS50b1N0cmluZygpKTsNCiAgICAgICAgICAgIHZhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iBjb250YWluZXIgPSB0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwocMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XVlcnkpKTsNCiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTsNCiAgICAgICAgICAgIGNvbnRhaW5lci5maW5kKCcubGlzdC1pdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVtJykuZm9yRWFjaCh4ID0+IHsNCiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCgNCiAgICAgICAgICAgICAgICAgICAgbmV3IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ExpZ2h0SXRlbSgNCiAgICAgICAgICAgICAgICAgICAgICAgIHguc2VsZWN0KCdpbWcnKS5hdHRyKCJzcmMiKS51cmwoKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICAgIHguc2VsZWN0KCdpbWcnKS5hdHRyKCJhbHQgfCB0aXRsZSIpLnRleHQoZmFsc2UpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICAgJycsDQogICAgICAgICAgICAgICAgICAgICAgICB4LnNlbGVjdCgnLmJvb2stbmFtZScpLmF0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HIoImhyZWYiKS51cmwoKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmFtZQ0KICAgICAgICAgICAgICAgICAgICApLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0H0sDQoNCiAgICAgICAgZ2V0Tm92ZWw6IGFzeW5jIGZ1bmN0aW9uIChub3ZlbFVybCwgaWdub3JlQ2hhcHRlcnMpIHsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mdldEh0bWwobm92ZWxVcmwsIGlnbm9yZUNoYXB0ZXJzKSk7DQogICAgICAgICAgICB2YXIgY2hhcHRlcnMgPSBbXTsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHZhciBub3ZlbFJldmlld3MgPSBuZXcgTm92ZWxSZXZpZXdzKCk7DQogICAgICAgICAgICBpZiAoIWlnbm9yZUNoYXB0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJzKSB7DQogICAgICAgICAgICAgICAgdmFyIGh0bWxDaGFwdGVycyA9IGNvbnRhaW5lci5maW5kKCcuY2hhcHRlci1saXN0IGEnKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TsNCiAgICAgICAgICAgICAgICBodG1sQ2hhcHRlcnMuZm9yRWFjaCgoeCkgPT4gew0KICAgICAgICAgICAgICAgICAgICBjaGFwdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVycy5wdXNoKA0KICAgICAgICAgICAgICAgICAgICAgICAgbmV3IENoYXB0ZXIoeC5zZWxlY3QoJy5jaGFwdGVyLW5hbWUnKS50ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Xh0KGZhbHNlKSwgeC5hdHRyKCJocmVmIikudXJsKCkpDQogICAgICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgfMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Sk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBub3ZlbFJldmlld3MuZ2VucmVzID0gY29udGFpbmVyLmZpbmQoIi5iYXNlLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WluZm8gLmJvb2stY2F0YWxvZyAudHh0IikudGV4dEFycmF5KCk7DQogICAgICAgICAgICBub3ZlbFJldmlld3MuYXV0aG9yID0gYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029udGFpbmVyLnNlbGVjdCgiLmF1dGhvciAubmFtZSIpLnRleHQoZmFsc2UpOw0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLnV2bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03RlcyA9IGNvbnRhaW5lci5zZWxlY3QoIi5zY29yZSIpLnRleHQoZmFsc2UpICsgIiAvIDEwIjsNCiAgICAgICAgICAgIG5vdmVsUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV2aWV3cy5jb21wbGV0ZWQgPSBjb250YWluZXIuc2VsZWN0KCIuYmFzZS1pbmZvIC5ib29rLXN0YXRlIC50eHQiKS50ZXh0KGZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HNlKSA9PT0gIkNvbXBsZXRlZCIgPyAiU3RhdHVzOkNvbXBsZXRlZCIgOiAiU3RhdHVzOk9uZ29pbmciOw0KICAgICAgICAgICAgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuIG5ldyBEZXRhbGlJdGVtKA0KICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoJy5ib29rLWNvbnRhaW5lciBpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WcnKS5hdHRyKCJzcmMiKS51cmwoKSwNCiAgICAgICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCcuYm9vay1pbmZvIC5ib29rLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5hbWUnKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCcuc3lub3BzaXMgLmNvbnRlbnQgLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mRlc2MnKS5jbGVhbklubmVySFRNTCgpLA0KICAgICAgICAgICAgICAgIG5vdmVsVXJsLA0KICAgICAgICAgICAgICAgIGNoYXB0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJzLA0KICAgICAgICAgICAgICAgIG5vdmVsUmV2aWV3cywNCiAgICAgICAgICAgICAgICB0aGlzLm5hbWUsDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgdW5kZWZpbmVkLA0KICAgICAgICAgICAgKTsNCiAgICAgICAgfSwNCg0KICAgICAgICBnZXRDaGFwdGVyOiBhc3luYyBmdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5jdGlvbiAodXJsKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5jbGVhbmVyLmNsZWFuQ2hhcHRlcih0aGlzLnBhcnNlci5qcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Shhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KCkuZ2V0SHRtbCh1cmwpKS5zZWxlY3QoJy5yZWFkLWNvbnRhaW5lciAuc2VjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Glvbi1saXN0JyksIHRoaXMubmFtZSk7DQogICAgICAgIH0sDQoNCiAgICAgICAgbGF0ZXN0OiBhc3luYyBmdW5jdGlvbiAocGFnZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Skgew0KICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMucGFyc2VyLmpxKGF3YWl0IHRoaXMuY2xlYW5lci5nZXRDbGllbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nQodGhpcy5pZCkuZ2V0SHRtbCh0aGlzLmxhdGVzdFVybCkpOw0KICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBjb250YWluZXIuZmluZCgnLnVwZGF0ZS1jb250ZW50JykuZm9yRWFjaCgoeCkgPT4gew0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HZhciB1ID0geC5zZWxlY3QoJy5pdGVtLXRpdGxlIGEnKS5hdHRyKCJocmVmIikudGV4dChmYWxzZSk7DQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgdmFyIHRpdGxlID0geC5zZWxlY3QoJy5pdGVtLXRpdGxlIGEnKS50ZXh0KGZhbHNlKTsNCiAgICAgICAgICAgICAgICBpZiAodMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SAhPSAiIiAmJiAhcmVzdWx0LmZpbmQoKHgpID0+IHUudXJpKHRoaXMudXJsKSA9PSB4Lm5vdmVsIHx8IHRpdGxlID09IHgudGl0bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GUpKQ0KICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCgNCiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBMaWdodEl0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W0oDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXN5bmMgKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICByZXR1cm4gKGF3YWl0IHRoaXMuZ2V0Tm92ZWwodS51cmkodGhpcy51cmwpLCB0cnVlKSkuaW1hZ2UNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlLA0KICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICcnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUudXJpKHRoaXMudXJsKSwNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICB0aGlzLm5hbWUNCiAgICAgICAgICAgICAgICAgICAgICAgICksDQogICAgICAgICAgICAgICAgICAgICk7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICByZXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m4gbmV3IFBhcnNlcigpOw0KfQ==&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KDQoNCglmdW5jdGlvbiBQYXJzZXIoKSB7DQoJCXRoaXMuY2xlYW5lciA9IHBsdWdpbnMuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mluZCh4ID0+IHgubmFtZSA9PSAiQ2xlYW5lciIpOw0KCQl0aGlzLmlkID0gIjEucmVhZG5vdmVsZnVsbCI7DQoJCXRoaXMucGFycMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VyTGFuZ3VhZ2UgPSAiZW4iOw0KCQl0aGlzLm5hbWUgPSAnUmVhZE5vdmVsRnVsbCc7DQoJCXRoaXMuZGlzcGxheU5hbWUgPSAiUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i1Ob3ZlbC1GdWxseSI7DQoJCXRoaXMuZGV0YWxpSXRlbVR5cGUgPSBEZXRhbGlJdGVtVHlwZS5Ob3ZlbDsNCgkJdGhpcy5sYXRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03RVcmwgPSAnaHR0cHM6Ly9yZWFkbm92ZWxmdWxsLmNvbS9sYXRlc3QtcmVsZWFzZS1ub3ZlbD9wYWdlPXtwfSc7DQoJCXRoaXMudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJsID0gJ2h0dHBzOi8vcmVhZG5vdmVsZnVsbC5jb20vJzsNCgkJdGhpcy5zZWFyY2hVcmwgPSAnaHR0cHM6Ly9yZWFkbm92ZWxmdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxsLmNvbS9zZWFyY2g/a2V5d29yZD17cX0mcGFnZT17cH0nOw0KCQl0aGlzLmNoYXB0ZXJzVXJsID0gJ2h0dHBzOi8vcmVhZG5vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsZnVsbC5jb20vYWpheC9jaGFwdGVyLW9wdGlvbj9ub3ZlbElkPXtpZH0mY3VycmVudENoYXB0ZXJJZD0xJzsNCgkJdGhpcy5wYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5pbmF0aW9uID0gdHJ1ZTsNCgkJdGhpcy5zZWFyY2hQYWdpbmF0aW9uID0gdHJ1ZTsNCgkJdGhpcy5pY29uID0gJ2h0dHBzOi8vcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVhZG5vdmVsZnVsbC5jb20vaW1nL2Zhdmljb24uaWNvJzsNCgkJdGhpcy5wYXJzZXJTZWFyY2hTZXR0aW5ncyA9IG5ldyBQYXJzZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJTZWFyY2hTZXR0aW5ncygpOw0KCQl0aGlzLnBhcnNlclNlYXJjaFNldHRpbmdzLmdlbnJlcyA9IHsNCgkJCW11bHRpU2VsZWN0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W9uOiBmYWxzZSwNCgkJCXZhbHVlczogWw0KCQkJCW5ldyBsYWJlbFZhbHVlKCdTaG91bmVuJyksDQoJCQkJbmV3IGxhYmVsVmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUoJ0hhcmVtJyksDQoJCQkJbmV3IGxhYmVsVmFsdWUoJ0NvbWVkeScpLA0KCQkJCW5ldyBsYWJlbFZhbHVlKCdNYXJ0aWFsIEFydMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HMnLCAnTWFydGlhbCtBcnRzJyksDQoJCQkJbmV3IGxhYmVsVmFsdWUoJ1NjaG9vbCBMaWZlJywgJ1NjaG9vbCtMaWZlJyksDQoJCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QkJbmV3IGxhYmVsVmFsdWUoJ015c3RlcnknKSwNCgkJCQluZXcgbGFiZWxWYWx1ZSgnU2hvdWpvJyksDQoJCQkJbmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoJ1JvbWFuY2UnKSwNCgkJCQluZXcgbGFiZWxWYWx1ZSgnU2NpLWZpJyksDQoJCQkJbmV3IGxhYmVsVmFsdWUoJ0dlbmRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iBCZW5kZXInLCAnR2VuZGVyK0JlbmRlcicpLA0KCQkJCW5ldyBsYWJlbFZhbHVlKCdNYXR1cmUnKSwNCgkJCQluZXcgbGFiZWxWYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZSgnRmFudGFzeScpLA0KCQkJCW5ldyBsYWJlbFZhbHVlKCdIb3Jyb3InKSwNCgkJCQluZXcgbGFiZWxWYWx1ZSgnRHJhbWEnKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCgkJCQluZXcgbGFiZWxWYWx1ZSgnVHJhZ2VkeScpLA0KCQkJCW5ldyBsYWJlbFZhbHVlKCdTdXBlcm5hdHVyYWwnKSwNCgkJCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QluZXcgbGFiZWxWYWx1ZSgnRWNjaGknKSwNCgkJCQluZXcgbGFiZWxWYWx1ZSgnWHVhbmh1YW4nKSwNCgkJCQluZXcgbGFiZWxWYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZSgnQWR2ZW50dXJlJyksDQoJCQkJbmV3IGxhYmVsVmFsdWUoJ1BzeWNob2xvZ2ljYWwnKSwNCgkJCQluZXcgbGFiZWxWYWx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgnWGlhbnhpYScpLA0KCQkJCW5ldyBsYWJlbFZhbHVlKCdXdXhpYScpLA0KCQkJCW5ldyBsYWJlbFZhbHVlKCdIaXN0b3JpY2FsJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yksDQoJCQkJbmV3IGxhYmVsVmFsdWUoJ1NsaWNlIG9mIExpZmUnLCAnU2xpY2Urb2YrTGlmZScpLA0KCQkJCW5ldyBsYWJlbFZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVlKCdMb2xpY29uJyksDQoJCQkJbmV3IGxhYmVsVmFsdWUoJ0FkdWx0JyksDQoJCQkJbmV3IGxhYmVsVmFsdWUoJ0pvc2VpJyksDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QoJCQkJbmV3IGxhYmVsVmFsdWUoJ1Nwb3J0cycpLA0KCQkJCW5ldyBsYWJlbFZhbHVlKCdTbXV0JyksDQoJCQkJbmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoJ01lY2hhJyksDQoJCQkJbmV3IGxhYmVsVmFsdWUoJ1lhb2knKSwNCgkJCQluZXcgbGFiZWxWYWx1ZSgnU2hvdW5lbiBBaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ScsICdTaG91bmVuK0FpJyksDQoJCQldLA0KCQl9Ow0KCQl0aGlzLnBhcnNlclNlYXJjaFNldHRpbmdzLnNvcnRUeXBlcyA9IHsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0gkJCW11bHRpU2VsZWN0aW9uOiBmYWxzZSwNCgkJCXZhbHVlczogWw0KCQkJCW5ldyBsYWJlbFZhbHVlKCdMYXRlc3QgUmVsZWFzZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SBOb3ZlbCcsICdsYXRlc3QtcmVsZWFzZS1ub3ZlbCcpLA0KCQkJCW5ldyBsYWJlbFZhbHVlKCdIb3QgTm92ZWwnLCAnaG90LW5vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsJyksDQoJCQkJbmV3IGxhYmVsVmFsdWUoJ0NvbXBsZXRlZCBOb3ZlbCcsICdjb21wbGV0ZWQtbm92ZWwnKSwNCgkJCQluZXcgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFiZWxWYWx1ZSgnTW9zdCBQb3B1bGFyJywgJ21vc3QtcG9wdWxhci1ub3ZlbCcpLA0KCQkJXSwNCgkJfTsNCg0KCX0NCg0KDQoJUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFyc2VyLnByb3RvdHlwZSA9IHsNCgkJZ2V0U2VjdGlvbnM6IGZ1bmN0aW9uIChrZXlzKSB7DQoJCQl2YXIgc2VjdGlvbnMgPSBbDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QoJCQkJbmV3IFNlY3Rpb24oImxhdGVzdCIsICJMYXRlc3QgVXBkYXRlIiwgIkxhdGVzdCIsIHRydWUpLA0KCQkJCW5ldyBTZWN0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W9uKCJob3QiLCAiSG90IE5vdmVsIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKHVuZGVmaW5lZCwgImhvdC1ub3ZlbCIpKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCgkJCQluZXcgU2VjdGlvbigiY29tcGxldGVkIiwgIkNvbXBsZXRlZCBOb3ZlbCIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlcih1bmRlZmluZWQsICJjb21wbGV0ZWQtbm92ZWwiKSksDQoJCQkJbmV3IFNlY3Rpb24oInBvcHVsYXIiLCAiTW9zdCBQb3B1bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFyIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKHVuZGVmaW5lZCwgIm1vc3QtcG9wdWxhci1ub3ZlbCIpKQ0KCQkJXQ0KCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QkJcmV0dXJuIHNlY3Rpb25zLmZpbHRlcih4ID0+ICFrZXlzIHx8IGtleXMuaW5jbHVkZXMoeC5uYW1lKSk7DQoJCX0sDQoNCgkJdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJhbnNsYXRlU2VjdGlvbjogYXN5bmMgZnVuY3Rpb24gKHNlY3Rpb24sIHBhZ2UpIHsNCgkJCWlmIChzZWN0aW9uLmlkZW50aWZpZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIgPT0gIkxhdGVzdCIpIHJldHVybiBhd2FpdCB0aGlzLmxhdGVzdChwYWdlKTsNCgkJCWVsc2UgcmV0dXJuIGF3YWl0IHRoaXMucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VhcmNoKHNlY3Rpb24uZmlsdGVyIHx8IHRoaXMuZGVmYXVsdEZpbHRlcigpLCBwYWdlKTsNCgkJfSwNCgkJZGVmYXVsdEZpbHRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0jogZnVuY3Rpb24gKCkgew0KCQkJdmFyIGZpbHRlciA9IG5ldyBGaWx0ZXIoKTsNCgkJCXJldHVybiBmaWx0ZXI7DQoJCX0sDQoJCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XNlYXJjaDogYXN5bmMgZnVuY3Rpb24gKGZpbHRlciwgcGFnZSkgew0KCQkJdmFyIGdlbnJlVXJsID0gImdlbnJlL3tnfT9wYWdlPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XtwfSIudXJpKHRoaXMudXJsKS5yZXBsYWNlKCJ7cH0iLCBwYWdlLnRvU3RyaW5nKCkpOw0KCQkJdmFyIHNvcnRUeXBlVXJsID0gIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ntzfT9wYWdlPXtwfSIudXJpKHRoaXMudXJsKS5yZXBsYWNlKCJ7cH0iLCBwYWdlLnRvU3RyaW5nKCkpOw0KCQkJdmFyIHEgPSBmaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx0ZXIuZ2VucmVzLmxlbmd0aCA+IDAgPyBnZW5yZVVybC5yZXBsYWNlKCJ7Z30iLCBmaWx0ZXIuZ2VucmVzWzBdKSA6IChmaWx0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIuc29ydFR5cGUgJiYgZmlsdGVyLnNvcnRUeXBlICE9ICcnID8gc29ydFR5cGVVcmwucmVwbGFjZSgie3N9IiwgZmlsdGVyLnNvcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRUeXBlKSA6IHVuZGVmaW5lZCk7DQoJCQl2YXIgcXVlcnkgPSBxIHx8IHRoaXMuc2VhcmNoVXJsLnJlcGxhY2UoJ3txfScsIGZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlci50aXRsZSB8fCAiIikucmVwbGFjZSgne3B9JywgcGFnZS50b1N0cmluZygpKTsNCgkJCXZhciBjb250YWluZXIgPSB0aGlzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwocXVlcnkpKTsNCgkJCXZhciByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XN1bHQgPSBbXTsNCgkJCWNvbnRhaW5lci5maW5kKCcubGlzdC1ub3ZlbCAucm93JykuZm9yRWFjaCgoeCkgPT4gew0KCQkJCWlmIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ch4LnNlbGVjdCgnaW1nJykuYXR0cigic3JjIikuaGFzVmFsdWUoKSkgcmVzdWx0LnB1c2gobmV3IExpZ2h0SXRlbSh4LnNlbGVjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CgnaW1nJykuYXR0cigic3JjIikudXJsKCkucmVwbGFjZSgvWzAtOV0reFswLTldKy9naSwgIjE1MHgxNzAiKSwgeC5zZWxlY3QoJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5ub3ZlbC10aXRsZSBhJykudGV4dChmYWxzZSksICcnLCB4LnNlbGVjdCgnLm5vdmVsLXRpdGxlIGEnKS5hdHRyKCJocmVmIikudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJsKCksIHRoaXMubmFtZSksKTsNCgkJCX0pOw0KCQkJcmV0dXJuIHJlc3VsdDsNCgkJfSwNCg0KCQlnZXRDaGFwdGVyczogYXN5bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mMgZnVuY3Rpb24gKG5vdmVsVXJsLCBodG1sQ29udGFpbmVyKSB7DQoJCQl2YXIgY2hhcHRlcnMgPSBbXTsNCgkJCXZhciB1cmwgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SB0aGlzLmNoYXB0ZXJzVXJsLnJlcGxhY2UoJ3tpZH0nLCAoaHRtbENvbnRhaW5lci5zZWxlY3QoJyNyYXRpbmcnKS5hdHRyKCJkYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRhLW5vdmVsLWlkIikuaGFzVmFsdWUoKSA/IGh0bWxDb250YWluZXIuc2VsZWN0KCcjcmF0aW5nJykuYXR0cigiZGF0YS1ub3ZlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C1pZCIpLnRleHQoKSA6IGh0bWxDb250YWluZXIuc2VsZWN0KCdbZGF0YS1ub3ZlbC1pZF0nKS5hdHRyKCJkYXRhLW5vdmVsLWlkIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ikudGV4dCgpKSk7DQoJCQl2YXIgY29udGFpbmVyID0gdGhpcy5wYXJzZXIuanEoYXdhaXQgdGhpcy5jbGVhbmVyLmdldENsaWVudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ch0aGlzLmlkKS5nZXRIdG1sKHVybCkpOw0KCQkJY29udGFpbmVyLmZpbmQoJ29wdGlvbicpLmZvckVhY2goeCA9PiB7DQoJCQkJaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WYgKHguYXR0cigidmFsdWUiKS5oYXNWYWx1ZSgpKSBjaGFwdGVycy5wdXNoKG5ldyBDaGFwdGVyKHgudGV4dChmYWxzZSksIHguYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR0cigidmFsdWUiKS51cmwoKSkpOw0KCQkJfSk7DQoJCQlyZXR1cm4gY2hhcHRlcnM7DQoJCX0sDQoJCWdldE5vdmVsOiBhc3luYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBmdW5jdGlvbiAobm92ZWxVcmwpIHsNCgkJCXZhciBjb250YWluZXIgPSB0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIuZ2V0Q2xpZW50KCkuZ2V0SHRtbChub3ZlbFVybCkpOw0KCQkJdmFyIGNoYXB0ZXJzID0gYXdhaXQgdGhpcy5nZXRDaGFwdGVycMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yhub3ZlbFVybCwgY29udGFpbmVyKTsNCgkJCXZhciBpdGVtID0gbmV3IE5vdmVsUmV2aWV3cygpOw0KCQkJdmFyIGluZm8gPSBjbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0250YWluZXIuZmluZCgnLmluZm8gbGknKTsNCgkJCWl0ZW0uZ2VucmVzID0gaW5mby53aGVyZSh4ID0+IHguaW5uZXJIVE1MKCkudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G9Mb3dlckNhc2UoKS5pbmRleE9mKCJnZW5yZSIpICE9IC0xKS5maW5kKCJhIikudGV4dEFycmF5KCk7DQoJCQlpdGVtLmF1dGhvcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iA9IGluZm8ud2hlcmUoeCA9PiB4LmlubmVySFRNTCgpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZigiYXV0aG9yIikgIT0gLTEpLmZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mQoImEiKS50ZXh0KGZhbHNlKQ0KCQkJaXRlbS5jb21wbGV0ZWQgPSBpbmZvLndoZXJlKHggPT4geC5pbm5lckhUTUwoKS50b0xvdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VyQ2FzZSgpLmluZGV4T2YoInN0YXR1cyIpICE9IC0xKS50ZXh0KGZhbHNlKTsNCgkJCWl0ZW0uYWx0ZXJuYXRpdmVOYW1lcyA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GluZm8ud2hlcmUoeCA9PiB4LmlubmVySFRNTCgpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZigiYWx0ZXJuYXRpdmUgbmFtZXMiKSAhPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SAtMSkudGV4dCgpOw0KCQkJcmV0dXJuIG5ldyBEZXRhbGlJdGVtKGNvbnRhaW5lci5zZWxlY3QoJy5ib29rIGltZycpLmF0dHIoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNyYyIpLnVybCgpLCBjb250YWluZXIuc2VsZWN0KCcudGl0bGUnKS50ZXh0KGZhbHNlKSwgY29udGFpbmVyLnNlbGVjdCgnLmRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02MtdGV4dCcpLmNsZWFuSW5uZXJIVE1MKCksIG5vdmVsVXJsLCBjaGFwdGVycywgaXRlbSwgdGhpcy5uYW1lLCB1bmRlZmluZWQpOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KCQl9LA0KCQlnZXRDaGFwdGVyOiBhc3luYyBmdW5jdGlvbiAodXJsKSB7DQoJCQlyZXR1cm4gdGhpcy5jbGVhbmVyLmNsZWFuQMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02hhcHRlcih0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwodXJsKSkucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VsZWN0KCcjY2hyLWNvbnRlbnQnKSwgdGhpcy5uYW1lKQ0KCQl9LA0KCQlsYXRlc3Q6IGFzeW5jIGZ1bmN0aW9uIChwYWdlKSB7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QoJCQl2YXIgdXJsID0gdGhpcy5sYXRlc3RVcmwucmVwbGFjZSgne3B9JywgcGFnZS50b1N0cmluZygpKTsNCgkJCXZhciBjb250YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WluZXIgPSB0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwodXJsKSk7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QoJCQl2YXIgcmVzdWx0ID0gW107DQoJCQljb250YWluZXIuZmluZCgnLmxpc3Qtbm92ZWwgLnJvdycpLmZvckVhY2goKHgpID0+IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HsNCgkJCQlpZiAoeC5zZWxlY3QoJ2ltZycpLmF0dHIoInNyYyIpLmhhc1ZhbHVlKCkpIHJlc3VsdC5wdXNoKG5ldyBMaWdodEl0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W0oeC5zZWxlY3QoJ2ltZycpLmF0dHIoInNyYyIpLnVybCgpLnJlcGxhY2UoL1swLTldK3hbMC05XSsvZ2ksICIxNTB4MTcwIiksIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Hguc2VsZWN0KCcubm92ZWwtdGl0bGUgYScpLnRleHQoKSwgJycsIHguc2VsZWN0KCcubm92ZWwtdGl0bGUgYScpLmF0dHIoImhyZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WYiKS51cmwoKSwgdGhpcy5uYW1lKSwpOw0KCQkJfSk7DQoJCQlyZXR1cm4gcmVzdWx0Ow0KCQl9DQoJfQ0KDQoJcmV0dXJuIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBQYXJzZXIoKTsNCn0=&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KDQogICAgZnVuY3Rpb24gUGFyc2VyKCkgew0KICAgICAgICB0aGlzLmNsZWFuZXIgPSBwbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVnaW5zLmZpbmQoeCA9PiB4Lm5hbWUgPT0gIkNsZWFuZXIiKTsNCg0KDQogICAgICAgIHRoaXMuaWQgPSAiMS5yb3lhbHJvYWQiOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICB0aGlzLmRldGFsaUl0ZW1UeXBlID0gRGV0YWxpSXRlbVR5cGUuTm92ZWw7DQogICAgICAgIHRoaXMucGFyc2VyTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFuZ3VhZ2UgPSAiZW4iOw0KICAgICAgICB0aGlzLm5hbWUgPSAnUm95YWxSb2FkJzsNCiAgICAgICAgdGhpcy5kaXNwbGF5TmFtZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SA9IHRoaXMubmFtZTsNCiAgICAgICAgdGhpcy5sYXRlc3RVcmwgPSAnaHR0cHM6Ly93d3cucm95YWxyb2FkLmNvbS9maWN0aW9ucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y9sYXRlc3QtdXBkYXRlcz9wYWdlPXtwfSc7DQogICAgICAgIHRoaXMudXJsID0gJ2h0dHBzOi8vd3d3LnJveWFscm9hZC5jb20nOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICB0aGlzLnNlYXJjaFVybCA9ICdodHRwczovL3d3dy5yb3lhbHJvYWQuY29tL2ZpY3Rpb25zL3NlYXJjaD9wYWdlPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XtwfSZ0aXRsZT17cX0nOw0KICAgICAgICB0aGlzLnBhbmluYXRpb24gPSB0cnVlOw0KICAgICAgICB0aGlzLnNlYXJjaFBhZ2luYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRpb24gPSB0cnVlOw0KICAgICAgICB0aGlzLmljb24gPSAnaHR0cHM6Ly93d3cucm95YWxyb2FkLmNvbS9mYXZpY29uLTE2eDE2LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nBuZz92PTIwMjAwMTI1JzsNCiAgICAgICAgdGhpcy5wYXJzZXJTZWFyY2hTZXR0aW5ncyA9IG5ldyBQYXJzZXJTZWFyY2hTZXR0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5ncygpOw0KICAgICAgICB0aGlzLnBhcnNlclNlYXJjaFNldHRpbmdzLm11bHRpU2VsZWN0aW9uID0gdHJ1ZTsNCiAgICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ghpcy5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZXMgPSB7DQogICAgICAgICAgICBtdWx0aVNlbGVjdGlvbjogdHJ1ZSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJBY3Rpb24iLCAiYWN0aW9uIiksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkFkdmVudHVyZSIsICJhZHZlbnR1cmUiKSwNCiAgICAgICAgICAgICAgICBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgbGFiZWxWYWx1ZSgiQ29tZWR5IiwgImNvbWVkeSIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJDb250ZW1wbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03JhcnkiLCAiY29udGVtcG9yYXJ5IiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkRyYW1hIiwgImRyYW1hIiksDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlBzeWNob2xvZ2ljYWwiLCAicHN5Y2hvbG9naWNhbCIpLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJSb21hbmNlIiwgInJvbWFuY2UiKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZSgiU2F0aXJlIiwgInNhdGlyZSIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTY2ktRmkiLCAic2NpX2ZpIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNob3J0IFN0b3J5IiwgIm9uZV9zaG90IiksDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbmV3IGxhYmVsVmFsdWUoIlRyYWdlZHkiLCAidHJhZ2VkeSIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJGYW50YXN5IiwgImZhbnRhc3kiKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTXlzdGVyeSIsICJteXN0ZXJ5IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkhpc3RvcmljYWwiLCAiaGlzdG9yaWNhbCIpLA0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5ldyBsYWJlbFZhbHVlKCJIb3Jyb3IiLCAiaG9ycm9yIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0k1hZ2ljIiwgIm1hZ2ljIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkFudGktSGVybyBMZWFkIiwgImFudGktaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVyb19sZWFkIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkFydGlmaWNpYWwgSW50ZWxsaWdlbmNlIiwgImFydMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlmaWNpYWxfaW50ZWxsaWdlbmNlIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkF0dHJhY3RpdmUgTUMiLCAiYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR0cmFjdGl2ZV9tYyIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJDeWJlcnB1bmsiLCAiY3liZXJwdW5rIiksDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkR1bmdlb24iLCAiZHVuZ2VvbiIpLA0KICAgICAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBsYWJlbFZhbHVlKCJEeXN0b3BpYSIsICJkeXN0b3BpYSIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJGZW1hbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GUgTGVhZCIsICJmZW1hbGVfbGVhZCIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJGaXJzdCBDb250YWN0IiwgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0kZpcnN0X0NvbnRhY3QiKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiR2FtZUxpdCIsICJHYW1lTGl0IiksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkdlbmRlciBCZW5kZXIiLCAiZ2VuZGVyX2JlbmRlciIpLA0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5ldyBsYWJlbFZhbHVlKCJHZW5ldGljYWxseSBFbmdpbmVlcmVkIiwgIkdlbmV0aWNhbGx5X0VuZ2luZWVyZWQiKSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiR3JpbWRhcmsiLCAiR3JpbWRhcmsiKSwNCiAgICAgICAgICAgICAgICBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgbGFiZWxWYWx1ZSgiSGFyZCBTY2ktZmkiLCAiSGFyZF9TY2lfZmkiKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgiSGFyZW0iLCAiaGFyZW0iKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiSGlnaCBGYW50YXN5IiwgImhpZ2hfZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFudGFzeSIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJMaXRSUEciLCAiTGl0UlBHIiksDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbmV3IGxhYmVsVmFsdWUoIkxvb3AiLCAiTG9vcCIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJMb3cgRMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFudGFzeSIsICJsb3dfZmFudGFzeSIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJNYWxlIExlYWQiLCAibWFsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0V9sZWFkIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIk1hcnRpYWwgQXJ0cyIsICJtYXJ0aWFsX2FydHMiKSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTXVsdGlwbGUgTGVhZCBDaGFyYWN0ZXJzIiwgIm11dGxpcGxlX2xlYWQiKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTXl0aG9zIiwgIm15dGhvcyIpLA0KICAgICAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBsYWJlbFZhbHVlKCJOb24tSHVtYW4gbGVhZCIsICJub24taHVtYW5fbGVhZCIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FZhbHVlKCJQb3J0YWwgRmFudGFzeSAvIElzZWthaSIsICJzdW1tb25lZF9oZXJvIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsVmFsdWUoIlBvc3QgQXBvY2FseXB0aWMiLCAicG9zdF9hcG9jYWx5cHRpYyIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FZhbHVlKCJQcm9ncmVzc2lvbiIsICJwcm9ncmVzc2lvbiIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJSZWFkZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIgaW50ZXJhY3RpdmUiLCAicmVhZGVyX2ludGVyYWN0aXZlIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlJlaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5jYXJuYXRpb24iLCAicmVpbmNhcm5hdGlvbiIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJSdWxpbmcgQ2xhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03MiLCAicnVsaW5nX2NsYXNzIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNjaG9vbCBMaWZlIiwgInNjaG9vbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0F9saWZlIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNlY3JldCBJZGVudGl0eSIsICJzZWNyZXRfaWRlbnRpdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HkiKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2xpY2Ugb2YgTGlmZSIsICJzbGljZV9vZl9saWZlIiksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNvZnQgU2NpLWZpIiwgIlNvZnRfU2NpX2ZpIiksDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbmV3IGxhYmVsVmFsdWUoIlNwYWNlIE9wZXJhIiwgInNwYWNlX29wZXJhIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoIlNwb3J0cyIsICJzcG9ydHMiKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU3RlYW1wdW5rIiwgInN0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFtcHVuayIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTdHJhdGVneSIsICJzdHJhdGVneSIpLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTdHJvbmcgTGVhZCIsICJzdHJvbmdfbGVhZCIpLA0KICAgICAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBsYWJlbFZhbHVlKCJTdXBlciBIZXJvZXMiLCAic3VwZXJfaGVyb2VzIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUoIlN1cGVybmF0dXJhbCIsICJzdXBlcm5hdHVyYWwiKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiVGVjaG5vbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G9naWNhbGx5IEVuZ2luZWVyZWQiLCAiVGVjaG5vbG9naWNhbGx5X0VuZ2luZWVyZWQiKSwNCiAgICAgICAgICAgICAgICBuZXcgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFiZWxWYWx1ZSgiVGltZSBUcmF2ZWwiLCAiVGltZV9UcmF2ZWwiKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJiYW4gRmFudGFzeSIsICJ1cmJhbl9mYW50YXN5IiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlZpbGxhaW5vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMgTGVhZCIsICJ2aWxsYWlub3VzX2xlYWQiKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiVmlydHVhbCBSZWFsaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR5IiwgInZpcnR1YWxfcmVhbGl0eSIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJXYXIgYW5kIE1pbGl0YXJ5IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iwgIndhcl9hbmRfbWlsaXRhcnkiKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiV3V4aWEiLCAid3V4aWEiKSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiWGlhbnhpYSIsICJ4aWFueGlhIikNCiAgICAgICAgICAgIF0NCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgfQ0KDQogICAgICAgIHRoaXMucGFyc2VyU2VhcmNoU2V0dGluZ3Muc3RhdHVzZXMgPSB7DQogICAgICAgICAgICBtdWx0aVNlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVjdGlvbjogdHJ1ZSwNCiAgICAgICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJDb21wbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GV0ZWQiLCAiQ09NUExFVEVEIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIk9uZ29pbmciLCAiT05HT0lORyIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJIaWF0dXMiLCAiSElBVFVTIiksDQoNCiAgICAgICAgICAgIF0NCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgfQ0KDQogICAgICAgIHRoaXMucGFyc2VyU2VhcmNoU2V0dGluZ3MubGFuZ3VhZ2VzID0gew0KICAgICAgICAgICAgbXVsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlTZWxlY3Rpb246IGZhbHNlLA0KICAgICAgICAgICAgdmFsdWVzOiBbDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0kZhbiBGaWN0aW9uIiwgImZhbmZpY3Rpb24iKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiT3JpZ2luYWwiLCAibMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03JpZ2luYWwiKQ0KICAgICAgICAgICAgXQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgUGFyc2VyLnByb3RvdHlwZSA9IHsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgZ2V0U2VjdGlvbnM6IGZ1bmN0aW9uIChrZXlzKSB7DQogICAgICAgICAgICB2YXIgc2VjdGlvbnMgPSBbDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbmV3IFNlY3Rpb24oImxhdGVzdCIsICJMYXRlc3QgVXBkYXRlIiwgIkxhdGVzdCIsIHRydWUpLA0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5ldyBTZWN0aW9uKCJjb21wbGV0ZWQiLCAiQ29tcGxldGVkIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKHVuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsICJDT01QTEVURUQiKSksDQogICAgICAgICAgICAgICAgbmV3IFNlY3Rpb24oIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m9uZ29pbmciLCAiT25nb2luZyIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WZpbmVkLCAiT05HT0lORyIpKSwNCiAgICAgICAgICAgICAgICBuZXcgU2VjdGlvbigicm9tYW5jZSIsICJSb21hbmNlIiwgIlNlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKFsicm9tYW5jZSJdKSksDQogICAgICAgICAgICAgICAgbmV3IFNlY3Rpb24oImFjdGlvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iIsICJBY3Rpb24iLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIoWyJhY3Rpb24iXSkpLA0KICAgICAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBTZWN0aW9uKCJteXN0ZXJ5IiwgIk15c3RlcnkiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIoWyJteXN0ZXJ5Il0pKSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIF0NCg0KICAgICAgICAgICAgcmV0dXJuIHNlY3Rpb25zLmZpbHRlcih4ID0+ICFrZXlzIHx8IGtleXMuaW5jbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVkZXMoeC5uYW1lKSk7DQogICAgICAgIH0sDQoNCiAgICAgICAgdHJhbnNsYXRlU2VjdGlvbjogYXN5bmMgZnVuY3Rpb24gKHNlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03Rpb24sIHBhZ2UpIHsNCiAgICAgICAgICAgIGlmIChzZWN0aW9uLmlkZW50aWZpZXIgPT0gIkxhdGVzdCIpDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgcmV0dXJuIGF3YWl0IHRoaXMubGF0ZXN0KHBhZ2UpOw0KICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgIHJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybiBhd2FpdCB0aGlzLnNlYXJjaChzZWN0aW9uLmZpbHRlciB8fCB0aGlzLmRlZmF1bHRGaWx0ZXIoKSwgcGFnZSk7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIH0sDQoNCiAgICAgICAgZGVmYXVsdEZpbHRlcjogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIGZpbHRlciA9IG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBGaWx0ZXIoKTsNCiAgICAgICAgICAgIHJldHVybiBmaWx0ZXI7DQogICAgICAgIH0sDQoNCiAgICAgICAgc2VhcmNoOiBhc3luYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBmdW5jdGlvbiAoZmlsdGVyLCBwYWdlKSB7DQogICAgICAgICAgICB2YXIgdXJsID0gdGhpcy5zZWFyY2hVcmwucmVwbGFjZSgieMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03B9IiwgcGFnZS50b1N0cmluZygpKS5yZXBsYWNlKCJ7cX0iLCBmaWx0ZXIudGl0bGUgfHwgIiIpOw0KICAgICAgICAgICAgaWYgKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GZpbHRlci5nZW5yZXMubGVuZ3RoID4gMCkNCiAgICAgICAgICAgICAgICB1cmwgKz0gIiYiICsgZmlsdGVyLmdlbnJlcy5tYXAoeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CA9PiAidGFnc0FkZD0iICsgeCkuam9pbigiJiIpDQoNCiAgICAgICAgICAgIGlmIChmaWx0ZXIuYWN0aXZlICYmIGZpbHRlci5hYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03RpdmUgIT0gIiIpDQogICAgICAgICAgICAgICAgdXJsICs9ICImc3RhdHVzPSIgKyBmaWx0ZXIuYWN0aXZlOw0KDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBpZiAoZmlsdGVyLmxhbmd1YWdlICYmIGZpbHRlci5sYW5ndWFnZSAhPSAiIikNCiAgICAgICAgICAgICAgICB1cmwgKz0gIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iZ0eXBlPSIgKyBmaWx0ZXIubGFuZ3VhZ2U7DQoNCiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLnBhcnNlci5qcShhdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwodXJsKSk7DQogICAgICAgICAgICB2YXIgcmVzdWx0IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0gW107DQogICAgICAgICAgICBjb250YWluZXIuZmluZCgiLmZpY3Rpb24tbGlzdC1pdGVtIikuZm9yRWFjaCh4ID0+IHsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICByZXN1bHQucHVzaChuZXcgTGlnaHRJdGVtKHguc2VsZWN0KCJpbWciKS5hdHRyKCJzcmMiKS51cmwoKSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoIi5maWN0aW9uLXRpdGxlIikudGV4dCgpLA0KICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAiIiwNCiAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoIi5maWN0aW9uLXRpdGxlIGEiKS5hdHRyKCJocmVmIikudXJsKCksDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgICAgIHRoaXMubmFtZSkpOw0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIHJldHVybiByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XN1bHQ7DQoNCiAgICAgICAgfSwNCg0KICAgICAgICBnZXROb3ZlbDogYXN5bmMgZnVuY3Rpb24gKG5vdmVsVXJsKSB7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5wYXJzZXIuanEoYXdhaXQgdGhpcy5jbGVhbmVyLmdldENsaWVudCh0aGlzLmlkKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S5nZXRIdG1sKG5vdmVsVXJsKSk7DQogICAgICAgICAgICB2YXIgY2hhcHRlcnMgPSBjb250YWluZXIuZmluZCgiI2NoYXB0ZXJzIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRib2R5IHRyIikubWFwKHggPT4geC5zZWxlY3QoImEiKSkuZmlsdGVyKHggPT4geC5oYXNFbGVtZW50KCkpLm1hcCh4ID0+IG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBDaGFwdGVyKHgudGV4dCgpLCB4LmF0dHIoImhyZWYiKS51cmwoKSkpOw0KICAgICAgICAgICAgdmFyIG5vdmVsUmV2aWV3cyA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBOb3ZlbFJldmlld3MoKTsNCiAgICAgICAgICAgIHZhciBpbmZvcyA9IGNvbnRhaW5lci5zZWxlY3QoIi5maWN0aW9uLWluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m8gLmNvbC1tZC04Iik7DQoNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cy5nZW5yZXMgPSBpbmZvcy5maW5kKCIudGFncyBhIikudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GV4dEFycmF5KCk7DQogICAgICAgICAgICBub3ZlbFJldmlld3MuYXV0aG9yID0gY29udGFpbmVyLnNlbGVjdCgiLmZpYy10aXRsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SBzcGFuW3Byb3BlcnR5PW5hbWVdIikudGV4dCgpOw0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLmRlc2NyaXB0aW9uID0gY29udMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFpbmVyLnNlbGVjdCgiLmRlc2NyaXB0aW9uIikuY2xlYW5Jbm5lckhUTUwoKTsNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cy5jbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU021wbGV0ZWQgPSBjb250YWluZXIuc2VsZWN0KCIudGFncyIpLmNsb3Nlc3QoImRpdiIpLmZpbmQoInNwYW4iKS53aGVyZSh4ID0+IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HguaW5uZXJIVE1MKCkuaW5kZXhPZigiQ09NUExFVEVEIikgIT0gLTEpLmhhc0VsZW1lbnRzKCkgPyAiU3RhdHVzOkNvbXBsZXRlZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIgOiAiU3RhdHVzOk9uZ29pbmciDQogICAgICAgICAgICByZXR1cm4gbmV3IERldGFsaUl0ZW0oDQogICAgICAgICAgICAgICAgYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029udGFpbmVyLnNlbGVjdCgiLnRleHQtY2VudGVyIGltZyIpLmF0dHIoInNyYyIpLnVybCgpLA0KICAgICAgICAgICAgICAgIGNvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRhaW5lci5zZWxlY3QoIi5maWMtdGl0bGUgaDEiKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgICBub3ZlbFJldmlld3MuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVzY3JpcHRpb24sDQogICAgICAgICAgICAgICAgbm92ZWxVcmwsDQogICAgICAgICAgICAgICAgY2hhcHRlcnMsDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbm92ZWxSZXZpZXdzLA0KICAgICAgICAgICAgICAgIHRoaXMubmFtZSwNCiAgICAgICAgICAgICAgICB1bmRlZmluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WQsDQogICAgICAgICAgICApOw0KICAgICAgICB9LA0KDQogICAgICAgIGdldENoYXB0ZXI6IGFzeW5jIGZ1bmN0aW9uICh1cmwpIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLmNsZWFuZXIuY2xlYW5DaGFwdGVyKHRoaXMucGFyc2VyLmpxKGF3YWl0IHRoaXMuYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02xlYW5lci5nZXRDbGllbnQoKS5nZXRIdG1sKHVybCkpLnNlbGVjdCgiLmNoYXB0ZXItY29udGVudCIpLCB0aGlzLm5hbWUpOw0KDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIH0sDQoNCiAgICAgICAgbGF0ZXN0OiBhc3luYyBmdW5jdGlvbiAocGFnZSkgew0KICAgICAgICAgICAgdmFyIHVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CA9IHRoaXMubGF0ZXN0VXJsLnJlcGxhY2UoIntwfSIsIHBhZ2UudG9TdHJpbmcoKSk7DQogICAgICAgICAgICB2YXIgY29udGFpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVyID0gdGhpcy5wYXJzZXIuanEoYXdhaXQgdGhpcy5jbGVhbmVyLmdldENsaWVudCh0aGlzLmlkKS5nZXRIdG1sKHVybCkpOw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICAgICAgY29udGFpbmVyLnNlbGVjdCgiLmZpY3Rpb24tbGlzdC1pdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVtIikuZm9yRWFjaCh4ID0+IHsNCiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZXcgTGlnaHRJdGVtKA0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICB4LnNlbGVjdCgiaW1nIikuYXR0cigic3JjIikudXJsKCksDQogICAgICAgICAgICAgICAgICAgIHguc2VsZWN0KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIuZmljdGlvbi10aXRsZSIpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgICAgICAgICAiIiwNCiAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgeC5zZWxlY3QoIi5maWN0aW9uLXRpdGxlIGEiKS5hdHRyKCJocmVmIikudXJsKCksDQogICAgICAgICAgICAgICAgICAgIHRoaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMubmFtZSkpOw0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgICAgIH0NCiAgICB9DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QoNCiAgICByZXR1cm4gbmV3IFBhcnNlcigpOw0KDQp9&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KDQogICAgZnVuY3Rpb24gUGFyc2VyKCkgew0KICAgICAgICB0aGlzLmNsZWFuZXIgPSBwbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVnaW5zLmZpbmQoeCA9PiB4Lm5hbWUgPT0gIkNsZWFuZXIiKTsNCiAgICAgICAgdGhpcy5pZCA9ICIxLnNjcmliYmxlaHViIjsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgdGhpcy5kZXRhbGlJdGVtVHlwZSA9IERldGFsaUl0ZW1UeXBlLk5vdmVsOw0KICAgICAgICB0aGlzLnBhcnNlckxhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0md1YWdlID0gImVuIjsNCiAgICAgICAgdGhpcy5uYW1lID0gJ1NjcmliYmxlSHViJzsNCiAgICAgICAgdGhpcy5kaXNwbGF5TmFtZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SA9ICJSLU5vdmVsLUh1YiI7DQogICAgICAgIHRoaXMubGF0ZXN0VXJsID0gJ2h0dHBzOi8vd3d3LnNjcmliYmxlaHViLmNvbS8/cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Gc9e3B9JzsNCiAgICAgICAgdGhpcy51cmwgPSAnaHR0cHM6Ly93d3cuc2NyaWJibGVodWIuY29tJzsNCiAgICAgICAgdGhpcy5zZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFyY2hVcmwgPSAnaHR0cHM6Ly93d3cuc2NyaWJibGVodWIuY29tLz9zPXtxfSZwb3N0X3R5cGU9ZmljdGlvbnBvc3RzJzsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgdGhpcy5wYW5pbmF0aW9uID0gdHJ1ZTsNCiAgICAgICAgdGhpcy5zZWFyY2hQYWdpbmF0aW9uID0gZmFsc2U7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHRoaXMuaWNvbiA9ICdodHRwczovL3d3dy5zY3JpYmJsZWh1Yi5jb20vZmF2aWNvbi5pY28nOw0KICAgICAgICB0aGlzLnBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlclNlYXJjaFNldHRpbmdzID0gbmV3IFBhcnNlclNlYXJjaFNldHRpbmdzKCk7DQogICAgICAgIHRoaXMucGFyc2VyU2VhcmNoUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02V0dGluZ3MubXVsdGlTZWxlY3Rpb24gPSB0cnVlOw0KICAgICAgICB0aGlzLnBhcnNlclNlYXJjaFNldHRpbmdzLnNvcnRUeXBlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yA9IHsNCiAgICAgICAgICAgIG11bHRpU2VsZWN0aW9uOiBmYWxzZSwNCiAgICAgICAgICAgIHZhbHVlczogWw0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5ldyBsYWJlbFZhbHVlKCdDaGFwdGVycyBwZXIgV2VlaycsICJmcmVxdWVuY3kiKSwNCiAgICAgICAgICAgICAgICBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgbGFiZWxWYWx1ZSgnRGF0ZSBBZGRlZCcsICJkYXRlYWRkZWQiKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnRMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mF2b3JpdGVzJywgImZhdm9yaXRlcyIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdMYXN0IFVwZGF0ZScsICJsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XN0Y2hwZGF0ZSIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdOdW1iZXIgb2YgUmF0aW5ncycsICJudW1vZnJhdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GUiKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnUGFnZXMnLCAicGFnZXMiKSwNCiAgICAgICAgICAgICAgICBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgbGFiZWxWYWx1ZSgnUGFnZXZpZXdzJywgInBhZ2V2aWV3cyIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdSYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRpbmdzJywgInJhdGluZ3MiKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnUmVhZGVycycsICJyZWFkZXJzIiksDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1RvdGFsIFdvcmRzJywgInRvdGFsd29yZHMiKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0F0sDQogICAgICAgIH07DQoNCiAgICAgICAgdGhpcy5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZXMgPSB7DQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBtdWx0aVNlbGVjdGlvbjogdHJ1ZSwNCiAgICAgICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVlKCJBY3Rpb24iLCA5KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQ29tZWR5IiwgNyksDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbmV3IGxhYmVsVmFsdWUoIkZhbnRhc3kiLCAxOSksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkhpc3RvcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mljYWwiLCAyMSksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkxpdFJQRyIsIDExODApLA0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCJNeXN0ZXJ5IiwgOTA5KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2NpLWZpIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iwgOTEyKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQWR1bHQiLCA5MDIpLA0KICAgICAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBsYWJlbFZhbHVlKCJEcmFtYSIsIDkwMyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkdlbmRlciBCZW5kZXIiLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CA5MDUpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJIb3Jyb3IiLCAyMiksDQogICAgICAgICAgICAgICAgbmV3IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxhYmVsVmFsdWUoIk1hcnRpYWwgQXJ0cyIsIDkwNyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlBzeWNob2xvZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02ljYWwiLCA5MTApLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTZWluZW4iLCA5MTMpLA0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCJTdXBlcm5hdHVyYWwiLCA1KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQWR2ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W50dXJlIiwgOCksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkVjY2hpIiwgOTA0KSwNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBuZXcgbGFiZWxWYWx1ZSgiR2lybHMgTG92ZSIsIDg5MiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIklzZWthaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SIsIDM3KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTWF0dXJlIiwgMjApLA0KICAgICAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBsYWJlbFZhbHVlKCJSb21hbmNlIiwgNiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNsaWNlIG9mIExpZmUiLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CA5MTQpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJUcmFnZWR5IiwgOTAxKSwNCiAgICAgICAgICAgICAgICBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgbGFiZWxWYWx1ZSgiQm95cyBMb3ZlIiwgODkxKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiRmFuZmljdGlvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iIsIDM4KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiSGFyZW0iLCAxMDE1KSwNCiAgICAgICAgICAgICAgICBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgbGFiZWxWYWx1ZSgiSm9zZWkiLCA5MDYpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJNZWNoYSIsIDkwOCksDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNjaG9vbCBMaWZlIiwgOTExKSwNCiAgICAgICAgICAgICAgICBuZXcgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFiZWxWYWx1ZSgiU211dCIsIDkxNSksDQoNCiAgICAgICAgICAgIF0NCiAgICAgICAgfQ0KDQogICAgICAgIHRoaXMucGFyc2VyUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VhcmNoU2V0dGluZ3Muc3RhdHVzZXMgPSB7DQogICAgICAgICAgICBtdWx0aVNlbGVjdGlvbjogZmFsc2UsDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB2YWx1ZXM6IFsNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQWxsIiwgImFsbCIpLA0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBsYWJlbFZhbHVlKCJDb21wbGV0ZWQiLCAiY29tcGxldGVkIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0k9uZ29pbmciLCAib25nb2luZyIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJIaWF0dXMiLCAiaGlhdHVzIikNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIF0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIFBhcnNlci5wcm90b3R5cGUgPSB7DQogICAgICAgIGdldFNlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03Rpb25zOiBmdW5jdGlvbiAoa2V5cykgew0KICAgICAgICAgICAgdmFyIHNlY3Rpb25zID0gWw0KICAgICAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBTZWN0aW9uKCJsYXRlc3QiLCAiTGF0ZXN0IFVwZGF0ZSIsICJMYXRlc3QiLCB0cnVlKSwNCiAgICAgICAgICAgICAgICBuZXcgUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VjdGlvbigicG9wdWxhciIsICJQb3B1bGFyIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKHVuZGVmaW5lZCwgInBhZ2V2aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WV3cyIpKSwNCiAgICAgICAgICAgICAgICBuZXcgU2VjdGlvbigiZmF2b3JpdGVzIiwgIkZhdm9yaXRlcyIsICJTZWFyY2giLCBmYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsICJmYXZvcml0ZXMiKSksDQogICAgICAgICAgICAgICAgbmV3IFNlY3Rpb24oImNvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XBsZXRlZCIsICJDb21wbGV0ZWQiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIodW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVmaW5lZCwgImNvbXBsZXRlZCIpKQ0KICAgICAgICAgICAgXQ0KDQogICAgICAgICAgICByZXR1cm4gc2VjdGlvbnMuZmlsdGVyKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HggPT4gIWtleXMgfHwga2V5cy5pbmNsdWRlcyh4Lm5hbWUpKTsNCiAgICAgICAgfSwNCg0KICAgICAgICB0cmFuc2xhdGVTZWN0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W9uOiBhc3luYyBmdW5jdGlvbiAoc2VjdGlvbiwgcGFnZSkgew0KICAgICAgICAgICAgaWYgKHNlY3Rpb24uaWRlbnRpZmllciA9PMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SAiTGF0ZXN0IikNCiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5sYXRlc3QocGFnZSk7DQogICAgICAgICAgICBlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HNlDQogICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuc2VhcmNoKHNlY3Rpb24uZmlsdGVyIHx8IHRoaXMuZGVmYXVsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlcigpLCBwYWdlKTsNCiAgICAgICAgfSwNCg0KICAgICAgICBkZWZhdWx0RmlsdGVyOiBmdW5jdGlvbiAoKSB7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB2YXIgZmlsdGVyID0gbmV3IEZpbHRlcih1bmRlZmluZWQsICJwYWdldmlld3MiLCB1bmRlZmluZWQsICJhbGwiKTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIHJldHVybiBmaWx0ZXI7DQogICAgICAgIH0sDQoNCiAgICAgICAgc2VhcmNoOiBhc3luYyBmdW5jdGlvbiAoZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mlsdGVyLCBwYWdlKSB7DQogICAgICAgICAgICB2YXIgc29ydFR5cGVVcmkgPSAiaHR0cHM6Ly93d3cuc2NyaWJibGVodWIuY29tLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03Nlcmllcy1maW5kZXIvP3NmPTEmZ2k9e2d9Jm1naT1hbmQmc29ydD17c29ydH0mb3JkZXI9ZGVzYyZjcD17c3RhdHVzfSZwZz0iIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CsgcGFnZTsNCiAgICAgICAgICAgIHZhciBzb3J0VHlwZVVybCA9IHNvcnRUeXBlVXJpLnJlcGxhY2UoIntnfSIsIGZpbHRlci5nZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5yZXMuam9pbigiLCIpKS5yZXBsYWNlKCJ7c29ydH0iLCBmaWx0ZXIuc29ydFR5cGUpLnJlcGxhY2UoIntzdGF0dXN9IiwgZmlsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVyLmFjdGl2ZSk7DQoNCiAgICAgICAgICAgIHZhciB1cmwgPSBmaWx0ZXIudGl0bGUgJiYgZmlsdGVyLnRpdGxlLmxlbmd0aCA+IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0DAgPyB0aGlzLnNlYXJjaFVybC5yZXBsYWNlKCJ7cX0iLCBmaWx0ZXIudGl0bGUpIDogc29ydFR5cGVVcmw7DQoNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHZhciBjb250YWluZXIgPSB0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Eh0bWwodXJsKSk7DQogICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgICAgICBjb250YWluZXIuZmluZCgiLnNlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJjaF9tYWluX2JveCIpLmZvckVhY2goeCA9PiB7DQogICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IExpZ2h0SXRlbSgNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoImltZyIpLmF0dHIoInNyYyIpLnVybCgpLA0KICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB4LnNlbGVjdCgiLnNlYXJjaF90aXRsZSIpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgICAgICAgICAiIiwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgeC5zZWxlY3QoIi5zZWFyY2hfdGl0bGUgYSIpLmF0dHIoImhyZWYiKS51cmwoKSwNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgdGhpcy5uYW1lKSk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgICAgIH0sDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QoNCiAgICAgICAgZ2V0Q2hhcHRlcnM6IGFzeW5jIGZ1bmN0aW9uIChpZCkgew0KICAgICAgICAgICAgY29uc29sZS5sb2coInN0cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0lNJRDoiICsgaWQpDQogICAgICAgICAgICB2YXIgaHRtbCA9IGF3YWl0IHRoaXMuY2xlYW5lci5nZXRDbGllbnQodGhpcy5pZCkucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G9zdEZvcm0oImh0dHBzOi8vd3d3LnNjcmliYmxlaHViLmNvbS93cC1hZG1pbi9hZG1pbi1hamF4LnBocCIsIHsNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBhY3Rpb246ICJ3aV9nZXR0b2NjaHAiLA0KICAgICAgICAgICAgICAgIHN0clNJRDogcGFyc2VJbnQoaWQpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIHN0cm15cG9zdGlkOiAwLA0KICAgICAgICAgICAgICAgIHN0ckZpYzogInllcyINCiAgICAgICAgICAgIH0pOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VyLmpxKHBhcnNlSHRtbChodG1sKSkuZmluZCgiYSIpLm1hcCh4ID0+IG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBDaGFwdGVyKHgudGV4dChmYWxzZSksIHguYXR0cigiaHJlZiIpLnVybCgpKSk7DQogICAgICAgIH0sDQogICAgICAgIGdldE5vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsOiBhc3luYyBmdW5jdGlvbiAobm92ZWxVcmwpIHsNCiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLnBhcnNlci5qcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Shhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwobm92ZWxVcmwpKTsNCiAgICAgICAgICAgIHZhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iBpZCA9IGNvbnRhaW5lci5zZWxlY3QoIiNteXBvc3RpZCIpLm5vZGVWYWx1ZSgpID8gY29udGFpbmVyLnNlbGVjdCgiI215cG9zdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlkIikubm9kZVZhbHVlKCkgOiBub3ZlbFVybC5zcGxpdCgiLyIpW25vdmVsVXJsLnNwbGl0KCIvIikuaW5kZXhPZigic2VyaWVzIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ikgKyAxXTsNCiAgICAgICAgICAgIHZhciBjaGFwdGVycyA9IGF3YWl0IHRoaXMuZ2V0Q2hhcHRlcnMoaWQgfHwgIiIpOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgdmFyIHJlZyA9IG5ldyBSZWdFeHAoLyIocmF0aW5nVmFsdWUpIjoiKChcXCJ8W14iXSkqKSIvLCAiaSIpDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB2YXIgcmVzID0gcmVnLmV4ZWMoY29udGFpbmVyLmlubmVySFRNTCgpKTsNCiAgICAgICAgICAgIHZhciByYXRlID0gZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XZhbCgocmVzICYmIHJlcy5sZW5ndGggPiAwID8gKHJlcy5maW5kQXQoMCkgfHwgIiIpLnNwbGl0KCI6IikubGFzdCgpIHx8ICIiIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0DogIjEiKSk7DQogICAgICAgICAgICB2YXIgbm92ZWxSZXZpZXdzID0gbmV3IE5vdmVsUmV2aWV3cygpOw0KICAgICAgICAgICAgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m92ZWxSZXZpZXdzLmF1dGhvciA9IGNvbnRhaW5lci5zZWxlY3QoIltwcm9wZXJ0eT0nYXV0aG9yJ10gLmF1dGhfbmFtZV9maWMiKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S50ZXh0KGZhbHNlKTsNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cy5nZW5yZXMgPSBjb250YWluZXIuZmluZCgiLndpX2ZpY19nZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5yZSBhIikudGV4dEFycmF5KCk7DQogICAgICAgICAgICBub3ZlbFJldmlld3MudXZvdGVzID0gIlJhdGluZzoiICsgcGFyc2VJbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nQocmF0ZSA/IHJhdGUgOiAiMSIpLnRvRml4ZWQoMCkgKyAiLzUiOw0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLmNvbXBsZXRlZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CA9IGNvbnRhaW5lci5zZWxlY3QoIi53aWRnZXRfZmljX3NpbWlsYXIiKS50ZXh0KGZhbHNlKS5pbmRleE9mKCJDb21wbGV0ZWQiKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SAhPSAtMSA/ICJTdGF0dXM6Q29tcGxldGVkIiA6ICJTdGF0dXM6T25nb2luZyI7DQogICAgICAgICAgICByZXR1cm4gbmV3IERldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFsaUl0ZW0oDQogICAgICAgICAgICAgICAgY29udGFpbmVyLnNlbGVjdCgiLm5vdmVsLWNvdmVyIGltZyIpLmF0dHIoInNyYyIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nVybCgpLA0KICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoJy5maWNfdGl0bGUnKS50ZXh0KGZhbHNlKSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCcud2lfZmljX2Rlc2MnKS5jbGVhbklubmVySFRNTCgpLA0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5vdmVsVXJsLA0KICAgICAgICAgICAgICAgIGNoYXB0ZXJzLnJldmVyc2UoKSwNCiAgICAgICAgICAgICAgICBub3ZlbFJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mlld3MsDQogICAgICAgICAgICAgICAgdGhpcy5uYW1lLA0KICAgICAgICAgICAgICAgIHVuZGVmaW5lZCwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ck7DQogICAgICAgIH0sDQoNCiAgICAgICAgZ2V0Q2hhcHRlcjogYXN5bmMgZnVuY3Rpb24gKHVybCkgew0KICAgICAgICAgICAgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuIHRoaXMuY2xlYW5lci5jbGVhbkNoYXB0ZXIodGhpcy5wYXJzZXIuanEoYXdhaXQgdGhpcy5jbGVhbmVyLmdldENsaWVudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ch0aGlzLmlkKS5nZXRIdG1sKHVybCkpLnNlbGVjdCgiLmNocF9yYXciKSwgdGhpcy5uYW1lKTsNCiAgICAgICAgfSwNCg0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBsYXRlc3Q6IGFzeW5jIGZ1bmN0aW9uIChwYWdlKSB7DQogICAgICAgICAgICB2YXIgdXJsID0gdGhpcy5sYXRlc3RVcmwucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVwbGFjZSgie3B9IiwgcGFnZS50b1N0cmluZygpKTsNCiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLnBhcnNlci5qcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Shhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KCkuZ2V0SHRtbCh1cmwpKTsNCiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TsNCiAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoIiNtYWluX3JlbGVhc2VzIHRkIikuZm9yRWFjaCh4ID0+IHsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICByZXN1bHQucHVzaChuZXcgTGlnaHRJdGVtKA0KICAgICAgICAgICAgICAgICAgICB4LnNlbGVjdCgiaW1nIikuYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR0cigic3JjIikudXJsKCksDQogICAgICAgICAgICAgICAgICAgIHguc2VsZWN0KCIuZnBfdGl0bGUiKS50ZXh0KGZhbHNlKSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICAgICAgIiIsDQogICAgICAgICAgICAgICAgICAgIHguc2VsZWN0KCIuZnBfdGl0bGUiKS5hdHRyKCJocMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVmIikudXJsKCksDQogICAgICAgICAgICAgICAgICAgIHRoaXMubmFtZSkpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CByZXR1cm4gcmVzdWx0Ow0KICAgICAgICB9DQoNCiAgICB9DQogICAgcmV0dXJuIG5ldyBQYXJzZXIoKTsNCg0KfQ==&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KDQoNCg0KICAgIGZ1bmN0aW9uIFBhcnNlcigpIHsNCiAgICAgICAgdGhpcy5jbGVhbmVyIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0gcGx1Z2lucy5maW5kKHggPT4geC5uYW1lID09ICJDbGVhbmVyIik7DQogICAgICAgIHRoaXMuaWQgPSAiMS50YXByZWFkIjsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgdGhpcy5kZXRhbGlJdGVtVHlwZSA9IERldGFsaUl0ZW1UeXBlLk5vdmVsOw0KICAgICAgICB0aGlzLnBhcnNlckxhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0md1YWdlID0gImVuIjsNCiAgICAgICAgdGhpcy5uYW1lID0gJ1RhcFJlYWQnOw0KICAgICAgICB0aGlzLmRpc3BsYXlOYW1lID0gIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0lQtTm92ZWwtUmVhZCI7DQogICAgICAgIHRoaXMubGF0ZXN0VXJsID0gJ2h0dHBzOi8vd3d3LnRhcHJlYWQuY29tL2FqYXgvYm9vaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y9sYXN0dXBkYXRlbGlzdCc7DQogICAgICAgIHRoaXMudXJsID0gJ2h0dHBzOi8vd3d3LnRhcHJlYWQuY29tLyc7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRoaXMuc2VhcmNoVXJsID0gJ2h0dHBzOi8vd3d3LnRhcHJlYWQuY29tL2FqYXgvc2VhcmNoL3N0b3J5JzsNCiAgICAgICAgdGhpcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5wYW5pbmF0aW9uID0gdHJ1ZTsNCiAgICAgICAgdGhpcy5zZWFyY2hQYWdpbmF0aW9uID0gZmFsc2U7DQogICAgICAgIHRoaXMuaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WNvbiA9ICdodHRwczovL3N0YXRpYy50YXByZWFkLmNvbS9wYy9pbWFnZXMvZmF2aWNvbi5pY28nOw0KICAgICAgICB0aGlzLnBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlclNlYXJjaFNldHRpbmdzID0gbmV3IFBhcnNlclNlYXJjaFNldHRpbmdzKCk7DQoNCiAgICAgICAgdGhpcy5wYXJzZXJTZWFyYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02hTZXR0aW5ncy5nZW5yZXMgPSB7DQogICAgICAgICAgICBtdWx0aVNlbGVjdGlvbjogZmFsc2UsDQogICAgICAgICAgICB2YWx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XM6IFsNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQWxsIiwgMCksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoIld1eGlhJlhpYW54aWEiLCAxKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiRmFudGFzeSIsIDIpLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJSb21hbmNlIiwgMyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUoIkxHQlQrIiwgNDMpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJVcmJhbiIsIDQ0KSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBuZXcgbGFiZWxWYWx1ZSgiR2FtZXMiLCA0NSksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkVhc3Rlcm4iLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CA0NiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkhvcnJvciZUaHJpbGxlciIsIDQ3KSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBuZXcgbGFiZWxWYWx1ZSgiSGlzdG9yaWNhbCIsIDc1KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2NpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0UZpIiwgNzYpLA0KDQogICAgICAgICAgICBdDQogICAgICAgIH0NCiAgICB9DQoNCg0KICAgIFBhcnNlci5wcm90b3R5cGUgPSB7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIGdldFNlY3Rpb25zOiBmdW5jdGlvbiAoa2V5cykgew0KICAgICAgICAgICAgdmFyIHNlY3Rpb25zID0gWw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJsYXRlc3QiLCAiTGF0ZXN0IFVwZGF0ZSIsICJMYXRlc3QiLCB0cnVlKSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgU2VjdGlvbigiaG9ycm9yIiwgIkhvcnJvciZUaHJpbGxlciIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlcihbNDddKSksDQogICAgICAgICAgICAgICAgbmV3IFNlY3Rpb24oInJvbWFuY2UiLCAiUm9tYW5jZSIsICJTZWFyY2giLCBmYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxzZSwgbmV3IEZpbHRlcihbM10pKSwNCiAgICAgICAgICAgICAgICBuZXcgU2VjdGlvbigiZmFudGFzeSIsICJGYW50YXN5IiwgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0lNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKFsyXSkpLA0KICAgICAgICAgICAgXQ0KDQogICAgICAgICAgICByZXR1cm4gc2VjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlvbnMuZmlsdGVyKHggPT4gIWtleXMgfHwga2V5cy5pbmNsdWRlcyh4Lm5hbWUpKTsNCiAgICAgICAgfSwNCg0KICAgICAgICB0cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFuc2xhdGVTZWN0aW9uOiBhc3luYyBmdW5jdGlvbiAoc2VjdGlvbiwgcGFnZSkgew0KICAgICAgICAgICAgaWYgKHNlY3Rpb24uaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WRlbnRpZmllciA9PSAiTGF0ZXN0IikNCiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5sYXRlc3QocGFnZSk7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuc2VhcmNoKHNlY3Rpb24uZmlsdGVyIHx8IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRoaXMuZGVmYXVsdEZpbHRlcigpLCBwYWdlKTsNCiAgICAgICAgfSwNCg0KICAgICAgICBkZWZhdWx0RmlsdGVyOiBmdW5jdGlvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAoKSB7DQogICAgICAgICAgICB2YXIgZmlsdGVyID0gbmV3IEZpbHRlcigpOw0KICAgICAgICAgICAgcmV0dXJuIGZpbHRlcjsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgfSwNCg0KICAgICAgICBnZXRHZW5yZTogYXN5bmMgZnVuY3Rpb24gKGZpbHRlciwgcGFnZSkgew0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgdmFyIHVybCA9ICJodHRwczovL3d3dy50YXByZWFkLmNvbS9hamF4L2NhdGVnb3J5L2RldGFpbCI7DQogICAgICAgICAgICB2YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIgcmVzdWx0ID0gW107DQogICAgICAgICAgICB2YXIgZGF0YSA9IGF3YWl0IHRoaXMuY2xlYW5lci5nZXRDbGllbnQodGhpcy5pZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CkucG9zdEZvcm0odXJsLCB7IGNhdGVJZDogZmlsdGVyLmdlbnJlc1swXSwgcGFnZU5vOiBwYWdlIH0pOw0KICAgICAgICAgICAgaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WYgKGRhdGEgJiYgZGF0YS5yZXN1bHQgJiYgZGF0YS5yZXN1bHQuYm9va0xpc3QpIHsNCiAgICAgICAgICAgICAgICBkYXRhLnJlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03VsdC5ib29rTGlzdC5mb3JFYWNoKChpdGVtKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBMaWdodMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0El0ZW0oYXN5bmMgKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChhd2FpdCB0aGlzLmdldE5vdmVsKGl0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W0uYm9va0lkLCB0cnVlKSkuaW1hZ2UNCiAgICAgICAgICAgICAgICAgICAgfSwgaXRlbS5ib29rTmFtZSwgaXRlbS5kZXNjcmlwdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlvbiwgaXRlbS5ib29rSWQsIHRoaXMubmFtZSkpDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQoNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHJldHVybiByZXN1bHQ7DQoNCiAgICAgICAgfSwNCg0KICAgICAgICBzZWFyY2g6IGFzeW5jIGZ1bmN0aW9uIChmaWx0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIsIHBhZ2UpIHsNCiAgICAgICAgICAgIGlmIChmaWx0ZXIuZ2VucmVzLmxlbmd0aCA+IDApDQogICAgICAgICAgICAgICAgcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuIGF3YWl0IHRoaXMuZ2V0R2VucmUoZmlsdGVyLCBwYWdlKTsNCg0KICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgdmFyIGRhdGEgPSBhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLnBvc3RGb3JtKHRoaXMuc2VhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mNoVXJsLCB7IHNlYXJjaFRleHQ6IGZpbHRlci50aXRsZSB8fCAiIiwgc3RvcnlUeXBlOiAxLCBwYWdlTm86IHBhZ2UgfSk7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLnJlc3VsdCAmJiBkYXRhLnJlc3VsdC5zdG9yeUxpc3QpIHsNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBkYXRhLnJlc3VsdC5zdG9yeUxpc3QuZm9yRWFjaCgoaXRlbSkgPT4gew0KICAgICAgICAgICAgICAgICAgICByZXN1bHQucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVzaChuZXcgTGlnaHRJdGVtKGFzeW5jICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoYXdhaXQgdGhpcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5nZXROb3ZlbChpdGVtLnN0b3J5SWQsIHRydWUpKS5pbWFnZQ0KICAgICAgICAgICAgICAgICAgICB9LCBpdGVtLnN0b3J5TmFtZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwgIiIsIGl0ZW0uc3RvcnlJZCwgdGhpcy5uYW1lKSkNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCg0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICAgICAgfSwNCg0KICAgICAgICBnZXRDaGFwdGVyczogYXN5bmMgZnVuY3Rpb24gKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GJvb2tJZCkgew0KICAgICAgICAgICAgdmFyIGRhdGEgPSBhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLnBvcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03RGb3JtKCJodHRwczovL3d3dy50YXByZWFkLmNvbS9hamF4L2Jvb2svY29udGVudHMiLCB7IGJvb2tJZDogYm9va0lkIH0pOw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5yZXN1bHQgJiYgZGF0YS5yZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XN1bHQuY2hhcHRlckxpc3QpDQogICAgICAgICAgICAgICAgZGF0YS5yZXN1bHQuY2hhcHRlckxpc3QuZm9yRWFjaChpdGVtID0+IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HsNCiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IENoYXB0ZXIoaXRlbS5jaGFwdGVyTmFtZSwgKGl0ZW0uYm9vaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU00lkICsgIi8iICsgaXRlbS5jaGFwdGVySWQpLnVyaSgiaHR0cHM6Ly93d3cudGFwcmVhZC5jb20vYWpheC9ib29rL2NoYXB0ZXIiKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SkpDQogICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7DQoNCiAgICAgICAgfSwNCg0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBnZXROb3ZlbDogYXN5bmMgZnVuY3Rpb24gKG5vdmVsVXJsLCBpZ25vcmVjaGFwdGVycykgew0KICAgICAgICAgICAgbm92ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxVcmwgPSBwYXJzZUludChub3ZlbFVybCkudG9TdHJpbmcoKTsNCiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLnBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwobm92ZWxVcmwudG9TdHJpbmcoKS51cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mkoImh0dHBzOi8vd3d3LnRhcHJlYWQuY29tL2Jvb2svZGV0YWlsLyIpLCBpZ25vcmVjaGFwdGVycykpOw0KICAgICAgICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFyIGNoYXB0ZXJzID0gIWlnbm9yZWNoYXB0ZXJzID8gYXdhaXQgdGhpcy5nZXRDaGFwdGVycyhub3ZlbFVybCkgOiBbXTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIHZhciBub3ZlbFJldmlld3MgPSBuZXcgTm92ZWxSZXZpZXdzKCk7DQogICAgICAgICAgICBub3ZlbFJldmlld3MuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VucmVzID0gY29udGFpbmVyLmZpbmQoIi5iYXNlLWluZm8gLmJvb2stY2F0YWxvZyAudHh0IikudGV4dEFycmF5KCk7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBub3ZlbFJldmlld3MuYXV0aG9yID0gY29udGFpbmVyLnNlbGVjdCgiLmF1dGhvciAubmFtZSIpLnRleHQoZmFsc2UpOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLnV2b3RlcyA9IGNvbnRhaW5lci5zZWxlY3QoIi5zY29yZSIpLnRleHQoKSArICIgLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yA1IjsNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cy5jb21wbGV0ZWQgPSBjb250YWluZXIuc2VsZWN0KCIuYmFzZS1pbmZvIC5ibMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029rLXN0YXRlIC50eHQiKS50ZXh0KGZhbHNlKSA9PT0gIkNvbXBsZXRlZCIgPyAiU3RhdHVzOkNvbXBsZXRlZCIgOiAiU3RhdHVzOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0k9uZ29pbmciOw0KICAgICAgICAgICAgcmV0dXJuIG5ldyBEZXRhbGlJdGVtKA0KICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxlY3QoJy5ib29rLWltZyBpbWcnKS5hdHRyKCJzcmMiKS51cmwoKSwNCiAgICAgICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CcuYm9vay1uYW1lJykudGV4dChmYWxzZSksDQogICAgICAgICAgICAgICAgY29udGFpbmVyLnNlbGVjdCgnLmRlc2MnKS5jbGVhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0klubmVySFRNTCgpLA0KICAgICAgICAgICAgICAgIG5vdmVsVXJsLA0KICAgICAgICAgICAgICAgIGNoYXB0ZXJzLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIG5vdmVsUmV2aWV3cywNCiAgICAgICAgICAgICAgICB0aGlzLm5hbWUsDQogICAgICAgICAgICAgICAgdW5kZWZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVkLA0KICAgICAgICAgICAgKTsNCiAgICAgICAgfSwNCg0KICAgICAgICBnZXRDaGFwdGVyOiBhc3luYyBmdW5jdGlvbiAodXJsKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SB7DQogICAgICAgICAgICB2YXIgdXJsQ29udGVudCA9IHVybC5zcGxpdCgiLyIpOw0KICAgICAgICAgICAgdmFyIGJvb2tJZCA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybENvbnRlbnRbdXJsQ29udGVudC5sZW5ndGggLSAyXTsNCiAgICAgICAgICAgIHZhciBjaGFwdGVySWQgPSB1cmxDb250ZW50WMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03VybENvbnRlbnQubGVuZ3RoIC0gMV07DQogICAgICAgICAgICBjb25zb2xlLmxvZygiYm9va0lkOiIgKyBib29rSWQpDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBjb25zb2xlLmxvZygiY2hhcHRlcklkOiIgKyBjaGFwdGVySWQpDQogICAgICAgICAgICB2YXIgZGF0YSA9IGF3YWl0IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRoaXMuY2xlYW5lci5nZXRDbGllbnQodGhpcy5pZCkucG9zdEZvcm0oImh0dHBzOi8vd3d3LnRhcHJlYWQuY29tL2FqYXgvYm9vaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y9jaGFwdGVyIiwgeyBib29rSWQ6IGJvb2tJZCwgY2hhcHRlcklkOiBjaGFwdGVySWQgfSkNCiAgICAgICAgICAgIGlmIChkYXRhIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CYmIGRhdGEucmVzdWx0KQ0KICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLnJlc3VsdC5jb250ZW50Ow0KICAgICAgICAgICAgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuICJTb21ldGhpbmcgd2VudCB3cm9uZyI7DQoNCiAgICAgICAgfSwNCg0KICAgICAgICBsYXRlc3Q6IGFzeW5jIGZ1bmN0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W9uIChwYWdlKSB7DQogICAgICAgICAgICB2YXIgdXJsID0gdGhpcy5sYXRlc3RVcmw7DQogICAgICAgICAgICB2YXIgZGF0YSA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF3YWl0IHRoaXMuY2xlYW5lci5nZXRDbGllbnQodGhpcy5pZCkucG9zdEZvcm0odXJsLCB7IGFtb3VtdDogMCwgcGFnZU5vOiBwYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WdlIH0pOw0KICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5yZXN1bHQgJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iYgZGF0YS5yZXN1bHQpIHsNCiAgICAgICAgICAgICAgICBkYXRhLnJlc3VsdC5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICByZXN1bHQucHVzaChuZXcgTGlnaHRJdGVtKGFzeW5jICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybiAoYXdhaXQgdGhpcy5nZXROb3ZlbChpdGVtLmJvb2tJZCwgdHJ1ZSkpLmltYWdlDQogICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0H0sIGl0ZW0udGl0bGUsICIiLCBpdGVtLmJvb2tJZCwgdGhpcy5uYW1lKSkNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIH0NCg0KICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICAgICAgfQ0KICAgIH0NCiAgICByZXR1cm4gbmV3IFBhcnNlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0igpOw0KfQ==&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KICAgIGZ1bmN0aW9uIFBhcnNlcigpIHsNCiAgICAgICAgdGhpcy5pZCA9ICIxLndubXRsbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03JnIjsNCiAgICAgICAgdGhpcy5kZXRhbGlJdGVtVHlwZSA9IERldGFsaUl0ZW1UeXBlLk5vdmVsOw0KICAgICAgICB0aGlzLnBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlckxhbmd1YWdlID0gImVuIjsNCiAgICAgICAgdGhpcy5uYW1lID0gJ1dubXRsJzsNCiAgICAgICAgdGhpcy5kaXNwbGF5TmFtZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SA9ICJXLU1UTCI7DQogICAgICAgIHRoaXMubGF0ZXN0VXJsID0gJ2h0dHBzOi8vYXBpLm15c3Rvcnl3YXZlLmNvbS9zdG9yeS13YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XZlLWJhY2tlbmQvYXBpL3YxL2NvbnRlbnQvYm9va3MvY3VzdG9tL0xhc3RVcGRhdGVkTG9jYWwnOw0KICAgICAgICB0aGlzLnVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CA9ICdodHRwOi8vd3d3LndubXRsLm9yZyc7DQogICAgICAgIHRoaXMuc2VhcmNoVXJsID0gIiI7DQogICAgICAgIHRoaXMucGFuaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5hdGlvbiA9IHRydWU7DQogICAgICAgIHRoaXMuc2VhcmNoUGFnaW5hdGlvbiA9IHRydWU7DQogICAgICAgIHRoaXMuaWNvbiA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CdodHRwczovL25vdmVsZnVsbC5jb20vd2ViL2ltYWdlcy9mYXZpY29uLmljbyc7DQogICAgICAgIHRoaXMucGFyc2VyU2VhcmNoUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02V0dGluZ3MgPSBuZXcgUGFyc2VyU2VhcmNoU2V0dGluZ3MoKTsNCiAgICAgICAgdGhpcy5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5yZXMgPSB7DQogICAgICAgICAgICBtdWx0aVNlbGVjdGlvbjogZmFsc2UsDQogICAgICAgICAgICB2YWx1ZXM6IFsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnRmFudGFzeScsIDEpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02ktZmknLCAyKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU3BvcnRzJywgMyksDQogICAgICAgICAgICAgICAgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV3IGxhYmVsVmFsdWUoJ1VyYmFuJywgNCksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0Vhc3Rlcm4gRmFudGFzeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ScsIDUpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdIb3Jyb3ImVGhyaWxsZXInLCA2KSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBuZXcgbGFiZWxWYWx1ZSgnVmlkZW8gR2FtZScsIDcpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdIaXN0bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03J5JywgOCksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1dhcicsIDkpLA0KICAgICAgICAgICAgICAgIG5ldyBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJlbFZhbHVlKCdVcmJhbiBSb21hbmNlJywgMTApLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdGYW50YXN5IFJvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFuY2UnLCAxMSksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0hpc3RvcmljYWwgUm9tYW5jZScsIDEyKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnVGVlbicsIDEzKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EdCVCsnLCAxNCksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1JvbWFuY2UnLCAxNSksDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbmV3IGxhYmVsVmFsdWUoJ09USEVSUysnLCAxNiksDQogICAgICAgICAgICBdLA0KICAgICAgICB9DQogICAgICAgIHRoaXMuYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02xlYW5lciA9IHBsdWdpbnMuZmluZCh4ID0+IHgubmFtZSA9PSAiQ2xlYW5lciIpOw0KICAgICAgICB0aGlzLmNsZWFuZXIuZ2V0QMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02xpZW50KHRoaXMuaWQpLmFkZFN0YXRpY0hlYWRlcigic2l0ZS1kb21haW4iLCAid25tdGwub3JnIik7DQogICAgfQ0KDQoNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBQYXJzZXIucHJvdG90eXBlID0gew0KICAgICAgICBnZXRTZWN0aW9uczogZnVuY3Rpb24gKGtleXMpIHsNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HZhciBzZWN0aW9ucyA9IFsNCiAgICAgICAgICAgICAgICBuZXcgU2VjdGlvbigibGF0ZXN0IiwgIkxhdGVzdCBVcGRhdGUiLCAiTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF0ZXN0IiwgdHJ1ZSksDQogICAgICAgICAgICAgICAgbmV3IFNlY3Rpb24oIlVyYmFuIiwgIlVyYmFuIE5vdmVsIiwgIlNlYXJjaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIsIGZhbHNlLCBuZXcgRmlsdGVyKFs0XSkpLA0KICAgICAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJSb21hbmNlIiwgIlJvbWFuYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02UgTm92ZWwiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIoWzE1XSkpLA0KICAgICAgICAgICAgXQ0KDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CByZXR1cm4gc2VjdGlvbnMuZmlsdGVyKHggPT4gIWtleXMgfHwga2V5cy5pbmNsdWRlcyh4Lm5hbWUpKTsNCiAgICAgICAgfSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0g0KICAgICAgICB0cmFuc2xhdGVTZWN0aW9uOiBhc3luYyBmdW5jdGlvbiAoc2VjdGlvbiwgcGFnZSkgew0KICAgICAgICAgICAgaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WYgKHNlY3Rpb24uaWRlbnRpZmllciA9PSAiTGF0ZXN0IikNCiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5sYXRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03QocGFnZSk7DQogICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuc2VhcmNoKHNlY3RpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU024uZmlsdGVyIHx8IHRoaXMuZGVmYXVsdEZpbHRlcigpLCBwYWdlKTsNCiAgICAgICAgfSwNCg0KICAgICAgICBkZWZhdWx0RmlsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVyOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICByZXR1cm4gbmV3IEZpbHRlcigpOw0KICAgICAgICB9LA0KDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HNlYXJjaDogYXN5bmMgZnVuY3Rpb24gKGZpbHRlciwgcGFnZSkgew0KICAgICAgICAgICAgdmFyIHVybCA9ICJodHRwczovL2FwaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S5teXN0b3J5d2F2ZS5jb20vc3Rvcnktd2F2ZS1iYWNrZW5kL2FwaS92MS9jb250ZW50L2Jvb2tzL3JhbmsvcmVhZENvdW50cz8mcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFnZU51bWJlcj0iICsgcGFnZSArICImcGFnZVNpemU9MTAwIg0KICAgICAgICAgICAgaWYgKGZpbHRlci5nZW5yZXMgJiYgZmlsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVyLmdlbnJlcy5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgdXJsID0gdXJsICsgIiZnZW5yZT0iICsgZmlsdGVyLmdlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nJlc1tmaWx0ZXIuZ2VucmVzLmxlbmd0aCAtIDFdOw0KICAgICAgICAgICAgfSBlbHNlIHVybCA9IHVybCA9ICJodHRwczovL2FwaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S5teXN0b3J5d2F2ZS5jb20vc3Rvcnktd2F2ZS1iYWNrZW5kL2FwaS92MS9jb250ZW50L2Jvb2tzL3NlYXJjaD9rZXlXb3JkPSIgKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBmaWx0ZXIudGl0bGUgKyAiJnBhZ2VOdW1iZXI9IiArIHBhZ2UgKyAiJnBhZ2VTaXplPTEwMCINCiAgICAgICAgICAgIHZhciBjbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0250YWluZXIgPSBhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLkdldEpzb24odXJsKTsNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybiBjb250YWluZXIuZGF0YS5saXN0Lm1hcCh4ID0+IHsNCiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IExpZ2h0SXRlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgNCiAgICAgICAgICAgICAgICAgICAgeC5jb3ZlckltZ1VybCwNCiAgICAgICAgICAgICAgICAgICAgeC50aXRsZSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgJycsDQogICAgICAgICAgICAgICAgICAgICJodHRwczovL2FwaS5teXN0b3J5d2F2ZS5jb20vc3RvcnktdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02F2ZS1iYWNrZW5kL2FwaS92MS9jb250ZW50L2Jvb2tzLyIgKyB4LmlkLCB0aGlzLm5hbWUNCiAgICAgICAgICAgICAgICApOw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgfSk7DQogICAgICAgIH0sDQoNCiAgICAgICAgZ2V0Q2hhcHRlcnM6IGFzeW5jIGZ1bmN0aW9uIChub3ZlbFVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ckgew0KICAgICAgICAgICAgdmFyIGNoYXB0ZXJzID0gW107DQogICAgICAgICAgICB2YXIgaWQgPSBub3ZlbFVybC5zcGxpdCgiLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yIpLmxhc3QoKTsNCiAgICAgICAgICAgIHZhciB1cmwgPSAiaHR0cHM6Ly9hcGkubXlzdG9yeXdhdmUuY29tL3N0b3J5LXdhdmUtYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFja2VuZC9hcGkvdjEvY29udGVudC9jaGFwdGVycy9wYWdlP3NvcnREaXJlY3Rpb249QVNDJmJvb2tJZD0iICsgaWQgKyAiJnBhZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VOdW1iZXI9MSZwYWdlU2l6ZT0xMDAwMDAiDQogICAgICAgICAgICB2YXIgY29udGFpbmVyID0gYXdhaXQgdGhpcy5jbGVhbmVyLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mdldENsaWVudCh0aGlzLmlkKS5HZXRKc29uKHVybCk7DQogICAgICAgICAgICBpZiAoY29udGFpbmVyLmRhdGEgJiYgY29udGFpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVyLmRhdGEubGlzdCkNCiAgICAgICAgICAgICAgICBjb250YWluZXIuZGF0YS5saXN0LmZvckVhY2goKHgsIGkpID0+IHsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgY2hhcHRlcnMucHVzaChuZXcgQ2hhcHRlcigoeC5jaGFwdGVyT3JkZXIgIT0gdW5kZWZpbmVkID8geMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5jaGFwdGVyT3JkZXIgOiBpICsgMSkgKyAiLSIgKyB4LnRpdGxlLCAiaHR0cHM6Ly9hcGkubXlzdG9yeXdhdmUuY29tL3N0b3J5LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XdhdmUtYmFja2VuZC9hcGkvdjEvY29udGVudC9jaGFwdGVycy8iICsgeC5pZCkpOw0KICAgICAgICAgICAgICAgIH0pDQoNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIHJldHVybiBjaGFwdGVyczsNCiAgICAgICAgfSwNCg0KICAgICAgICBnZXROb3ZlbDogYXN5bmMgZnVuY3Rpb24gKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5vdmVsVXJsKSB7DQoNCiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSBhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMuaWQpLkdldEpzb24obm92ZWxVcmwpOw0KICAgICAgICAgICAgdmFyIGNoYXB0ZXJzID0gYXdhaXQgdGhpcy5nZXRDaGFwdGVycMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yhub3ZlbFVybCk7DQogICAgICAgICAgICB2YXIgbm92ZWxSZXZpZXdzID0gbmV3IE5vdmVsUmV2aWV3cygpOw0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbm92ZWxSZXZpZXdzLmdlbnJlcyA9IFtjb250YWluZXIuZGF0YS5nZW5yZU5hbWVdDQogICAgICAgICAgICBub3ZlbFJldmlldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03MuYXV0aG9yID0gY29udGFpbmVyLmRhdGEuYXV0aG9yUHNldWRvbnltOw0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLnV2b3RlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yA9IGNvbnRhaW5lci5kYXRhLnJhdGluZ0NvdW50cyArICIgLyA1IjsNCiAgICAgICAgICAgIHJldHVybiBuZXcgRGV0YWxpSXRlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgNCiAgICAgICAgICAgICAgICBjb250YWluZXIuZGF0YS5jb3ZlckltZ1VybCwNCiAgICAgICAgICAgICAgICBjb250YWluZXIuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF0YS50aXRsZSwNCiAgICAgICAgICAgICAgICBwYXJzZUh0bWwoY29udGFpbmVyLmRhdGEuc3lub3BzaXMpLmNsZWFuSW5uZXJIVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0E1MKCksDQogICAgICAgICAgICAgICAgbm92ZWxVcmwsDQogICAgICAgICAgICAgICAgY2hhcHRlcnMsDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbm92ZWxSZXZpZXdzLA0KICAgICAgICAgICAgICAgIHRoaXMubmFtZSwNCiAgICAgICAgICAgICAgICB1bmRlZmluZWQsDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICApOw0KICAgICAgICB9LA0KDQoNCiAgICAgICAgZ2V0Q2hhcHRlcjogYXN5bmMgZnVuY3Rpb24gKHVybCkgew0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IGF3YWl0IHRoaXMuY2xlYW5lci5nZXRDbGllbnQodGhpcy5pZCkuR2V0SnNvbih1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mwpOw0KICAgICAgICAgICAgdmFyIGRhdGEgPSBjb250YWluZXIuZGF0YS5jb250ZW50LnNwbGl0KCJcbiIpOw0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgZGF0YSA9IGRhdGEuZmlsdGVyKHggPT4geCAmJiB4Lmxlbmd0aCA+IDApLm1hcCh4ID0+ICI8cD4iICsgeCArICI8L3A+IikuaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m9pbigiIik7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5jbGVhbmVyLmNsZWFuQ2hhcHRlcihwYXJzZUh0bWwoZGF0YSksIHRoaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMubmFtZSk7DQogICAgICAgIH0sDQoNCiAgICAgICAgbGF0ZXN0OiBhc3luYyBmdW5jdGlvbiAocGFnZSkgew0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgdmFyIHVybCA9IHRoaXMubGF0ZXN0VXJsOw0KICAgICAgICAgICAgdmFyIGRhdGEgPSBhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0QMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02xpZW50KHRoaXMuaWQpLnBvc3RKc29uKHVybCwgeyBjb25kaXRpb25Kc29uOiAneyJ0aXRsZSI6IkxhdGVzdCBVcGRhdGVzIixtYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XhTaXplOjE2LCBtb2JpbGVJdGVtczoxMn0nLCBwYWdlTnVtYmVyOiBwYWdlLCBwYWdlU2l6ZTogMjAgfSk7DQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB2YXIgcmVzdWx0ID0gW107DQogICAgICAgICAgICBpZiAoZGF0YS5kYXRhICYmIGRhdGEuZGF0YS5saXN0ICYmIGRhdGEuZGF0YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S5saXN0Lmxlbmd0aCkgew0KICAgICAgICAgICAgICAgIGRhdGEuZGF0YS5saXN0LmZvckVhY2goeCA9PiB7DQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIHJlc3VsdC5wdXNoKA0KICAgICAgICAgICAgICAgICAgICAgICAgbmV3IExpZ2h0SXRlbSgNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICB4LmNvdmVySW1nVXJsLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHgudGl0bGUsDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICAgICAgJycsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgImh0dHBzOi8vYXBpLm15c3RvcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nl3YXZlLmNvbS9zdG9yeS13YXZlLWJhY2tlbmQvYXBpL3YxL2NvbnRlbnQvYm9va3MvIiArIHguaWQsIHRoaXMubmFtZQ0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICAgKSk7DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybiByZXN1bHQ7DQogICAgICAgIH0NCiAgICB9DQogICAgcmV0dXJuIG5ldyBQYXJzZXIoKTsNCn0=&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KICAgIGNvbnN0IHJldHVybk9iamVjdCA9IHt9Ow0KICAgIHJldHVybk9iamVjdC5pZCA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIxLnd1eGlhd29ybGQiOw0KICAgIHJldHVybk9iamVjdC5kZXRhbGlJdGVtVHlwZSA9IERldGFsaUl0ZW1UeXBlLk5vdmVsOw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHJldHVybk9iamVjdC5wYXJzZXJMYW5ndWFnZSA9ICJlbiI7DQogICAgcmV0dXJuT2JqZWN0Lm5hbWUgPSAnV3V4aWF3b3JsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Cc7DQogICAgcmV0dXJuT2JqZWN0LmRpc3BsYXlOYW1lID0gIlctTm92ZWwtV29ybGQiOw0KICAgIHJldHVybk9iamVjdC5sYXRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03RVcmwgPSAnaHR0cHM6Ly93d3cud3V4aWF3b3JsZC5jb20vdXBkYXRlcyc7DQogICAgcmV0dXJuT2JqZWN0LnVybCA9ICdodHRwcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0zovL3d3dy53dXhpYXdvcmxkLmNvbSc7DQogICAgcmV0dXJuT2JqZWN0LnNlYXJjaFVybCA9ICdodHRwczovL3d3dy53dXhpYXdvcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mxkLmNvbS9hcGkvbm92ZWxzL3NlYXJjaCc7DQogICAgcmV0dXJuT2JqZWN0LnBhbmluYXRpb24gPSBmYWxzZTsNCiAgICByZXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m5PYmplY3Quc2VhcmNoUGFnaW5hdGlvbiA9IHRydWU7DQogICAgcmV0dXJuT2JqZWN0Lmljb24gPSAnaHR0cHM6Ly93d3cud3V4aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WF3b3JsZC5jb20vZmF2aWNvbi0zMngzMi5wbmc/dj1qd0VrS1h3OFBZJzsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02V0dGluZ3MgPSBuZXcgUGFyc2VyU2VhcmNoU2V0dGluZ3MoKTsNCiAgICByZXR1cm5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03MubXVsdGlTZWxlY3Rpb24gPSB0cnVlOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZXMgPQ0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHsNCiAgICAgIG11bHRpU2VsZWN0aW9uOiB0cnVlLA0KICAgICAgdmFsdWVzOiBbDQogICAgICAgIG5ldyBsYWJlbFZhbHVlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CdBY3Rpb24nKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0NoZWF0IFN5c3RlbXMnKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUoJ0Nvb2tpbmcnKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0FsY2hlbXknKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU00NyYWZ0aW5nJyksDQogICAgICAgIG5ldyBsYWJlbFZhbHVlKCdDb21lZHknKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0ZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRhc3knKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0hhcmVtJyksDQogICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNYXR1cmUnKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0tpbmdkb20gQnVpbGRpbmcnKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ01vZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVybiBTZXR0aW5nJyksDQogICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNeXN0ZXJ5JyksDQogICAgICAgIG5ldyBsYWJlbFZhbHVlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CdQb2xpdGljYWwgSW50cmlndWUnKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1BldHMnKSwNCiAgICAgICAgbmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoJ1Bvc3QtYXBvY2FseXB0aWMnKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1JvbWFuY2UnKSwNCiAgICAgICAgbmV3IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxhYmVsVmFsdWUoJ0ZlbWFsZSBQcm90YWdvbmlzdCcpLA0KICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU2NpLWZpJyksDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCdUaHJpbGxlcicpLA0KICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU3VwZXJwb3dlcnMnKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbmV3IGxhYmVsVmFsdWUoJ1RyYWdlZHknKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1ZpcnR1YWwgUmVhbGl0eScpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnWGlhbnhpYScpLA0KICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnV3V4aWEnKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbmV3IGxhYmVsVmFsdWUoJ1h1YW5odWFuJyksDQogICAgICAgIG5ldyBsYWJlbFZhbHVlKCdFc3BvcnRzJyksDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCdDdWx0aXZhdGlvbicpLA0KICAgICAgXSwNCiAgICB9Ow0KDQogICAgcmV0dXJuT2JqZWN0LnBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlclNlYXJjaFNldHRpbmdzLmxhbmd1YWdlcyA9DQogICAgew0KICAgICAgbXVsdGlTZWxlY3Rpb246IGZhbHNlLA0KICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWVzOiBbDQogICAgICAgIG5ldyBsYWJlbFZhbHVlKCdBbnknKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0NoaW5lc2UnKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0VuZ2xpc2gnKSwNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0tvcmVhbicpLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgXSwNCiAgICB9Ow0KDQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLnN0YXR1c2VzID0NCiAgICB7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICBtdWx0aVNlbGVjdGlvbjogZmFsc2UsDQogICAgICB2YWx1ZXM6IFsNCiAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0FueMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ScsIG51bGwpLA0KICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnT25nb2luZycsIHRydWUpLA0KICAgICAgICBuZXcgbGFiZWxWYWx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgnQ29tcGxldGVkJywgZmFsc2UpLA0KICAgICAgXSwNCiAgICB9Ow0KDQogICAgcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRpbmdzLnNvcnRUeXBlcyA9DQogICAgew0KICAgICAgbXVsdGlTZWxlY3Rpb246IGZhbHNlLA0KICAgICAgdmFsdWVzOiBbDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5ldyBsYWJlbFZhbHVlKCdOYW1lJyksDQogICAgICAgIG5ldyBsYWJlbFZhbHVlKCdQb3B1bGFyJyksDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBsYWJlbFZhbHVlKCdDaGFwdGVycycpLA0KICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTmV3JyksDQogICAgICAgIG5ldyBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJlbFZhbHVlKCdSYXRpbmcnKSwNCiAgICAgIF0sDQogICAgfTsNCg0KDQogICAgcmV0dXJuT2JqZWN0LmdldFNlY3Rpb25zID0gKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GtleXMpID0+IHsNCiAgICAgICAgdmFyIHNlY3Rpb25zID0gWw0KICAgICAgICAgIG5ldyBTZWN0aW9uKCJsYXRlc3QiLCAiTGF0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XN0IFVwZGF0ZSIsICJMYXRlc3QiLCB0cnVlKSwNCiAgICAgICAgICBuZXcgU2VjdGlvbigibmV3IiwgIk5ldyBOb3ZlbCIsICJTZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFyY2giLCBmYWxzZSwgSHR0cENsaWVudC5jbG9uZUl0ZW0ocmV0dXJuT2JqZWN0LmRlZmF1bHRGaWx0ZXIoKSwgeyBzb3J0VHlwZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TogIk5ldyIgfSkpLA0KICAgICAgICAgIG5ldyBTZWN0aW9uKCJwb3B1bGFyIiwgIlBvcHVsYXIgTm92ZWwiLCAiU2VhcmNoIiwgZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsc2UsIEh0dHBDbGllbnQuY2xvbmVJdGVtKHJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyKCksIHsgc29ydFR5cGU6ICJQb3B1bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFyIiB9KSksDQogICAgICAgICAgbmV3IFNlY3Rpb24oImNvbXBsZXRlZCIsICJDb21wbGV0ZWQgTm92ZWwiLCAiU2VhcmNoIiwgZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsc2UsIEh0dHBDbGllbnQuY2xvbmVJdGVtKHJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyKCksIHsgYWN0aXZlOiBmYWxzZSB9KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SkNCiAgICAgICAgXQ0KICAgIA0KICAgICAgICByZXR1cm4gc2VjdGlvbnMuZmlsdGVyKHggPT4gIWtleXMgfHwga2V5cy5pbmNsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WRlcyh4Lm5hbWUpKTsNCiAgICAgIH0NCiAgICANCiAgICAgIHJldHVybk9iamVjdC50cmFuc2xhdGVTZWN0aW9uID0gYXN5bmMgKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HNlY3Rpb24sIHBhZ2UpID0+IHsNCiAgICAgICAgaWYgKHNlY3Rpb24uaWRlbnRpZmllciA9PSAiTGF0ZXN0IikNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CByZXR1cm4gYXdhaXQgcmV0dXJuT2JqZWN0LmxhdGVzdChwYWdlKTsNCiAgICAgICAgZWxzZQ0KICAgICAgICAgIHJldHVybiBhdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02FpdCByZXR1cm5PYmplY3Quc2VhcmNoKHNlY3Rpb24uZmlsdGVyIHx8IHJldHVybk9iamVjdC5kZWZhdWx0RmlsdGVyKCksIHBhZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02UpOw0KICAgICAgfQ0KICAgIA0KICAgICAgcmV0dXJuT2JqZWN0LmRlZmF1bHRGaWx0ZXIgPSAoKSA9PiB7DQogICAgICAgIHZhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iBmaWx0ZXIgPSBuZXcgRmlsdGVyKCk7DQogICAgICAgIGZpbHRlci5sYW5ndWFnZSA9IHJldHVybk9iamVjdC5wYXJzZXJTZWFyYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02hTZXR0aW5ncy5sYW5ndWFnZXMudmFsdWVzLmZpbmRBdCgwKS52YWx1ZTsNCiAgICAgICAgZmlsdGVyLnNvcnRUeXBlID0gcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLnNvcnRUeXBlcy52YWx1ZXMuZmluZEF0KDApLnZhbHVlOw0KICAgICAgICBmaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx0ZXIuYWN0aXZlID0gcmV0dXJuT2JqZWN0LnBhcnNlclNlYXJjaFNldHRpbmdzLnN0YXR1c2VzLnZhbHVlcy5maW5kQXQoMCkudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWU7DQogICAgICAgIHJldHVybiBmaWx0ZXI7DQogICAgICB9DQogICAgDQogICAgICByZXR1cm5PYmplY3Quc2VhcmNoID0gYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XN5bmMgKGZpbHRlciwgcGFnZSk9PiB7DQogICAgICAgIHZhciBkYXRhID0gYXdhaXQgSHR0cENsaWVudC5wb3N0SnNvbihyZXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m5PYmplY3Quc2VhcmNoVXJsLCBmaWx0ZXIpOw0KICAgICAgICByZXR1cm4gZGF0YSAmJiBkYXRhLml0ZW1zDQogICAgICAgICAgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBkYXRhLml0ZW1zLmZpbHRlcigoeCkgPT4gIXguc25lYWtQZWVrKS5tYXAoDQogICAgICAgICAgICAoeCkgPT4NCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbmV3IExpZ2h0SXRlbSgNCiAgICAgICAgICAgICAgICB4LmNvdmVyVXJsLA0KICAgICAgICAgICAgICAgIHgubmFtZSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICB4LnN5bm9wc2lzLA0KICAgICAgICAgICAgICAgIHguc2x1Zy51cmkoJ2h0dHBzOi8vd3d3Lnd1eGlhdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029ybGQuY29tL25vdmVsLycpLCByZXR1cm5PYmplY3QubmFtZQ0KICAgICAgICAgICAgICApLA0KICAgICAgICAgICkNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICA6IFtdOw0KICAgICAgfQ0KICAgIA0KICAgICAgcmV0dXJuT2JqZWN0LmdldE5vdmVsPSBhc3luYyAobm92ZWxVcmwpID0+IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HsNCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudC5nZXRIdG1sKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5vdmVsVXJsKSk7DQogICAgICAgIGNvbnNvbGUubG9nKGNvbnRhaW5lci5vdXRlckhUTUwoKSk7DQogICAgICAgIHZhciBjaGFwdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVycyA9IFtdOw0KICAgICAgICBjb250YWluZXIuZmluZCgnYScpLnNlYXJjaCh4PT4geC5hdHRyKCJocmVmIikudGV4dCgpLmluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GV4T2YoIi9ub3ZlbCIpKS5mb3JFYWNoKCh4KSA9PiB7DQogICAgICAgICAgY2hhcHRlcnMucHVzaCgNCiAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBDaGFwdGVyKA0KICAgICAgICAgICAgICB4LnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgICB4LmF0dHIoImhyZWYiKS51cmwoKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Q0KICAgICAgICAgICAgKSwNCiAgICAgICAgICApOw0KICAgICAgICB9KTsNCiAgICANCiAgICAgICAgdmFyIGluZm9zID0gY29udMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFpbmVyLnNlbGVjdCgiLmxvYWRpbmctY29udGFpbmVyPiBkaXY6Zmlyc3QtY2hpbGQiKTsNCiAgICAgICAgdmFyIG5vdmVsUmV2aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WV3cyA9IG5ldyBOb3ZlbFJldmlld3MoKTsNCiAgICANCiAgICAgICAgdmFyIG5vZGUgPSBjb250YWluZXIuc2VsZWN0KCIubm92ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WwtYm9keSIpOw0KICAgIA0KICAgICAgICBub3ZlbFJldmlld3MuZ2VucmVzID0gY29udGFpbmVyLmZpbmQoJy5nZW5yZXMgYScpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRleHRBcnJheSgpOw0KICAgICAgICB2YXIgYXV0aG9yID0gbm9kZS5zZWxlY3QoImR0OmNvbnRhaW5zKEF1dGhvcikiKQ0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBub3ZlbFJldmlld3MuYXV0aG9yID0gYXV0aG9yLmNsb3Nlc3QoImRpdiIpLmZpbmQoImRkIikudGV4dChmYWxzZSk7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHJldHVybiBuZXcgRGV0YWxpSXRlbSgNCiAgICAgICAgICBpbmZvcy5zZWxlY3QoJ2ltZycpLmF0dHIoInNyYyIpLnVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CgpLA0KICAgICAgICAgIGluZm9zLnNlbGVjdCgnaDEnKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICBjb250YWluZXIuZmluZCgnLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m5vdmVsLWJvdHRvbSA+ZGl2JykuZXEoMSkuY2xlYW5Jbm5lckhUTUwoKSwNCiAgICAgICAgICBub3ZlbFVybCwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBjaGFwdGVycywNCiAgICAgICAgICBub3ZlbFJldmlld3MsDQogICAgICAgICAgcmV0dXJuT2JqZWN0Lm5hbWUsDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ck7DQogICAgICB9DQogICAgDQogICAgICByZXR1cm5PYmplY3QuZ2V0Q2hhcHRlcj0gYXN5bmMgKHVybCkgPT4gew0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CByZXR1cm4gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBuZXcgY2xpZW50KCkuZ2V0SHRtbCh1cmwpKS5zZWxlY3QoJyNjaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFwdGVyLWNvbnRlbnQnKS5jbGVhbklubmVySFRNTCgpOw0KICAgICAgfQ0KICAgIA0KICAgICAgcmV0dXJuT2JqZWN0LmxhdGVzdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0gYXN5bmMgKHBhZ2UpID0+ew0KICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRwQ2xpZW50LmdldEh0bWwocmV0dXJuT2JqZWN0LmxhdGVzdFVybCkpOw0KICAgICAgICByZXR1cm4gY29udGFpbmVyLmZpbmQoJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5zZWN0aW9uLWNvbnRlbnQgLnRpdGxlIGEnKS5tYXAoKHgpID0+IHsNCiAgICAgICAgICByZXR1cm4gbmV3IExpZ2h0SXRlbShhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03luYyAoKSA9PiB7DQogICAgICAgICAgICB2YXIgZWxlbSA9IHJldHVybk9iamVjdC5wYXJzZXIuanEoYXdhaXQgSHR0cENsaWVudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5nZXRIdG1sKHguYXR0cignaHJlZicpLnVybCgpLCB0cnVlKSkNCiAgICAgICAgICAgIHJldHVybiBlbGVtLnNlbGVjdCgiLmltZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y10aHVtYm5haWwiKS5hdHRyKCJzcmMiKS51cmwoKTsNCiAgICAgICAgICB9LCB4LnRleHQoZmFsc2UpLCAnJywgeC5hdHRyKCdocMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVmJykudXJsKCksIHJldHVybk9iamVjdC5uYW1lKTsNCiAgICAgICAgfSk7DQogICAgICB9DQoNCiAgICByZXR1cm4gcmV0dXJuTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02JqZWN0Ow0KfTs=&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KICAgIGNvbnN0IHJldHVybk9iamVjdCA9IHt9Ow0KICAgIHJldHVybk9iamVjdC5pZCA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIxLnd1eGlhd29ybGRfc2l0ZSI7DQogICAgcmV0dXJuT2JqZWN0LmRldGFsaUl0ZW1UeXBlID0gRGV0YWxpSXRlbVR5cGUuTm92ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ww7DQogICAgcmV0dXJuT2JqZWN0LnBhcnNlckxhbmd1YWdlID0gImVuIjsNCiAgICByZXR1cm5PYmplY3QubmFtZSA9ICdXdXhpYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XdvcmxkLlNpdGUnOw0KICAgIHJldHVybk9iamVjdC5kaXNwbGF5TmFtZSA9ICJXLU5vdmVsLVMiOw0KICAgIHJldHVybk9iamVjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5sYXRlc3RVcmwgPSAnaHR0cHM6Ly93dXhpYXdvcmxkLnNpdGUvcGFnZS97cH0vJzsNCiAgICByZXR1cm5PYmplY3QudXJsID0gJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02h0dHBzOi8vd3V4aWF3b3JsZC5zaXRlJzsNCiAgICByZXR1cm5PYmplY3Quc2VhcmNoVXJsID0gJ2h0dHBzOi8vd3V4aWF3b3JsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5zaXRlL3dwLWFkbWluL2FkbWluLWFqYXgucGhwJzsNCiAgICByZXR1cm5PYmplY3QucGFuaW5hdGlvbiA9IHRydWU7DQogICAgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuT2JqZWN0LnNlYXJjaFBhZ2luYXRpb24gPSB0cnVlOw0KICAgIHJldHVybk9iamVjdC5pY29uID0gJ2h0dHBzOi8vd3V4aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WF3b3JsZC5iLWNkbi5uZXQvd3AtY29udGVudC91cGxvYWRzLzIwMTkvMDQvZmF2aWNvbi0xLmljbyc7DQoNCiAgICByZXR1cm5PYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3MgPSBuZXcgUGFyc2VyU2VhcmNoU2V0dGluZ3MoKTsNCiAgICByZXR1cm5PYmplY3QucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFyc2VyU2VhcmNoU2V0dGluZ3MubXVsdGlTZWxlY3Rpb24gPSB0cnVlOw0KICAgIHJldHVybk9iamVjdC5wYXJzZXJTZWFyY2hTZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR0aW5ncy5nZW5yZXMgPQ0KICAgIHsNCiAgICAgICAgbXVsdGlTZWxlY3Rpb246IHRydWUsDQogICAgICAgIHZhbHVlczogWw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0FjdGlvbicsICJhY3Rpb24iKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CdBZHVsdCcsICJhZHVsdCIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkRyYW1hIiwgImRyYW1hIiksDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBuZXcgbGFiZWxWYWx1ZSgiRWNjaGkiLCAiZWNjaGkiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdBZHZlbnR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mUnLCAiYWR2ZW50dXJlIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiR2VuZGVyIEJlbmRlciIsICJnZW5kZXItYmVuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVyIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiSGlzdG9yaWNhbCIsICJoaXN0b3JpY2FsIiksDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBuZXcgbGFiZWxWYWx1ZSgiSG9ycm9yIiwgImhvcnJvciIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIklzZWthaSIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJpc2VrYWkiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJKb3NlaSIsICJqb3NlaSIpLA0KICAgICAgICAgICAgbmV3IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxhYmVsVmFsdWUoIkxHQlQrIiwgImxnYnQiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJNYWdpY2FsIFJlYWxpc20iLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAibWFnaWNhbC1yZWFsaXNtIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTWFuaHdhIiwgIm1hbmh3YSIpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbmV3IGxhYmVsVmFsdWUoIk1hcnRpYWwgQXJ0cyIsICJtYXJ0aWFsLWFydHMiKSwNCiAgICAgICAgICAgIG5ldyBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJlbFZhbHVlKCJNYXR1cmUiLCAibWF0dXJlIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTWVjaGEiLCAibWVjaGEiKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJQc3ljaG9sb2dpY2FsIiwgInBzeWNob2xvZ2ljYWwiKSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCJSZWluY2FybmF0aW9uIiwgInJlaW5jYXJuYXRpb24iKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FZhbHVlKCJTY2hvb2wgTGlmZSIsICJzY2hvb2wtbGlmZSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNlaW5lbiIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJzZWluZW4iKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTaG91am8iLCAic2hvdWpvIiksDQogICAgICAgICAgICBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgbGFiZWxWYWx1ZSgiU2hvdWpvLUFpIiwgInNob3Vqby1haSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNob3VuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W4iLCAic2hvdW5lbiIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNob3VuZW4tQWkiLCAic2hvdW5lbi1haSIpLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNsaWNlIG9mIExpZmUiLCAic2xpY2Utb2YtbGlmZSIpLA0KICAgICAgICAgICAgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV3IGxhYmVsVmFsdWUoIlNtdXQiLCAic211dCIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlN1cGVybmF0dXJhbCIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJzdXBlcm5hdHVyYWwiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJUaHJpbGxlciIsICJ0aHJpbGxlciIpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlRlZW4iLCAidGVlbiIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlZpZGVvIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EdhbWVzIiwgInZpZGVvLWdhbWVzIiksDQogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiV2ViY29taWNzIiwgIndlYmNvbWljcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0NvbWVkeScsICJjb21lZHkiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FZhbHVlKCdGYW50YXN5JywgImZhbnRhc3kiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdIYXJlbScsICJoYXJlbS1ubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03ZlbCIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1lhb2knLCAieWFvaSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoIll1cmkiLCAieXVyaSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0tpbmdkb20gQnVpbGRpbmcnKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNb2Rlcm4gU2V0dGluZycpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ015cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03RlcnknLCAibXlzdGVyeSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1JvbWFuY2UnLCAicm9tYW5jZSIpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1NjaS1maScsICJzY2ktZmkiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdUcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFnZWR5JywgInRyYWdlZHkiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdWaXJ0dWFsIFJlYWxpdHknKSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5ldyBsYWJlbFZhbHVlKCdYaWFueGlhJywgInhpYW54aWEiKSwNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdXdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XhpYScsICJ3dXhpYSIpLA0KICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1h1YW5odWFuJywgInh1YW5odWFuIiksDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU3BvcnRzJywgInNwb3J0cyIpLA0KICAgICAgICBdLA0KICAgIH07DQoNCiAgICByZXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m5PYmplY3QucGFyc2VyU2VhcmNoU2V0dGluZ3Muc3RhdHVzZXMgPQ0KICAgIHsNCiAgICAgICAgbXVsdGlTZWxlY3Rpb246IGZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HNlLA0KICAgICAgICB2YWx1ZXM6IFsNCiAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdPbmdvaW5nJywgIm9uLWdvaW5nIiksDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnQ29tcGxldGVkJywgImVuZCIpLA0KICAgICAgICBdLA0KICAgIH07DQoNCg0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHJldHVybk9iamVjdC5nZXRTZWN0aW9ucyA9IChrZXlzKSA9PiB7DQogICAgICAgIHZhciBzZWN0aW9ucyA9IFsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5ldyBTZWN0aW9uKCJsYXRlc3QiLCAiTGF0ZXN0IFVwZGF0ZSIsICJMYXRlc3QiLCB0cnVlKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBTZWN0aW9uKCJtYW5nYSIsICJDb21pY3MiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIoWyJ3ZWJjb21pY3MiXSkpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgbmV3IFNlY3Rpb24oImFjdGlvbiIsICJBY3Rpb24gTm92ZWwiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx0ZXIoWyJhY3Rpb24iXSkpLA0KICAgICAgICAgICAgbmV3IFNlY3Rpb24oImFkdWx0IiwgIkFkdWx0IE5vdmVsIiwgIlNlYXJjaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIsIGZhbHNlLCBuZXcgRmlsdGVyKFsiYWR1bHQiXSkpLA0KICAgICAgICAgICAgbmV3IFNlY3Rpb24oInJvbWFuY2UiLCAiUm9tYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5jZSBOb3ZlbCIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcihbInJvbWFuY2UiXSkpLA0KICAgICAgICAgICAgbmV3IFNlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03Rpb24oImRyYW1hIiwgIkRyYW1hIE5vdmVsIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKFsiZHJhbWEiXSkpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbmV3IFNlY3Rpb24oImNvbXBsZXRlZCIsICJDb21wbGV0ZWQgTm92ZWwiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx0ZXIodW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgImVuZCIpKQ0KICAgICAgICBdDQoNCiAgICAgICAgcmV0dXJuIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HNlY3Rpb25zLmZpbHRlcih4ID0+ICFrZXlzIHx8IGtleXMuaW5jbHVkZXMoeC5uYW1lKSk7DQogICAgfQ0KDQogICAgcmV0dXJuTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02JqZWN0LnRyYW5zbGF0ZVNlY3Rpb24gPSBhc3luYyAoc2VjdGlvbiwgcGFnZSkgPT4gew0KICAgICAgICB0cnkgew0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgaWYgKHNlY3Rpb24uaWRlbnRpZmllciA9PSAiTGF0ZXN0IikNCiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuT2JqZWN0LmxhdGVzdChwYWdlKTsNCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuT2JqZWN0LnNlYXJjaChzZWN0aW9uLmZpbHRlciB8fCByZXR1cm5PYmplY3QuZGVmYXVsdEZpbHRlcigpLCBwYWdlKTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQ0KICAgICAgICAgICAgcmV0dXJuIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FtdOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmRlZmF1bHRGaWx0ZXIgPSAoKSA9PiB7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybiBuZXcgRmlsdGVyKCk7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmdldFR5cGUgPSAodXJsKSA9PiB7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHZhciB1cmwgPSB1cmwudG9Mb3dlckNhc2UoKTsNCiAgICAgICAgaWYgKHVybC5pbmRleE9mKCJtYW5nYSIpICE9IC0xIHx8IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybC5pbmRleE9mKCJjb21pYyIpICE9IC0xIHx8IHVybC5pbmRleE9mKCJjb21pY3MiKSAhPSAtMSB8fCB1cmwuaW5kZXhPZigidMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02ViY29taWNzIikgIT0gLTEpDQogICAgICAgICAgICByZXR1cm4gRGV0YWxpSXRlbVR5cGUuTWFuYWdhOw0KICAgICAgICByZXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m4gRGV0YWxpSXRlbVR5cGUuTm92ZWw7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmdldEJ5R2VucmVzID0gYXN5bmMgKGZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlciwgcGFnZSkgPT4gew0KICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgIHZhciBhZHZhbmNlZFNlYWNoVXJsID0gIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mh0dHBzOi8vd3V4aWF3b3JsZC5zaXRlL3BhZ2UvIitwYWdlKyIvP3M9JnBvc3RfdHlwZT13cC1tYW5nYSZ7Z30mb3AmYXV0aG9yJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFydGlzdCZyZWxlYXNlJmFkdWx0JntzfSINCiAgICAgICAgaWYgKGZpbHRlci5nZW5yZXMubGVuZ3RoID4gMCkNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIGFkdmFuY2VkU2VhY2hVcmwgPSBhZHZhbmNlZFNlYWNoVXJsLnJlcGxhY2UoIntnfSIsIGZpbHRlci5nZW5yZXMubWFwKHggPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0T4gImdlbnJlJTVCJTVEPSIgK3gpLmpvaW4oIiYiKSkNCiAgICAgICAgZWxzZSBhZHZhbmNlZFNlYWNoVXJsID0gYWR2YW5jZWRTZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFjaFVybC5yZXBsYWNlKCIme2d9IiwgIiIpDQoNCiAgICAgICAgaWYgKGZpbHRlci5hY3RpdmUgJiYgZmlsdGVyLmFjdGl2ZSAhPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SAiIikNCiAgICAgICAgICAgIGFkdmFuY2VkU2VhY2hVcmwgPSBhZHZhbmNlZFNlYWNoVXJsLnJlcGxhY2UoIntzfSIsIGZpbHRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5hY3RpdmUpOw0KICAgICAgICBlbHNlIGFkdmFuY2VkU2VhY2hVcmwgPSBhZHZhbmNlZFNlYWNoVXJsLnJlcGxhY2UoIiZ7c30iLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAiIik7DQogICAgICAgIHZhciBjb250YWluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRtbChhZHZhbmNlZFNlYWNoVXJsKSk7DQogICAgICAgIGNvbnRhaW5lci5maW5kKCIuYy10YWJzLWl0ZW1fX2NvbnRlbnQiKS5mbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03JFYWNoKHggPT4gew0KICAgICAgICAgICAgcmVzdWx0LnB1c2goDQogICAgICAgICAgICAgICAgbmV3IExpZ2h0SXRlbSgNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgeC5zZWxlY3QoIi50YWItdGh1bWIgaW1nIikuYXR0cigic3JjIHwgc3Jjc2V0IikudXJsKCksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgIHguc2VsZWN0KCIudGFiLXRodW1iIGEiKS5hdHRyKCJ0aXRsZSIpLnRleHQoKSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIiIsDQogICAgICAgICAgICAgICAgICAgIHguc2VsZWN0KCIudGFiLXRodW1iIGEiKS5hdHRyKCJocmVmIikudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJsKCksDQogICAgICAgICAgICAgICAgICAgIHJldHVybk9iamVjdC5uYW1lLA0KICAgICAgICAgICAgICAgICAgICByZXR1cm5PYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mplY3QuZ2V0VHlwZSh4LnNlbGVjdCgiLnRhYi10aHVtYiBhIikuYXR0cigiaHJlZiIpLnVybCgpKQ0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CkNCiAgICAgICAgICAgICkNCiAgICAgICAgfSkNCiAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICB9DQoNCg0KICAgIHJldHVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0k9iamVjdC5zZWFyY2ggPSBhc3luYyAoZmlsdGVyLCBwYWdlKSA9PiB7DQogICAgICAgIGlmICghZmlsdGVyLnRpdGxlKQ0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBmaWx0ZXIudGl0bGUgPSIiOw0KICAgICAgICBpZiAoKGZpbHRlci50aXRsZS5pc0VtcHR5T3JTcGFjZXMoKSkgJiYgKGZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlci5nZW5yZXMubGVuZ3RoID4gMCB8fCAoIWZpbHRlci5hY3RpdmUgJiYgZmlsdGVyLmFjdGl2ZSAhPSAiIikpKQ0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgcmV0dXJuIGF3YWl0IHJldHVybk9iamVjdC5nZXRCeUdlbnJlcyhmaWx0ZXIsIHBhZ2UpOw0KDQogICAgICAgIGlmIChmaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx0ZXIudGl0bGUuaXNFbXB0eU9yU3BhY2VzKCkpDQogICAgICAgICAgICByZXR1cm4gW107DQoNCg0KICAgICAgICB2YXIganNvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iA9IGF3YWl0IEh0dHBDbGllbnQucG9zdEZvcm0ocmV0dXJuT2JqZWN0LnNlYXJjaFVybCwgeyBhY3Rpb246ICJ3cC1tYW5nYS1zZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFyY2gtbWFuZ2EiLCB0aXRsZTogZmlsdGVyLnRpdGxlIH0pOw0KDQogICAgICAgIGlmIChqc29uICYmIGpzb24uZGF0YSAmJiBqcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029uLmRhdGEubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgcmV0dXJuIGpzb24uZGF0YS5tYXAoeCA9PiB7DQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgcmV0dXJuIG5ldyBMaWdodEl0ZW0oDQogICAgICAgICAgICAgICAgICAgIGFzeW5jICgpID0+IChhd2FpdCByZXR1cm5PYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mplY3QuZ2V0Tm92ZWwoeC51cmwudXJpKHJldHVybk9iamVjdC51cmwpLCB0cnVlKSkuaW1hZ2UsDQogICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHgudGl0bGUsDQogICAgICAgICAgICAgICAgICAgICIiLA0KICAgICAgICAgICAgICAgICAgICB4LnVybC51cmkocmV0dXJuTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02JqZWN0LnVybCksDQogICAgICAgICAgICAgICAgICAgIHJldHVybk9iamVjdC5uYW1lLA0KICAgICAgICAgICAgICAgICAgICByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1cm5PYmplY3QuZ2V0VHlwZSh4LnR5cGUgfHwgeC51cmwpDQogICAgICAgICAgICAgICAgKQ0KICAgICAgICAgICAgfSkNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgfQ0KICAgICAgICByZXR1cm4gW107DQoNCiAgICB9DQoNCiAgICByZXR1cm5PYmplY3QuZ2V0Q2hhcHRlcnMgPSBhc3luYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yAoY29udGFpbmVyKSA9PiB7DQogICAgICAgIHZhciB1cmwgPSAiaHR0cHM6Ly93dXhpYXdvcmxkLnNpdGUvd3AtYWRtaW4vYWRtaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W4tYWpheC5waHAiOw0KICAgICAgICB2YXIgY2hhcHRlcnMgPSBjb250YWluZXIuc2VsZWN0KCIubGlzdGluZy1jaGFwdGVyc193cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFwIikuaGFzRWxlbWVudCgpICYmIGNvbnRhaW5lci5maW5kKCIubGlzdGluZy1jaGFwdGVyc193cmFwIGEiKS5sZW5ndGgoKSA+IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0DEgPyBjb250YWluZXIuZmluZCgiLmxpc3RpbmctY2hhcHRlcnNfd3JhcCBhIikgOiByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wl0IEh0dHBDbGllbnQucG9zdEZvcm0odXJsLCB7IGFjdGlvbjogIm1hbmdhX2dldF9jaGFwdGVycyIsIG1hbmdhOiBjb250YWluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIuc2VsZWN0KCIucmF0aW5nLXBvc3QtaWQiKS5hdHRyKCJ2YWx1ZSIpLnRleHQoKSB9KSkuZmluZCgiYSIpOw0KICAgICAgICByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XR1cm4gY2hhcHRlcnMubWFwKCh4KSA9PiB7DQogICAgICAgICAgICByZXR1cm4gbmV3IENoYXB0ZXIoDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgeC50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgICB4LmF0dHIoImhyZWYiKS51cmwoKQ0KICAgICAgICAgICAgKTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgfSk7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmdldE5vdmVsID0gYXN5bmMgKG5vdmVsVXJsLCBpZ25vcmVDaGFwdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVycykgPT4gew0KICAgICAgICB2YXIgY29udGFpbmVyID0gcmV0dXJuT2JqZWN0LnBhcnNlci5qcShhd2FpdCBIdHRwQ2xpZW50LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mdldEh0bWwobm92ZWxVcmwsIGlnbm9yZUNoYXB0ZXJzKSk7DQogICAgICAgIHZhciBjaGFwdGVycyA9IFtdOw0KICAgICAgICBpZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAoIWlnbm9yZUNoYXB0ZXJzKSB7DQogICAgICAgICAgICBjaGFwdGVycyA9IGF3YWl0IHJldHVybk9iamVjdC5nZXRDaGFwdGVycMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yhjb250YWluZXIpOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG5vdmVsUmV2aWV3cyA9IG5ldyBOb3ZlbFJldmlld3MoKTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgaWYgKCFpZ25vcmVDaGFwdGVycykgew0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLnV2b3RlcyA9IGNvbnRhaW5lcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5zZWxlY3QoIi52b3RlLWRldGFpbHMiKS5yZW1vdmUoJ1twcm9wZXJ0eT0iaXRlbVJldmlld2VkIl0nKS50ZXh0KGZhbHNlKTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIG5vdmVsUmV2aWV3cy5hdXRob3IgPSBjb250YWluZXIuZmluZCgiLmF1dGhvci1jb250ZW50IGEiKS50ZXh0KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GZhbHNlKTsNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cy5nZW5yZXMgPSBjb250YWluZXIuZmluZCgiLmdlbnJlcy1jb250ZW50IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GEiKS50ZXh0QXJyYXkoKTsNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cy5jb21wbGV0ZWQgPSBjb250YWluZXIuZmluZCgiLnBvcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03QtY29udGVudF9pdGVtIikud2hlcmUoeCA9PiB4LmlubmVySFRNTCgpLmluZGV4T2YoIkNvbXBsZXRlZCIpICE9IC0xKS5oYXNFbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVtZW50KCkgPyAiU3RhdHVzOkNvbXBsZXRlZCIgOiAiU3RhdHVzOk9uZ29pbmciOw0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mRlc2NyaXB0aW9uID0gY29udGFpbmVyLnNlbGVjdCgiLmRlc2NyaXB0aW9uLXN1bW1hcnkiKS5jbGVhbklubmVySFRNTCgpOw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIG5ldyBEZXRhbGlJdGVtKA0KICAgICAgICAgICAgY29udGFpbmVyLnNlbGVjdCgnLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nN1bW1hcnlfaW1hZ2UgaW1nJykuYXR0cigic3JjIHwgc3Jjc2V0IikudXJsKCksDQogICAgICAgICAgICBjb250YWluZXIuc2VsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0KCcucG9zdC10aXRsZScpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLmRlc2NyaXB0aW9uIHx8ICIiLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgbm92ZWxVcmwsDQogICAgICAgICAgICBjaGFwdGVycy5yZXZlcnNlKCksDQogICAgICAgICAgICBub3ZlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FJldmlld3MsDQogICAgICAgICAgICByZXR1cm5PYmplY3QubmFtZSwNCiAgICAgICAgICAgICIiLA0KICAgICAgICAgICAgcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuT2JqZWN0LmdldFR5cGUobm92ZWxVcmwpDQogICAgICAgICk7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZWN0LmdldENoYXB0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIgPSBhc3luYyAodXJsKSA9PiB7DQogICAgICAgIHZhciBjb250YWluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLmpxKGF3YWl0IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBjbGllbnQoKS5nZXRIdG1sKHVybCkpLnJlbW92ZSgic2NyaXB0IikucmVtb3ZlKCJzdHlsZSIpOw0KICAgICAgICB2YXIgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVzdWx0ID0gIiI7DQogICAgICAgIGlmIChyZXR1cm5PYmplY3QuZ2V0VHlwZSh1cmwpID09PSBEZXRhbGlJdGVtVHlwZS5NYW5hZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02EpDQogICAgICAgICAgICByZXN1bHQgPSBjb250YWluZXIuZmluZCgiLnJlYWRpbmctY29udGVudCBpbWciKS5tYXAoeCA9PiB4LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mF0dHIoInNyYyIpLmhhc1ZhbHVlKCkgPyB4LmF0dHIoInNyYyIpLnVybCgpIDogIiIpLmZpbHRlcih4ID0+ICF4LmlzRW1wdHlPcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0lNwYWNlcygpKTsNCiAgICAgICAgZWxzZQ0KICAgICAgICAgICAgcmVzdWx0ID0gY29udGFpbmVyLnNlbGVjdCgiLnJlYWRpbmctYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029udGVudCIpLmNsZWFuSW5uZXJIVE1MKCk7DQogICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgfQ0KDQogICAgcmV0dXJuT2JqZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0LmxhdGVzdCA9IGFzeW5jIChwYWdlKSA9PiB7DQogICAgICAgIHZhciBjb250YWluZXIgPSByZXR1cm5PYmplY3QucGFyc2VyLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mpxKGF3YWl0IEh0dHBDbGllbnQuZ2V0SHRtbChyZXR1cm5PYmplY3QubGF0ZXN0VXJsLnJlcGxhY2UoIntwfSIsIHBhZ2UudG9TdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJpbmcoKSkpKTsNCg0KICAgICAgICByZXR1cm4gY29udGFpbmVyLmZpbmQoIi5wYWdlLWl0ZW0tZGV0YWlsIikubWFwKHggPT4geMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICAgICAgcmV0dXJuIG5ldyBMaWdodEl0ZW0oDQogICAgICAgICAgICAgICAgeC5zZWxlY3QoImltZyIpLmF0dHIoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNyYyB8IHNyY3NldCIpLnVybCgpLA0KICAgICAgICAgICAgICAgIHguc2VsZWN0KCIucG9zdC10aXRsZSBhIikudGV4dCgpLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICIiLA0KICAgICAgICAgICAgICAgIHguc2VsZWN0KCIucG9zdC10aXRsZSBhIikuYXR0cigiaHJlZiIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nVybCgpLA0KICAgICAgICAgICAgICAgIHJldHVybk9iamVjdC5uYW1lLA0KICAgICAgICAgICAgICAgIHJldHVybk9iamVjdC5nZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRUeXBlKHguc2VsZWN0KCIucG9zdC10aXRsZSBhIikuYXR0cigiaHJlZiIpLnVybCgpKQ0KICAgICAgICAgICAgKQ0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB9KQ0KICAgIH0NCg0KDQogICAgcmV0dXJuIHJldHVybk9iamVjdDsNCn07&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KDQogICAgZnVuY3Rpb24gUGFyc2VyKCkgew0KICAgICAgICB0aGlzLmNsZWFuZXIgPSBwbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVnaW5zLmZpbmQoeCA9PiB4Lm5hbWUgPT0gIkNsZWFuZXIiKTsNCg0KICAgICAgICB0aGlzLmlkID0gIjEuemlubm92ZWwiOw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB0aGlzLmRldGFsaUl0ZW1UeXBlID0gRGV0YWxpSXRlbVR5cGUuTm92ZWw7DQogICAgICAgIHRoaXMucGFyc2VyTGFuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03VhZ2UgPSAiZW4iOw0KICAgICAgICB0aGlzLm5hbWUgPSAnWmluTm92ZWwnOw0KICAgICAgICB0aGlzLmRpc3BsYXlOYW1lID0gIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0lotTm92ZWwiOw0KICAgICAgICB0aGlzLmxhdGVzdFVybCA9ICdodHRwczovL3ppbm5vdmVsLmNvbS9wYWdlL3twfS8nOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB0aGlzLnVybCA9ICdodHRwczovL3ppbm5vdmVsLmNvbS8nOw0KICAgICAgICB0aGlzLnNlYXJjaFVybCA9ICcnOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB0aGlzLnBhbmluYXRpb24gPSB0cnVlOw0KICAgICAgICB0aGlzLnNlYXJjaFBhZ2luYXRpb24gPSBmYWxzZTsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgdGhpcy5pY29uID0gJ2h0dHBzOi8vemlubm92ZWwuY29tL3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDIwLzA3L2Nyb3BwZWQtVW50aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRsZWQtMi0zMngzMi5qcGcnOw0KICAgICAgICB0aGlzLnBhcnNlclNlYXJjaFNldHRpbmdzID0gbmV3IFBhcnNlclNlYXJjaFNldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRpbmdzKCk7DQogICAgICAgIHRoaXMucGFyc2VyU2VhcmNoU2V0dGluZ3MuZ2VucmVzID0gew0KICAgICAgICAgICAgbXVsdGlTZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxlY3Rpb246IHRydWUsDQogICAgICAgICAgICB2YWx1ZXM6IFtdLA0KICAgICAgICB9Ow0KDQoNCiAgICAgICAgdGhpcy5wYXJzZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJTZWFyY2hTZXR0aW5ncy5zb3J0VHlwZXMgPSB7DQogICAgICAgICAgICBtdWx0aVNlbGVjdGlvbjogdHJ1ZSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHZhbHVlczogWw0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdPbmdvaW5nJywgJ29uLWdvaW5nJyksDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0NvbXBsZXRlZCBOb3ZlbCcsICdlbmQnKSwNCiAgICAgICAgICAgIF0sDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIH07DQogICAgfQ0KDQogICAgUGFyc2VyLnByb3RvdHlwZSA9IHsNCiAgICAgICAgbG9hZFNldHRpbmdzOiBhc3luYyBmdW5jdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlvbiAoKSB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhcnNlclNlYXJjaFNldHRpbmdzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mdlbnJlcy52YWx1ZXMubGVuZ3RoIDw9IDApIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMucGFycMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VyLmpxKGF3YWl0IHRoaXMuY2xlYW5lci5nZXRDbGllbnQodGhpcy5pZCkuZ2V0SHRtbCgiaHR0cHM6Ly96aW5ub3ZlbC5jb20vPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03M9JnBvc3RfdHlwZT13cC1tYW5nYSIpKQ0KICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuZmluZCgiI3NlYXJjaC1hZHZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mNlZCAuY2hlY2tib3gtZ3JvdXAgLmNoZWNrYm94IikuZm9yRWFjaChhID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMucGFyc2VyU2VhcmNoU2V0dGluZ3MuZ2VucmVzLnZhbHVlcy5wdXNoKG5ldyBsYWJlbFZhbHVlKGEuZmluZCgibGFiZWwiKS50ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Xh0KCksIGEuZmluZCgiaW5wdXQiKS5hdHRyKCJ2YWx1ZSIpLnRleHQoKSkpOw0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coKTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCg0KICAgICAgICBnZXRTZWN0aW9uczogZnVuY3Rpb24gKGtleXMpIHsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHZhciBzZWN0aW9ucyA9IFsNCiAgICAgICAgICAgICAgICBuZXcgU2VjdGlvbigibGF0ZXN0IiwgIkxhdGVzdCBVcGRhdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GUiLCAiTGF0ZXN0IiwgdHJ1ZSksDQogICAgICAgICAgICAgICAgbmV3IFNlY3Rpb24oImFjdGlvbiIsICJBY3Rpb24gTm92ZWwiLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIoWyJhY3Rpb24iXSkpLA0KICAgICAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU021hbmNlIiwgIlJvbWFuY2UgTm92ZWwiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIoWyJyb21hbmNlIl0pKSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgU2VjdGlvbigib25nb2luZyIsICJPbmdvaW5nIE5vdmVsIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVyKHVuZGVmaW5lZCwgImVuZCIpKSwNCiAgICAgICAgICAgICAgICBuZXcgU2VjdGlvbigiY29tcGxldGVkIiwgIkNvbXBsZXRlZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBOb3ZlbCIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsICJlbmQiKSkNCg0KICAgICAgICAgICAgXQ0KDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICByZXR1cm4gc2VjdGlvbnMuZmlsdGVyKHggPT4gIWtleXMgfHwga2V5cy5pbmNsdWRlcyh4Lm5hbWUpKTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgfSwNCg0KICAgICAgICB0cmFuc2xhdGVTZWN0aW9uOiBhc3luYyBmdW5jdGlvbiAoc2VjdGlvbiwgcGFnZSkgew0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgaWYgKHNlY3Rpb24uaWRlbnRpZmllciA9PSAiTGF0ZXN0IikNCiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XQgdGhpcy5sYXRlc3QocGFnZSk7DQogICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VhcmNoKHNlY3Rpb24uZmlsdGVyIHx8IHRoaXMuZGVmYXVsdEZpbHRlcigpLCBwYWdlKTsNCiAgICAgICAgfSwNCg0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBkZWZhdWx0RmlsdGVyOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgZmlsdGVyID0gbmV3IEZpbHRlcigpOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgcmV0dXJuIGZpbHRlcjsNCiAgICAgICAgfSwNCg0KICAgICAgICBzZWFyY2g6IGFzeW5jIGZ1bmN0aW9uIChmaWx0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIsIHBhZ2UpIHsNCiAgICAgICAgICAgIHZhciB1cmwgPSAiaHR0cHM6Ly96aW5ub3ZlbC5jb20vP3M9IiArIChmaWx0ZXIudGl0bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GUgfHwgIiIpICsgIiZwb3N0X3R5cGU9d3AtbWFuZ2Eme2dlbnJlfSZvcD0mYXV0aG9yPSZhcnRpc3Q9JnJlbGVhc2U9JmFkdWx0PMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SZ7c3RhdHVzfSINCiAgICAgICAgICAgIGlmIChmaWx0ZXIuZ2VucmVzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICB1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mwgPSB1cmwucmVwbGFjZSgie2dlbnJlfSIsIGZpbHRlci5nZW5yZXMubWFwKHggPT4gImdlbnJlJTVCJTVEPSIgKyB4KS5qb2luKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CImIikpOw0KICAgICAgICAgICAgfSBlbHNlIHVybCA9IHVybC5yZXBsYWNlKCIme2dlbnJlfSIsICIiKTsNCg0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgaWYgKGZpbHRlci5zb3J0VHlwZSAmJiBmaWx0ZXIuc29ydFR5cGUubGVuZ3RoID4gMSkNCiAgICAgICAgICAgICAgICB1cmwgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SB1cmwucmVwbGFjZSgie3N0YXR1c30iLCAic3RhdHVzJTVCJTVEPSIgKyBmaWx0ZXIuc29ydFR5cGUpOw0KICAgICAgICAgICAgZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxzZSB1cmwgPSB1cmwucmVwbGFjZSgiJntzdGF0dXN9IiwgIiIpOw0KDQogICAgICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5wYXJzZXIuanEoYXdhaXQgdGhpcy5jbGVhbmVyLmdldENsaWVudCh0aGlzLmlkKS5nZXRIdG1sKHVybCkpOw0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgdmFyIHJlc3VsdCA9IFtdDQogICAgICAgICAgICBjb250YWluZXIuZmluZCgnLmMtdGFicy1pdGVtIC5yb3cnKS5mb3JFYWNoKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ch4KSA9PiB7DQogICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goDQogICAgICAgICAgICAgICAgICAgIG5ldyBMaWdodEl0ZW0oeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5maW5kKCJpbWciKS5hdHRyKCJkYXRhLXNyYyIpLnVybCgpLA0KICAgICAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoJy5wbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03N0LXRpdGxlIGEnKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICcnLA0KICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgeC5zZWxlY3QoJy5wb3N0LXRpdGxlIGEnKS5hdHRyKCJocmVmIikudXJsKCksIHRoaXMubmFtZQ0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICApLA0KICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgcmV0dXJuIHJlc3VsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0DsNCiAgICAgICAgfSwNCg0KICAgICAgICBnZXROb3ZlbDogYXN5bmMgZnVuY3Rpb24gKG5vdmVsVXJsKSB7DQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB2YXIgY29udGFpbmVyID0gdGhpcy5wYXJzZXIuanEoYXdhaXQgdGhpcy5jbGVhbmVyLmdldENsaWVudCh0aGlzLmlkKS5nZXRIdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G1sKG5vdmVsVXJsKSk7DQogICAgICAgICAgICB2YXIgY2hhcHRlcnMgPSBjb250YWluZXIuZmluZCgiLmxpc3RpbmctY2hhcHRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNfd3JhcCBsaSA+IGEiKS5tYXAoeCA9PiBuZXcgQ2hhcHRlcih4LnRleHQoZmFsc2UpLCB4LmF0dHIoImhyZWYiKS51cmwoKSkpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nJldmVyc2UoKQ0KICAgICAgICAgICAgdmFyIG5vdmVsUmV2aWV3cyA9IG5ldyBOb3ZlbFJldmlld3MoKTsNCg0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbm92ZWxSZXZpZXdzLmdlbnJlcyA9IGNvbnRhaW5lci5maW5kKCIuZ2VucmVzLWNvbnRlbnQgYSIpLm1hcCh4ID0+IHgudGV4dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ChmYWxzZSkpOw0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLmF1dGhvciA9IGNvbnRhaW5lci5maW5kKCIuYXV0aG9yLWNvbnRlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nQgYSIpLm1hcCh4ID0+IHgudGV4dChmYWxzZSkpLmpvaW4oIiwgIik7DQogICAgICAgICAgICBub3ZlbFJldmlld3MudXZvdGVzIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0gY29udGFpbmVyLnNlbGVjdCgiLnBvc3QtcmF0aW5nIC50b3RhbF92b3RlcyIpLnRleHQoZmFsc2UpICsgIiAvIDUiOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbm92ZWxSZXZpZXdzLmNvbXBsZXRlZCA9IGNvbnRhaW5lci5zZWxlY3QoIi5wb3N0LXN0YXR1cyAucG9zdC1jb250ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W50X2l0ZW0gLnN1bW1hcnktY29udGVudCIpLnRleHQoZmFsc2UpID09PSAiQ29tcGxldGVkIiA/ICJTdGF0dXM6Q29tcGxldGVkIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iA6ICJTdGF0dXM6T25nb2luZyI7DQoNCiAgICAgICAgICAgIHJldHVybiBuZXcgRGV0YWxpSXRlbSgNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBjb250YWluZXIuc2VsZWN0KCcuc3VtbWFyeV9pbWFnZSBpbWcnKS5hdHRyKCJkYXRhLXNyYyIpLnVybCgpLA0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIGNvbnRhaW5lci5zZWxlY3QoJy5wb3N0LXRpdGxlJykudGV4dChmYWxzZSksDQogICAgICAgICAgICAgICAgY29udGFpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVyLnNlbGVjdCgnLmRlc2NyaXB0aW9uLXN1bW1hcnknKS5jbGVhbklubmVySFRNTCgpLA0KICAgICAgICAgICAgICAgIG5vdmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJsLA0KICAgICAgICAgICAgICAgIGNoYXB0ZXJzLA0KICAgICAgICAgICAgICAgIG5vdmVsUmV2aWV3cywNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB0aGlzLm5hbWUsDQogICAgICAgICAgICAgICAgdW5kZWZpbmVkLA0KICAgICAgICAgICAgKTsNCiAgICAgICAgfSwNCg0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBnZXRDaGFwdGVyOiBhc3luYyBmdW5jdGlvbiAodXJsKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5jbGVhbmVyLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mNsZWFuQ2hhcHRlcih0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwodMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJsKSkuc2VsZWN0KCcucmVhZGluZy1jb250ZW50JyksIHRoaXMubmFtZSk7DQogICAgICAgIH0sDQoNCiAgICAgICAgbGF0ZXN0OMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iBhc3luYyBmdW5jdGlvbiAocGFnZSkgew0KICAgICAgICAgICAgdmFyIHVybCA9IHRoaXMubGF0ZXN0VXJsLnJlcGxhY2UoJ3twfMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ScsIHBhZ2UudG9TdHJpbmcoKSk7DQogICAgICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5wYXJzZXIuanEoYXdhaXQgdGhpcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5jbGVhbmVyLmdldENsaWVudCh0aGlzLmlkKS5nZXRIdG1sKHVybCkpOw0KICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgY29udGFpbmVyLmZpbmQoJy5wYWdlLWNvbnRlbnQtbGlzdGluZyAucGFnZS1pdGVtLWRldGFpbCcpLmZvckVhYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02goKHgpID0+IHsNCiAgICAgICAgICAgICAgICBpZiAoeC5zZWxlY3QoJ2ltZycpLmF0dHIoInNyYyIpLmhhc1ZhbHVlKCkpDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKA0KICAgICAgICAgICAgICAgICAgICAgICAgbmV3IExpZ2h0SXRlbSh4LmZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mQoImltZyIpLmF0dHIoImRhdGEtc3JjIikudXJsKCksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoJy5wbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03N0LXRpdGxlIGEnKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJywNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICB4LnNlbGVjdCgnLnBvc3QtdGl0bGUgYScpLmF0dHIoImhyZWYiKS51cmwoKSwgdGhpcy5uYW1lDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICApKTsNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB9DQogICAgfQ0KDQogICAgcmV0dXJuIG5ldyBQYXJzZXIoKTsNCn0=&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCkgPT4gew0KICAgIGZ1bmN0aW9uIFBsdWdpbigpIHsNCiAgICAgICAgdGhpcy50eXBlID0gIi0tcGx1Z2luLS0iOw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB0aGlzLm5hbWUgPSAiQ2xlYW5lciI7DQogICAgICAgIHRoaXMuY2xpZW50ID0ge307DQogICAgfQ0KDQogICAgUGx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02luLnByb3RvdHlwZSA9IHsNCiAgICAgICAgY2xlYW5DaGFwdGVyOiBmdW5jdGlvbiAoc2VsZWN0b3IsIG5hbWUpIHsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgdmFyIGNoYXJzID0gWw0KICAgICAgICAgICAgICAgICAgICAiSWYgeW91IGZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mQgYW55IGVycm9ycyAoIGJyb2tlbiBsaW5rcywgbm9uLXN0YW5kYXJkIGNvbnRlbnQsIGV0Yy4uICksIFBsZWFzZSBsZXQgdXMgaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU025vdyAgcmVwb3J0IGNoYXB0ZXIgPiBzbyB3ZSBjYW4gZml4IGl0IGFzIHNvb24gYXMgcG9zc2libGUuIiwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIklmIHlvdSBmaW5kIGFueSBlcnJvcnMgKCBicm9rZW4gbGlua3MsIG5vbi1zdGFuZGFyZCBjb250ZW50LCBldGMuLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iApLCBQbGVhc2UgbGV0IHVzIGtub3cgPCByZXBvcnQgY2hhcHRlciA+IHNvIHdlIGNhbiBmaXggaXQgYXMgc29vbiBhcyBwb3NzaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJsZS4iLA0KICAgICAgICAgICAgICAgICAgICAiUHJldiBDaGFwdGVyIiwNCiAgICAgICAgICAgICAgICAgICAgIk5leHQgQ2hhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlciINCiAgICAgICAgICAgICAgICBdDQogICAgICAgICAgICAgICAgY29uc3QgY2xhc3Nlc1RvUmVtb3ZlID0gWyJpbnB1dCIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJzY3JpcHQiLCAic3R5bGUiXTsNCg0KICAgICAgICAgICAgICAgIHN3aXRjaCAobmFtZSkgew0KICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBjYXNlICJMaWdodE5vdmVsUHViIjoNCiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXNUb1JlbW92ZS5wdXNoKCIuY2hhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlci1jb250ZW50ID5wW2NsYXNzXTpub3QoW2NsYXNzPScnXSkiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICBjYXNlICJBbGxOb3ZlbCI6DQogICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzVG9SZW1vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mUucHVzaCgiLmFkLWNvbnRhaW5lciIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIGRlZmF1bHQ6DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBodG1sID0gc2VsZWN0b3IucmVtb3ZlKGNsYXNzZXNUb1JlbW92ZS5qb2luKCIsIikpLm91dGVySFRNTCgpLnJlcGxhYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02UoLyg/PSYpKC4qPykoOykvZywgIiIpOw0KICAgICAgICAgICAgICAgIGNvbnN0IHJDaGFycyA9IGNoYXJzLm1hcCh4ID0+IEh0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HBDbGllbnQuZXNjYXBlUmVnZXgoeCkpOw0KICAgICAgICAgICAgICAgIGlmIChuYW1lKQ0KICAgICAgICAgICAgICAgICAgICByQMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02hhcnMucHVzaChIdHRwQ2xpZW50LmVzY2FwZVJlZ2V4KG5hbWUpKTsNCg0KICAgICAgICAgICAgICAgIHZhciBleHByZXNzaW9uIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0gIigiICsgckNoYXJzLmpvaW4oInwiKSArICIpIjsNCiAgICAgICAgICAgICAgICB2YXIgcmVnZXhwID0gbmV3IFJlZ0V4cChleMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HByZXNzaW9uLCAiZ21pIik7DQogICAgICAgICAgICAgICAgcmV0dXJuIGh0bWwucmVwbGFjZShyZWdleHAsICIiKTsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIkNsZWFuaW5nQ2hhcHRlciBFcnJvcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iIsIGVycm9yKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZWN0b3IuY2xlYW5Jbm5lckhUTUwoKTsNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0H0NCiAgICAgICAgfSwNCg0KICAgICAgICBnZXRDbGllbnQ6IGZ1bmN0aW9uIChwYXJzZXJJZCkgew0KICAgICAgICAgICAgc3dpdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GNoIChwYXJzZXJJZCkgew0KICAgICAgICAgICAgICAgIGNhc2UgIjEubm92ZWxmdWxsIjoNCiAgICAgICAgICAgICAgICBjYXNlIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIxLmJveG5vdmVsIjoNCiAgICAgICAgICAgICAgICBjYXNlICIxLm5vdmVsaGFsbCI6DQogICAgICAgICAgICAgICAgY2FzZSAiMMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S5jb21yYWRlbWFvIjoNCiAgICAgICAgICAgICAgICBjYXNlICIxLmxpZ2h0bm92ZWxwdWIiOg0KICAgICAgICAgICAgICAgIGNhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02UgIjEubWFuZ2FuZWxvIjoNCiAgICAgICAgICAgICAgICBjYXNlICIxLm10bG5vdmVsIjoNCiAgICAgICAgICAgICAgICBjYXNlIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJpbmZvcm1hdGlvbiI6DQogICAgICAgICAgICAgICAgY2FzZSAiMS5ub3ZlbG9ubGluZWZ1bGwiOg0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GNhc2UgIjEucmVhZGxpZ2h0bm92ZWwiOg0KICAgICAgICAgICAgICAgIGNhc2UgIjEucmVhZG5vdmVsZnVsbCI6DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgY2FzZSAiMS5yb3lhbHJvYWQiOg0KICAgICAgICAgICAgICAgIGNhc2UgIjEuc2NyaWJibGVodWIiOg0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIGNhc2UgIjEudGFwcmVhZCI6DQogICAgICAgICAgICAgICAgY2FzZSAiMS53bm10bG9yZyI6DQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgY2FzZSAiMS56aW5ub3ZlbCI6DQogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNsaWVudFtwYXJzZXJJZF0gIT0gdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5kZWZpbmVkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xpZW50W3BhcnNlcklkXTsNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgcmV0dXJuICh0aGlzLmNsaWVudFtwYXJzZXJJZF0gPSBuZXcgY2xpZW50KFsic2NyaXB0IiwgInN0eWxlIiwgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mxpbmsiXSkpDQogICAgICAgICAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xpZW50WyJkZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WZhdWx0Il0gIT0gdW5kZWZpbmVkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xpZW50WyJkZWZhdWx0IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0l07DQogICAgICAgICAgICAgICAgICAgIHJldHVybiAodGhpcy5jbGllbnRbImRlZmF1bHQiXSA9IG5ldyBjbGllbnQoKSk7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICByZXR1cm4gbmV3IFBsdWdpbigpOw0KfTs=