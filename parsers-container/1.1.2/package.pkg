KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KICAgIHJldHVybiB7DQogICAgICAgIG5hbWU6ICJpbmNsdWRlZFBhcnNlcnMiLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBkYXRhOiBbDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgImZpbGUiOiAiUmVhZE5vdmVsRnVsbCIsDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgImRlYnVnT25seSI6IGZhbHNlDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICJmaWxlIjogIk1hbmdhbkVsbyIsDQogICAgICAgICAgICAgICAgImRlYnVnT25seSI6IGZhbHNlDQogICAgICAgICAgICB9LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICJmaWxlIjogIlRocmVlIE1hbmdhIiwNCiAgICAgICAgICAgICAgICAiZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVidWdPbmx5IjogZmFsc2UNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgImZpbGUiOiAiTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m92ZWwtU3QiLA0KICAgICAgICAgICAgICAgICJkZWJ1Z09ubHkiOiBmYWxzZQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HsNCiAgICAgICAgICAgICAgICAiZmlsZSI6ICJOb3ZlbEZ1bGwiLA0KICAgICAgICAgICAgICAgICJkZWJ1Z09ubHkiOiBmYWxzZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Q0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAiZmlsZSI6ICJOb3ZlbC04WCIsDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgImRlYnVnT25seSI6IGZhbHNlDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICJmaWxlIjogIkJveE5vdmVsIiwNCiAgICAgICAgICAgICAgICAiZGVidWdPbmx5IjogZmFsc2UNCiAgICAgICAgICAgIH0sDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgImZpbGUiOiAiUmJlc05ldCIsDQogICAgICAgICAgICAgICAgImRlYnVnTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU025seSI6IGZhbHNlDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICJmaWxlIjogIlctTVRMIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iwNCiAgICAgICAgICAgICAgICAiZGVidWdPbmx5IjogZmFsc2UNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgImZpbGUiOiAiQWxsTm92ZWwiLA0KICAgICAgICAgICAgICAgICJkZWJ1Z09ubHkiOiBmYWxzZQ0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAiZmlsZSI6ICJDb21yYWRlbWFvIiwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAiZGVidWdPbmx5IjogZmFsc2UNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgImZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GUiOiAiTGlnaHROb3ZlbFB1YiIsDQogICAgICAgICAgICAgICAgImRlYnVnT25seSI6IHRydWUNCiAgICAgICAgICAgIH0sDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICB7DQogICAgICAgICAgICAgICAgImZpbGUiOiAiTm92ZWxPbmxpbmVGdWxsIiwNCiAgICAgICAgICAgICAgICAiZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVidWdPbmx5IjogZmFsc2UNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgImZpbGUiOiAiUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVhZExpZ2h0Tm92ZWwiLA0KICAgICAgICAgICAgICAgICJkZWJ1Z09ubHkiOiB0cnVlDQogICAgICAgICAgICB9LA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgew0KICAgICAgICAgICAgICAgICJmaWxlIjogIlJveWFsUm9hZCIsDQogICAgICAgICAgICAgICAgImRlYnVnT25seSI6IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GZhbHNlDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICJmaWxlIjogIk5vdmVsSGFsbCIsDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgImRlYnVnT25seSI6IGZhbHNlDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICJmaWxlIjogIlNjcmliYmxlSHViIiwNCiAgICAgICAgICAgICAgICAiZGVidWdPbmx5IjogZmFsc2UNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgImZpbGUiOiAiWmluTm92ZWwiLA0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICJkZWJ1Z09ubHkiOiBmYWxzZQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAiZmlsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SI6ICJUYXBSZWFkIiwNCiAgICAgICAgICAgICAgICAiZGVidWdPbmx5IjogZmFsc2UNCiAgICAgICAgICAgIH0sDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB7DQogICAgICAgICAgICAgICAgImZpbGUiOiAiTXRsTm92ZWwiLA0KICAgICAgICAgICAgICAgICJkZWJ1Z09ubHkiOiB0cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nVlDQogICAgICAgICAgICB9DQogICAgICAgIF0NCiAgICB9DQp9&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KDQogICAgZnVuY3Rpb24gUGFyc2VyKCkgew0KICAgICAgICB0aGlzLmlkID0gIjEuMzY1bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFuZ2EiOw0KICAgICAgICB0aGlzLmRldGFsaUl0ZW1UeXBlID0gRGV0YWxpSXRlbVR5cGUuTWFuYWdhOw0KICAgICAgICB0aGlzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nBhcnNlckxhbmd1YWdlID0gImVuIjsNCiAgICAgICAgdGhpcy5uYW1lID0gIjM2NU1hbmdhIjsNCiAgICAgICAgdGhpcy5kaXNwbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF5TmFtZSA9ICJUaHJlZSBNYW5nYSI7DQogICAgICAgIHRoaXMubGF0ZXN0VXJsID0gImh0dHBzOi8vMzY1bWFuZ2EuY29tL3dwLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFkbWluL2FkbWluLWFqYXgucGhwIjsNCiAgICAgICAgdGhpcy51cmwgPSAiaHR0cHM6Ly8zNjVtYW5nYS5jb20iOw0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB0aGlzLnNlYXJjaFVybCA9ICJodHRwczovLzM2NW1hbmdhLmNvbS93cC1hZG1pbi9hZG1pbi1hamF4LnBocCI7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRoaXMucGFuaW5hdGlvbiA9IHRydWU7DQogICAgICAgIHRoaXMuc2VhcmNoUGFnaW5hdGlvbiA9IHRydWU7DQogICAgICAgIHRoaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMuaWNvbiA9ICJodHRwczovLzM2NW1hbmdhLmNvbS93cC1jb250ZW50L3VwbG9hZHMvMjAxOS8wOS9jcm9wcGVkLWZhdmljb24tMMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0zJ4MzIucG5nIjsNCiAgICAgICAgdGhpcy5wYXJzZXJTZWFyY2hTZXR0aW5ncyA9IG5ldyBQYXJzZXJTZWFyY2hTZXR0aW5ncygpOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICB0aGlzLnBhcnNlclNlYXJjaFNldHRpbmdzLm11bHRpU2VsZWN0aW9uID0gdHJ1ZTsNCiAgICAgICAgdGhpcy5wYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZXMgPSB7DQogICAgICAgICAgICBtdWx0aVNlbGVjdGlvbjogZmFsc2UsDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB2YWx1ZXM6IFsNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiUm9tYW5jZSIsICJyb21hbmNlIiksDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkRyYW1hIiwgImRyYW1hIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUoIlNjaG9vbCBMaWZlIiwgInNjaG9vbC1saWZlIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkFjdGlvbiIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJhY3Rpb24iKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQ29tZWR5IiwgImNvbWVkeSIpLA0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5ldyBsYWJlbFZhbHVlKCJDb21pYyIsICJjb21pYyIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJBZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HZlbnR1cmUiLCAiYWR2ZW50dXJlIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkFuaW1lIiwgImFuaW1lIiksDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkxpdmUgYWN0aW9uIiwgImxpdmUtYWN0aW9uIiksDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbmV3IGxhYmVsVmFsdWUoIlBzeWNob2xvZ2ljYWwiLCAicHN5Y2hvbG9naWNhbCIpLA0KICAgICAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBsYWJlbFZhbHVlKCJTY2ktZmkiLCAic2NpLWZpIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkZhbnRhc3kiLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAiZmFudGFzeSIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJIaXN0b3JpY2FsIiwgImhpc3RvcmljYWwiKSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiSG9ycm9yIiwgImhvcnJvciIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJlbFZhbHVlKCJNYW5nYSIsICJtYW5nYSIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJNYW5odWEiLCAibWFuaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVhIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIk1hbmh3YSIsICJtYW5od2EiKSwNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBuZXcgbGFiZWxWYWx1ZSgiTWFydGlhbCBBcnRzIiwgIm1hcnRpYWwtYXJ0cyIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FZhbHVlKCJNeXN0ZXJ5IiwgIm15c3RlcnkiKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2xpY2Ugb2YgTGlmZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SIsICJzbGljZS1vZi1saWZlIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlRyYWdlZHkiLCAidHJhZ2VkeSIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJXZWJ0b29ucyIsICJ3ZWJ0b29ucyIpLA0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBsYWJlbFZhbHVlKCJTcG9ydHMiLCAic3BvcnRzIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkNvb2tpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mciLCAiY29va2luZyIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJBZHVsdCIsICJhZHVsdCIpLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJjYXJ0b29uIiwgIkNhcnRvb24iKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZSgiRGVtb25zIiwgImRlbW9ucyIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJEZXRlY3RpdmUiLCAiZGV0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0aXZlIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkRvdWppbnNoaSIsICJkb3VqaW5zaGkiKSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiRWNjaGkiLCAiZWNjaGkiKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgiRmFudGFzeSIsICJmYW50YXN5IiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkZ1bGwtQ29sb3IiLCAiZnVsbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C1jb2xvciIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJHYW1lIiwgImdhbWUiKSwNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBuZXcgbGFiZWxWYWx1ZSgiR2VuZGVyLUJlbmRlciIsICJnZW5kZXItYmVuZGVyIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsVmFsdWUoIkhhcmVtIiwgImhhcmVtIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkhpc3RvcmljYWwiLCAiaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlzdG9yaWNhbCIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJJc2VrYWkiLCAiaXNla2FpIiksDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkpvc2VpIiwgImpvc2VpIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0kxvbmctU3RyaXAiLCAibG9uZy1zdHJpcCIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJNYWdpYyIsICJtYWdpYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJNYXR1cmUiLCAibWF0dXJlIiksDQogICAgICAgICAgICAgICAgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV3IGxhYmVsVmFsdWUoIk1lY2hhIiwgIm1lY2hhIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIk11c2ljIiwgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m11c2ljIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIk9mZmljZS1Xb3JrZXJzIiwgIm9mZmljZS13b3JrZXJzIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIk9mZmljaWFsLUNvbG9yZWQiLCAib2ZmaWNpYWwtY29sb3JlZCIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJPbmUtU2hvdCIsICJvbmUtc2hvdCIpLA0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBsYWJlbFZhbHVlKCJSZWluY2FybmF0aW9uIiwgInJlaW5jYXJuYXRpb24iKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxWYWx1ZSgiUmV2ZXJzZSIsICJyZXZlcnNlIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlJldmVyc2UtSGFyZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W0iLCAicmV2ZXJzZS1oYXJlbSIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTZWluZW4iLCAic2VpbmVuIiksDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNob3VqbyIsICJzaG91am8iKSwNCiAgICAgICAgICAgICAgICBuZXcgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFiZWxWYWx1ZSgiU2hvdWpvLUFpIiwgInNob3Vqby1haSIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTaG91bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVuIiwgInNob3VuZW4iKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgic2hvdW5lbi1haSIsICJTaG91bmVuLUFpIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNvZnQtWWFvaSIsICJzb2Z0LXlhb2kiKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBuZXcgbGFiZWxWYWx1ZSgiU29mdC1ZdXJpIiwgInNvZnQteXVyaSIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVlKCJTdXBlci1Qb3dlciIsICJzdXBlci1wb3dlciIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTdXBlcm5hdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVyYWwiLCAic3VwZXJuYXR1cmFsIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlN1cnZpdmFsIiwgInN1cnZpdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlRocmlsbGVyIiwgInRocmlsbGVyIiksDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbmV3IGxhYmVsVmFsdWUoIlRpbWUtVHJhdmVsIiwgInRpbWUtdHJhdmVsIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsVmFsdWUoIlZpbGxhaW5lc3MiLCAidmlsbGFpbmVzcyIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJXZWItQMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029taWMiLCAid2ViLWNvbWljIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIllhb2kiLCAieWFvaSIpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJZdXJpIiwgInl1cmkiKQ0KDQogICAgICAgICAgICBdLA0KICAgICAgICB9Ow0KDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QoNCiAgICAgICAgdGhpcy5wYXJzZXJTZWFyY2hTZXR0aW5ncy5zdGF0dXNlcyA9IHsNCiAgICAgICAgICAgIG11bHRpU2VsZWN0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W9uOiBmYWxzZSwNCiAgICAgICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJDb21wbGV0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WQiLCAiZW5kIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIk9uZ29pbmciLCAib24tZ29pbmciKQ0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgXQ0KICAgICAgICB9DQoNCiAgICAgICAgdGhpcy5jbGVhbmVyID0gcGx1Z2lucy5maW5kKHggPT4geC5uYW1lID09ICJDbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVhbmVyIik7DQoNCiAgICB9DQoNCiAgICBQYXJzZXIucHJvdG90eXBlID0gew0KICAgICAgICBnZXRTZWN0aW9uczogZnVuY3RpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU024gKGtleXMpIHsNCiAgICAgICAgICAgIHZhciBzZWN0aW9ucyA9IFsNCiAgICAgICAgICAgICAgICBuZXcgU2VjdGlvbigibGF0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XN0IiwgIkxhdGVzdCBVcGRhdGUiLCAiTGF0ZXN0IiwgdHJ1ZSksDQogICAgICAgICAgICAgICAgbmV3IFNlY3Rpb24oInJvbWFuYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02UiLCAiUm9tYW5jZSIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcihbInJvbWFuY2UiXSkpLA0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBTZWN0aW9uKCJoYXJlbSIsICJIYXJlbSIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcihbImhhcmVtIl0pKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICBuZXcgU2VjdGlvbigiY29tcGxldGVkIiwgIkNvbXBsZXRlZCIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlcih1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCAiZW5kIikpLA0KICAgICAgICAgICAgXQ0KDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CByZXR1cm4gc2VjdGlvbnMuZmlsdGVyKHggPT4gIWtleXMgfHwga2V5cy5pbmNsdWRlcyh4Lm5hbWUpKTsNCiAgICAgICAgfSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0g0KICAgICAgICB0cmFuc2xhdGVTZWN0aW9uOiBhc3luYyBmdW5jdGlvbiAoc2VjdGlvbiwgcGFnZSkgew0KICAgICAgICAgICAgaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WYgKHNlY3Rpb24uaWRlbnRpZmllciA9PSAiTGF0ZXN0IikNCiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5sYXRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03QocGFnZSk7DQogICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuc2VhcmNoKHNlY3RpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU024uZmlsdGVyIHx8IHRoaXMuZGVmYXVsdEZpbHRlcigpLCBwYWdlKTsNCiAgICAgICAgfSwNCg0KICAgICAgICBkZWZhdWx0RmlsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVyOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgZmlsdGVyID0gbmV3IEZpbHRlcigpOw0KICAgICAgICAgICAgcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuIGZpbHRlcjsNCiAgICAgICAgfSwNCiAgICAgICAgLy9odHRwczovLzM2NW1hbmdhLmNvbS8/cz0mcG9zdF90eXBlPXdwLW1hbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mdhJmdlbnJlJTVCJTVEPWFjdGlvbiZnZW5yZSU1QiU1RD1hZGFwdGF0aW9uJm9wPSZhdXRob3I9JmFydGlzdD0mcmVsZWFzZT0mYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WR1bHQ9JnN0YXR1cyU1QiU1RD1lbmQmc3RhdHVzJTVCJTVEPW9uLWdvaW5nDQogICAgICAgIHNlYXJjaDogYXN5bmMgZnVuY3RpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU024gKGZpbHRlciwgcGFnZSkgew0KICAgICAgICAgICAgY29uc3QgZm9ybSA9IHsNCiAgICAgICAgICAgICAgICBhY3Rpb246ICJtYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WRhcmFfbG9hZF9tb3JlIiwNCiAgICAgICAgICAgICAgICBwYWdlOiBwYWdlIC0gMSwNCiAgICAgICAgICAgICAgICB0ZW1wbGF0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TogIm1hZGFyYS1jb3JlL2NvbnRlbnQvY29udGVudC1zZWFyY2giLA0KICAgICAgICAgICAgICAgICJ2YXJzW3NdIjogIWZpbHRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5nZW5yZXMgfHwgZmlsdGVyLmdlbnJlcy5sZW5ndGggPD0gMCA/IGZpbHRlci50aXRsZSA6ICIiLA0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJ2YXJzW29yZGVyYnldIjogIiIsDQogICAgICAgICAgICAgICAgInZhcnNbcGFnZWRdIjogMSwNCiAgICAgICAgICAgICAgICAidMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFyc1twb3N0c19wZXJfcGFnZV0iOiAyMCwNCiAgICAgICAgICAgICAgICAidmFyc1t0ZW1wbGF0ZV0iOiAic2VhcmNoIiwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAidmFyc1ttZXRhX3F1ZXJ5XVswXVswXVtrZXldIjogIl93cF9tYW5nYV9zdGF0dXMiLA0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICJ2YXJzW21ldGFfcXVlcnldWzBdWzBdW2NvbXBhcmVdIjogIklOIiwNCiAgICAgICAgICAgICAgICAidmFyc1ttZXRhXMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03F1ZXJ5XVswXVtyZWxhdGlvbl0iOiAiQU5EIiwNCiAgICAgICAgICAgICAgICAidmFyc1ttZXRhX3F1ZXJ5XVtyZWxhdGlvbl0iOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAiT1IiLA0KICAgICAgICAgICAgICAgICJ2YXJzW3RheF9xdWVyeV1bcmVsYXRpb25dIjogIk9SIiwNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAidmFyc1twb3N0X3R5cGVdIjogIndwLW1hbmdhIiwNCiAgICAgICAgICAgICAgICAidmFyc1twb3N0X3N0YXR1c10iOiAicHVibMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlzaCIsDQogICAgICAgICAgICAgICAgInZhcnNbbWFuZ2FfYXJjaGl2ZXNfaXRlbV9sYXlvdXRdIjogImRlZmF1bHQiDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB9DQoNCiAgICAgICAgICAgIGlmIChmaWx0ZXIuZ2VucmVzICYmIGZpbHRlci5nZW5yZXMubGVuZ3RoID4gMCkgew0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgIGZvcm1bInZhcnNbdGF4X3F1ZXJ5XVswXVtmaWVsZF0iXSA9ICJuYW1lIjsNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBmb3JtWyJ2YXJzW3RheF9xdWVyeV1bMF1bdGVybXNdW10iXSA9IGZpbHRlci5nZW5yZXMubGFzdCgpOw0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIGZvcm1bInZhcnNbdGF4X3F1ZXJ5XVswXVt0YXhvbm9teV0iXSA9ICJ3cC1tYW5nYS1nZW5yZSI7DQogICAgICAgICAgICB9DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QoNCiAgICAgICAgICAgIGlmIChmaWx0ZXIuYWN0aXZlKSB7DQogICAgICAgICAgICAgICAgZm9ybVsidmFyc1ttZXRhX3F1ZXJ5XMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0VswXVswXVt2YWx1ZV1bXSJdID0gZmlsdGVyLmFjdGl2ZTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgdmFyIGNvbnRhaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5lciA9IHRoaXMucGFyc2VyLmpxKGF3YWl0IHRoaXMuY2xlYW5lci5nZXRDbGllbnQodGhpcy5pZCkucG9zdEZvcm0odGhpcy5zZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFyY2hVcmwsIGZvcm0pKTsNCiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTsNCiAgICAgICAgICAgIGNvbnRhaW5lci5maW5kKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ccucm93JykuZm9yRWFjaCh4ID0+IHsNCiAgICAgICAgICAgICAgICBpZiAoeC5zZWxlY3QoJy50YWItdGh1bWIgaW1nJykuYXR0cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0igic3JjIikuaGFzVmFsdWUoKSkNCiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goDQogICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBuZXcgTGlnaHRJdGVtKA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHguc2VsZWN0KCIudGFiLXRodW1iIGltZyIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mF0dHIoInNyYyIpLnRleHQoKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4LnNlbGVjdCgiLnBvc3QtdGl0bGUgYSIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRleHQoZmFsc2UpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICcnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Hguc2VsZWN0KCIucG9zdC10aXRsZSBhIikuYXR0cigiaHJlZiIpLnVybCgpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRoaXMubmFtZQ0KICAgICAgICAgICAgICAgICAgICAgICAgKSwNCiAgICAgICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0H0pOw0KDQogICAgICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgICAgICB9LA0KDQogICAgICAgIGdldE5vdmVsOiBhc3luYyBmdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5jdGlvbiAobm92ZWxVcmwpIHsNCiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwobm92ZWxVcmwpKTsNCg0KICAgICAgICAgICAgdmFyIGl0ZW0gPSBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgTm92ZWxSZXZpZXdzKCk7DQogICAgICAgICAgICB2YXIgdGJJbmZvID0gY29udGFpbmVyLmZpbmQoIi5wcm9maWxlLW1hbmdhIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C50YWItc3VtbWFyeSIpDQogICAgICAgICAgICBpdGVtLmdlbnJlcyA9IHRiSW5mby5maW5kKCIuZ2VucmVzLWNvbnRlbnQgYSIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m1hcCh4ID0+IHgudGV4dChmYWxzZSkpOw0KICAgICAgICAgICAgaXRlbS5kZXNjcmlwdGlvbiA9IGNvbnRhaW5lci5zZWxlY3QoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5zdW1tYXJ5X19jb250ZW50IikudGV4dChmYWxzZSkNCg0KICAgICAgICAgICAgaXRlbS51dm90ZXMgPSBjb250YWluZXIuc2VsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0KCIucG9zdC1jb250ZW50IC52b3RlLWRldGFpbHMiKS5yZW1vdmUoIi5yYXRlLXRpdGxlLCAuc3VtbWFyeS1oZWFkaW5nIikudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GV4dChmYWxzZSkucmVtb3ZlTmV3TGluZSgiICIpOw0KICAgICAgICAgICAgaXRlbS5hbHRlcm5hdGl2ZU5hbWVzID0gdGJJbmZvLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlbGVjdCgiLnBvc3QtY29udGVudD4gZGl2IikuZXEoNCkucmVtb3ZlKCIuc3VtbWFyeS1oZWFkaW5nIikudGV4dChmYWxzZSkNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIGl0ZW0uYXV0aG9yID0gdGJJbmZvLnNlbGVjdCgiLmF1dGhvci1jb250ZW50IikudGV4dChmYWxzZSk7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBpdGVtLmxhbmcgPSAiIjsNCg0KICAgICAgICAgICAgaXRlbS5jb21wbGV0ZWQgPSAiU3RhdHVzOiIgKyB0YkluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m8uZmluZCgiLnBvc3Qtc3RhdHVzID4gLnBvc3QtY29udGVudF9pdGVtIikuZXEoMSkuc2VsZWN0KCIuc3VtbWFyeS1jb250ZW50IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ikudGV4dChmYWxzZSkucmVtb3ZlTmV3TGluZSgiICIpOw0KICAgICAgICAgICAgdmFyIGNoYXB0ZXJzID0gY29udGFpbmVyLmZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mQoIi5saXN0aW5nLWNoYXB0ZXJzX3dyYXAgdWwgbGkgPiBhIikubWFwKHggPT4gbmV3IENoYXB0ZXIoeC50ZXh0KGZhbHNlKSwgeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5hdHRyKCJocmVmIikudXJsKCkpKTsNCiAgICAgICAgICAgIHJldHVybiBuZXcgRGV0YWxpSXRlbSgNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBjb250YWluZXIuc2VsZWN0KCcuc3VtbWFyeV9pbWFnZSBpbWcnKS5hdHRyKCJzcmMiKS51cmwoKSwNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBjb250YWluZXIuc2VsZWN0KCcucG9zdC10aXRsZScpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgICAgIGl0ZW0uZGVzY3JpcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRpb24sDQogICAgICAgICAgICAgICAgbm92ZWxVcmwsDQogICAgICAgICAgICAgICAgY2hhcHRlcnMucmV2ZXJzZSgpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIGl0ZW0sDQogICAgICAgICAgICAgICAgdGhpcy5uYW1lLA0KICAgICAgICAgICAgICAgIHVuZGVmaW5lZCwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICk7DQogICAgICAgIH0sDQoNCiAgICAgICAgZ2V0Q2hhcHRlcjogYXN5bmMgZnVuY3Rpb24gKHVybCkgew0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VyLmpxKGF3YWl0IHRoaXMuY2xlYW5lci5nZXRDbGllbnQodGhpcy5pZCkuZ2V0SMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRtbCh1cmwpKS5maW5kKCIuZW50cnktY29udGVudCAucmVhZGluZy1jb250ZW50IC5wYWdlLWJyZWFrIGltZyIpLm1hcCh4ID0+IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HguYXR0cigic3JjIikudXJsKCkpLmZpbHRlcih4ID0+IHggJiYgeCAhPSAiIik7DQogICAgICAgIH0sDQoNCiAgICAgICAgbGF0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XN0OiBhc3luYyBmdW5jdGlvbiAocGFnZSkgew0KICAgICAgICAgICAgY29uc3QgZm9ybSA9IHsNCiAgICAgICAgICAgICAgICBhYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03Rpb246ICJtYWRhcmFfbG9hZF9tb3JlIiwNCiAgICAgICAgICAgICAgICBwYWdlOiBwYWdlIC0gMSwNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB0ZW1wbGF0ZTogIm1hZGFyYS1jb3JlL2NvbnRlbnQvY29udGVudC1hcmNoaXZlIiwNCiAgICAgICAgICAgICAgICAidmFyc1tvcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mRlcmJ5XSI6ICJtZXRhX3ZhbHVlX251bSIsDQogICAgICAgICAgICAgICAgInZhcnNbcGFnZWRdIjogMSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAidmFyc1twb3N0c19wZXJfcGFnZV0iOiAyMCwNCiAgICAgICAgICAgICAgICAidmFyc1t0YXhfcXVlcnldW3JlbGF0aW9uXMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SI6ICJPUiIsDQogICAgICAgICAgICAgICAgInZhcnNbbWV0YV9xdWVyeV1bMF1bcmVsYXRpb25dIjogIkFORCIsDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgInZhcnNbbWV0YV9xdWVyeV1bcmVsYXRpb25dIjogIk9SIiwNCiAgICAgICAgICAgICAgICAidmFyc1twb3N0X3R5cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVdIjogIndwLW1hbmdhIiwNCiAgICAgICAgICAgICAgICAidmFyc1twb3N0X3N0YXR1c10iOiAicHVibGlzaCIsDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgInZhcnNbbWV0YV9rZXldIjogIl9sYXRlc3RfdXBkYXRlIiwNCiAgICAgICAgICAgICAgICAidmFyc1tvcmRlcl0iOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAiZGVzYyIsDQogICAgICAgICAgICAgICAgInZhcnNbc2lkZWJhcl0iOiAicmlnaHQiLA0KICAgICAgICAgICAgICAgICJ2YXJzWMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU021hbmdhX2FyY2hpdmVzX2l0ZW1fbGF5b3V0XSI6ICJzbWFsbF90aHVtYm5haWwiDQogICAgICAgICAgICB9DQoNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHZhciBjb250YWluZXIgPSB0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLnBvcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03RGb3JtKHRoaXMubGF0ZXN0VXJsLCBmb3JtKSk7DQogICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgICAgICBjbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0250YWluZXIuZmluZCgnLnBhZ2UtbGlzdGluZy1pdGVtJykuZm9yRWFjaCh4ID0+IHsNCiAgICAgICAgICAgICAgICBpZiAoeC5zZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxlY3QoJy5pdGVtLXRodW1iIGltZycpLmF0dHIoInNyYyIpLmhhc1ZhbHVlKCkpDQogICAgICAgICAgICAgICAgICAgIHJlc3VsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5wdXNoKA0KICAgICAgICAgICAgICAgICAgICAgICAgbmV3IExpZ2h0SXRlbSgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB4LnNlbGVjdCgiLml0ZW0tdGh1bWIgaW1nIikuYXR0cigic3JjIikudGV4dCgpLA0KICAgICAgICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHguc2VsZWN0KCIucG9zdC10aXRsZSBhIikudGV4dChmYWxzZSksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJycsDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoIi5wb3N0LXRpdGxlIGEiKS5hdHRyKCJocmVmIikudXJsKCksDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uYW1lDQogICAgICAgICAgICAgICAgICAgICAgICApLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICApOw0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgICAgIH0NCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICB9DQoNCiAgICByZXR1cm4gbmV3IFBhcnNlcigpOw0KfQ==&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KDQoNCiAgICBmdW5jdGlvbiBQYXJzZXIoKSB7DQogICAgICAgIHRoaXMuaWQgPSAiMS5hbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Gxub3ZlbCI7DQogICAgICAgIHRoaXMuZGV0YWxpSXRlbVR5cGUgPSBEZXRhbGlJdGVtVHlwZS5Ob3ZlbDsNCiAgICAgICAgdGhpcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5wYXJzZXJMYW5ndWFnZSA9ICJlbiI7DQogICAgICAgIHRoaXMubmFtZSA9ICdBbGxOb3ZlbCc7DQogICAgICAgIHRoaXMuZGlzcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxheU5hbWUgPSB0aGlzLm5hbWU7DQogICAgICAgIHRoaXMubGF0ZXN0VXJsID0gJ2h0dHBzOi8vYWxsbm92ZWwubmV0Lyc7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHRoaXMudXJsID0gJ2h0dHBzOi8vYWxsbm92ZWwubmV0Lyc7DQogICAgICAgIHRoaXMuc2VhcmNoVXJsID0gJ2h0dHBzOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i8vYWxsbm92ZWwubmV0L3NlYXJjaC5waHA/a2V5d29yZD17cX0nOw0KICAgICAgICB0aGlzLnBhbmluYXRpb24gPSBmYWxzZTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgdGhpcy5zZWFyY2hQYWdpbmF0aW9uID0gdHJ1ZTsNCiAgICAgICAgdGhpcy5pY29uID0gJ2h0dHBzOi8vYWxsbm92ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WwubmV0L21lZGlhL2Zhdmljb24ucG5nJzsNCiAgICAgICAgdGhpcy5wYXJzZXJTZWFyY2hTZXR0aW5ncyA9IG5ldyBQYXJzZXJTZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFyY2hTZXR0aW5ncygpOw0KICAgICAgICB0aGlzLmVuYWJsZU5vdmVsRG93bmxvYWRzPSB0cnVlOw0KICAgICAgICB0aGlzLnBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlclNlYXJjaFNldHRpbmdzLmdlbnJlcyA9IHsNCiAgICAgICAgICAgIG11bHRpU2VsZWN0aW9uOiBmYWxzZSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHZhbHVlczogWw0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJSb21hbmNlIiwgInJvbWFuY2UuaHRtbD9wYWdlPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XtwfSIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJBZHZlbnR1cmUiLCAiYWR2ZW50dXJlLmh0bWw/cGFnZT17cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0H0iKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiVGhyaWxsZXIiLCAidGhyaWxsZXIuaHRtbD9wYWdlPXtwfSIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJGYW50YXN5IiwgImZhbnRhc3kuaHRtbD9wYWdlPXtwfSIpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJZb3VuZyBBZHVsdCIsICJ5b3VuZy1hZHVsdC5odG1sP3BhZ2U9e3B9IiksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIk15c3RlcnkiLCAibXlzdGVyeS5odG1sP3BhZ2U9e3B9IiksDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkhpc3RvcmljYWwiLCAiaGlzdG9yaWNhbC5odG1sP3BhZ2U9e3B9IiksDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkhvcnJvciIsICJob3Jyb3IuaHRtbD9wYWdlPXtwfSIpLA0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBsYWJlbFZhbHVlKCJTY2llbmNlIEZpY3Rpb24iLCAic2NpZW5jZS1maWN0aW9uLmh0bWw/cGFnZT17cH0iKSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiSHVtb3JvdXMiLCAiaHVtb3JvdXMuaHRtbD9wYWdlPXtwfSIpLA0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5ldyBsYWJlbFZhbHVlKCJDaHJpc3RpYW4iLCAiY2hyaXN0aWFuLmh0bWw/cGFnZT17cH0iKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBuZXcgbGFiZWxWYWx1ZSgiV2VzdGVybiIsICJ3ZXN0ZXJuLmh0bWw/cGFnZT17cH0iKQ0KICAgICAgICAgICAgXQ0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB9DQogICAgICAgIHRoaXMuY2xlYW5lciA9IHBsdWdpbnMuZmluZCh4ID0+IHgubmFtZSA9PSAiQ2xlYW5lciIpOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0H0NCg0KICAgIFBhcnNlci5wcm90b3R5cGUgPSB7DQogICAgICAgIGdldFNlY3Rpb25zOiBmdW5jdGlvbiAoa2V5cykgew0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgdmFyIHNlY3Rpb25zID0gWw0KICAgICAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJsYXRlc3QiLCAiTGF0ZXN0IFVwZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF0ZSIsICJMYXRlc3QiLCB0cnVlKSwNCiAgICAgICAgICAgICAgICBuZXcgU2VjdGlvbigicm9tYW5jZSIsICJSb21hbmNlIiwgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0lNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKFsicm9tYW5jZS5odG1sP3BhZ2U9e3B9Il0pKSwNCiAgICAgICAgICAgICAgICBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgU2VjdGlvbigieW91bmctYWR1bHQiLCAiWW91bmcgQWR1bHQiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIoWyJ5b3VuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y1hZHVsdC5odG1sP3BhZ2U9e3B9Il0pKSwNCiAgICAgICAgICAgIF0NCg0KICAgICAgICAgICAgcmV0dXJuIHNlY3Rpb25zLmZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlcih4ID0+ICFrZXlzIHx8IGtleXMuaW5jbHVkZXMoeC5uYW1lKSk7DQogICAgICAgIH0sDQoNCiAgICAgICAgdHJhbnNsYXRlUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VjdGlvbjogYXN5bmMgZnVuY3Rpb24gKHNlY3Rpb24sIHBhZ2UpIHsNCiAgICAgICAgICAgIGlmIChzZWN0aW9uLmlkZW50aWZpZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIgPT0gIkxhdGVzdCIpDQogICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMubGF0ZXN0KHBhZ2UpOw0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgZWxzZQ0KICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnNlYXJjaChzZWN0aW9uLmZpbHRlciB8fCB0aGlzLmRlZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mF1bHRGaWx0ZXIoKSwgcGFnZSk7DQogICAgICAgIH0sDQoNCiAgICAgICAgZGVmYXVsdEZpbHRlcjogZnVuY3Rpb24gKCkgew0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgdmFyIGZpbHRlciA9IG5ldyBGaWx0ZXIoKTsNCiAgICAgICAgICAgIHJldHVybiBmaWx0ZXI7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0H0sDQoNCiAgICAgICAgc2VhcmNoOiBhc3luYyBmdW5jdGlvbiAoZmlsdGVyLCBwYWdlKSB7DQogICAgICAgICAgICBpZiAoIWZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlci50aXRsZSkNCiAgICAgICAgICAgICAgICBmaWx0ZXIudGl0bGUgPSAiIjsNCiAgICAgICAgICAgIGlmIChmaWx0ZXIuZ2VucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVzLmxlbmd0aCA8PSAwICYmIGZpbHRlci50aXRsZSA9PSAiIikNCiAgICAgICAgICAgICAgICByZXR1cm4gW107DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB2YXIgdXJsID0gZmlsdGVyLmdlbnJlcy5sZW5ndGggPiAwID8gZmlsdGVyLmdlbnJlc1swXS50b1N0cmluZygpLnVyaSh0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlzLnVybCkucmVwbGFjZSgie3B9IiwgcGFnZSkgOiB0aGlzLnNlYXJjaFVybC5yZXBsYWNlKCJ7cX0iLCBmaWx0ZXIudGl0bGUpOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdDQogICAgICAgICAgICB0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwodXJsKSkuZmluZCgiLmxpc3Qtbm92ZWwgYSIpLmZvckVhY2goeCA9PiB7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IExpZ2h0SXRlbSgNCiAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoImltZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yIpLmF0dHIoInNyYyIpLnVybCgpLA0KICAgICAgICAgICAgICAgICAgICB4LnNlbGVjdCgiLnRpdGxlLWhvbWUtbm92ZWwiKS50ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Xh0KCksDQogICAgICAgICAgICAgICAgICAgICIiLA0KICAgICAgICAgICAgICAgICAgICB4LmF0dHIoImhyZWYiKS51cmwoKSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICAgICAgdGhpcy5uYW1lKSk7DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgcmV0dXJuIHJlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03VsdDsNCiAgICAgICAgfSwNCg0KICAgICAgICBnZXROb3ZlbDogYXN5bmMgZnVuY3Rpb24gKG5vdmVsVXJsKSB7DQoNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mdldEh0bWwobm92ZWxVcmwpKTsNCiAgICAgICAgICAgIHZhciBjaGFwdGVycyA9IGNvbnRhaW5lci5maW5kKCIubGlzdC1wYWdlLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5vdmVsIGEiKS5tYXAoeCA9PiBuZXcgQ2hhcHRlcih4LnRleHQoZmFsc2UpLCB4LmF0dHIoImhyZWYiKS51cmwoKSkpOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgdmFyIG5vdmVsUmV2aWV3cyA9IG5ldyBOb3ZlbFJldmlld3MoKTsNCiAgICAgICAgICAgIHZhciBpbmZvID0gY29udMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFpbmVyLmZpbmQoIi5saXN0LWluZm8iKTsNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cy5nZW5yZXMgPSBpbmZvLmVxKDEpLmZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mQoImEiKS50ZXh0QXJyYXkoKTsNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cy5hdXRob3IgPSBpbmZvLmVxKDApLnNlbGVjdCgiYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SIpLnRleHQoZmFsc2UpOw0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLnV2b3RlcyA9IGluZm8uZXEoMikuc2VsZWN0KCJzcGFuIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ikuaGFzRWxlbWVudCgpID8gaW5mby5lcSgyKS5zZWxlY3QoInNwYW4iKS50ZXh0KGZhbHNlKSArICIgVmlld3MiIDogIiI7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICByZXR1cm4gbmV3IERldGFsaUl0ZW0oDQogICAgICAgICAgICAgICAgY29udGFpbmVyLnNlbGVjdCgiLnJvdyBpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WciKS5hdHRyKCJzcmMiKS51cmwoKSwNCiAgICAgICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCIuZGV0YWlsLW5vdmVsIGgxIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ikudGV4dChmYWxzZSksDQogICAgICAgICAgICAgICAgY29udGFpbmVyLnNlbGVjdCgiLmRlcy1ub3ZlbCIpLmNsZWFuSW5uZXJIVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0E1MKCksDQogICAgICAgICAgICAgICAgbm92ZWxVcmwsDQogICAgICAgICAgICAgICAgY2hhcHRlcnMsDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbm92ZWxSZXZpZXdzLA0KICAgICAgICAgICAgICAgIHRoaXMubmFtZSwNCiAgICAgICAgICAgICAgICB1bmRlZmluZWQsDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICApOw0KICAgICAgICB9LA0KDQogICAgICAgIGdldENoYXB0ZXI6IGFzeW5jIGZ1bmN0aW9uICh1cmwpIHsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIHJldHVybiB0aGlzLmNsZWFuZXIuY2xlYW5DaGFwdGVyKHRoaXMucGFyc2VyLmpxKGF3YWl0IHRoaXMuY2xlYW5lcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5nZXRDbGllbnQodGhpcy5pZCkuZ2V0SHRtbCh1cmwpKS5zZWxlY3QoIi5jb250ZW50X25vdmVsIiksIHRoaXMubmFtZSk7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIH0sDQoNCiAgICAgICAgbGF0ZXN0OiBhc3luYyBmdW5jdGlvbiAocGFnZSkgew0KICAgICAgICAgICAgdmFyIHVybCA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRoaXMubGF0ZXN0VXJsLnJlcGxhY2UoIntwfSIsIHBhZ2UudG9TdHJpbmcoKSk7DQogICAgICAgICAgICB2YXIgY29udGFpbmVyIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0gdGhpcy5wYXJzZXIuanEoYXdhaXQgdGhpcy5jbGVhbmVyLmdldENsaWVudCgpLmdldEh0bWwodXJsKSk7DQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB2YXIgcmVzdWx0ID0gW107DQogICAgICAgICAgICBjb250YWluZXIuZmluZCgiLmxpc3Qtbm92ZWwgYSIpLmZvckVhY2goeCA9PMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iB7DQogICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IExpZ2h0SXRlbSgNCiAgICAgICAgICAgICAgICAgICAgeC5zZWxlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03QoImltZyIpLmF0dHIoInNyYyIpLnVybCgpLA0KICAgICAgICAgICAgICAgICAgICB4LnNlbGVjdCgiLnRpdGxlLWhvbWUtbm92ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WwiKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgICAgICAgIiIsDQogICAgICAgICAgICAgICAgICAgIHguYXR0cigiaHJlZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iIpLnVybCgpLA0KICAgICAgICAgICAgICAgICAgICB0aGlzLm5hbWUpKTsNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CByZXR1cm4gcmVzdWx0Ow0KICAgICAgICB9DQogICAgfQ0KDQogICAgcmV0dXJuIG5ldyBQYXJzZXIoKTsNCn07&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KDQogICAgZnVuY3Rpb24gUGFyc2VyKCkgew0KICAgICAgICB0aGlzLmlkID0gIjEuYm94bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m92ZWwiOw0KICAgICAgICB0aGlzLnBhcnNlckxhbmd1YWdlID0gImVuIjsNCiAgICAgICAgdGhpcy5uYW1lID0gJ0JveE5vdmVsJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0zsNCiAgICAgICAgdGhpcy5kaXNwbGF5TmFtZSA9IHRoaXMubmFtZTsNCiAgICAgICAgdGhpcy5kZXRhbGlJdGVtVHlwZSA9IERldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFsaUl0ZW1UeXBlLk5vdmVsOw0KICAgICAgICB0aGlzLmxhdGVzdFVybCA9ICdodHRwczovL2JveG5vdmVsLmNvbS9wYWdlL3twfMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Sc7DQogICAgICAgIHRoaXMudXJsID0gJ2h0dHBzOi8vYm94bm92ZWwuY29tJzsNCiAgICAgICAgdGhpcy5zZWFyY2hVcmwgPSAnJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0zsNCiAgICAgICAgdGhpcy5wYW5pbmF0aW9uID0gdHJ1ZTsNCiAgICAgICAgdGhpcy5zZWFyY2hQYWdpbmF0aW9uID0gdHJ1ZTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgdGhpcy5pY29uID0gJ2h0dHBzOi8vYm94bm92ZWwuY29tL3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDE4LzA0L2JveC1pYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029uLTE1MHgxNTAucG5nJzsNCiAgICAgICAgdGhpcy5wYXJzZXJTZWFyY2hTZXR0aW5ncyA9IG5ldyBQYXJzZXJTZWFyY2hTZXR0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5ncygpOw0KICAgICAgICB0aGlzLmVuYWJsZU5vdmVsRG93bmxvYWRzPSB0cnVlOw0KICAgICAgICB0aGlzLnBhcnNlclNlYXJjaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNldHRpbmdzLmdlbnJlcyA9IHsNCiAgICAgICAgICAgIG11bHRpU2VsZWN0aW9uOiB0cnVlLA0KICAgICAgICAgICAgdmFsdWVzOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iBbDQogICAgICAgICAgICBdLA0KICAgICAgICB9Ow0KDQoNCiAgICAgICAgdGhpcy5wYXJzZXJTZWFyY2hTZXR0aW5ncy5zb3J0VMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HlwZXMgPSB7DQogICAgICAgICAgICBtdWx0aVNlbGVjdGlvbjogZmFsc2UsDQogICAgICAgICAgICB2YWx1ZXM6IFsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTGF0ZXN0IFJlbGVhc2UgTm92ZWwnLCAnbGF0ZXN0JyksDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbmV3IGxhYmVsVmFsdWUoJ1JlbGV2YW5jZScsICcnKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnUmF0aW5nJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ywgJ3JhdGluZycpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdUcmVuZGluZycsICd0cmVuZGluZycpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNb3N0IFZpZXdzJywgJ3ZpZXdzJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsVmFsdWUoJ05ldycsICduZXctbWFuZ2EnKSwNCiAgICAgICAgICAgIF0sDQogICAgICAgIH07DQoNCiAgICAgICAgdGhpcy5jbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVhbmVyID0gcGx1Z2lucy5maW5kKHggPT4geC5uYW1lID09ICJDbGVhbmVyIik7DQogICAgfQ0KDQogICAgUGFyc2VyLnByb3RvdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HlwZSA9IHsNCiAgICAgICAgbG9hZFNldHRpbmdzOiBhc3luYyBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICBpZiAodGhpcy5wYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZXMudmFsdWVzLmxlbmd0aCA+IDApDQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgdGhpcy5jbGVhbmVyLmdldENsaWVudCh0aGlzLmlkKS5nZXRIdG1sKCJodHRwczovL2JveG5vdmVsLmNvbS8/cz0mcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G9zdF90eXBlPXdwLW1hbmdhIikudGhlbihodG1sID0+IHsNCiAgICAgICAgICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5wYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJzZXIuanEoaHRtbCk7DQogICAgICAgICAgICAgICAgY29udGFpbmVyLmZpbmQoIi5jaGVja2JveC1ncm91cCAuY2hlY2tib3giKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S5mb3JFYWNoKHggPT4gew0KICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnNlclNlYXJjaFNldHRpbmdzLmdlbnJlcy52YWx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMucHVzaChuZXcgbGFiZWxWYWx1ZSh4LnNlbGVjdCgibGFiZWwiKS50ZXh0KCksIHguc2VsZWN0KCJpbnB1dCIpLmF0dHIoInZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVlIikudGV4dCgpKSk7DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQoNCiAgICAgICAgZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02V0U2VjdGlvbnM6IGZ1bmN0aW9uIChrZXlzKSB7DQogICAgICAgICAgICB2YXIgc2VjdGlvbnMgPSBbDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbmV3IFNlY3Rpb24oImxhdGVzdCIsICJMYXRlc3QgVXBkYXRlIiwgIkxhdGVzdCIsIHRydWUpLA0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBTZWN0aW9uKCJuZXciLCAiTmV3IE5vdmVscyIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsICJuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XctbWFuZ2EiKSksDQogICAgICAgICAgICAgICAgbmV3IFNlY3Rpb24oIk1vc3QgVmlld3MiLCAiTW9zdCBWaWV3cyIsICJTZWFyYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsICJ2aWV3cyIpKSwNCiAgICAgICAgICAgIF0NCiAgICAgICAgICAgIHJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybiBzZWN0aW9ucy5maWx0ZXIoeCA9PiAha2V5cyB8fCBrZXlzLmluY2x1ZGVzKHgubmFtZSkpOw0KICAgICAgICB9LA0KDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHRyYW5zbGF0ZVNlY3Rpb246IGFzeW5jIGZ1bmN0aW9uIChzZWN0aW9uLCBwYWdlKSB7DQogICAgICAgICAgICBpZiAocMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VjdGlvbi5pZGVudGlmaWVyID09ICJMYXRlc3QiKSByZXR1cm4gYXdhaXQgdGhpcy5sYXRlc3QocGFnZSk7DQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBlbHNlIHJldHVybiBhd2FpdCB0aGlzLnNlYXJjaChzZWN0aW9uLmZpbHRlciB8fCB0aGlzLmRlZmF1bHRGaWx0ZXIoKSwgcGFnZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Sk7DQogICAgICAgIH0sDQoNCiAgICAgICAgZGVmYXVsdEZpbHRlcjogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIGZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlciA9IG5ldyBGaWx0ZXIoKTsNCiAgICAgICAgICAgIHJldHVybiBmaWx0ZXI7DQogICAgICAgIH0sDQoNCiAgICAgICAgc2VhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mNoOiBhc3luYyBmdW5jdGlvbiAoZmlsdGVyLCBwYWdlKSB7DQogICAgICAgICAgICB2YXIgdXJsID0gYGh0dHBzOi8vYm94bm92ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WwuY29tL3BhZ2UvJHtwYWdlfS8/cz0ke2ZpbHRlci50aXRsZSB8fCAiIn0mcG9zdF90eXBlPXdwLW1hbmdhJntnZW5yZX0mb3AmYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XV0aG9yJmFydGlzdCZyZWxlYXNlJmFkdWx0Jm1fb3JkZXJieT0ke2ZpbHRlci5zb3J0VHlwZSB8fCAiIn1gDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBpZiAoZmlsdGVyLmdlbnJlcyAmJiBmaWx0ZXIuZ2VucmVzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICB1cmwgPSB1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mwucmVwbGFjZSgie2dlbnJlfSIsIGZpbHRlci5nZW5yZXMubWFwKHggPT4gImdlbnJlJTVCMCU1RD0iICsgeCkuam9pbigiJiIpKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Q0KICAgICAgICAgICAgfSBlbHNlIHVybCA9IHVybC5yZXBsYWNlKCIme2dlbnJlfSIsICIiKQ0KICAgICAgICAgICAgdmFyIGNvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRhaW5lciA9IHRoaXMucGFyc2VyLmpxKGF3YWl0IHRoaXMuY2xlYW5lci5nZXRDbGllbnQodGhpcy5pZCkuZ2V0SHRtbCh1cmwpKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TsNCiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTsNCiAgICAgICAgICAgIGNvbnRhaW5lci5maW5kKCcudGFiLWNvbnRlbnQtdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03JhcCAuYy10YWJzLWl0ZW0gLnRhYi10aHVtYiBhJykuZm9yRWFjaCgoeCkgPT4gew0KICAgICAgICAgICAgICAgIHJlc3VsdC5wdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XNoKG5ldyBMaWdodEl0ZW0oeC5zZWxlY3QoJ2ltZycpLmF0dHIoInNyYyIpLnVybCgpLCB4LmF0dHIoInRpdGxlIikudGV4dCgpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAnJywgeC5hdHRyKCJocmVmIikudXJsKCksIHRoaXMubmFtZSkpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICByZXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m4gcmVzdWx0Ow0KICAgICAgICB9LA0KDQogICAgICAgIGdldENoYXB0ZXJzOiBhc3luYyBmdW5jdGlvbiAobm92ZWxVcmwpIHsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgdmFyIGNoYXB0ZXJzID0gW107DQogICAgICAgICAgICAgICAgdmFyIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GNvbnRhaW5lciA9IHRoaXMucGFyc2VyLmpxKGF3YWl0IHRoaXMuY2xlYW5lci5nZXRDbGllbnQodGhpcy5pZCkucG9zdEZvcm0oIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFqYXgvY2hhcHRlcnMiLnVyaShub3ZlbFVybCksIHsga2V5OiAidGVzdCIgfSkpOw0KICAgICAgICAgICAgICAgIGNvbnRhaW5lcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5maW5kKCcubGlzdGluZy1jaGFwdGVyc193cmFwIGEnKS5mb3JFYWNoKHggPT4gew0KICAgICAgICAgICAgICAgICAgICBjaGFwdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVycy5wdXNoKG5ldyBDaGFwdGVyKHgudGV4dChmYWxzZSksIHguYXR0cigiaHJlZiIpLnVybCgpKSk7DQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgfSk7DQogICAgICAgICAgICAgICAgcmV0dXJuIGNoYXB0ZXJzLnJldmVyc2UoKTsNCiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKQ0KICAgICAgICAgICAgICAgIHRocm93IGUNCiAgICAgICAgICAgIH0NCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgfSwNCiAgICAgICAgZ2V0Tm92ZWw6IGFzeW5jIGZ1bmN0aW9uIChub3ZlbFVybCkgew0KICAgICAgICAgICAgdmFyIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GNvbnRhaW5lciA9IHRoaXMucGFyc2VyLmpxKGF3YWl0IHRoaXMuY2xlYW5lci5nZXRDbGllbnQodGhpcy5pZCkuZ2V0SHRtbChubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03ZlbFVybCkpOw0KICAgICAgICAgICAgdmFyIGNoYXB0ZXJzID0gYXdhaXQgdGhpcy5nZXRDaGFwdGVycyhub3ZlbFVybCk7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICB2YXIgaXRlbSA9IG5ldyBOb3ZlbFJldmlld3MoKTsNCiAgICAgICAgICAgIGl0ZW0uZ2VucmVzID0gY29udGFpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVyLmZpbmQoIi5nZW5yZXMtY29udGVudCBhIikudGV4dEFycmF5KCk7DQogICAgICAgICAgICBpdGVtLmF1dGhvciA9IGNvbnRhaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5lci5maW5kKCIuYXV0aG9yLWNvbnRlbnQgYSIpLnRleHQoZmFsc2UpDQogICAgICAgICAgICBpdGVtLmNvbXBsZXRlZCA9ICJTdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF0dXM6IiArIGNvbnRhaW5lci5maW5kKCIucG9zdC1zdGF0dXMgLnBvc3QtY29udGVudF9pdGVtIikubGFzdCgpLnNlbGVjdCgiLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nN1bW1hcnktY29udGVudCIpLnRleHQoZmFsc2UpDQogICAgICAgICAgICBpdGVtLnV2b3RlcyA9ICJSYXRpbmc6IiArIGNvbnRhaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5lci5zZWxlY3QoIi50b3RhbF92b3RlcyIpLnRleHQoZmFsc2UpICsgIi81IjsNCiAgICAgICAgICAgIHJldHVybiBuZXcgRGV0YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxpSXRlbShjb250YWluZXIuc2VsZWN0KCcuc3VtbWFyeV9pbWFnZSBpbWcnKS5hdHRyKCJzcmMiKS51cmwoKSwgY29udGFpbmVyLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlbGVjdCgnLnBvc3QtdGl0bGUgaDEnKS50ZXh0KGZhbHNlKSwgY29udGFpbmVyLnNlbGVjdCgnLnN1bW1hcnlfX2NvbnRlbnQnKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S5jbGVhbklubmVySFRNTCgpLCBub3ZlbFVybCwgY2hhcHRlcnMsIGl0ZW0sIHRoaXMubmFtZSwgdW5kZWZpbmVkKTsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgfSwNCiAgICAgICAgZ2V0Q2hhcHRlcjogYXN5bmMgZnVuY3Rpb24gKHVybCkgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02xlYW5lci5jbGVhbkNoYXB0ZXIodGhpcy5wYXJzZXIuanEoYXdhaXQgdGhpcy5jbGVhbmVyLmdldENsaWVudCh0aGlzLmlkKS5nZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRIdG1sKHVybCkpLnNlbGVjdCgnLnJlYWRpbmctY29udGVudCcpLCB0aGlzLm5hbWUpOw0KICAgICAgICB9LA0KICAgICAgICBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRlc3Q6IGFzeW5jIGZ1bmN0aW9uIChwYWdlKSB7DQogICAgICAgICAgICB2YXIgdXJsID0gdGhpcy5sYXRlc3RVcmwucmVwbGFjZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Sgne3B9JywgcGFnZS50b1N0cmluZygpKTsNCiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLnBhcnNlci5qcShhd2FpdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwodXJsKSk7DQogICAgICAgICAgICB2YXIgcmVzdWx0ID0gWMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0107DQogICAgICAgICAgICBjb250YWluZXIuZmluZCgnLnBhZ2UtbGlzdGluZy1pdGVtIC5yb3cnKS5mb3JFYWNoKCh4KSA9PiB7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IExpZ2h0SXRlbSh4LnNlbGVjdCgnaW1nJykuYXR0cigic3JjIikudXJsKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CksIHguc2VsZWN0KCcucG9zdC10aXRsZSBhJykudGV4dCgpLCAnJywgeC5zZWxlY3QoJy5wb3N0LXRpdGxlIGEnKS5hdHRyKCJocMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVmIikudXJsKCksIHRoaXMubmFtZSkpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB9DQogICAgfQ0KDQogICAgcmV0dXJuIG5ldyBQYXJzZXIoKTsNCn07&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KICAgIGZ1bmN0aW9uIFBhcnNlcigpIHsNCiAgICAgICAgdGhpcy5pZCA9ICIxLmNvbXJhZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVtYW8iOw0KICAgICAgICB0aGlzLmRldGFsaUl0ZW1UeXBlID0gRGV0YWxpSXRlbVR5cGUuTm92ZWw7DQogICAgICAgIHRoaXMubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFtZSA9ICdDb21yYWRlbWFvJzsNCiAgICAgICAgdGhpcy5kaXNwbGF5TmFtZSA9ICJHb29nbGUgVHJhbnNsYXRlZCBub3ZlbHMiOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICB0aGlzLmxhdGVzdFVybCA9ICdodHRwczovL2NvbXJhZGVtYW8uY29tL3BhZ2Uve3B9Lyc7DQogICAgICAgIHRoaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMudXJsID0gJ2h0dHBzOi8vY29tcmFkZW1hby5jb20nOw0KICAgICAgICB0aGlzLnNlYXJjaFVybCA9ICdodHRwczovL2NvbXJhZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVtYW8uY29tL3BhZ2Uve3B9Lz9zPXtxfSZwb3N0X3R5cGU9bm92ZWwnOw0KICAgICAgICB0aGlzLnBhbmluYXRpb24gPSB0cnVlOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICB0aGlzLnNlYXJjaFBhZ2luYXRpb24gPSB0cnVlOw0KICAgICAgICB0aGlzLmljb24gPSAnaHR0cHM6Ly93d3cuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029vZ2xlLmNvbS9zMi9mYXZpY29ucz9kb21haW49aHR0cHM6Ly9jb21yYWRlbWFvLmNvbSc7DQogICAgICAgIHRoaXMucGFyc2VyUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VhcmNoU2V0dGluZ3MgPSBuZXcgUGFyc2VyU2VhcmNoU2V0dGluZ3MoKTsNCiAgICAgICAgdGhpcy5lbmFibGVOb3ZlbERvd25sbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02Fkcz0gdHJ1ZTsNCiAgICAgICAgdGhpcy5wYXJzZXJMYW5ndWFnZSA9ICJlbiI7DQogICAgICAgIHRoaXMucGFyc2VyU2VhcmNoUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02V0dGluZ3MuZ2VucmVzID0gew0KICAgICAgICAgICAgbXVsdGlTZWxlY3Rpb246IGZhbHNlLA0KICAgICAgICAgICAgdmFsdWVzOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iBbDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0FjdGlvbicpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVlKCdDb21lZHknKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnRmFudGFzeScpLA0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBsYWJlbFZhbHVlKCdIYXJlbScpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNYXR1cmUnKSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTXlzdGVyeScpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdSb21hbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mNlJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1NjaS1maScpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FZhbHVlKCdUcmFnZWR5JyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1hpYW54aWEnKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBuZXcgbGFiZWxWYWx1ZSgnV3V4aWEnKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnWHVhbmh1YW4nKSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnQWR2ZW50dXJlJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUoJ1N1cGVybmF0dXJhbCcpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdEcmFtYScpLA0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCdNYXJ0aWFsIEFydHMnLCAiTWFydGlhbC1BcnRzIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsVmFsdWUoJ1NlaW5lbicpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdQc3ljaG9sb2dpY2FsJyksDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1NsaWNlIG9mIExpZmUnLCAic2xpY2Utb2YtbGlmZSIpLA0KICAgICAgICAgICAgXMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgfTsNCg0KDQoNCiAgICAgICAgdGhpcy5wYXJzZXJTZWFyY2hTZXR0aW5ncy5zb3J0VHlwZXMgPSB7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBtdWx0aVNlbGVjdGlvbjogZmFsc2UsDQogICAgICAgICAgICB2YWx1ZXM6IFsNCiAgICAgICAgICAgICAgICBuZXcgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFiZWxWYWx1ZSgnQ2hpbmVzZScsICdjaGluZXNlJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0phcGFuZXNlJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ywgJ2phcGFuZXNlJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0tvcmVhbicsICdrb3JlYW4nKSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIF0sDQogICAgICAgIH07DQoNCiAgICAgICAgdGhpcy5wYXJzZXJTZWFyY2hTZXR0aW5ncy5zdGF0dXNlcyA9IHsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIG11bHRpU2VsZWN0aW9uOiBmYWxzZSwNCiAgICAgICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBsYWJlbFZhbHVlKCJDb21wbGV0ZSIsICJjb21wbGV0ZSIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJPbkdvaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5nIiwgIm9uLWdvaW5nIikNCiAgICAgICAgICAgIF0NCiAgICAgICAgfQ0KDQoNCiAgICAgICAgdGhpcy5jbGVhbmVyID0gcGx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02lucy5maW5kKHggPT4geC5uYW1lID09ICJDbGVhbmVyIik7DQogICAgfQ0KDQogICAgUGFyc2VyLnByb3RvdHlwZSA9IHsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgZ2V0U2VjdGlvbnM6IGZ1bmN0aW9uIChrZXlzKSB7DQogICAgICAgICAgICB2YXIgc2VjdGlvbnMgPSBbDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbmV3IFNlY3Rpb24oImxhdGVzdCIsICJMYXRlc3QgVXBkYXRlIiwgIkxhdGVzdCIsIHRydWUpLA0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5ldyBTZWN0aW9uKCJjb21wbGV0ZWQiLCAiQ29tcGxldGVkIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKHVuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsICJjb21wbGV0ZSIpKSwNCiAgICAgICAgICAgICAgICBuZXcgU2VjdGlvbigiYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02hpbmVzZSIsICJDaGluZXNlIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKHVuZGVmaW5lZCwgImNoaW5lc2UiKSksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgbmV3IFNlY3Rpb24oImphcGFuZXNlIiwgIkphcGFuZXNlIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVyKHVuZGVmaW5lZCwgImphcGFuZXNlIikpLA0KICAgICAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJrb3JlYW4iLCAiS29yZWFuIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKHVuZGVmaW5lZCwgImtvcmVhbiIpKQ0KICAgICAgICAgICAgXQ0KDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICByZXR1cm4gc2VjdGlvbnMuZmlsdGVyKHggPT4gIWtleXMgfHwga2V5cy5pbmNsdWRlcyh4Lm5hbWUpKTsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgfSwNCg0KICAgICAgICB0cmFuc2xhdGVTZWN0aW9uOiBhc3luYyBmdW5jdGlvbiAoc2VjdGlvbiwgcGFnZSkgew0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgaWYgKHNlY3Rpb24uaWRlbnRpZmllciA9PSAiTGF0ZXN0IikNCiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5sYXRlc3QocGFnZSk7DQogICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuc2VhcmNoKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HNlY3Rpb24uZmlsdGVyIHx8IHRoaXMuZGVmYXVsdEZpbHRlcigpLCBwYWdlKTsNCiAgICAgICAgfSwNCg0KICAgICAgICBkZWZhdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx0RmlsdGVyOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgZmlsdGVyID0gbmV3IEZpbHRlcigpOw0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgcmV0dXJuIGZpbHRlcjsNCiAgICAgICAgfSwNCg0KICAgICAgICBzZWFyY2g6IGFzeW5jIGZ1bmN0aW9uIChmaWx0ZXIsIHBhZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02UpIHsNCiAgICAgICAgICAgIHZhciBzb3J0VHlwZVVyaSA9ICJodHRwczovL2NvbXJhZGVtYW8uY29tL210eXBlL3tzfS9wYWdlLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03twfS8iDQogICAgICAgICAgICB2YXIgc29ydFR5cGVVcmwgPSBzb3J0VHlwZVVyaS5yZXBsYWNlKCJ7c30iLCBmaWx0ZXIuc29ydMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FR5cGUpLnJlcGxhY2UoIntwfSIsIHBhZ2UudG9TdHJpbmcoKSk7DQoNCiAgICAgICAgICAgIHZhciB1cmwgPSBmaWx0ZXIuc29ydMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FR5cGUgJiYgZmlsdGVyLnNvcnRUeXBlICE9ICIiID8gc29ydFR5cGVVcmwgOiB0aGlzLnNlYXJjaFVybC5yZXBsYWNlKCd7cX0nLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBmaWx0ZXIudGl0bGUgfHwgIiIpLnJlcGxhY2UoIntwfSIsIHBhZ2UudG9TdHJpbmcoKSk7DQogICAgICAgICAgICBpZiAoZmlsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVyLmdlbnJlcy5sZW5ndGggJiYgZmlsdGVyLmdlbnJlcy5sZW5ndGggPiAwKQ0KICAgICAgICAgICAgICAgIHVybCA9ICgiZ2VucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mUvIiArIGZpbHRlci5nZW5yZXNbMF0gKyAiL3BhZ2Uve3B9IikucmVwbGFjZSgie3B9IiwgcGFnZS50b1N0cmluZygpKS51cmkodMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ghpcy51cmwpOw0KICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgIGlmIChmaWx0ZXIuYWN0aXZlICYmICghZmlsdGVyLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNvcnRUeXBlIHx8IGZpbHRlci5zb3J0VHlwZSA9PSAiIikpDQogICAgICAgICAgICAgICAgICAgIHVybCA9ICgic3RhdHVzLyIgKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBmaWx0ZXIuYWN0aXZlICsgIi9wYWdlL3twfSIpLnJlcGxhY2UoIntwfSIsIHBhZ2UudG9TdHJpbmcoKSkudXJpKHRoaXMudXJsKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TsNCg0KICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMucGFyc2VyLmpxKGF3YWl0IHRoaXMuY2xlYW5lci5nZXRDbGllbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nQodGhpcy5pZCkuZ2V0SHRtbCh1cmwpKTsNCiAgICAgICAgICAgIHJldHVybiBjb250YWluZXIuZmluZCgiLmxpc3R1cGQgPiBkaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XYiKS5tYXAoeCA9PiBuZXcgTGlnaHRJdGVtKHguc2VsZWN0KCJpbWciKS5hdHRyKCJzcmMiKS51cmwoKSwgeC5zZWxlY3QoImEiKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S50ZXh0KGZhbHNlKSwgIiIsIHguc2VsZWN0KCJhIikuYXR0cigiaHJlZiIpLnVybCgpLCB0aGlzLm5hbWUpKTsNCiAgICAgICAgfMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCg0KICAgICAgICBnZXROb3ZlbDogYXN5bmMgZnVuY3Rpb24gKG5vdmVsVXJsKSB7DQoNCiAgICAgICAgICAgIHZhciBjb250YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WluZXIgPSB0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwobm92ZWxVcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mwpKTsNCiAgICAgICAgICAgIHZhciBjaGFwdGVycyA9IGNvbnRhaW5lci5maW5kKCIjY2hhcHRlcmxpc3QgYSIpLm1hcCh4PT4gbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV3IENoYXB0ZXIoeC5zZWxlY3QoIi5jaGFwdGVybnVtIikudGV4dCgpLCB4LmF0dHIoImhyZWYiKS51cmwoKSkpDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB2YXIgbm92ZWxSZXZpZXdzID0gbmV3IE5vdmVsUmV2aWV3cygpOw0KICAgICAgICAgICAgdHJ5IHsNCg0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5vdmVsUmV2aWV3cy5nZW5yZXMgPSBjb250YWluZXIuZmluZCgiLndkLWZ1bGwiKS53aGVyZSh4ID0+IHgudGV4dCgpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mluZGV4T2YoIkdlbnJlcyIpICE9IC0xKS5maW5kKCJhIikubWFwKHggPT4geC50ZXh0KCkpOw0KICAgICAgICAgICAgICAgIG5vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsUmV2aWV3cy5hdXRob3IgPSBjb250YWluZXIuZmluZCgiLndkLWZ1bGwiKS53aGVyZSh4ID0+IHgudGV4dCgpLmluZGV4T2YoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0lB1Ymxpc2hlciIpICE9IC0xKS5zZWxlY3QoImEiKS50ZXh0KCk7DQogICAgICAgICAgICAgICAgbm92ZWxSZXZpZXdzLmNvbXBsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRlZCA9IGNvbnRhaW5lci5maW5kKCIud2QtZnVsbCIpLndoZXJlKHggPT4geC50ZXh0KCkuaW5kZXhPZigiU3RhdHVzIikgIT0gLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TEpLnNlbGVjdCgiYSIpLnRleHQoKSA9PT0gIkNvbXBsZXRlIiA/ICJTdGF0dXM6Q29tcGxldGVkIiA6ICJTdGF0dXM6T25nb2luZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yI7DQogICAgICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7DQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB9DQoNCg0KICAgICAgICAgICAgcmV0dXJuIG5ldyBEZXRhbGlJdGVtKA0KICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03QoIi50aHVtYiBpbWciKS5hdHRyKCJzcmMiKS51cmwoKSwNCiAgICAgICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCcuZW50cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nktdGl0bGUnKS50ZXh0KCkucmVwbGFjZSgiQ29tcmFkZSBNYW8iLCAiIikucmVwbGFjZSgiLSIsICIiKS50cmltKCksDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgY29udGFpbmVyLmZpbmQoIi53ZC1mdWxsIikud2hlcmUoeCA9PiB4LnRleHQoKS5pbmRleE9mKCJEZXNjcmlwdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlvbiIpICE9IC0xKS5jbGVhbklubmVySFRNTCgpLA0KICAgICAgICAgICAgICAgIG5vdmVsVXJsLA0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GNoYXB0ZXJzLnJldmVyc2UoKSwNCiAgICAgICAgICAgICAgICBub3ZlbFJldmlld3MsDQogICAgICAgICAgICAgICAgdGhpcy5uYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W1lLA0KICAgICAgICAgICAgICAgIHVuZGVmaW5lZCwNCiAgICAgICAgICAgICkNCiAgICAgICAgfSwNCg0KICAgICAgICBnZXRDaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFwdGVyOiBhc3luYyBmdW5jdGlvbiAodXJsKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5jbGVhbmVyLmNsZWFuQ2hhcHRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ih0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwodXJsKSkuc2VsZWN0KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIjY2hhcHRlcmNvbnRlbnQiKSwgdGhpcy5uYW1lKTsNCiAgICAgICAgfSwNCg0KICAgICAgICBsYXRlc3Q6IGFzeW5jIGZ1bmN0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W9uIChwYWdlKSB7DQogICAgICAgICAgICB2YXIgdXJsID0gdGhpcy5sYXRlc3RVcmwucmVwbGFjZSgie3B9IiwgcGFnZS50b1N0cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mluZygpKTsNCiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0QMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02xpZW50KHRoaXMuaWQpLmdldEh0bWwodXJsKSk7DQogICAgICAgICAgICByZXR1cm4gY29udGFpbmVyLmZpbmQoIi5saXN0dXBkIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D4gZGl2IikubWFwKHggPT4gbmV3IExpZ2h0SXRlbSh4LnNlbGVjdCgiaW1nIikuYXR0cigic3JjIikudXJsKCksIHguc2VsZWN0KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJhIikudGV4dChmYWxzZSksICIiLCB4LnNlbGVjdCgiYSIpLmF0dHIoImhyZWYiKS51cmwoKSwgdGhpcy5uYW1lKSk7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIH0NCiAgICB9DQoNCiAgICByZXR1cm4gbmV3IFBhcnNlcigpOw0KfTs=&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KDQoNCiAgICBmdW5jdGlvbiBQYXJzZXIoKXsNCiAgICAgICAgdGhpcy5pZCA9ICIxLmxpZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02h0bm92ZWxwdWIiOw0KICAgICAgICB0aGlzLmRldGFsaUl0ZW1UeXBlID0gRGV0YWxpSXRlbVR5cGUuTm92ZWw7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRoaXMucGFyc2VyTGFuZ3VhZ2UgPSAiZW4iOw0KICAgICAgICB0aGlzLm5hbWUgPSAnTGlnaHROb3ZlbFB1Yic7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRoaXMuZGlzcGxheU5hbWUgPSAiTGlnaHQtTm92ZWwiOw0KICAgICAgICB0aGlzLmxhdGVzdFVybCA9ICdodHRwczovL3d3dy5saMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WdodG5vdmVscHViLmNvbS9icm93c2UvYWxsL3VwZGF0ZWQvYWxsL3twfSc7DQogICAgICAgIHRoaXMudXJsID0gJ2h0dHBzOi8vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03d3LmxpZ2h0bm92ZWxwdWIuY29tJzsNCiAgICAgICAgdGhpcy5zZWFyY2hVcmwgPSAnaHR0cHM6Ly93d3cubGlnaHRub3ZlbHB1YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5jb20vbG5zZWFyY2hsaXZlJzsNCiAgICAgICAgdGhpcy5wYW5pbmF0aW9uID0gdHJ1ZTsNCiAgICAgICAgdGhpcy5zZWFyY2hQYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WdpbmF0aW9uID0gdHJ1ZTsNCiAgICAgICAgdGhpcy5pY29uID0gJ2h0dHBzOi8vc3RhdGljLmxpZ2h0bm92ZWxwdWIuY29tL2NvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRlbnQvaW1nL2xpZ2h0bm92ZWxwdWIvYXBwbGUtdG91Y2gtaWNvbi5wbmcnOw0KICAgICAgICB0aGlzLnBhcnNlclNlYXJjaFNldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRpbmdzID0gbmV3IFBhcnNlclNlYXJjaFNldHRpbmdzKCk7DQogICAgICAgIHRoaXMucGFyc2VyU2VhcmNoU2V0dGluZ3MubXVsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlTZWxlY3Rpb24gPSB0cnVlOw0KICAgICAgICB0aGlzLnBhcnNlclNlYXJjaFNldHRpbmdzLmdlbnJlcyA9IHsNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG11bHRpU2VsZWN0aW9uOiB0cnVlLA0KICAgICAgICAgICAgdmFsdWVzOiBbDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoIkFjdGlvbiIsIDEpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJBZHVsdCIsIDQ4KSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQWR2ZW50dXJlIiwgMiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkNvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WVkeSIsIDEyKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQ29udGVtcG9yYXJ5IFJvbWFuY2UiLCA1OSksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkRyYW1hIiwgMyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0kVhc3Rlcm4gRmFudGFzeSIsIDU4KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiRWNjaGkiLCAxMSksDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkZhbnRhc3kiLCA0KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiRMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFudGFzeSBSb21hbmNlIiwgNjApLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJHZW5kZXIgQmVuZGVyIiwgNTIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJIYXJlbSIsIDUpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVlKCJIaXN0b3JpY2FsIiwgNDYpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJIb3Jyb3IiLCA0NCksDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkpvc2VpIiwgMjMpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJMbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02xpY29uIiwgNTEpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJNYWdpY2FsIFJlYWxpc20iLCA1NyksDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIk1hcnRpYWwgQXJ0cyIsIDYpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVlKCJNYXR1cmUiLCA3KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTWVjaGEiLCA0NSksDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbmV3IGxhYmVsVmFsdWUoIk15c3RlcnkiLCAxNCksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlBzeWNobMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02xvZ2ljYWwiLCAxOCksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlJvbWFuY2UiLCA4KSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBuZXcgbGFiZWxWYWx1ZSgiU2Nob29sIExpZmUiLCAyMSksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNjaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S1maSIsIDE5KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2VpbmVuIiwgNDkpLA0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBsYWJlbFZhbHVlKCJTaG91am8iLCA0NyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNob3VqbyBBaSIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0DYxKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2hvdW5lbiIsIDQzKSwNCiAgICAgICAgICAgICAgICBuZXcgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFiZWxWYWx1ZSgiU2hvdW5lbiBBaSIsIDUzKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2xpY2Ugb2YgTGlmZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SIsIDEzKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU211dCIsIDU2KSwNCiAgICAgICAgICAgICAgICBuZXcgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFiZWxWYWx1ZSgiU3BvcnRzIiwgNTApLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTdXBlcm5hdHVyYWwiLCAxNMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlRyYWdlZHkiLCA5KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxWYWx1ZSgiVmlkZW8gR2FtZXMiLCA1NSksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIld1eGlhIiwgNDIpLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJYaWFueGlhIiwgMjApLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVlKCJYdWFuaHVhbiIsIDEwKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiWWFvaSIsIDU0KQ0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgXQ0KICAgICAgICB9DQogICAgDQogICAgICAgIHRoaXMucGFyc2VyU2VhcmNoU2V0dGluZ3Muc3RhdHVzZXMgPSB7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBtdWx0aVNlbGVjdGlvbjogdHJ1ZSwNCiAgICAgICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgICAgIG5ldyBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJlbFZhbHVlKCJDb21wbGV0ZWQiLCAxKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiT25nb2luZyIsIDIpLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgXQ0KICAgICAgICB9DQogICAgDQogICAgICAgIHRoaXMucGFyc2VyU2VhcmNoU2V0dGluZ3MubGFuZ3VhZ2VzIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0gew0KICAgICAgICAgICAgbXVsdGlTZWxlY3Rpb246IHRydWUsDQogICAgICAgICAgICB2YWx1ZXM6IFsNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBuZXcgbGFiZWxWYWx1ZSgiQ2hpbmVzZSBOb3ZlbCIsIDQpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJLbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03JlYW4gTm92ZWwiLCA1KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTGlnaHQgTm92ZWwiLCA2KSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTGlnaHQgTm92ZWwgKEpQKSIsIDkpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FZhbHVlKCJMaWdodCBOb3ZlbCAoS1IpIiwgMTApLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJQdWJsaXNoZWQgTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m92ZWwgKENOKSIsIDExKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiUHVibGlzaGVkIE5vdmVsIChLUikiLCA4KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiV2ViIE5vdmVsIiwgNyksDQogICAgICAgICAgICAgICAgbmV3IGxhYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsVmFsdWUoIldlYiBOb3ZlbCAoQ04pIiwgMSksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIldlYiBOb3ZlbCAoSMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0lApIiwgMyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIldlYiBOb3ZlbCAoS1IpIiwgMikNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0F0NCiAgICAgICAgfQ0KDQogICAgICAgIHRoaXMuY2xlYW5lciA9IHBsdWdpbnMuZmluZCh4ID0+IHgubmFtZSA9PSAiQ2xlYW5lcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iIpOw0KICAgIH0NCg0KDQogICAgUGFyc2VyLnByb3RvdHlwZSA9IHsNCiAgICAgICAgZ2V0U2VjdGlvbnM6IGZ1bmN0aW9uKGtleMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMpIHsNCiAgICAgICAgICAgIHZhciBzZWN0aW9ucyA9IFsNCiAgICAgICAgICAgICAgICBuZXcgU2VjdGlvbigibGF0ZXN0IiwgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0kxhdGVzdCBVcGRhdGUiLCAiTGF0ZXN0IiwgdHJ1ZSksDQogICAgICAgICAgICAgICAgbmV3IFNlY3Rpb24oInJvbWFuY2UiLCAiUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m9tYW5jZSIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcihbOF0pKSwNCiAgICAgICAgICAgICAgICBuZXcgU2VjdGlvbigiYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0aW9uIiwgIkFjdGlvbiIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcihbMV0pKSwNCiAgICAgICAgICAgICAgICBuZXcgUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VjdGlvbigibXlzdGVyeSIsICJNeXN0ZXJ5IiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKFsxNF0pKSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIF0NCiAgICANCiAgICAgICAgICAgIHJldHVybiBzZWN0aW9ucy5maWx0ZXIoeCA9PiAha2V5cyB8fCBrZXlzLmluY2x1ZGVzKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HgubmFtZSkpOw0KICAgICAgICB9LA0KICAgIA0KICAgICAgICB0cmFuc2xhdGVTZWN0aW9uOiBhc3luYyBmdW5jdGlvbihzZWN0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W9uLCBwYWdlKSAgew0KICAgICAgICAgICAgaWYgKHNlY3Rpb24uaWRlbnRpZmllciA9PSAiTGF0ZXN0IikNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICByZXR1cm4gYXdhaXQgdGhpcy5sYXRlc3QocGFnZSk7DQogICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuIGF3YWl0IHRoaXMuc2VhcmNoKHNlY3Rpb24uZmlsdGVyIHx8IHRoaXMuZGVmYXVsdEZpbHRlcigpLCBwYWdlKTsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgfSwNCiAgICANCiAgICAgICAgZGVmYXVsdEZpbHRlcjogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICByZXR1cm4gbmV3IEZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlcigpOw0KICAgICAgICB9LA0KICAgIA0KICAgICAgICBnZXRHZW5yZXM6IGFzeW5jIGZ1bmN0aW9uKGZpbHRlciwgcGFnZSkgeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICAgICAgdmFyIHVybCA9ICJodHRwczovL3d3dy5saWdodG5vdmVscHViLmNvbS9zZWFyY2hhZHY/Y3RnY29uPWFuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CZ0YWdjb249YW5kJnJhdGNvbj1taW4mcmF0aW5nPTAmc29ydD1zZGF0ZSZwYWdlTm89IiArIHBhZ2U7DQogICAgICAgICAgICBpZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAoZmlsdGVyLmFjdGl2ZSkNCiAgICAgICAgICAgICAgICB1cmwgPSB1cmwgKyAiJnN0YXR1cz0iICsgZmlsdGVyLmFjdGl2ZTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIGlmIChmaWx0ZXIubGFuZ3VhZ2UgJiYgZmlsdGVyLmxhbmd1YWdlICE9ICIiKQ0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybCA9IHVybCArICImZ2VucmV0eXBlcz0iICsgZmlsdGVyLmxhbmd1YWdlOw0KICAgIA0KICAgICAgICAgICAgaWYgKGZpbHRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5nZW5yZXMubGVuZ3RoID4gMCkNCiAgICAgICAgICAgICAgICB1cmwgPSB1cmwgKyAiJmNhdGVnb3JpZXM9IiArIGZpbHRlci5nZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5yZXMuam9pbigiJTJDIik7DQogICAgICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5wYXJzZXIuanEoYXdhaXQgdGhpcy5jbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVhbmVyLmdldENsaWVudCh0aGlzLmlkKS5nZXRIdG1sKHVybCkpOw0KICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgY29udGFpbmVyLmZpbmQoIi5ub3ZlbC1pdGVtIikuZm9yRWFjaCh4ID0+IHsNCiAgICAgICAgICAgICAgICByZXN1bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HQucHVzaChuZXcgTGlnaHRJdGVtKHguc2VsZWN0KCJpbWciKS5hdHRyKCJkYXRhLXNyYyB8IHNyYyIpLnVybCgpLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICB4LnNlbGVjdCgiLm5vdmVsLXRpdGxlIGEiKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iIsDQogICAgICAgICAgICAgICAgICAgIHguc2VsZWN0KCIubm92ZWwtdGl0bGUgYSIpLmF0dHIoImhyZWYiKS51cmwoKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgdGhpcy5uYW1lKSk7DQogICAgICAgICAgICB9KTsNCiAgICANCiAgICAgICAgICAgIHJldHVybiByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XN1bHQ7DQogICAgICAgIH0sDQogICAgDQogICAgICAgIHNlYXJjaDogYXN5bmMgZnVuY3Rpb24oZmlsdGVyLCBwYWdlKSB7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBpZiAoIWZpbHRlci50aXRsZSkNCiAgICAgICAgICAgICAgICBmaWx0ZXIudGl0bGUgPSAiIjsNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHZhciB1cmwgPSB0aGlzLnNlYXJjaFVybDsNCiAgICAgICAgICAgIGlmIChmaWx0ZXIuZ2VucmVzLmxlbmd0aCA+IDAgfHwgZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mlsdGVyLmxhbmd1YWdlICE9ICIiIHx8IGZpbHRlci5hY3RpdmUpDQogICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02V0R2VucmVzKGZpbHRlciwgcGFnZSk7DQogICAgICAgICAgICB2YXIgY29udGFpbmVyID0gYXdhaXQgdGhpcy5jbGVhbmVyLmdldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ENsaWVudCh0aGlzLmlkKS5wb3N0RW5jb2RlZEZvcm0odXJsLCB7IGlucHV0Q29udGVudDogZmlsdGVyLnRpdGxlIH0pOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgdmFyIGh0bWwgPSB0aGlzLnBhcnNlci5qcShjb250YWluZXIucmVzdWx0dmlldy50b0h0bWwoKSk7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgICAgICBodG1sLmZpbmQoIi5ub3ZlbC1pdGVtIikuZm9yRWFjaCh4ID0+IHsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZXcgTGlnaHRJdGVtKHguc2VsZWN0KCJpbWciKS5hdHRyKCJkYXRhLXNyYyB8IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HNyYyIpLnVybCgpLA0KICAgICAgICAgICAgICAgICAgICB4LnNlbGVjdCgiLm5vdmVsLXRpdGxlIikudGV4dChmYWxzZSksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICIiLA0KICAgICAgICAgICAgICAgICAgICB4LnNlbGVjdCgiYSIpLmF0dHIoImhyZWYiKS51cmwoKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5uYW1lKSk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHJldHVybiByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XN1bHQ7DQogICAgICAgIH0sDQogICAgDQogICAgDQogICAgICAgIGdldENoYXB0ZXJzOiBhc3luYyBmdW5jdGlvbihub3ZlbFVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CkgIHsNCiAgICAgICAgICAgIHZhciBwYWdlID0gMTsNCiAgICAgICAgICAgIHZhciByZXN1bHQgPSB7fTsNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HdoaWxlICh0cnVlKSB7DQogICAgICAgICAgICAgICAgdmFyIHVybCA9IG5vdmVsVXJsICsgIi9wYWdlLXtwYWdlfSI7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLnBhcnNlci5yZW5kZXJDb3VudGVyQ2FsbHMocGFnZSwgdXJsKTsNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBwYWdlID0gaXRlbS5wYWdlOw0KICAgICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBhd2FpdCBQcm9taXNlLmFsbChpdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVtLnByb21pc2VzKTsNCiAgICAgICAgICAgICAgICB2YXIgYnJlYWtJdCA9IGZhbHNlOw0KICAgIA0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HZhbHVlcy5mb3JFYWNoKHggPT4gew0KICAgICAgICAgICAgICAgICAgICBpZiAoIWJyZWFrSXQpIHsNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIHZhciBpdGVtcyA9IHRoaXMucGFyc2VyLmpxKHgpLmZpbmQoIi5jaGFwdGVyLWxpc3QgYSIpOw0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgaWYgKCFpdGVtcy5oYXNFbGVtZW50cygpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WtJdCA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgDQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVzdWx0QSA9IGl0ZW1zLnJlZHVjZSgoYXJyLCB4KSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyW3guYXR0cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0igidGl0bGUiKS50ZXh0KCkgKyB4LmF0dHIoImhyZWYiKS51cmwoKV0gPSBuZXcgQ2hhcHRlcih4LmF0dHIoInRpdGxlIikudGV4dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CgpLCB4LmF0dHIoImhyZWYiKS51cmwoKSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9LCB7fSk7DQogICAgDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXJzZXIudmFsaWRhdGVDaGFwdGVycyhyZXN1bHRBLCByZXN1bHQpID09IGZhbHNlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtJdCA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICB9DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgICAgIH0NCiAgICANCiAgICAgICAgICAgICAgICB9KQ0KICAgIA0KICAgICAgICAgICAgICAgIGlmIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ChicmVha0l0KQ0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIH0NCiAgICANCiAgICAgICAgICAgIHJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybiBPYmplY3QudmFsdWVzKHJlc3VsdCk7DQogICAgDQogICAgICAgIH0sDQogICAgDQogICAgICAgIGdldE5vdmVsOiBhc3luYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBmdW5jdGlvbihub3ZlbFVybCkgew0KICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMucGFyc2VyLmpxKGF3YWl0IHRoaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMuY2xlYW5lci5nZXRDbGllbnQodGhpcy5pZCkuZ2V0SHRtbChub3ZlbFVybCkpOw0KICAgICAgICAgICAgdmFyIGNoYXB0ZXJVcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mwgPSBjb250YWluZXIuc2VsZWN0KCIuY2hhcHRlci1sYXRlc3QtY29udGFpbmVyIikuYXR0cigiaHJlZiIpLnVybCgpOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgaWYgKCFjaGFwdGVyVXJsIHx8IGNoYXB0ZXJVcmwgPT0gIiIpDQogICAgICAgICAgICAgICAgY2hhcHRlclVybCA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5vdmVsVXJsOw0KICAgICAgICAgICAgdmFyIGNoYXB0ZXJzID0gYXdhaXQgdGhpcy5nZXRDaGFwdGVycyhjaGFwdGVyVXJsKTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIHZhciBub3ZlbFJldmlld3MgPSBuZXcgTm92ZWxSZXZpZXdzKCk7DQogICAgICAgICAgICB2YXIgaW5mbyA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GNvbnRhaW5lci5zZWxlY3QoIi5ub3ZlbC1pbmZvIik7DQogICAgICAgICAgICBub3ZlbFJldmlld3MuZ2VucmVzID0gaW5mby5maMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5kKCIuY2F0ZWdvcmllcyBhIikudGV4dEFycmF5KCk7DQogICAgICAgICAgICBub3ZlbFJldmlld3MuYXV0aG9yID0gaW5mby5zZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxlY3QoIi5hdXRob3IgYSIpLnRleHQoZmFsc2UpOw0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLnV2b3RlcyA9ICJSYXRpbmc6IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iArIGNvbnRhaW5lci5zZWxlY3QoIi5yYXRpbmctc3RhciBzdHJvbmciKS50ZXh0KGZhbHNlKSArICIvNSI7DQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBub3ZlbFJldmlld3MuZGVzY3JpcHRpb24gPSBjb250YWluZXIuc2VsZWN0KCIjaW5mbyAuc3VtbWFyeSIpLmNsZWFuSW5uZXJIVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0E1MKCk7DQogICAgICAgICAgICBub3ZlbFJldmlld3MuY29tcGxldGVkID0gaW5mby50ZXh0KGZhbHNlKSA9PT0gIkNvbXBsZXRlZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIgPyAiU3RhdHVzOkNvbXBsZXRlZCIgOiAiU3RhdHVzOk9uZ29pbmciOw0KICAgIA0KICAgICAgICAgICAgcmV0dXJuIG5ldyBEZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRhbGlJdGVtKA0KICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoIi5jb3ZlciBpbWciKS5hdHRyKCJkYXRhLXNyYyB8IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HNyYyIpLnVybCgpLA0KICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoIi5ub3ZlbC10aXRsZSIpLnRleHQoZmFsc2UpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgICAgIG5vdmVsUmV2aWV3cy5kZXNjcmlwdGlvbiwNCiAgICAgICAgICAgICAgICBub3ZlbFVybCwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICBjaGFwdGVycywNCiAgICAgICAgICAgICAgICBub3ZlbFJldmlld3MsDQogICAgICAgICAgICAgICAgdGhpcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5uYW1lLA0KICAgICAgICAgICAgICAgIHVuZGVmaW5lZCwNCiAgICAgICAgICAgICkNCiAgICAgICAgfSwNCiAgICANCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgZ2V0Q2hhcHRlcjogYXN5bmMgZnVuY3Rpb24odXJsKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5jbGVhbmVyLmNsZWFuQMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02hhcHRlcih0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwodXJsKSkucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VsZWN0KCIjY2hhcHRlci1jb250YWluZXIiKSwgdGhpcy5uYW1lKTsNCiAgICAgICAgfSwNCiAgICANCiAgICAgICAgbGF0ZXN0OMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iBhc3luYyBmdW5jdGlvbihwYWdlKSB7DQogICAgICAgICAgICB2YXIgdXJsID0gdGhpcy5sYXRlc3RVcmwucmVwbGFjZSgie3B9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iwgcGFnZS50b1N0cmluZygpKTsNCiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwodXJsKSk7DQogICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBjb250YWluZXIuZmluZCgiLm5vdmVsLWl0ZW0iKS5mb3JFYWNoKHggPT4gew0KICAgICAgICAgICAgICAgIHJlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03VsdC5wdXNoKG5ldyBMaWdodEl0ZW0oeC5zZWxlY3QoIi5ub3ZlbC1jb3ZlciBpbWciKS5hdHRyKCJkYXRhLXNyYyB8IHNyYyIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nVybCgpLA0KICAgICAgICAgICAgICAgICAgICB4LnNlbGVjdCgiLm5vdmVsLXRpdGxlIikudGV4dCgpLA0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAiIiwNCiAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoIi5jb3Zlci13cmFwIGEiKS5hdHRyKCJocmVmIikudXJsKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CksDQogICAgICAgICAgICAgICAgICAgIHRoaXMubmFtZSkpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICByZXR1cm4gcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVzdWx0Ow0KICAgICAgICB9DQogICAgfQ0KDQoNCiAgICByZXR1cm4gbmV3IFBhcnNlcigpOw0KDQp9Ow==&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KDQogICAgZnVuY3Rpb24gUGFyc2VyKCkgew0KICAgICAgICB0aGlzLmlkID0gIjEubWFuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02FuZWxvIjsNCiAgICAgICAgdGhpcy5kZXRhbGlJdGVtVHlwZSA9IERldGFsaUl0ZW1UeXBlLk1hbmFnYTsNCiAgICAgICAgdGhpcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5wYXJzZXJMYW5ndWFnZSA9ICJlbiI7DQogICAgICAgIHRoaXMubmFtZSA9ICdNYW5nYW5FbG8nOw0KICAgICAgICB0aGlzLmRpcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03BsYXlOYW1lID0gIk1hbmdhLVNlY3RvciI7DQogICAgICAgIHRoaXMubGF0ZXN0VXJsID0gJ2h0dHBzOi8vbWFuZ2FuZWxvLmNvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S9nZW5yZS1hbGwve3B9JzsNCiAgICAgICAgdGhpcy51cmwgPSAnaHR0cHM6Ly9tYW5nYW5lbG8uY29tLyc7DQogICAgICAgIHRoaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMuc2VhcmNoVXJsID0gJ2h0dHBzOi8vbWFuZ2FuZWxvLmNvbS9hZHZhbmNlZF9zZWFyY2g/cz1hbGwmcGFnZT17cH0nOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB0aGlzLnBhbmluYXRpb24gPSB0cnVlOw0KICAgICAgICB0aGlzLnNlYXJjaFBhZ2luYXRpb24gPSB0cnVlOw0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB0aGlzLmljb24gPSAnaHR0cHM6Ly9tYW5nYW5lbG8uY29tL2Zhdmljb24ucG5nJzsNCiAgICAgICAgdGhpcy5wYXJzZXJTZWFyYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02hTZXR0aW5ncyA9IG5ldyBQYXJzZXJTZWFyY2hTZXR0aW5ncygpOw0KICAgICAgICB0aGlzLnBhcnNlclNlYXJjaFNldHRpbmdzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m11bHRpU2VsZWN0aW9uID0gdHJ1ZTsNCiAgICAgICAgdGhpcy5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZXMgPSB7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBtdWx0aVNlbGVjdGlvbjogZmFsc2UsDQogICAgICAgICAgICB2YWx1ZXM6IFsNCiAgICAgICAgICAgICAgICBuZXcgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFiZWxWYWx1ZSgnQWN0aW9uJywgMiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0FkdWx0JywgMyksDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0FkdmVudHVyZScsIDQpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CdDb21lZHknLCA2KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnQ29va2luZycsIDcpLA0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCdEb3VqaW5zaGknLCA5KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnRHJhbWEnLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAxMCksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0VjY2hpJywgMTEpLA0KICAgICAgICAgICAgICAgIG5ldyBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJlbFZhbHVlKCdGYW50YXN5JywgMTIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdHZW5kZXIgYmVuZGVyJywgMMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TMpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdIYXJlbScsIDE0KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxWYWx1ZSgnSGlzdG9yaWNhbCcsIDE1KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnSG9ycm9yJywgMTYpLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdJc2VrYWknLCA0NSksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUoJ0pvc2VpJywgMTcpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNYW5odWEnLCA0NCksDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbmV3IGxhYmVsVmFsdWUoJ01hbmh3YScsIDQzKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTWFydGlhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBhcnRzJywgMTkpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNYXR1cmUnLCAyMCksDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbmV3IGxhYmVsVmFsdWUoJ01lY2hhJywgMjEpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNZWRpY2FsJywgMMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0jIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNeXN0ZXJ5JywgMjQpLA0KICAgICAgICAgICAgICAgIG5ldyBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJlbFZhbHVlKCdPbmUgc2hvdCcsIDI1KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnUHN5Y2hvbG9naWNhbCcsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0DI2KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnUm9tYW5jZScsIDI3KSwNCiAgICAgICAgICAgICAgICBuZXcgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFiZWxWYWx1ZSgnU2Nob29sIGxpZmUnLCAyOCksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1NjaSBmaScsIDI5KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU2VpbmVuJywgMzApLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FZhbHVlKCdTaG91am8nLCAzMSksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1Nob3VqbyBhaScsIDMyKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU2hvdW5lbicsIDMzKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgnU2hvdW5lbiBhaScsIDM0KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU2xpY2Ugb2YgbGlmZScsIDM1KSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU211dCcsIDM2KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgnU3BvcnRzJywgMzcpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTdXBlcm5hdHVyYWwnLCAzOCksDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1RyYWdlZHknLCAzOSksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU01dlYnRvb25zJywgNDApLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdZYW9pJywgNDEpLA0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCdZdXJpJywgNDIpLA0KICAgICAgICAgICAgXSwNCiAgICAgICAgfTsNCg0KICAgICAgICB0aGlzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nBhcnNlclNlYXJjaFNldHRpbmdzLnNvcnRUeXBlcyA9IHsNCiAgICAgICAgICAgIG11bHRpU2VsZWN0aW9uOiBmYWxzZSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdMYXRlc3QgUmVsZWFzZScsICcnKSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTmV3ZXN0JywgJ25ld2VzdCcpLA0KICAgICAgICAgICAgICAgIG5ldyBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJlbFZhbHVlKCdUb3AgdmlldycsICd0b3B2aWV3JyksDQogICAgICAgICAgICBdLA0KICAgICAgICB9Ow0KDQogICAgICAgIHRoaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMucGFyc2VyU2VhcmNoU2V0dGluZ3Muc3RhdHVzZXMgPSB7DQogICAgICAgICAgICBtdWx0aVNlbGVjdGlvbjogZmFsc2UsDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICB2YWx1ZXM6IFsNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQ29tcGxldGVkIiwgImNvbXBsZXRlZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJvbmdvaW5nIiwgIm9uZ29pbmciKQ0KICAgICAgICAgICAgXQ0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB9DQoNCiAgICAgICAgdGhpcy5jbGVhbmVyID0gcGx1Z2lucy5maW5kKHggPT4geC5uYW1lID09ICJDbGVhbmVyIik7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QoNCiAgICB9DQoNCiAgICBQYXJzZXIucHJvdG90eXBlID0gew0KICAgICAgICBnZXRTZWN0aW9uczogZnVuY3Rpb24gKGtleXMpIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HsNCiAgICAgICAgICAgIHZhciBzZWN0aW9ucyA9IFsNCiAgICAgICAgICAgICAgICBuZXcgU2VjdGlvbigibGF0ZXN0IiwgIkxhdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVzdCBVcGRhdGUiLCAiTGF0ZXN0IiwgdHJ1ZSksDQogICAgICAgICAgICAgICAgbmV3IFNlY3Rpb24oImhvdCIsICJOZXdlc3QiLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIodW5kZWZpbmVkLCAibmV3ZXN0IikpLA0KICAgICAgICAgICAgICAgIG5ldyBTZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0aW9uKCJjb21wbGV0ZWQiLCAiQ29tcGxldGVkIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKHVuZGVmaW5lZCwgdW5kZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WZpbmVkLCB1bmRlZmluZWQsICJjb21wbGV0ZWQiKSksDQogICAgICAgICAgICAgICAgbmV3IFNlY3Rpb24oInBvcHVsYXIiLCAiTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W9zdCBQb3B1bGFyIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKHVuZGVmaW5lZCwgInRvcHZpZXciKSkNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIF0NCg0KICAgICAgICAgICAgcmV0dXJuIHNlY3Rpb25zLmZpbHRlcih4ID0+ICFrZXlzIHx8IGtleXMuaW5jbHVkZXMoeC5uYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W1lKSk7DQogICAgICAgIH0sDQoNCiAgICAgICAgdHJhbnNsYXRlU2VjdGlvbjogYXN5bmMgZnVuY3Rpb24gKHNlY3Rpb24sIHBhZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02UpIHsNCiAgICAgICAgICAgIGlmIChzZWN0aW9uLmlkZW50aWZpZXIgPT0gIkxhdGVzdCIpDQogICAgICAgICAgICAgICAgcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuIGF3YWl0IHRoaXMubGF0ZXN0KHBhZ2UpOw0KICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB0aGlzLnNlYXJjaChzZWN0aW9uLmZpbHRlciB8fCB0aGlzLmRlZmF1bHRGaWx0ZXIoKSwgcGFnZSk7DQogICAgICAgIH0sDQoNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgZGVmYXVsdEZpbHRlcjogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIGZpbHRlciA9IG5ldyBGaWx0ZXIoKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TsNCiAgICAgICAgICAgIHJldHVybiBmaWx0ZXI7DQogICAgICAgIH0sDQoNCiAgICAgICAgc2VhcmNoOiBhc3luYyBmdW5jdGlvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAoZmlsdGVyLCBwYWdlKSB7DQogICAgICAgICAgICB2YXIgdXJsID0gdGhpcy5zZWFyY2hVcmwucmVwbGFjZSgie3B9IiwgcGFnZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S50b1N0cmluZygpKTsNCiAgICAgICAgICAgIGlmIChmaWx0ZXIuZ2VucmVzLmxlbmd0aCA+IDApDQogICAgICAgICAgICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJsID0gKCImZ19pPV8iICsgZmlsdGVyLmdlbnJlcy5qb2luKCJfIikpLnVyaSh1cmwpOw0KICAgICAgICAgICAgaWYgKGZpbHRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5zb3J0VHlwZSAmJiBmaWx0ZXIuc29ydFR5cGUgIT0gIiIpDQogICAgICAgICAgICAgICAgdXJsID0gKCImb3JieT0iICsgZmlsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVyLnNvcnRUeXBlKS51cmkodXJsKTsNCiAgICAgICAgICAgIGlmIChmaWx0ZXIuYWN0aXZlICYmIGZpbHRlci5hY3RpdmUgIT0gIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iIpDQogICAgICAgICAgICAgICAgdXJsID0gKCImc3RzPSIgKyBmaWx0ZXIuYWN0aXZlKS51cmkodXJsKTsNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlmIChmaWx0ZXIudGl0bGUgJiYgZmlsdGVyLnRpdGxlLnRyaW0oKS5sZW5ndGggPiAwKQ0KICAgICAgICAgICAgICAgIHVybCA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CgiJmtleXc9IiArIGZpbHRlci50aXRsZS5yZXBsYWNlKC9bIF0vZywgIl8iKSkudXJpKHVybCk7DQogICAgICAgICAgICB2YXIgYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029udGFpbmVyID0gdGhpcy5wYXJzZXIuanEoYXdhaXQgdGhpcy5jbGVhbmVyLmdldENsaWVudCh0aGlzLmlkKS5nZXRIdG1sKHVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CkpOw0KICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICAgICAgY29udGFpbmVyLmZpbmQoJy5jb250ZW50LWdlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nJlcy1pdGVtJykuZm9yRWFjaCgoeCkgPT4gew0KICAgICAgICAgICAgICAgIGlmICh4LnNlbGVjdCgnLmdlbnJlcy1pdGVtLWltZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBpbWcnKS5hdHRyKCJzcmMiKS5oYXNWYWx1ZSgpKQ0KICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCgNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgIG5ldyBMaWdodEl0ZW0oDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoJy5nZW5yZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMtaXRlbS1pbWcgaW1nJykuYXR0cigic3JjIikudXJsKCksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5nZW5yZXMtaXRlbS1pbWcnKS5hdHRyKCJ0aXRsZSIpLnRleHQoKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJywNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICAgICAgICAgICAgICB4LnNlbGVjdCgnLmdlbnJlcy1pdGVtLWltZycpLmF0dHIoImhyZWYiKS51cmwoKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5hbWUNCiAgICAgICAgICAgICAgICAgICAgICAgICksDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICAgICAgfMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCg0KICAgICAgICBnZXROb3ZlbDogYXN5bmMgZnVuY3Rpb24gKG5vdmVsVXJsKSB7DQogICAgICAgICAgICB2YXIgY29udGFpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVyID0gdGhpcy5wYXJzZXIuanEoYXdhaXQgdGhpcy5jbGVhbmVyLmdldENsaWVudCh0aGlzLmlkKS5nZXRIdG1sKG5vdmVsVXJsKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Sk7DQoNCiAgICAgICAgICAgIHZhciBpdGVtID0gbmV3IE5vdmVsUmV2aWV3cygpOw0KICAgICAgICAgICAgdmFyIHRiSW5mbyA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GNvbnRhaW5lci5maW5kKCIudmFyaWF0aW9ucy10YWJsZUluZm8gdHIiKQ0KICAgICAgICAgICAgaWYgKHRiSW5mby5sZW5ndGgoKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SA+IDMpDQogICAgICAgICAgICAgICAgaXRlbS5nZW5yZXMgPSB0YkluZm8uZXEoMykuZmluZCgiLnRhYmxlLXZhbHVlIGEiKS5tYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XAoeCA9PiB4LnRleHQoZmFsc2UpKTsNCiAgICAgICAgICAgIGVsc2UgaWYgKHRiSW5mby5sZW5ndGgoKSA9PSAzKQ0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIGl0ZW0uZ2VucmVzID0gdGJJbmZvLmVxKDIpLmZpbmQoIi50YWJsZS12YWx1ZSBhIikubWFwKHggPT4geC50ZXh0KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GZhbHNlKSk7DQogICAgICAgICAgICBpdGVtLmRlc2NyaXB0aW9uID0gY29udGFpbmVyLnNlbGVjdCgiLnBhbmVsLXN0b3J5LWluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m8tZGVzY3JpcHRpb24iKS50ZXh0KGZhbHNlKQ0KDQogICAgICAgICAgICBpdGVtLnV2b3RlcyA9IGNvbnRhaW5lci5zZWxlY3QoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVtW3R5cGVvZj0ndjpSYXRpbmcnXSIpLnRleHQoZmFsc2UpLnJlbW92ZU5ld0xpbmUoIiAiKTsNCiAgICAgICAgICAgIGl0ZW0uYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx0ZXJuYXRpdmVOYW1lcyA9IHRiSW5mby5sZW5ndGgoKSA+IDMgPyB0YkluZm8uZXEoMCkuc2VsZWN0KCIjZWRpdGFzc29jaWF0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WQiKS50ZXh0KGZhbHNlKSA6ICIiOw0KICAgICAgICAgICAgaWYgKHRiSW5mby5sZW5ndGgoKSA+IDMpDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgaXRlbS5hdXRob3IgPSB0YkluZm8uZXEoMSkuc2VsZWN0KCIudGFibGUtdmFsdWUiKS50ZXh0KGZhbHNlKTsNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIGVsc2UgaWYgKHRiSW5mby5sZW5ndGgoKSA+IDApDQogICAgICAgICAgICAgICAgaXRlbS5hdXRob3IgPSB0YkluZm8uZXEoMMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ckuc2VsZWN0KCIudGFibGUtdmFsdWUiKS50ZXh0KGZhbHNlKTsNCiAgICAgICAgICAgIGl0ZW0ubGFuZyA9ICIiOw0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgaWYgKHRiSW5mby5sZW5ndGgoKSA+IDMpDQogICAgICAgICAgICAgICAgaXRlbS5jb21wbGV0ZWQgPSB0YkluZm8uZXEoMMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ikudGV4dChmYWxzZSkucmVtb3ZlTmV3TGluZSgiICIpOw0KICAgICAgICAgICAgZWxzZSBpZiAodGJJbmZvLmxlbmd0aCgpID09IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0DMpDQogICAgICAgICAgICAgICAgaXRlbS5jb21wbGV0ZWQgPSB0YkluZm8uZXEoMSkudGV4dChmYWxzZSkucmVtb3ZlTmV3TGluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgiICIpOw0KICAgICAgICAgICAgdmFyIGNoYXB0ZXJzID0gY29udGFpbmVyLmZpbmQoIi5yb3ctY29udGVudC1jaGFwdGVyIGEiKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S5tYXAoeCA9PiBuZXcgQ2hhcHRlcih4LnRleHQoZmFsc2UpLCB4LmF0dHIoImhyZWYiKS51cmwoKSkpOw0KICAgICAgICAgICAgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuIG5ldyBEZXRhbGlJdGVtKA0KICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoJy5pbmZvLWltYWdlIGltZycpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mF0dHIoInNyYyIpLnVybCgpLA0KICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoJy5zdG9yeS1pbmZvLXJpZ2h0IGgxJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ykudGV4dChmYWxzZSksDQogICAgICAgICAgICAgICAgaXRlbS5kZXNjcmlwdGlvbiwNCiAgICAgICAgICAgICAgICBub3ZlbFVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CwNCiAgICAgICAgICAgICAgICBjaGFwdGVycy5yZXZlcnNlKCksDQogICAgICAgICAgICAgICAgaXRlbSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB0aGlzLm5hbWUsDQogICAgICAgICAgICAgICAgdW5kZWZpbmVkLA0KICAgICAgICAgICAgKTsNCiAgICAgICAgfSwNCg0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBnZXRDaGFwdGVyOiBhc3luYyBmdW5jdGlvbiAodXJsKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZXIuaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nEoYXdhaXQgdGhpcy5jbGVhbmVyLmdldENsaWVudCh0aGlzLmlkKS5nZXRIdG1sKHVybCkpLmZpbmQoIi5jb250YWluZXItY2hhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlci1yZWFkZXIgaW1nIikubWFwKHggPT4geC5hdHRyKCJzcmMiKS51cmwoKSkuZmlsdGVyKHggPT4geCAmJiB4ICE9ICIiKTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgfSwNCg0KICAgICAgICBsYXRlc3Q6IGFzeW5jIGZ1bmN0aW9uIChwYWdlKSB7DQogICAgICAgICAgICB2YXIgdXJsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0gdGhpcy5sYXRlc3RVcmwucmVwbGFjZSgne3B9JywgcGFnZS50b1N0cmluZygpKTsNCiAgICAgICAgICAgIHZhciBjb250YWluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIgPSB0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwodXJsKSk7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgICAgICBjb250YWluZXIuZmluZCgnLmNvbnRlbnQtZ2VucmVzLWl0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W0nKS5mb3JFYWNoKHggPT4gew0KICAgICAgICAgICAgICAgIGlmICh4LnNlbGVjdCgnLmdlbnJlcy1pdGVtLWltZyBpbWcnKS5hdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRyKCJzcmMiKS5oYXNWYWx1ZSgpKQ0KICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCgNCiAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5ldyBMaWdodEl0ZW0oDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoIi5nZW5yZXMtaXRlbS1pbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WcgaW1nIikuYXR0cigic3JjIikudGV4dCgpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHguc2VsZWN0KCIuZ2VucmVzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wl0ZW0taW1nIikuYXR0cigidGl0bGUiKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJywNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICAgICAgICB4LnNlbGVjdCgnLmdlbnJlcy1pdGVtLWltZycpLmF0dHIoImhyZWYiKS51cmwoKSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5hbWUNCiAgICAgICAgICAgICAgICAgICAgICAgICksDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICk7DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICAgICAgfQ0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIH0NCg0KICAgIHJldHVybiBuZXcgUGFyc2VyKCk7DQp9&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KDQoNCiAgICBmdW5jdGlvbiBQYXJzZXIoKSB7DQogICAgICAgIHRoaXMuaWQgPSAiMS5tdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Gxub3ZlbCI7DQogICAgICAgIHRoaXMuZGV0YWxpSXRlbVR5cGUgPSBEZXRhbGlJdGVtVHlwZS5Ob3ZlbDsNCiAgICAgICAgdGhpcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5wYXJzZXJMYW5ndWFnZSA9ICJlbiI7DQogICAgICAgIHRoaXMubmFtZSA9ICdNdGxOb3ZlbCc7DQogICAgICAgIHRoaXMuZGlzcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxheU5hbWUgPSB0aGlzLm5hbWU7DQogICAgICAgIHRoaXMubGF0ZXN0VXJsID0gJ2h0dHBzOi8vd3d3Lm10bG5vdmVsLmNvbS93cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C1hZG1pbi9hZG1pbi1hamF4LnBocD9hY3Rpb249cmNudF91cGRhdGUmdmlld19hbGw9eWVzJm1vcmVJdGVtc1BhZ2VJbmRleD17cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0H0mX19hbXBfc291cmNlX29yaWdpbj1odHRwcyUzQSUyRiUyRnd3dy5tdGxub3ZlbC5jb20nOw0KICAgICAgICB0aGlzLnVybCA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CdodHRwczovL3d3dy5tdGxub3ZlbC5jb20nOw0KICAgICAgICB0aGlzLnNlYXJjaFVybCA9ICdodHRwczovL3d3dy5tdGxub3ZlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5jb20vd3AtYWRtaW4vYWRtaW4tYWpheC5waHA/YWN0aW9uPWF1dG9zdWdnZXN0JnE9e3F9Jm1vcmVJdGVtc1BhZ2VJbmRleD17cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0H0mX19hbXBfc291cmNlX29yaWdpbj1odHRwcyUzQSUyRiUyRnd3dy5tdGxub3ZlbC5jb20nOw0KICAgICAgICB0aGlzLnBhbmluYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRpb24gPSB0cnVlOw0KICAgICAgICB0aGlzLnNlYXJjaFBhZ2luYXRpb24gPSB0cnVlOw0KICAgICAgICB0aGlzLmljb24gPSAnaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HR0cHM6Ly93d3cubXRsbm92ZWwuY29tL3RoZW1lcy9tdGxub3ZlbC9pbWFnZXMvbXRsbm92ZWwtMzIuaWNvJzsNCiAgICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ghpcy5wYXJzZXJTZWFyY2hTZXR0aW5ncyA9IG5ldyBQYXJzZXJTZWFyY2hTZXR0aW5ncygpOw0KICAgICAgICB0aGlzLnBhcnNlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0lNlYXJjaFNldHRpbmdzLm11bHRpU2VsZWN0aW9uID0gZmFsc2U7DQogICAgICAgIHRoaXMucGFyc2VyU2VhcmNoU2V0dGluZ3MuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VucmVzID0gew0KICAgICAgICAgICAgbXVsdGlTZWxlY3Rpb246IGZhbHNlLA0KICAgICAgICAgICAgdmFsdWVzOiBbDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0FjdGlvbicpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdBZHVsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CcpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdDb21lZHknKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZSgnQWR2ZW50dXJlJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0RyYW1hJyksDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbmV3IGxhYmVsVmFsdWUoJ0VjY2hpJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0VyY2l5dWFuJyksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0Zhbi1GaWN0aW9uJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUoJ0ZhbnRhc3knKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnR2FtZScpLA0KICAgICAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBsYWJlbFZhbHVlKCdHZW5kZXIgQmVuZGVyJywgImdlbmRlci1iZW5kZXIiKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZSgnSGFyZW0nKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnSGlzdG9yaWNhbCcpLA0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCdIb3Jyb3InKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnSm9zZWknKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTWFydGlhbCBBcnRzJywgIm1hcnRpYWwtYXJ0cyIpLA0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCdNYXR1cmUnKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTWVjaGEnKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTWlsaXRhcnknKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XlzdGVyeScpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdQc3ljaG9sb2dpY2FsJyksDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbmV3IGxhYmVsVmFsdWUoJ1JvbWFuY2UnKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU2Nob29sIExpZmUnLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAnc2Nob29sLWxpZmUnKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU2NpLWZpJyksDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbmV3IGxhYmVsVmFsdWUoJ1NlaW5lbicpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTaG91am8nKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU2hvdWpvIEFpJywgInNob3Vqby1haSIpLA0KICAgICAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBsYWJlbFZhbHVlKCdTaG91bmVuJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1Nob3VuZW4gQWknLCAic2hvdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5lbi1haSIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTbGljZSBvZiBMaWZlJywgInNsaWNlLW9mLWxpZmUiKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU211dCcpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CdTcG9ydHMnKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU3VwZXJuYXR1cmFsJyksDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbmV3IGxhYmVsVmFsdWUoJ1RyYWdlZHknKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnVHdvLWRpbWVuc2lvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsJywgInR3by1kaW1lbnNpb25hbC1ub3ZlbCIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdVcmJhbiBMaWZlJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ywgInVyYmFuLWZpY3Rpb24iKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnV3V4aWEnKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBuZXcgbGFiZWxWYWx1ZSgnWGlhbnhpYScpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdYdWFuaHVhbicpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdZYW9pJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU01l1cmknKSwNCg0KICAgICAgICAgICAgXSwNCiAgICAgICAgfTsNCg0KICAgICAgICB0aGlzLnBhcnNlclNlYXJjaFNldHRpbmdzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nN0YXR1c2VzID0gew0KICAgICAgICAgICAgbXVsdGlTZWxlY3Rpb246IGZhbHNlLA0KICAgICAgICAgICAgdmFsdWVzOiBbDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0NvbXBsZXRlZCcpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CdEcm9wcGVkJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0hpYXR1cycpLA0KICAgICAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBsYWJlbFZhbHVlKCdJbmNvbXBsZXRlJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ09uZ29pbmcnKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIF0sDQogICAgICAgIH07DQoNCg0KICAgICAgICB0aGlzLmNsZWFuZXIgPSBwbHVnaW5zLmZpbmQoeCA9PiB4Lm5hbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUgPT0gIkNsZWFuZXIiKTsNCiAgICB9DQoNCg0KICAgIFBhcnNlci5wcm90b3R5cGUgPSB7DQogICAgICAgIGdldFNlY3Rpb25zOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iBmdW5jdGlvbiAoa2V5cykgew0KICAgICAgICAgICAgdmFyIHNlY3Rpb25zID0gWw0KICAgICAgICAgICAgICAgIG5ldyBTZWN0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W9uKCJsYXRlc3QiLCAiTGF0ZXN0IFVwZGF0ZSIsICJMYXRlc3QiLCB0cnVlKSwNCiAgICAgICAgICAgICAgICBuZXcgU2VjdGlvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0igiY29tcGxldGVkIiwgIkNvbXBsZXRlZCBOb3ZlbCIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsIHVuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVmaW5lZCwgdW5kZWZpbmVkLCAiY29tcGxldGVkIikpLA0KICAgICAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJvbmdvaW5nIiwgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0k9uZ29pbmcgTm92ZWwiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIodW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CwgIm9uZ29pbmciKSksDQogICAgICAgICAgICBdDQoNCiAgICAgICAgICAgIHJldHVybiBzZWN0aW9ucy5maWx0ZXIoeCA9PiAhaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02V5cyB8fCBrZXlzLmluY2x1ZGVzKHgubmFtZSkpOw0KICAgICAgICB9LA0KDQogICAgICAgIHRyYW5zbGF0ZVNlY3Rpb246IGFzeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5jIGZ1bmN0aW9uIChzZWN0aW9uLCBwYWdlKSB7DQogICAgICAgICAgICBpZiAoc2VjdGlvbi5pZGVudGlmaWVyID09ICJMYXRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03QiKQ0KICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmxhdGVzdChwYWdlKTsNCiAgICAgICAgICAgIGVsc2UNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5zZWFyY2goc2VjdGlvbi5maWx0ZXIgfHwgdGhpcy5kZWZhdWx0RmlsdGVyKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CksIHBhZ2UpOw0KICAgICAgICB9LA0KDQogICAgICAgIGRlZmF1bHRGaWx0ZXI6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HZhciBmaWx0ZXIgPSBuZXcgRmlsdGVyKCk7DQogICAgICAgICAgICByZXR1cm4gZmlsdGVyOw0KICAgICAgICB9LA0KDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIGdldEJ5R2VucmVzOiBhc3luYyBmdW5jdGlvbiAoZmlsdGVyLCBwYWdlKSB7DQogICAgICAgICAgICB2YXIgcmVzdWx0ID0gWMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0107DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIHZhciBnZW5yZVVybCA9ICJnZW5yZS97Z30vcGFnZS97cH0vIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i51cmkodGhpcy51cmwpLnJlcGxhY2UoIntwfSIsIHBhZ2UudG9TdHJpbmcoKSk7DQogICAgICAgICAgICAgICAgdmFyIHN0YXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU01VybCA9ICJzdGF0dXMve3N9L3BhZ2Uve3B9LyIudXJpKHRoaXMudXJsKS5yZXBsYWNlKCJ7cH0iLCBwYWdlLnRvU3RyaW5nKCkpOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICAgICAgICAgIHZhciBxID0NCiAgICAgICAgICAgICAgICAgICAgZmlsdGVyLmdlbnJlcy5sZW5ndGggPiAwID8NCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICAgICAgICAgIGdlbnJlVXJsLnJlcGxhY2UoIntnfSIsIGZpbHRlci5nZW5yZXNbMF0udG9Mb3dlckNhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02UoKSkgOg0KICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyLmFjdGl2ZSAmJiBmaWx0ZXIuYWN0aXZlICE9ICcnID8NCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNVcmwucmVwbGFjZSgie3N9IiwgZmlsdGVyLmFjdGl2ZS50b0xvd2VyQ2FzZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgpKSA6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkOw0KICAgICAgICAgICAgICAgIHZhciBjb250YWluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIgPSB0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwocSB8fCAiIikpOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICAgICAgICAgIHZhciBkYXRhID0gY29udGFpbmVyLmZpbmQoJy5ib3gnKTsNCiAgICAgICAgICAgICAgICB2YXIgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVzdWx0ID0gW107DQogICAgICAgICAgICAgICAgZGF0YS5mb3JFYWNoKCh4KSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHZhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iBocmVmID0geC5zZWxlY3QoIi5saXN0LWEiKS5hdHRyKCJocmVmIikudGV4dCgpDQogICAgICAgICAgICAgICAgICAgIHZhciB0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRsZSA9IHguZmluZCgiLmxpc3QtdGl0bGUiKS50ZXh0KCk7DQogICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICAgbmV3IExpZ2h0SXRlbSh4LnNlbGVjdCgnLmxpc3QtaW1nJykuYXR0cignc3JjJykudXJsKCksIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRpdGxlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICcnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhyZWYudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJpKHRoaXMudXJsKSwgdGhpcy5uYW1lDQogICAgICAgICAgICAgICAgICAgICAgICApLA0KICAgICAgICAgICAgICAgICAgICApOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICAgICAgICAgIH0pOw0KDQoNCiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICAgICAgICBjb25zbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02xlLmxvZyhlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgICAgIH0sDQoNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgc2VhcmNoOiBhc3luYyBmdW5jdGlvbiAoZmlsdGVyLCBwYWdlKSB7DQoNCiAgICAgICAgICAgIGlmIChmaWx0ZXIuZ2VucmVzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mxlbmd0aCA+IDAgfHwgKGZpbHRlci5hY3RpdmUgJiYgZmlsdGVyLmFjdGl2ZSAhPSAiIikpDQogICAgICAgICAgICAgICAgcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuIGF3YWl0IHRoaXMuZ2V0QnlHZW5yZXMoZmlsdGVyLCBwYWdlKTsNCg0KICAgICAgICAgICAgaWYgKCFmaWx0ZXIudGl0bGUgfMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HwgZmlsdGVyLnRpdGxlLmxlbmd0aCA8PSAwKQ0KICAgICAgICAgICAgICAgIHJldHVybiBbXTsNCiAgICAgICAgICAgIHZhciBqcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029uRGF0YSA9IGF3YWl0IHRoaXMuY2xlYW5lci5nZXRDbGllbnQodGhpcy5pZCkuR2V0SnNvbih0aGlzLnNlYXJjaFVybC5yZXBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WNlKCJ7cX0iLCBmaWx0ZXIudGl0bGUgfHwgIiIpLnJlcGxhY2UoIntwfSIsIHBhZ2UudG9TdHJpbmcoKSkpOw0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICAgICAgaWYgKGpzb25EYXRhLml0ZW1zICYmIGpzb25EYXRhLml0ZW1zLmxlbmd0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CA+IDApDQogICAgICAgICAgICAgICAganNvbkRhdGEuaXRlbXMuZm9yRWFjaCh4ID0+IHsNCiAgICAgICAgICAgICAgICAgICAgaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WYgKHgucmVzdWx0cyAmJiB4LnJlc3VsdHMubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgeC5yZXN1bHRzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIml0ZW0iLCBpdGVtKQ0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgTGlnaHRJdGVtKGl0ZW0udGh1bWJuYWlsLCAoaXRlbS50aXRsZSB8fCAiIikudG9TdHJpbmcoKS5odG1sVGV4dChmYWxzZSksIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIiLCBpdGVtLnBlcm1hbGluay51cmkodGhpcy51cmwpIHx8ICIiLCB0aGlzLm5hbWUpDQogICAgICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0H0pDQogICAgICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgICAgICB9LA0KDQogICAgICAgIGdldENoYXB0ZXJzOiBhc3luYyBmdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5jdGlvbiAobm92ZWxVcmwpIHsNCiAgICAgICAgICAgIHZhciB1cmwgPSAiY2hhcHRlci1saXN0LyIudXJpKG5vdmVsVXJsKTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMuaWQpLmdldEh0bWwodXJsKSk7DQogICAgICAgICAgICByZXR1cm4gY29udGFpbmVyLmZpbmQoIi5jaC1saXN0IGEiKS5tYXAoeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CA9PiBuZXcgQ2hhcHRlcih4LnRleHQoZmFsc2UpLCB4LmF0dHIoImhyZWYiKS51cmwoKSkpLnJldmVyc2UoKTsNCiAgICAgICAgfMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCg0KICAgICAgICBnZXROb3ZlbDogYXN5bmMgZnVuY3Rpb24gKG5vdmVsVXJsKSB7DQogICAgICAgICAgICB2YXIgY29udGFpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVyID0gdGhpcy5wYXJzZXIuanEoYXdhaXQgdGhpcy5jbGVhbmVyLmdldENsaWVudCh0aGlzLmlkKS5nZXRIdG1sKG5vdmVsVXJsKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Sk7DQogICAgICAgICAgICB2YXIgY2hhcHRlcnMgPSBhd2FpdCB0aGlzLmdldENoYXB0ZXJzKG5vdmVsVXJsKTsNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHZhciBub3ZlbFJldmlld3MgPSBuZXcgTm92ZWxSZXZpZXdzKCk7DQogICAgICAgICAgICBub3ZlbFJldmlld3MuZ2VucmVzIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0gY29udGFpbmVyLmZpbmQoIiNjdXJyZW50Z2VuIGEiKS50ZXh0QXJyYXkoKTsNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cy51dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m90ZXMgPSBjb250YWluZXIuc2VsZWN0KCIucmF0aW5nLWluZm8gc3Ryb25nIikudGV4dChmYWxzZSkgKyAiIC8gNSI7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBub3ZlbFJldmlld3MuY29tcGxldGVkID0gY29udGFpbmVyLnNlbGVjdCgiI2N1cnJlbnRzdGF0dXMiKS50ZXh0KGZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HNlKSA9PT0gIkNvbXBsZXRlZCIgPyAiU3RhdHVzOkNvbXBsZXRlZCIgOiAiU3RhdHVzOiIgKyBjb250YWluZXIuc2VsZWN0KCIjYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03VycmVudHN0YXR1cyIpLnRleHQoZmFsc2UpOw0KICAgICAgICAgICAgdmFyIHRyID0gY29udGFpbmVyLnNlbGVjdCgiI3BhbmVsbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m92ZWxpbmZvIC5pbmZvIikuZmluZCgidHIiKTsNCiAgICAgICAgICAgIGlmICh0ciAhPT0gbnVsbCAmJiB0ciAmJiB0ci5sZW5ndMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GgoKSA+IDApDQogICAgICAgICAgICAgICAgbm92ZWxSZXZpZXdzLmF1dGhvciA9IHRyLmVxKHRyLmxlbmd0aCgpIC0gMSkuc2VsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0KCJhIikudGV4dEFycmF5KCkuam9pbigiLCIpOw0KICAgICAgICAgICAgcmV0dXJuIG5ldyBEZXRhbGlJdGVtKA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoJy5tYWluLXRtYicpLmF0dHIoJ3NyYycpLnVybCgpLA0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GNvbnRhaW5lci5zZWxlY3QoJy5lbnRyeS10aXRsZScpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxlY3QoJy5kZXNjJykuY2xlYW5Jbm5lckhUTUwoKSwNCiAgICAgICAgICAgICAgICBub3ZlbFVybCwNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBjaGFwdGVycywNCiAgICAgICAgICAgICAgICBub3ZlbFJldmlld3MsDQogICAgICAgICAgICAgICAgdGhpcy5uYW1lLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIHVuZGVmaW5lZCwNCiAgICAgICAgICAgICk7DQogICAgICAgIH0sDQoNCiAgICAgICAgZ2V0Q2hhcHRlcjogYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XN5bmMgZnVuY3Rpb24gKHVybCkgew0KICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5wYXJzZXIuanEoYXdhaXQgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ghpcy5jbGVhbmVyLmdldENsaWVudCh0aGlzLmlkKS5nZXRIdG1sKHVybCkpOw0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5lci5jbGVhbkNoYXB0ZXIoY29udGFpbmVyLnNlbGVjdCgnLnBvc3QtY29udGVudCAucGFyJyksIHRoaXMubmFtZSkNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgfSwNCg0KICAgICAgICBsYXRlc3Q6IGFzeW5jIGZ1bmN0aW9uIChwYWdlKSB7DQogICAgICAgICAgICB2YXIgdXJsID0gdGhpcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5sYXRlc3RVcmwucmVwbGFjZSgne3B9JywgcGFnZS50b1N0cmluZygpKTsNCiAgICAgICAgICAgIHZhciBqc29uRGF0YSA9IGF3YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wl0IHRoaXMuY2xlYW5lci5nZXRDbGllbnQodGhpcy5pZCkuR2V0SnNvbih1cmwpOw0KICAgICAgICAgICAgdmFyIHJlc3VsdCA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FtdOw0KICAgICAgICAgICAgaWYgKGpzb25EYXRhLml0ZW1zICYmIGpzb25EYXRhLml0ZW1zLmxlbmd0aCA+IDApDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAganNvbkRhdGEuaXRlbXMuZm9yRWFjaCh4ID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGxuayA9ICh4Lm5vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsX3Blcm1hbGluayB8fCAiIikudG9IdG1sKCkucXVlcnlTZWxlY3RvcigiYSIpOw0KICAgICAgICAgICAgICAgICAgICByZXN1bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HQucHVzaCgNCiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBMaWdodEl0ZW0oeC50bWIsIChsbmsuaW5uZXJUZXh0IHx8ICIiKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwgIiIsIGxuay5nZXRBdHRyaWJ1dGUoImhyZWYiKS51cmkodGhpcy51cmwpLCB0aGlzLm5hbWUpDQogICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICkNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICAgICAgfQ0KICAgIH0NCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CByZXR1cm4gbmV3IFBhcnNlcigpOw0KfQ==&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KDQoNCiAgICBmdW5jdGlvbiBQYXJzZXIoKSB7DQoNCg0KICAgICAgICB0aGlzLmlkID0gIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0jEubm92ZWw4NCI7DQogICAgICAgIHRoaXMuZGV0YWxpSXRlbVR5cGUgPSBEZXRhbGlJdGVtVHlwZS5Ob3ZlbDsNCiAgICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ghpcy5wYXJzZXJMYW5ndWFnZSA9ICJlbiI7DQogICAgICAgIHRoaXMubmFtZSA9ICdOb3ZlbDg0JzsNCiAgICAgICAgdGhpcy5kaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XNwbGF5TmFtZSA9ICJOb3ZlbC04WCI7DQogICAgICAgIHRoaXMubGF0ZXN0VXJsID0gJ2h0dHBzOi8vbm92ZWw4NC5jb20vc29ydMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C9sYXRlc3Q/cGFnZT17cH0nOw0KICAgICAgICB0aGlzLnVybCA9ICdodHRwczovL25vdmVsODQuY29tJzsNCiAgICAgICAgdGhpcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5zZWFyY2hVcmwgPSAnaHR0cHM6Ly9ub3ZlbDg0LmNvbS9zZWFyY2g/a2V5d29yZD17cX0mcGFnZT17cH0nOw0KICAgICAgICB0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlzLnBhbmluYXRpb24gPSB0cnVlOw0KICAgICAgICB0aGlzLnNlYXJjaFBhZ2luYXRpb24gPSB0cnVlOw0KICAgICAgICB0aGlzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mljb24gPSAnaHR0cHM6Ly9ub3ZlbDg0LmNvbS9pbWcvZmF2aWNvbi5pY28nOw0KICAgICAgICB0aGlzLmVuYWJsZU5vdmVsRG93bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mxvYWRzPSB0cnVlOw0KICAgICAgICB0aGlzLnBhcnNlclNlYXJjaFNldHRpbmdzID0gbmV3IFBhcnNlclNlYXJjaFNldHRpbmdzKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ck7DQogICAgICAgIHRoaXMucGFyc2VyU2VhcmNoU2V0dGluZ3MuZ2VucmVzID0gew0KICAgICAgICAgICAgbXVsdGlTZWxlY3RpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0246IGZhbHNlLA0KICAgICAgICAgICAgdmFsdWVzOiBbDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkFjdGlvbiIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJBZHVsdCIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CdTaG91bmVuJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0hhcmVtJyksDQogICAgICAgICAgICAgICAgbmV3IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxhYmVsVmFsdWUoJ0NvbWVkeScpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNYXJ0aWFsIEFydHMnLCAnTWFydMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlhbCtBcnRzJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1NjaG9vbCBMaWZlJywgJ1NjaG9vbCtMaWZlJyksDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ015c3RlcnknKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgnU2hvdWpvJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1JvbWFuY2UnKSwNCiAgICAgICAgICAgICAgICBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgbGFiZWxWYWx1ZSgnU2NpLWZpJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0dlbmRlciBCZW5kZXInLCAnRMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VuZGVyK0JlbmRlcicpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNYXR1cmUnKSwNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBuZXcgbGFiZWxWYWx1ZSgnRmFudGFzeScpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdIb3Jyb3InKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnRHJhbWEnKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnVHJhZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VkeScpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTdXBlcm5hdHVyYWwnKSwNCiAgICAgICAgICAgICAgICBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgbGFiZWxWYWx1ZSgnRWNjaGknKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnWHVhbmh1YW4nKSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnQWR2ZW50dXJlJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1BzeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WNob2xvZ2ljYWwnKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnWGlhbnhpYScpLA0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBsYWJlbFZhbHVlKCdXdXhpYScpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdIaXN0b3JpY2FsJyksDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1NsaWNlIG9mIExpZmUnLCAnU2xpY2Urb2YrTGlmZScpLA0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5ldyBsYWJlbFZhbHVlKCdMb2xpY29uJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0FkdWx0JyksDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0pvc2VpJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU01Nwb3J0cycpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTbXV0JyksDQogICAgICAgICAgICAgICAgbmV3IGxhYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsVmFsdWUoJ01lY2hhJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1lhb2knKSwNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBuZXcgbGFiZWxWYWx1ZSgnU2hvdW5lbiBBaScsICdTaG91bmVuK0FpJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUoIk1vZGVybiBMaWZlIiwgIm1vZGVybitsaWZlIikNCiAgICAgICAgICAgIF0sDQogICAgICAgIH0NCg0KICAgICAgICB0aGlzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nBhcnNlclNlYXJjaFNldHRpbmdzLnNvcnRUeXBlcyA9IHsNCiAgICAgICAgICAgIG11bHRpU2VsZWN0aW9uOiBmYWxzZSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdMYXRlc3QgUmVsZWFzZSBOb3ZlbCcsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CdsYXRlc3QnKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnSG90IE5vdmVsJywgJ2hvdCcpLA0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5ldyBsYWJlbFZhbHVlKCdDb21wbGV0ZWQgTm92ZWwnLCAnY29tcGxldGVkJyksDQogICAgICAgICAgICAgICAgbmV3IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxhYmVsVmFsdWUoJ01vc3QgUG9wdWxhcicsICdwb3B1bGFyLW5vdmVscycpLA0KICAgICAgICAgICAgXSwNCiAgICAgICAgfQ0KDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QoNCiAgICAgICAgdGhpcy5jbGVhbmVyID0gcGx1Z2lucy5maW5kKHggPT4geC5uYW1lID09ICJDbGVhbmVyIik7DQogICAgfQ0KDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgUGFyc2VyLnByb3RvdHlwZSA9IHsNCiAgICAgICAgZ2V0U2VjdGlvbnM6IGZ1bmN0aW9uIChrZXlzKSB7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB2YXIgc2VjdGlvbnMgPSBbDQogICAgICAgICAgICAgICAgbmV3IFNlY3Rpb24oImxhdGVzdCIsICJMYXRlc3QgVXBkYXRlIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iwgIkxhdGVzdCIsIHRydWUpLA0KICAgICAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJob3QiLCAiSG90IE5vdmVsIiwgIlNlYXJjaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIsIGZhbHNlLCBuZXcgRmlsdGVyKHVuZGVmaW5lZCwgImhvdCIpKSwNCiAgICAgICAgICAgICAgICBuZXcgU2VjdGlvbigiY29tcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxldGVkIiwgIkNvbXBsZXRlZCBOb3ZlbCIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsICJjb21wbGV0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WQiKSksDQogICAgICAgICAgICAgICAgbmV3IFNlY3Rpb24oInBvcHVsYXIiLCAiTW9zdCBQb3B1bGFyIiwgIlNlYXJjaCIsIGZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HNlLCBuZXcgRmlsdGVyKHVuZGVmaW5lZCwgInBvcHVsYXItbm92ZWxzIikpDQogICAgICAgICAgICBdDQoNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybiBzZWN0aW9ucy5maWx0ZXIoeCA9PiAha2V5cyB8fCBrZXlzLmluY2x1ZGVzKHgubmFtZSkpOw0KICAgICAgICB9LA0KDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIHRyYW5zbGF0ZVNlY3Rpb246IGFzeW5jIGZ1bmN0aW9uIChzZWN0aW9uLCBwYWdlKSB7DQogICAgICAgICAgICBpZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAoc2VjdGlvbi5pZGVudGlmaWVyID09ICJMYXRlc3QiKQ0KICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmxhdGVzdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ChwYWdlKTsNCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5zZWFyY2goc2VjdGlvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5maWx0ZXIgfHwgdGhpcy5kZWZhdWx0RmlsdGVyKCksIHBhZ2UpOw0KICAgICAgICB9LA0KDQogICAgICAgIGRlZmF1bHRGaWx0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XI6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHJldHVybiBuZXcgRmlsdGVyKCk7DQogICAgICAgIH0sDQoNCiAgICAgICAgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VhcmNoOiBhc3luYyBmdW5jdGlvbiAoZmlsdGVyLCBwYWdlKSB7DQogICAgICAgICAgICB2YXIgZ2VucmVVcmwgPSAiZ2VucmVzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03tnfT9wYWdlPXtwfSIudXJpKHRoaXMudXJsKS5yZXBsYWNlKCJ7cH0iLCBwYWdlLnRvU3RyaW5nKCkpOw0KICAgICAgICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFyIHNvcnRUeXBlVXJsID0gInNvcnQve3N9P3BhZ2U9e3B9Ii51cmkodGhpcy51cmwpLnJlcGxhY2UoIntwfSIsIHBhZ2UudG9TdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJpbmcoKSk7DQogICAgICAgICAgICB2YXIgcSA9IGZpbHRlci5nZW5yZXMubGVuZ3RoID4gMCA/IGdlbnJlVXJsLnJlcGxhY2UoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ntnfSIsIGZpbHRlci5nZW5yZXNbMF0pIDogKChmaWx0ZXIuc29ydFR5cGUgJiYgZmlsdGVyLnNvcnRUeXBlICE9ICcnID8gc29ydMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FR5cGVVcmwucmVwbGFjZSgie3N9IiwgZmlsdGVyLnNvcnRUeXBlKSA6IHVuZGVmaW5lZCkpOw0KICAgICAgICAgICAgdmFyIHF1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJ5ID0gcSB8fCB0aGlzLnNlYXJjaFVybC5yZXBsYWNlKCd7cX0nLCBmaWx0ZXIudGl0bGUgfHwgIiIpLnJlcGxhY2UoJ3twfScsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HBhZ2UudG9TdHJpbmcoKSk7DQogICAgICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5wYXJzZXIuanEoYXdhaXQgdGhpcy5jbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVhbmVyLmdldENsaWVudCh0aGlzLmlkKS5nZXRIdG1sKHF1ZXJ5KSk7DQogICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBjb250YWluZXIuZmluZCgnLmxpc3Qtbm92ZWwgLnJvdycpLmZvckVhY2goKHgpID0+IHsNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBpZiAoeC5zZWxlY3QoJ2ltZycpLmF0dHIoInNyYyIpLmhhc1ZhbHVlKCkpDQogICAgICAgICAgICAgICAgICAgIHJlc3VsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5wdXNoKA0KICAgICAgICAgICAgICAgICAgICAgICAgbmV3IExpZ2h0SXRlbSh0aGlzLmNsZWFuZXIuaW1hZ2UodGhpcy51cmwsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Hguc2VsZWN0KCcubm92ZWwtdGl0bGUgYScpLmF0dHIoImhyZWYiKS51cmwoKSwgIi5ib29rIGltZyIpLA0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgIHguc2VsZWN0KCcubm92ZWwtdGl0bGUgYScpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICcnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHguc2VsZWN0KCcubm92ZWwtdGl0bGUgYScpLmF0dHIoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mhyZWYiKS51cmwoKSwgdGhpcy5uYW1lDQogICAgICAgICAgICAgICAgICAgICAgICApLA0KICAgICAgICAgICAgICAgICAgICApOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgICAgIH0sDQoNCiAgICAgICAgZ2V0QMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02hhcHRlcnM6IGFzeW5jIGZ1bmN0aW9uIChub3ZlbFVybCwgaHRtbENvbnRhaW5lcikgew0KICAgICAgICAgICAgdmFyIGNoYXB0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJzID0gW107DQogICAgICAgICAgICB2YXIgdXJsID0gImh0dHBzOi8vbm92ZWw4NC5jb20vYWpheC9jaGFwdGVyLWFyY2hpdmU/bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m92ZWxJZD17aWR9Ii5yZXBsYWNlKCJ7aWR9IiwNCiAgICAgICAgICAgICAgICBodG1sQ29udGFpbmVyLnNlbGVjdCgiI3JhdGluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yIpLmF0dHIoImRhdGEtbm92ZWwtaWQiKS5oYXNWYWx1ZSgpID8NCiAgICAgICAgICAgICAgICAgICAgaHRtbENvbnRhaW5lci5zZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxlY3QoIiNyYXRpbmciKS5hdHRyKCJkYXRhLW5vdmVsLWlkIikudGV4dCgpIDoNCiAgICAgICAgICAgICAgICAgICAgaHRtbENvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRhaW5lci5zZWxlY3QoIltkYXRhLW5vdmVsLWlkXSIpLmF0dHIoImRhdGEtbm92ZWwtaWQiKS50ZXh0KCkpOw0KDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB2YXIgY29udGFpbmVyID0gdGhpcy5wYXJzZXIuanEoYXdhaXQgdGhpcy5jbGVhbmVyLmdldENsaWVudCh0aGlzLmlkKS5nZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRIdG1sKHVybCkpOw0KDQogICAgICAgICAgICBjb250YWluZXIuZmluZCgnLmxpc3QtY2hhcHRlciBhJykuZm9yRWFjaCh4ID0+IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HsNCiAgICAgICAgICAgICAgICBjaGFwdGVycy5wdXNoKG5ldyBDaGFwdGVyKHgudGV4dChmYWxzZSksIHguYXR0cigiaHJlZiIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nVybCgpKSk7DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgcmV0dXJuIGNoYXB0ZXJzOw0KICAgICAgICB9LA0KDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIGdldE5vdmVsOiBhc3luYyBmdW5jdGlvbiAobm92ZWxVcmwpIHsNCiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwobm92ZWxVcmwpKTsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHZhciBjaGFwdGVycyA9IGF3YWl0IHRoaXMuZ2V0Q2hhcHRlcnMobm92ZWxVcmwsIGNvbnRhaW5lcik7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB2YXIgbm92ZWxSZXZpZXdzID0gbmV3IE5vdmVsUmV2aWV3cygpOw0KICAgICAgICAgICAgdmFyIGluZm9zID0gY29udGFpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVyLmZpbmQoIi5pbmZvID4gbGkiKTsNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cy5nZW5yZXMgPSBpbmZvcy5lcSgyKS5maW5kKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJhIikubWFwKHggPT4geC50ZXh0KGZhbHNlKSk7DQogICAgICAgICAgICBub3ZlbFJldmlld3MuYXV0aG9yID0gaW5mb3MuZXEoMMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SkuZmluZCgiYSIpLnRleHQoZmFsc2UpOw0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLnV2b3RlcyA9IGNvbnRhaW5lci5zZWxlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03QoIi5jb2wtaW5mby1kZXNjID4gLmRlc2MgPiAuc21hbGwgc3Ryb25nOmZpcnN0LWNoaWxkIHNwYW4iKS50ZXh0KGZhbHNlKSArIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIgLyAxMCI7DQogICAgICAgICAgICBub3ZlbFJldmlld3MuY29tcGxldGVkID0gaW5mb3MubGFzdCgpLnNlbGVjdCgiYSIpLnRleMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HQoZmFsc2UpID09PSAiQ29tcGxldGVkIiA/ICJTdGF0dXM6Q29tcGxldGVkIiA6ICJTdGF0dXM6T25nb2luZyI7DQoNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHJldHVybiBuZXcgRGV0YWxpSXRlbSgNCiAgICAgICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCcuYm9vayBpbWcnKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S5hdHRyKCJzcmMiKS51cmwoKSwNCiAgICAgICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCcudGl0bGUnKS50ZXh0KGZhbHNlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCcuZGVzYy10ZXh0JykuY2xlYW5Jbm5lckhUTUwoKSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBub3ZlbFVybCwNCiAgICAgICAgICAgICAgICBjaGFwdGVycywNCiAgICAgICAgICAgICAgICBub3ZlbFJldmlldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03MsDQogICAgICAgICAgICAgICAgdGhpcy5uYW1lLA0KICAgICAgICAgICAgICAgIHVuZGVmaW5lZCwNCiAgICAgICAgICAgICk7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIH0sDQoNCiAgICAgICAgZ2V0Q2hhcHRlcjogYXN5bmMgZnVuY3Rpb24gKHVybCkgew0KICAgICAgICAgICAgcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuIHRoaXMuY2xlYW5lci5jbGVhbkNoYXB0ZXIodGhpcy5wYXJzZXIuanEoYXdhaXQgdGhpcy5jbGVhbmVyLmdldENsaWVudCh0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlzLmlkKS5nZXRIdG1sKHVybCkpLnNlbGVjdCgnI2Noci1jb250ZW50JyksIHRoaXMubmFtZSk7DQogICAgICAgIH0sDQoNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbGF0ZXN0OiBhc3luYyBmdW5jdGlvbiAocGFnZSkgew0KICAgICAgICAgICAgdmFyIHVybCA9IHRoaXMubGF0ZXN0VXJsLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nJlcGxhY2UoJ3twfScsIHBhZ2UudG9TdHJpbmcoKSk7DQogICAgICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5wYXJzZXIuaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nEoYXdhaXQgdGhpcy5jbGVhbmVyLmdldENsaWVudCh0aGlzLmlkKS5nZXRIdG1sKHVybCkpOw0KICAgICAgICAgICAgdmFyIHJlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03VsdCA9IFtdOw0KICAgICAgICAgICAgY29udGFpbmVyLmZpbmQoJy5saXN0LW5vdmVsIC5yb3cnKS5mb3JFYWNoKCh4KSA9PiB7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgaWYgKHguc2VsZWN0KCdpbWcnKS5hdHRyKCJzcmMiKS5oYXNWYWx1ZSgpKQ0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICByZXN1bHQucHVzaCgNCiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBMaWdodEl0ZW0oDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgdGhpcy5jbGVhbmVyLmltYWdlKHRoaXMudXJsLCB4LnNlbGVjdCgnLm5vdmVsLXRpdGxlIGEnKS5hdHRyKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJocmVmIikudXJsKCksICIuYm9vayBpbWciKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4LnNlbGVjdCgnLm5vdmVsLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRpdGxlIGEnKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJywNCiAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICB4LnNlbGVjdCgnLm5vdmVsLXRpdGxlIGEnKS5hdHRyKCJocmVmIikudXJsKCksIHRoaXMubmFtZQ0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgKSk7DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgfQ0KICAgIH0NCg0KDQoNCiAgICByZXR1cm4gbmV3IFBhcnNlcigpOw0KDQp9Ow==&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KDQoNCiAgICBmdW5jdGlvbiBQYXJzZXIoKSB7DQoNCg0KICAgICAgICB0aGlzLmlkID0gIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0jEubm92ZWxmdWxsIjsNCiAgICAgICAgdGhpcy5kZXRhbGlJdGVtVHlwZSA9IERldGFsaUl0ZW1UeXBlLk5vdmVsOw0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB0aGlzLnBhcnNlckxhbmd1YWdlID0gImVuIjsNCiAgICAgICAgdGhpcy5uYW1lID0gJ05vdmVsRnVsbCc7DQogICAgICAgIHRoaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMuZGlzcGxheU5hbWUgPSAiTm92ZWwtRnVsbHkiOw0KICAgICAgICB0aGlzLmxhdGVzdFVybCA9ICdodHRwczovL25vdmVsZnVsbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5jb20vbGF0ZXN0LXJlbGVhc2Utbm92ZWw/cGFnZT17cH0nOw0KICAgICAgICB0aGlzLnVybCA9ICdodHRwczovL25vdmVsZnVsbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5jb20nOw0KICAgICAgICB0aGlzLnNlYXJjaFVybCA9ICdodHRwczovL25vdmVsZnVsbC5jb20vc2VhcmNoP2tleXdvcmQ9e3F9JMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nBhZ2U9e3B9JzsNCiAgICAgICAgdGhpcy5jaGFwdGVyc1VybCA9ICdodHRwczovL25vdmVsZnVsbC5jb20vYWpheC1jaGFwdGVyLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W9wdGlvbj9ub3ZlbElkPXtpZH0nOw0KICAgICAgICB0aGlzLnBhbmluYXRpb24gPSB0cnVlOw0KICAgICAgICB0aGlzLnNlYXJjaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FBhZ2luYXRpb24gPSB0cnVlOw0KICAgICAgICB0aGlzLmljb24gPSAnaHR0cHM6Ly9ub3ZlbGZ1bGwuY29tL3dlYi9pbWFnZXMvZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mF2aWNvbi5pY28nOw0KICAgICAgICB0aGlzLnBhcnNlclNlYXJjaFNldHRpbmdzID0gbmV3IFBhcnNlclNlYXJjaFNldHRpbmdzKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ck7DQogICAgICAgIHRoaXMuZW5hYmxlTm92ZWxEb3dubG9hZHM9IHRydWU7DQogICAgICAgIHRoaXMucGFyc2VyU2VhcmNoU2V0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GluZ3MuZ2VucmVzID0gew0KICAgICAgICAgICAgbXVsdGlTZWxlY3Rpb246IGZhbHNlLA0KICAgICAgICAgICAgdmFsdWVzOiBbDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1Nob3VuZW4nKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgnSGFyZW0nKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnQ29tZWR5JyksDQogICAgICAgICAgICAgICAgbmV3IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxhYmVsVmFsdWUoJ01hcnRpYWwgQXJ0cycsICdNYXJ0aWFsK0FydHMnKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgnU2Nob29sIExpZmUnLCAnU2Nob29sK0xpZmUnKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTXlzdGVyeScpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTaG91am8nKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgnUm9tYW5jZScpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTY2ktZmknKSwNCiAgICAgICAgICAgICAgICBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgbGFiZWxWYWx1ZSgnR2VuZGVyIEJlbmRlcicsICdHZW5kZXIrQmVuZGVyJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoJ01hdHVyZScpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdGYW50YXN5JyksDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbmV3IGxhYmVsVmFsdWUoJ0hvcnJvcicpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdEcmFtYScpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdUcmFnZWR5JyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1N1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVybmF0dXJhbCcpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdFY2NoaScpLA0KICAgICAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBsYWJlbFZhbHVlKCdYdWFuaHVhbicpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdBZHZlbnR1cmUnKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnUHN5Y2hvbG9naWNhbCcpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVlKCdYaWFueGlhJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1d1eGlhJyksDQogICAgICAgICAgICAgICAgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV3IGxhYmVsVmFsdWUoJ0hpc3RvcmljYWwnKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU2xpY2Ugb2YgTGlmZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ScsICdTbGljZStvZitMaWZlJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0xvbGljb24nKSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBuZXcgbGFiZWxWYWx1ZSgnQWR1bHQnKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnSm9zZWknKSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU3BvcnRzJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU01NtdXQnKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTWVjaGEnKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxWYWx1ZSgnWWFvaScpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTaG91bmVuIEFpJywgJ1Nob3VuZW4rQWknKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnS+G7syBUw61jaCBWxrDGoW5nIFThu41hJywgJ0vhu7MrVMOtY2grVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0sawxqFuZytU4buNYScpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNVCcpLA0KICAgICAgICAgICAgXSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgfQ0KDQogICAgICAgIHRoaXMucGFyc2VyU2VhcmNoU2V0dGluZ3Muc29ydFR5cGVzID0gew0KICAgICAgICAgICAgbXVsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlTZWxlY3Rpb246IGZhbHNlLA0KICAgICAgICAgICAgdmFsdWVzOiBbDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU00xhdGVzdCBSZWxlYXNlIE5vdmVsJywgJ2xhdGVzdC1yZWxlYXNlLW5vdmVsJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoJ0hvdCBOb3ZlbCcsICdob3Qtbm92ZWwnKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnQ29tcGxldGVkIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0E5vdmVsJywgJ2NvbXBsZXRlZC1ub3ZlbCcpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNb3N0IFBvcHVsYXInLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAnbW9zdC1wb3B1bGFyJyksDQogICAgICAgICAgICBdLA0KICAgICAgICB9DQoNCg0KICAgICAgICB0aGlzLmNsZWFuZXIgPSBwbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVnaW5zLmZpbmQoeCA9PiB4Lm5hbWUgPT0gIkNsZWFuZXIiKTsNCiAgICB9DQoNCiAgICBQYXJzZXIucHJvdG90eXBlID0gew0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBnZXRTZWN0aW9uczogZnVuY3Rpb24gKGtleXMpIHsNCiAgICAgICAgICAgIHZhciBzZWN0aW9ucyA9IFsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgU2VjdGlvbigibGF0ZXN0IiwgIkxhdGVzdCBVcGRhdGUiLCAiTGF0ZXN0IiwgdHJ1ZSksDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbmV3IFNlY3Rpb24oImhvdCIsICJIb3QgTm92ZWwiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIodW5kZWZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVkLCAiaG90LW5vdmVsIikpLA0KICAgICAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJjb21wbGV0ZWQiLCAiQ29tcGxldGVkIE5vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKHVuZGVmaW5lZCwgImNvbXBsZXRlZC1ub3ZlbCIpKSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBuZXcgU2VjdGlvbigicG9wdWxhciIsICJNb3N0IFBvcHVsYXIiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIodMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5kZWZpbmVkLCAibW9zdC1wb3B1bGFyIikpDQogICAgICAgICAgICBdDQoNCiAgICAgICAgICAgIHJldHVybiBzZWN0aW9ucy5maMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx0ZXIoeCA9PiAha2V5cyB8fCBrZXlzLmluY2x1ZGVzKHgubmFtZSkpOw0KICAgICAgICB9LA0KDQogICAgICAgIHRyYW5zbGF0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0VNlY3Rpb246IGFzeW5jIGZ1bmN0aW9uIChzZWN0aW9uLCBwYWdlKSB7DQogICAgICAgICAgICBpZiAoc2VjdGlvbi5pZGVudGlmaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WVyID09ICJMYXRlc3QiKQ0KICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmxhdGVzdChwYWdlKTsNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIGVsc2UNCiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5zZWFyY2goc2VjdGlvbi5maWx0ZXIgfHwgdGhpcy5kZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WZhdWx0RmlsdGVyKCksIHBhZ2UpOw0KICAgICAgICB9LA0KDQogICAgICAgIGRlZmF1bHRGaWx0ZXI6IGZ1bmN0aW9uICgpIHsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIHJldHVybiBuZXcgRmlsdGVyKCk7DQogICAgICAgIH0sIA0KDQogICAgICAgIHNlYXJjaDogYXN5bmMgZnVuYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03Rpb24gKGZpbHRlciwgcGFnZSkgew0KICAgICAgICAgICAgdmFyIGdlbnJlVXJsID0gImdlbnJlL3tnfT9wYWdlPXtwfSIudXJpKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRoaXMudXJsKS5yZXBsYWNlKCJ7cH0iLCBwYWdlLnRvU3RyaW5nKCkpOw0KICAgICAgICAgICAgdmFyIHNvcnRUeXBlVXJsID0gIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ntzfT9wYWdlPXtwfSIudXJpKHRoaXMudXJsKS5yZXBsYWNlKCJ7cH0iLCBwYWdlLnRvU3RyaW5nKCkpOw0KICAgICAgICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFyIHEgPSBmaWx0ZXIuZ2VucmVzLmxlbmd0aCA+IDAgPyBnZW5yZVVybC5yZXBsYWNlKCJ7Z30iLCBmaWx0ZXIuZ2VucmVzWzBdKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SA6ICgoZmlsdGVyLnNvcnRUeXBlICYmIGZpbHRlci5zb3J0VHlwZSAhPSAnJyA/IHNvcnRUeXBlVXJsLnJlcGxhY2UoIntzfSIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GZpbHRlci5zb3J0VHlwZSkgOiB1bmRlZmluZWQpKTsNCiAgICAgICAgICAgIHZhciBxdWVyeSA9IHEgfHwgdGhpcy5zZWFyY2hVcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mwucmVwbGFjZSgne3F9JywgZmlsdGVyLnRpdGxlIHx8ICIiKS5yZXBsYWNlKCd7cH0nLCBwYWdlLnRvU3RyaW5nKCkpOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMucGFyc2VyLmpxKGF3YWl0IHRoaXMuY2xlYW5lci5nZXRDbGllbnQodGhpcy5pZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CkuZ2V0SHRtbChxdWVyeSkpOw0KICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICAgICAgY29udGFpbmVyLmZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mQoJy5saXN0LXRydXllbiAucm93JykuZm9yRWFjaCgoeCkgPT4gew0KICAgICAgICAgICAgICAgIGlmICh4LnNlbGVjdCgnaW1nJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ykuYXR0cigic3JjIikuaGFzVmFsdWUoKSkNCiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgTGlnaHRJdGVtKHRoaXMuY2xlYW5lci5pbWFnZSh0aGlzLnVybCwgeC5zZWxlY3QoJy50cnV5ZW4tdGl0bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GUgYScpLmF0dHIoImhyZWYiKS51cmwoKSwgIi5ib29rIGltZyIpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHguc2VsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0KCcudHJ1eWVuLXRpdGxlIGEnKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJywNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICAgICB4LnNlbGVjdCgnLnRydXllbi10aXRsZSBhJykuYXR0cigiaHJlZiIpLnVybCgpLCB0aGlzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m5hbWUNCiAgICAgICAgICAgICAgICAgICAgICAgICksDQogICAgICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICB9KTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0g0KICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICAgICAgfSwNCg0KICAgICAgICBnZXRDaGFwdGVyczogYXN5bmMgZnVuYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03Rpb24gKG5vdmVsVXJsLCBodG1sQ29udGFpbmVyKSB7DQogICAgICAgICAgICB2YXIgY2hhcHRlcnMgPSBbXTsNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHZhciB1cmwgPSAiaHR0cHM6Ly9ub3ZlbGZ1bGwuY29tL2FqYXgtY2hhcHRlci1vcHRpb24/bm92ZWxJZD17aWR9Ii5yZXBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WNlKCJ7aWR9IiwNCiAgICAgICAgICAgICAgICBodG1sQ29udGFpbmVyLnNlbGVjdCgiI3JhdGluZyIpLmF0dHIoImRhdGEtbm92ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WwtaWQiKS5oYXNWYWx1ZSgpID8NCiAgICAgICAgICAgICAgICAgICAgaHRtbENvbnRhaW5lci5zZWxlY3QoIiNyYXRpbmciKS5hdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRyKCJkYXRhLW5vdmVsLWlkIikudGV4dCgpIDoNCiAgICAgICAgICAgICAgICAgICAgaHRtbENvbnRhaW5lci5zZWxlY3QoIltkYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRhLW5vdmVsLWlkXSIpLmF0dHIoImRhdGEtbm92ZWwtaWQiKS50ZXh0KCkpOw0KDQogICAgICAgICAgICB2YXIgY29udGFpbmVyIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0gdGhpcy5wYXJzZXIuanEoYXdhaXQgdGhpcy5jbGVhbmVyLmdldENsaWVudCh0aGlzLmlkKS5nZXRIdG1sKHVybCkpOw0KDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBjb250YWluZXIuZmluZCgnb3B0aW9uJykuZm9yRWFjaChhID0+IHsNCiAgICAgICAgICAgICAgICB2YXIgYVVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CA9IGEuYXR0cigidmFsdWUiKS51cmwoKTsNCiAgICAgICAgICAgICAgICB2YXIgdGl0bGUgPSBhLnRleHQoZmFsc2UpOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIGlmICh1cmwgJiYgdXJsICE9PSAnJykgY2hhcHRlcnMucHVzaChuZXcgQ2hhcHRlcih0aXRsZSwgYVVybCkpOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIHJldHVybiBjaGFwdGVyczsNCiAgICAgICAgfSwNCg0KICAgICAgICBnZXRObMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03ZlbDogYXN5bmMgZnVuY3Rpb24gKG5vdmVsVXJsKSB7DQogICAgICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5wYXJzZXIuaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nEoYXdhaXQgdGhpcy5jbGVhbmVyLmdldENsaWVudCh0aGlzLmlkKS5nZXRIdG1sKG5vdmVsVXJsKSk7DQogICAgICAgICAgICB2YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIgY2hhcHRlcnMgPSBhd2FpdCB0aGlzLmdldENoYXB0ZXJzKG5vdmVsVXJsLCBjb250YWluZXIpOw0KICAgICAgICAgICAgdmFyIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5vdmVsUmV2aWV3cyA9IG5ldyBOb3ZlbFJldmlld3MoKTsNCiAgICAgICAgICAgIHZhciBpbmZvcyA9IGNvbnRhaW5lci5maW5kKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIuaW5mbyA+IGRpdiIpOw0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLmdlbnJlcyA9IGluZm9zLmVxKDIpLmZpbmQoImEiKS5tYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XAoeCA9PiB4LnRleHQoZmFsc2UpKTsNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cy5hdXRob3IgPSBpbmZvcy5lcSgwKS5maW5kKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJhIikudGV4dChmYWxzZSk7DQogICAgICAgICAgICBub3ZlbFJldmlld3MudXZvdGVzID0gY29udGFpbmVyLnNlbGVjdCgiLmNvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C1pbmZvLWRlc2MgPiAuZGVzYyA+IC5zbWFsbCBzdHJvbmc6Zmlyc3QtY2hpbGQgc3BhbiIpLnRleHQoZmFsc2UpICsgIiAvIDEwIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0jsNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cy5jb21wbGV0ZWQgPSBpbmZvcy5sYXN0KCkuc2VsZWN0KCJhIikudGV4dChmYWxzZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SkgPT09ICJDb21wbGV0ZWQiID8gIlN0YXR1czpDb21wbGV0ZWQiIDogIlN0YXR1czpPbmdvaW5nIjsNCg0KICAgICAgICAgICAgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuIG5ldyBEZXRhbGlJdGVtKA0KICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoJy5ib29rIGltZycpLmF0dHIoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNyYyIpLnVybCgpLA0KICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoJy50aXRsZScpLnRleHQoZmFsc2UpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoJy5kZXNjLXRleHQnKS5jbGVhbklubmVySFRNTCgpLA0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5vdmVsVXJsLA0KICAgICAgICAgICAgICAgIGNoYXB0ZXJzLA0KICAgICAgICAgICAgICAgIG5vdmVsUmV2aWV3cywNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICB0aGlzLm5hbWUsDQogICAgICAgICAgICAgICAgdW5kZWZpbmVkLA0KICAgICAgICAgICAgKTsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgfSwNCg0KICAgICAgICBnZXRDaGFwdGVyOiBhc3luYyBmdW5jdGlvbiAodXJsKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5jbGVhbmVyLmNsZWFuQ2hhcHRlcih0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mdldEh0bWwodXJsKSkuc2VsZWN0KCcjY2hhcHRlci1jb250ZW50JyksIHRoaXMubmFtZSk7DQogICAgICAgIH0sDQoNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbGF0ZXN0OiBhc3luYyBmdW5jdGlvbiAocGFnZSkgew0KICAgICAgICAgICAgdmFyIHVybCA9IHRoaXMubGF0ZXN0VXJsLnJlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxhY2UoJ3twfScsIHBhZ2UudG9TdHJpbmcoKSk7DQogICAgICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5wYXJzZXIuanEoYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XdhaXQgdGhpcy5jbGVhbmVyLmdldENsaWVudCh0aGlzLmlkKS5nZXRIdG1sKHVybCkpOw0KICAgICAgICAgICAgdmFyIHJlc3VsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CA9IFtdOw0KICAgICAgICAgICAgY29udGFpbmVyLmZpbmQoJy5saXN0LXRydXllbiAucm93JykuZm9yRWFjaCgoeCkgPT4gew0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgIGlmICh4LnNlbGVjdCgnaW1nJykuYXR0cigic3JjIikuaGFzVmFsdWUoKSkNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgcmVzdWx0LnB1c2goDQogICAgICAgICAgICAgICAgICAgICAgICBuZXcgTGlnaHRJdGVtKA0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIHRoaXMuY2xlYW5lci5pbWFnZSh0aGlzLnVybCwgeC5zZWxlY3QoJy50cnV5ZW4tdGl0bGUgYScpLmF0dHIoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mhyZWYiKS51cmwoKSwgIi5ib29rIGltZyIpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHguc2VsZWN0KCcudHJ1eWVuLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRpdGxlIGEnKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJywNCiAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICB4LnNlbGVjdCgnLnRydXllbi10aXRsZSBhJykuYXR0cigiaHJlZiIpLnVybCgpLCB0aGlzLm5hbWUNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICkpOw0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIH0NCiAgICB9DQoNCg0KDQogICAgcmV0dXJuIG5ldyBQYXJzZXIoKTsNCg0KfTs=&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KDQogICAgZnVuY3Rpb24gUGFyc2VyKCkgew0KDQogICAgICAgIHRoaXMuY2xlYW5lciA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HBsdWdpbnMuZmluZCh4ID0+IHgubmFtZSA9PSAiQ2xlYW5lciIpOw0KDQogICAgICAgIHRoaXMuaWQgPSAiMS5ub3ZlbGhhbGwiOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICB0aGlzLnBhcnNlckxhbmd1YWdlID0gImVuIjsNCiAgICAgICAgdGhpcy5uYW1lID0gJ05vdmVsSGFsbCc7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHRoaXMuZGlzcGxheU5hbWUgPSAiTm92ZWwtQ2hhbm5lbCINCiAgICAgICAgdGhpcy5kZXRhbGlJdGVtVHlwZSA9IERldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFsaUl0ZW1UeXBlLk5vdmVsOw0KICAgICAgICB0aGlzLmxhdGVzdFVybCA9ICdodHRwczovL3d3dy5ub3ZlbGhhbGwuY29tL2xhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03R1cGRhdGUte3B9Lmh0bWwnOw0KICAgICAgICB0aGlzLnVybCA9ICdodHRwczovL3d3dy5ub3ZlbGhhbGwuY29tLyc7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHRoaXMuc2VhcmNoVXJsID0gJ2h0dHBzOi8vd3d3Lm5vdmVsaGFsbC5jb20vaW5kZXgucGhwP3M9c28mbW9kdWxlPWJvb2smaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02V5d29yZD17cX0nOw0KICAgICAgICB0aGlzLnBhbmluYXRpb24gPSB0cnVlOw0KICAgICAgICB0aGlzLnNlYXJjaFBhZ2luYXRpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU024gPSB0cnVlOw0KICAgICAgICB0aGlzLmljb24gPSAnaHR0cHM6Ly93d3cubm92ZWxoYWxsLmNvbS9mYXZpY29uLmljbyc7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHRoaXMucGFyc2VyU2VhcmNoU2V0dGluZ3MgPSBuZXcgUGFyc2VyU2VhcmNoU2V0dGluZ3MoKTsNCiAgICAgICAgdGhpcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5lbmFibGVOb3ZlbERvd25sb2Fkcz0gdHJ1ZTsNCiAgICAgICAgdGhpcy5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZXMgPSB7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICBtdWx0aVNlbGVjdGlvbjogZmFsc2UsDQogICAgICAgICAgICB2YWx1ZXM6IFsNCiAgICAgICAgICAgIF0sDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIH07DQoNCg0KICAgICAgICB0aGlzLnBhcnNlclNlYXJjaFNldHRpbmdzLnNvcnRUeXBlcyA9IHsNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG11bHRpU2VsZWN0aW9uOiBmYWxzZSwNCiAgICAgICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FZhbHVlKCdDb21wbGV0ZWQnLCAnY29tcGxldGVkLXtwfS5odG1sJyksDQogICAgICAgICAgICBdLA0KICAgICAgICB9Ow0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0H0NCg0KICAgIFBhcnNlci5wcm90b3R5cGUgPSB7DQoNCiAgICAgICAgbG9hZFNldHRpbmdzOiBhc3luYyBmdW5jdGlvbiAoKSB7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhcnNlclNlYXJjaFNldHRpbmdzLmdlbnJlcy52YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZXMubGVuZ3RoID4gMCkNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIHRoaXMuY2xlYW5lcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5nZXRDbGllbnQodGhpcy5pZCkuZ2V0SHRtbCh0aGlzLnVybCkudGhlbihodG1sID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFyIGNvbnRhaW5lciA9IHRoaXMucGFyc2VyLmpxKGh0bWwpDQogICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5maW5kKCIuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJvcGRvd24tbWVudSBhIikud2hlcmUoeCA9PiB4LmF0dHIoImhyZWYiKS5hdHRWYWx1ZSgpLmluZGV4T2YoImdlbnJlIikgIT09IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C0xKS5mb3JFYWNoKGEgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMudmFsdWVzLnB1c2gobmV3IGxhYmVsVmFsdWUoYS50ZXh0KGZhbHNlKSwgYS5hdHRyKCJocmVmIikudXJsKCkpKTsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBjb25zb2xlLmxvZygpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KDQoNCiAgICAgICAgZ2V0U2VjdGlvbnM6IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GZ1bmN0aW9uIChrZXlzKSB7DQogICAgICAgICAgICB2YXIgc2VjdGlvbnMgPSBbDQogICAgICAgICAgICAgICAgbmV3IFNlY3RpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU024oImxhdGVzdCIsICJMYXRlc3QgVXBkYXRlIiwgIkxhdGVzdCIsIHRydWUpLA0KICAgICAgICAgICAgICAgIG5ldyBTZWN0aW9uKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJjb21wbGV0ZWQiLCAiQ29tcGxldGVkIE5vdmVsIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKHVuZGVmaW5lZCwgJ2NvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XBsZXRlZC17cH0uaHRtbCcpKSwNCiAgICAgICAgICAgIF0NCiAgICAgICAgICAgIHJldHVybiBzZWN0aW9ucy5maWx0ZXIoeCA9PMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAha2V5cyB8fCBrZXlzLmluY2x1ZGVzKHgubmFtZSkpOw0KICAgICAgICB9LA0KICAgICAgICB0cmFuc2xhdGVTZWN0aW9uOiBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03luYyBmdW5jdGlvbiAoc2VjdGlvbiwgcGFnZSkgew0KICAgICAgICAgICAgaWYgKHNlY3Rpb24uaWRlbnRpZmllciA9PSAiTGF0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XN0IikgcmV0dXJuIGF3YWl0IHRoaXMubGF0ZXN0KHBhZ2UpOw0KICAgICAgICAgICAgZWxzZSByZXR1cm4gYXdhaXQgdGhpcy5zZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFyY2goc2VjdGlvbi5maWx0ZXIgfHwgdGhpcy5kZWZhdWx0RmlsdGVyKCksIHBhZ2UpOw0KICAgICAgICB9LA0KICAgICAgICBkZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WZhdWx0RmlsdGVyOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgZmlsdGVyID0gbmV3IEZpbHRlcigpOw0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgcmV0dXJuIGZpbHRlcjsNCiAgICAgICAgfSwNCg0KICAgICAgICBnZXRHZW5yZXM6IGFzeW5jIGZ1bmN0aW9uIChmaWx0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIpIHsNCiAgICAgICAgICAgIHZhciB1cmwgPSBmaWx0ZXIuZ2VucmVzWzBdOw0KICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRoaXMucGFyc2VyLmpxKGF3YWl0IHRoaXMuY2xlYW5lci5nZXRDbGllbnQodGhpcy5pZCkuZ2V0SHRtbCh1cmwpKTsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHJldHVybiBjb250YWluZXIuZmluZCgnLmJvb2staW5mbycpLm1hcCgoeCkgPT4gew0KICAgICAgICAgICAgICAgIHJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybiBuZXcgTGlnaHRJdGVtKHguY2xvc2VzdCgibGkiKS5zZWxlY3QoIi5ib29rLWltZyBpbWciKS5hdHRyKCJzcmMiKS51cmwoKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoJ2EnKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgICAgICAgJycsDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgICAgIHguc2VsZWN0KCdhJykuYXR0cigiaHJlZiIpLnVybCgpLA0KICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB0aGlzLm5hbWUNCiAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0sDQoNCiAgICAgICAgc2VhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mNoOiBhc3luYyBmdW5jdGlvbiAoZmlsdGVyLCBwYWdlKSB7DQoNCiAgICAgICAgICAgIGlmIChmaWx0ZXIuZ2VucmVzICYmIGZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlci5nZW5yZXMubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmdldEdlbnJlcyhmaWx0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdmFyIHVybCA9IHRoaXMuc2VhcmNoVXJsOw0KICAgICAgICAgICAgaWYgKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GZpbHRlci5zb3J0VHlwZSAmJiBmaWx0ZXIuc29ydFR5cGUubGVuZ3RoID4gMCkNCiAgICAgICAgICAgICAgICB1cmwgPSBmaWx0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIuc29ydFR5cGUudXJpKHRoaXMudXJsKTsNCg0KICAgICAgICAgICAgdmFyIHVybCA9IHVybC5yZXBsYWNlKCJ7cX0iLCBmaWx0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIudGl0bGUgfHwgIiIpLnJlcGxhY2UoIntwfSIsIHBhZ2UpOw0KICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMucGFycMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VyLmpxKGF3YWl0IHRoaXMuY2xlYW5lci5nZXRDbGllbnQodGhpcy5pZCkuZ2V0SHRtbCh1cmwpKTsNCiAgICAgICAgICAgIHZhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iByZXN1bHQgPSBbXTsNCiAgICAgICAgICAgIGNvbnRhaW5lci5maW5kKCcuY29udGFpbmVyIHRhYmxlIHRyJykuZm9yRWFjaCgoeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CkgPT4gew0KICAgICAgICAgICAgICAgIHZhciBhID0geC5maW5kKCJ0ZCIpLmVxKDApLnNlbGVjdCgiYSIpLmF0dHIoImhyZWYiKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S50ZXh0KCkuaW5kZXhPZigiZ2VucmUiKSA9PT0gLTEgPyB4LmZpbmQoInRkIikuZXEoMCkuc2VsZWN0KCJhIikgOiB4LmZpbmQoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRkIikuZXEoMSkuc2VsZWN0KCJhIik7DQogICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IExpZ2h0SXRlbSh0aGlzLmNsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFuZXIuaW1hZ2UodGhpcy51cmwsIGEuYXR0cigiaHJlZiIpLnVybCgpLCAiLmJvb2staW1nIGltZyIpLCBhLnRleHQoZmFsc2UpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAnJywgYS5hdHRyKCJocmVmIikudXJsKCksIHRoaXMubmFtZSkpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICByZXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m4gcmVzdWx0Ow0KICAgICAgICB9LA0KDQogICAgICAgIGdldE5vdmVsOiBhc3luYyBmdW5jdGlvbiAobm92ZWxVcmwpIHsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WQpLmdldEh0bWwobm92ZWxVcmwpKTsNCiAgICAgICAgICAgIHZhciBjaGFwdGVycyA9IGNvbnRhaW5lci5maW5kKCIjbW9yZWxpcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03QgbGkgYSIpLm1hcCh4ID0+IG5ldyBDaGFwdGVyKHgudGV4dChmYWxzZSksIHguYXR0cigiaHJlZiIpLnVybCgpKSk7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB2YXIgaXRlbSA9IG5ldyBOb3ZlbFJldmlld3MoKTsNCg0KICAgICAgICAgICAgaXRlbS5nZW5yZXMgPSBjb250YWluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIuZmluZCgiLmJvb2staW5mbyAucmVkIikudGV4dEFycmF5KCk7DQogICAgICAgICAgICBpdGVtLmF1dGhvciA9IGNvbnRhaW5lcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5maW5kKCIuYm9vay1pbmZvIC5ibHVlIikud2hlcmUoeCA9PiB4LmlubmVySFRNTCgpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZigiYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XV0aG9yIikgIT0gLTEpLmVxKDApLnJlbW92ZSgicCIpLnRleHQoZmFsc2UpLnJlcGxhY2UoL2F1dGhvcjovZ2ksICIiKTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIGl0ZW0uY29tcGxldGVkID0gY29udGFpbmVyLmZpbmQoIi5ib29rLWluZm8gLmJsdWUiKS53aGVyZSh4ID0+IHguaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5uZXJIVE1MKCkudG9Mb3dlckNhc2UoKS5pbmRleE9mKCJzdGF0dXMiKSAhPSAtMSkudGV4dChmYWxzZSkucmVwbGFjZSgvc3RhdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVzOi9naSwgIiIpOw0KICAgICAgICAgICAgcmV0dXJuIG5ldyBEZXRhbGlJdGVtKGNvbnRhaW5lci5zZWxlY3QoJy5ib29rLWltZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBpbWcnKS5hdHRyKCJzcmMiKS51cmwoKQ0KICAgICAgICAgICAgICAgICwgY29udGFpbmVyLnNlbGVjdCgnLmJvb2staW5mbyBoMMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ScpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgICAgIGNvbnRhaW5lci5maW5kKCcuaW50cm8gPiBzcGFuJykucmVtb3ZlKCIuYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mx1ZSIpLmxhc3QoKS5jbGVhbklubmVySFRNTCgpLA0KICAgICAgICAgICAgICAgIG5vdmVsVXJsLA0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GNoYXB0ZXJzLA0KICAgICAgICAgICAgICAgIGl0ZW0sDQogICAgICAgICAgICAgICAgdGhpcy5uYW1lLA0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHVuZGVmaW5lZCk7DQogICAgICAgIH0sDQogICAgICAgIGdldENoYXB0ZXI6IGFzeW5jIGZ1bmN0aW9uICh1cmwpIHsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIHJldHVybiB0aGlzLmNsZWFuZXIuY2xlYW5DaGFwdGVyKHRoaXMucGFyc2VyLmpxKGF3YWl0IHRoaXMuY2xlYW5lcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5nZXRDbGllbnQodGhpcy5pZCkuZ2V0SHRtbCh1cmwpKS5zZWxlY3QoJy5lbnRyeS1jb250ZW50JyksIHRoaXMubmFtZSk7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIH0sDQogICAgICAgIGxhdGVzdDogYXN5bmMgZnVuY3Rpb24gKHBhZ2UpIHsNCiAgICAgICAgICAgIHZhciB1cmwgPSB0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlzLmxhdGVzdFVybC5yZXBsYWNlKCd7cH0nLCBwYWdlLnRvU3RyaW5nKCkpOw0KICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRoaXMucGFyc2VyLmpxKGF3YWl0IHRoaXMuY2xlYW5lci5nZXRDbGllbnQodGhpcy5pZCkuZ2V0SHRtbCh1cmwpKTsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHZhciByZXN1bHQgPSBbXTsNCiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTsNCiAgICAgICAgICAgIGNvbnRhaW5lcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5maW5kKCcuY29udGFpbmVyIHRhYmxlIHRyJykuZm9yRWFjaCgoeCkgPT4gew0KICAgICAgICAgICAgICAgIHZhciBhID0geC5maMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5kKCJ0ZCIpLmVxKDEpLnNlbGVjdCgiYSIpOw0KICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBMaWdodEl0ZW0odGhpcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5jbGVhbmVyLmltYWdlKHRoaXMudXJsLCBhLmF0dHIoImhyZWYiKS51cmwoKSwgIi5ib29rLWltZyBpbWciKSwgYS50ZXh0KGZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HNlKSwgJycsIGEuYXR0cigiaHJlZiIpLnVybCgpLCB0aGlzLm5hbWUpKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuIHJlc3VsdDsNCiAgICAgICAgfQ0KICAgIH0NCg0KDQogICAgcmV0dXJuIG5ldyBQYXJzZXIoKTsNCn07&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KICAgIGZ1bmN0aW9uIFBhcnNlcigpIHsNCiAgICAgICAgdGhpcy5yb290ID0gImh0dHBzOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i8vd3d3Lm5vdmVsdXBkYXRlcy5jb20iOw0KICAgICAgICB0aGlzLmNsZWFuZXIgPSBwbHVnaW5zLmZpbmQoeCA9PiB4Lm5hbWUgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0T0gIkNsZWFuZXIiKTsNCiAgICAgICAgdGhpcy5jbGllbnROYW1lID0iaW5mb3JtYXRpb24iOw0KICAgIH0NCg0KICAgIFBhcnNlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5wcm90b3R5cGUgPSB7DQogICAgICAgIHNlYXJjaDogYXN5bmMgZnVuY3Rpb24gKG5hbWUpIHsNCiAgICAgICAgICAgIHRyeSB7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgaWYgKCFuYW1lKQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgdmFyIGh0bWwgPSBhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuY2xpZW50TmFtZSkucG9zdEZvcm0oIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mh0dHBzOi8vd3d3Lm5vdmVsdXBkYXRlcy5jb20vd3AtYWRtaW4vYWRtaW4tYWpheC5waHAiLCB7IGFjdGlvbjogIm5kX2FqYXhzZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFyY2htYWluIiwgc3RyVHlwZTogImRlc2t0b3AiLCBzdHJPbmU6IG5hbWUsIHN0clNlYXJjaFR5cGU6ICJzZXJpZXMiIH0pOw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgIHZhciBjb250YWluZXIgPSBwYXJzZUh0bWwoaHRtbCwgdGhpcy5yb290KS5maW5kKCJhIik7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5lci53aGVyZSh4ID0+IG5hbWUudHJpbSgpLmxlbmd0aCA+PSAoeC5zZWxlY3QoIi5zZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFyY2hfaGwiKS5oYXNFbGVtZW50KCkgPyB4LnNlbGVjdCgiLnNlYXJjaF9obCIpIDogeC5zZWxlY3QoInNwYW4iKSkudGV4dChmYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxzZSkudHJpbSgpLmxlbmd0aCAmJiAoKHguc2VsZWN0KCIuc2VhcmNoX2hsIikuaGFzRWxlbWVudCgpID8geC5zZWxlY3QoIi5zZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFyY2hfaGwiKSA6IHguc2VsZWN0KCJzcGFuIikpLnRleHQoZmFsc2UpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihuYW1lLnRvTG93ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJDYXNlKCkpICE9IC0xKSkuYXR0cigiaHJlZiIpLnVybCgpOw0KICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikNCiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkOw0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgfQ0KICAgICAgICB9LA0KICAgICAgICBnZXRCeUF1dGhvcjogYXN5bmMgZnVuY3Rpb24gKHVybCkgew0KICAgICAgICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFyIGNvbnRhaW5lciA9IHBhcnNlSHRtbCgoYXdhaXQgdGhpcy5jbGVhbmVyLmdldENsaWVudCh0aGlzLmNsaWVudE5hbWUpLmdldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Eh0bWwodXJsKSksIHRoaXMucm9vdCk7DQogICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgICAgICBjb250YWluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIuZmluZCgiLnNlYXJjaF9tYWluX2JveF9udSIpLmZvckVhY2goeCA9PiB7DQogICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgICAgIG5ldyBMaWdodEl0ZW0oeC5zZWxlY3QoIi5zZWFyY2hfaW1nX251IGltZyIpLmF0dHIoInNyYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yIpLnVybCgpLCB4LnNlbGVjdCgiLnNlYXJjaF90aXRsZSBhIikudGV4dChmYWxzZSksICIiLCB4LnNlbGVjdCgiLnNlYXJjaF90aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRsZSBhIikuYXR0cigiaHJlZiIpLnVybCgpLCAiIikNCiAgICAgICAgICAgICAgICApDQogICAgICAgICAgICB9KTsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHJldHVybiByZXN1bHQ7DQogICAgICAgIH0sDQoNCiAgICAgICAgZ2V0RGV0YWxpSXRlbTogYXN5bmMgZnVuY3Rpb24gKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5vdmVsTmFtZSkgew0KICAgICAgICAgICAgdmFyIHVybCA9IGF3YWl0IHRoaXMuc2VhcmNoKG5vdmVsTmFtZSk7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBpZiAoIXVybCkNCiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkOw0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICB2YXIgY29udGFpbmVyID0gcGFyc2VIdG1sKGF3YWl0IHRoaXMuY2xlYW5lci5nZXRDbGllbnQodGhpcy5jbGllbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nROYW1lKS5nZXRIdG1sKHVybCksIHRoaXMucm9vdCk7DQogICAgICAgICAgICAgICAgdmFyIHRpdGVtID0gbmV3IE5vdmVsUmV2aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WV3cygpOw0KDQogICAgICAgICAgICAgICAgdGl0ZW0uZ2VucmVzID0gY29udGFpbmVyLmZpbmQoIiNzZXJpZXNnZW5yZSBhIikudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GV4dEFycmF5KCk7DQogICAgICAgICAgICAgICAgdGl0ZW0uZGVzY3JpcHRpb24gPSBjb250YWluZXIuc2VsZWN0KCIjZWRpdGRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02NyaXB0aW9uIikudGV4dCh0cnVlKTsNCiAgICAgICAgICAgICAgICB0aXRlbS51dm90ZXMgPSBjb250YWluZXIuc2VsZWN0KCIudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XZvdGVzIikudGV4dChmYWxzZSk7DQogICAgICAgICAgICAgICAgdGl0ZW0uYWx0ZXJuYXRpdmVOYW1lcyA9IGNvbnRhaW5lci5zZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxlY3QoIiNlZGl0YXNzb2NpYXRlZCIpLnRleHQoZmFsc2UpLnJlcGxhY2UoLzxicj4vLCAiLCIpOw0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRpdGVtLmF1dGhvciA9IGNvbnRhaW5lci5maW5kKCJkaXYjc2hvd2F1dGhvcnMgPiBhIikudGV4dChmYWxzZSk7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgdGl0ZW0ubGFuZyA9IGNvbnRhaW5lci5zZWxlY3QoIiNzaG93bGFuZyA+IGEiKS50ZXh0KGZhbHNlKQ0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIHRpdGVtLmNvbXBsZXRlZCA9IGNvbnRhaW5lci5zZWxlY3QoIiNzaG93dHJhbnNsYXRlZCA+IGEiKS50ZXh0KGZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HNlKSA9PT0gIlllcyIgPyAiU3RhdHVzOiBDb21wbGV0ZWQiIDogIlN0YXR1czogT25nb2luZyI7DQogICAgICAgICAgICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Gl0ZW0uYXV0aG9yVXJsID0gY29udGFpbmVyLnNlbGVjdCgiZGl2I3Nob3dhdXRob3JzID4gYSIpLmF0dHIoImhyZWYiKS50ZXh0KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GZhbHNlKTsNCiAgICAgICAgICAgICAgICB0aXRlbS5yZWN1bW1lbmRhdGlvbnMgPSBjb250YWluZXIuZmluZCgiLndwYl93cmFwcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVyIC5nZW5yZSIpLndoZXJlKHggPT4gKHguYXR0cigidGl0bGUiKS50ZXh0KGZhbHNlKSkuaW5kZXhPZigiUmVjb21tZW5kZWQiKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SA+IC0xKS5tYXAoeCA9PiB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTGlnaHRJdGVtKHRoaXMuY2xlYW5lci5pbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFnZSh0aGlzLnJvb3QsIHguYXR0cigiaHJlZiIpLnRleHQoZmFsc2UpLnVyaSh0aGlzLnJvb3QpLCAiLnNlcmllc2ltZyBpbWciLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAic3JjIiksIHgudGV4dChmYWxzZSksICIiLCB4LmF0dHIoImhyZWYiKS50ZXh0KCkudXJpKHRoaXMucm9vdCksICIiKQ0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAgICAgaWYgKCF0aXRlbS5nZW5yZXMgfHwgdGl0ZW0uZ2VucmVzLmxlbmd0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CA8PSAwKQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkOw0KICAgICAgICAgICAgICAgIHRpdGVtLnVybCA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybDsNCiAgICAgICAgICAgICAgICByZXR1cm4gdGl0ZW07DQogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQ0KICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7DQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICByZXR1cm4gbmV3IFBhcnNlcigpOw0KfQ0K&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KICAgIGZ1bmN0aW9uIFBhcnNlcigpIHsNCiAgICAgICAgdGhpcy5jbGVhbmVyID0gcGx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02lucy5maW5kKHggPT4geC5uYW1lID09ICJDbGVhbmVyIik7DQogICAgICAgIHRoaXMuaWQgPSAiMS5ub3ZlbG9ubGluZWZ1bGwiOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICB0aGlzLmRldGFsaUl0ZW1UeXBlID0gRGV0YWxpSXRlbVR5cGUuTm92ZWw7DQogICAgICAgIHRoaXMucGFyc2VyTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFuZ3VhZ2UgPSAiZW4iOw0KICAgICAgICB0aGlzLm5hbWUgPSAnTm92ZWxPbmxpbmVGdWxsJzsNCiAgICAgICAgdGhpcy5kaXNwbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF5TmFtZSA9ICJOb3ZlbC1PbmxpbmUiDQogICAgICAgIHRoaXMubGF0ZXN0VXJsID0gJ2h0dHBzOi8vbm92ZWxvbmxpbmVmdWxsLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mNvbS9ub3ZlbF9saXN0P3R5cGU9bGF0ZXN0JmNhdGVnb3J5PWFsbCZzdGF0ZT1hbGwmcGFnZT17cH0nOw0KICAgICAgICB0aGlzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nVybCA9ICdodHRwczovL25vdmVsb25saW5lZnVsbC5jb20vJzsNCiAgICAgICAgdGhpcy5zZWFyY2hVcmwgPSAnaHR0cHM6Ly9ubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03ZlbG9ubGluZWZ1bGwuY29tL3NlYXJjaF9ub3ZlbHMve3F9P3BhZ2U9e3B9JzsNCiAgICAgICAgdGhpcy5wYW5pbmF0aW9uID0gdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJ1ZTsNCiAgICAgICAgdGhpcy5zZWFyY2hQYWdpbmF0aW9uID0gZmFsc2U7DQogICAgICAgIHRoaXMuaWNvbiA9ICdodHRwczovLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU025vdmVsb25saW5lZnVsbC5jb20vdGhlbWVzL2hvbWUvaW1hZ2VzL2Zhdmljb24ucG5nJzsNCiAgICAgICAgdGhpcy5wYXJzZXJTZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFyY2hTZXR0aW5ncyA9IG5ldyBQYXJzZXJTZWFyY2hTZXR0aW5ncygpOw0KICAgICAgICB0aGlzLnBhcnNlclNlYXJjaFNldHRpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mdzLm11bHRpU2VsZWN0aW9uID0gdHJ1ZTsNCiAgICAgICAgdGhpcy5lbmFibGVOb3ZlbERvd25sb2Fkcz0gdHJ1ZTsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgdGhpcy5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZXMgPSB7DQogICAgICAgICAgICBtdWx0aVNlbGVjdGlvbjogZmFsc2UsDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICB2YWx1ZXM6IFsNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQWxsIiwgImFsbCIpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJDaGluZXNlIiwgMyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0kVuZ2xpc2giLCA2KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiS29yZWFuIiwgMTMpLA0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCJPcmlnaW5hbCIsIDE5KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQWN0aW9uIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iwgMSksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkFkdmVudHVyZSIsIDIpLA0KICAgICAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBsYWJlbFZhbHVlKCJDb21lZHkiLCA0KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiRHJhbWEiLCA1KSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiRmFudGFzeSIsIDcpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJHZW5kZXIgQmVuZGVyIiwgOCksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkhhcmVtIiwgOSksDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkhpc3RvcmljYWwiLCAxMCksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0khvcnJvciIsIDExKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiSm9zZWkiLCAxMiksDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbmV3IGxhYmVsVmFsdWUoIkxvbGljb24iLCAxNCksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIk1hcnRpYWwgQMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJ0cyIsIDE1KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTWF0dXJlIiwgMTYpLA0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBsYWJlbFZhbHVlKCJNZWNoYSIsIDE3KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTXlzdGVyeSIsIDE4KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiUHN5Y2hvbG9naWNhbCIsIDIwKSwNCiAgICAgICAgICAgICAgICBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgbGFiZWxWYWx1ZSgiUmVpbmNhcm5hdGlvbiIsIDIxKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiUm9tYW5jZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SIsIDIyKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2Nob29sIExpZmUiLCAyMyksDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbmV3IGxhYmVsVmFsdWUoIlNjaS1maSIsIDI0KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2VpbmVuIiwgMMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0jUpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTaG90YWNvbiIsIDI2KSwNCiAgICAgICAgICAgICAgICBuZXcgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFiZWxWYWx1ZSgiU2hvdWpvIiwgMjcpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTaG91am8gQWkiLCAyOCksDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNob3VuZW4iLCAyOSksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoIlNob3VuZW4gQWkiLCAzMCksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNsaWNlIG9mIExpZmUiLCAzMMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNtdXQiLCAzMiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoIlNwb3J0cyIsIDMzKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU3VwZXJuYXR1cmFsIiwgMzQpLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJUcmFnZWR5IiwgMzUpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVlKCJWaXJ0dWFsIFJlYWxpdHkiLCAzNiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIld1eGlhIiwgMzcpLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJYaWFueGlhIiwgMzgpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVlKCJYdWFuaHVhbiIsIDM5KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQXJ0cyIsIDQwKSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQmlvZ3JhcGhpZXMiLCA0MSksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0kJ1c2luZXNzIiwgNDIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJDb21wdXRlcnMiLCA0MyksDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkVkdWNhdGlvbiIsIDQ2KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiRMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W50ZXJ0YWlubWVudCIsIDQ3KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiRmljdGlvbiIsIDQ4KSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiSHVtb3IiLCA1MSksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkludMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVzdGluZyIsIDUyKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTGl0ZXJhdHVyZSIsIDUzKSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTWVtb2lycyIsIDU0KQ0KDQogICAgICAgICAgICBdDQogICAgICAgIH0NCg0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB0aGlzLnBhcnNlclNlYXJjaFNldHRpbmdzLnNvcnRUeXBlcyA9IHsNCiAgICAgICAgICAgIG11bHRpU2VsZWN0aW9uOiBmYWxzZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdMYXRlc3QnLCAnbGF0ZXN0JMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ05ld2VzdCcsICduZXdlc3QnKSwNCiAgICAgICAgICAgICAgICBuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XcgbGFiZWxWYWx1ZSgnVG9wIHZpZXcnLCAndG9wdmlldycpDQogICAgICAgICAgICBdLA0KICAgICAgICB9Ow0KICAgIH0NCg0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIFBhcnNlci5wcm90b3R5cGUgPSB7DQogICAgICAgIGdldFNlY3Rpb25zOiBmdW5jdGlvbiAoa2V5cykgew0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgdmFyIHNlY3Rpb25zID0gWw0KICAgICAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJsYXRlc3QiLCAiTGF0ZXN0IFVwZGF0ZSIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJMYXRlc3QiLCB0cnVlKSwNCiAgICAgICAgICAgICAgICBuZXcgU2VjdGlvbigibmV3ZXN0IiwgIk5ld2VzdCBOb3ZlbCIsICJTZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsICJuZXdlc3QiKSksDQogICAgICAgICAgICAgICAgbmV3IFNlY3RpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU024oInRvcCIsICJUb3AgdmlldyIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsICJ0b3B2aWV3IikpDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBdDQoNCiAgICAgICAgICAgIHJldHVybiBzZWN0aW9ucy5maWx0ZXIoeCA9PiAha2V5cyB8fCBrZXlzLmluY2x1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVzKHgubmFtZSkpOw0KICAgICAgICB9LA0KDQogICAgICAgIHRyYW5zbGF0ZVNlY3Rpb246IGFzeW5jIGZ1bmN0aW9uIChzZWN0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W9uLCBwYWdlKSB7DQogICAgICAgICAgICBpZiAoc2VjdGlvbi5pZGVudGlmaWVyID09ICJMYXRlc3QiKQ0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHJldHVybiBhd2FpdCB0aGlzLmxhdGVzdChwYWdlKTsNCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICByZXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m4gYXdhaXQgdGhpcy5zZWFyY2goc2VjdGlvbi5maWx0ZXIgfHwgdGhpcy5kZWZhdWx0RmlsdGVyKCksIHBhZ2UpOw0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB9LA0KDQogICAgICAgIGRlZmF1bHRGaWx0ZXI6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHJldHVybiBuZXcgRmlsdGVyKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FsiYWxsIl0sICJ0b3B2aWV3Iik7DQogICAgICAgIH0sDQoNCg0KICAgICAgICBzZWFyY2g6IGFzeW5jIGZ1bmN0aW9uIChmaWx0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIsIHBhZ2UpIHsNCiAgICAgICAgICAgIHZhciBzb3J0VHlwZVVyaSA9ICJodHRwczovL25vdmVsb25saW5lZnVsbC5jb20vbm92ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxfbGlzdD90eXBlPXtzfSZjYXRlZ29yeT17Z30mc3RhdGU9YWxsJnBhZ2U9e3B9Ig0KICAgICAgICAgICAgdmFyIHNvcnRUeXBlVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJsID0gc29ydFR5cGVVcmkucmVwbGFjZSgie3N9IiwgZmlsdGVyLnNvcnRUeXBlKS5yZXBsYWNlKCJ7cH0iLCBwYWdlLnRvU3RyaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5nKCkpLnJlcGxhY2UoIntnfSIsIGZpbHRlci5nZW5yZXMubGVuZ3RoID4gMCA/IGZpbHRlci5nZW5yZXNbMF0gOiAiYWxsIik7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QoNCiAgICAgICAgICAgIHZhciB1cmwgPSAoIWZpbHRlci50aXRsZSB8fCBmaWx0ZXIudGl0bGUgPT0gIiIpICYmIGZpbHRlci5zbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03J0VHlwZSAmJiBmaWx0ZXIuc29ydFR5cGUgIT0gJycgPyBzb3J0VHlwZVVybCA6IHRoaXMuc2VhcmNoVXJsLnJlcGxhY2UoJ3txfMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ScsIChmaWx0ZXIudGl0bGUgfHwgIiIpLnJlcGxhY2UoL1sgXS8sICJfIikpOw0KDQogICAgICAgICAgICB2YXIgY29udGFpbmVyIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0gdGhpcy5wYXJzZXIuanEoYXdhaXQgdGhpcy5jbGVhbmVyLmdldENsaWVudCh0aGlzLmlkKS5nZXRIdG1sKHVybCkpOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICAgICAgY29udGFpbmVyLmZpbmQoIi51cGRhdGVfaXRlbSwgLml0ZW11cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GRhdGUiKS5mb3JFYWNoKHggPT4gew0KICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBMaWdodEl0ZW0oeC5zZWxlY3QoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mltZyIpLmF0dHIoInNyYyIpLnVybCgpLA0KICAgICAgICAgICAgICAgICAgICB4LnNlbGVjdCgiaW1nIikuYXR0cigiYWx0IHwgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Gl0bGUiKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgICAgICAgIiIsDQogICAgICAgICAgICAgICAgICAgIHguc2VsZWN0KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJhIikuYXR0cigiaHJlZiIpLnVybCgpLA0KICAgICAgICAgICAgICAgICAgICB0aGlzLm5hbWUpKTsNCiAgICAgICAgICAgIH0pOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KDQogICAgICAgICAgICByZXR1cm4gcmVzdWx0Ow0KDQogICAgICAgIH0sDQoNCiAgICAgICAgZ2V0Tm92ZWw6IGFzeW5jIGZ1bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mN0aW9uIChub3ZlbFVybCkgew0KICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMucGFyc2VyLmpxKGF3YWl0IHRoaXMuYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02xlYW5lci5nZXRDbGllbnQodGhpcy5pZCkuZ2V0SHRtbChub3ZlbFVybCkpOw0KICAgICAgICAgICAgdmFyIGNoYXB0ZXJzID0gYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029udGFpbmVyLmZpbmQoIi5jaGFwdGVyLWxpc3QgLnJvdyBhIikubWFwKHggPT4gbmV3IENoYXB0ZXIoeC50ZXh0KGZhbHNlKSwgeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5hdHRyKCJocmVmIikudXJsKCkpKTsNCiAgICAgICAgICAgIHZhciBub3ZlbFJldmlld3MgPSBuZXcgTm92ZWxSZXZpZXdzKCk7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICB2YXIgaW5mb3MgPSBjb250YWluZXIuZmluZCgiLnRydXllbl9pbmZvX3JpZ2h0IGxpIikNCg0KDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBub3ZlbFJldmlld3MuZ2VucmVzID0gaW5mb3MuZXEoMikuZmluZCgiYSIpLnRleHRBcnJheSgpOw0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbm92ZWxSZXZpZXdzLmF1dGhvciA9IGluZm9zLmVxKDEpLmZpbmQoImEiKS50ZXh0KCk7DQogICAgICAgICAgICBub3ZlbFJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mlld3MudXZvdGVzID0gaW5mb3MuZXEoNikudGV4dChmYWxzZSk7DQogICAgICAgICAgICBub3ZlbFJldmlld3MuZGVzY3JpcHRpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU024gPSBpbmZvcy5zZWxlY3QoIiNub2lkdW5nbSIpLnRleHQoZmFsc2UpOw0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLmNvbXBsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRlZCA9IGluZm9zLmVxKDMpLnNlbGVjdCgiYSIpLnRleHQoZmFsc2UpID09PSAiQ29tcGxldGVkIiA/ICJTdGF0dXM6Q29tcGxldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVkIiA6ICJTdGF0dXM6T25nb2luZyI7DQoNCiAgICAgICAgICAgIHJldHVybiBuZXcgRGV0YWxpSXRlbSgNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBjb250YWluZXIuc2VsZWN0KCIuaW5mb19pbWFnZSBpbWciKS5hdHRyKCJzcmMiKS51cmwoKSwNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBjb250YWluZXIuc2VsZWN0KCcudHJ1eWVuX2luZm9fcmlnaHQgaDEnKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgICBjbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0250YWluZXIuc2VsZWN0KCcjbm9pZHVuZ20nKS5jbGVhbklubmVySFRNTCgpLA0KICAgICAgICAgICAgICAgIG5vdmVsVXJsLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgIGNoYXB0ZXJzLnJldmVyc2UoKSwNCiAgICAgICAgICAgICAgICBub3ZlbFJldmlld3MsDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgdGhpcy5uYW1lLA0KICAgICAgICAgICAgICAgIHVuZGVmaW5lZCwNCiAgICAgICAgICAgICk7DQogICAgICAgIH0sDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QoNCg0KICAgICAgICBnZXRDaGFwdGVyOiBhc3luYyBmdW5jdGlvbiAodXJsKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5jbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVhbmVyLmNsZWFuQ2hhcHRlcih0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Eh0bWwodXJsKSkuc2VsZWN0KCIudnVuZ19kb2MiKSwgdGhpcy5uYW1lKTsNCiAgICAgICAgfSwNCg0KICAgICAgICBsYXRlc3Q6IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFzeW5jIGZ1bmN0aW9uIChwYWdlKSB7DQogICAgICAgICAgICB2YXIgdXJsID0gdGhpcy5sYXRlc3RVcmwucmVwbGFjZSgie3B9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iwgcGFnZS50b1N0cmluZygpKTsNCiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwodXJsKSk7DQogICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBjb250YWluZXIuZmluZCgiLnVwZGF0ZV9pdGVtIikuZm9yRWFjaCh4ID0+IHsNCiAgICAgICAgICAgICAgICByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XN1bHQucHVzaChuZXcgTGlnaHRJdGVtKHguc2VsZWN0KCJpbWciKS5hdHRyKCJzcmMiKS51cmwoKSwNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgeC5zZWxlY3QoImltZyIpLmF0dHIoInRpdGxlIikudGV4dChmYWxzZSksDQogICAgICAgICAgICAgICAgICAgICIiLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICB4LnNlbGVjdCgiYSIpLmF0dHIoImhyZWYiKS51cmwoKSwNCiAgICAgICAgICAgICAgICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ghpcy5uYW1lKSk7DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICAgICAgfQ0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0H0NCiAgICByZXR1cm4gbmV3IFBhcnNlcigpOw0KfQ==&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KDQoNCiAgICBmdW5jdGlvbiBQYXJzZXIoKSB7DQoNCg0KICAgICAgICB0aGlzLmlkID0gIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0jEubm92ZWxzdG9kYXkiOw0KICAgICAgICB0aGlzLmRldGFsaUl0ZW1UeXBlID0gRGV0YWxpSXRlbVR5cGUuTm92ZWw7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHRoaXMucGFyc2VyTGFuZ3VhZ2UgPSAiZW4iOw0KICAgICAgICB0aGlzLm5hbWUgPSAnTm92ZWxTdG9kYXknOw0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB0aGlzLmRpc3BsYXlOYW1lID0gIk5vdmVsLVN0IjsNCiAgICAgICAgdGhpcy5sYXRlc3RVcmwgPSAnaHR0cHM6Ly9ub3ZlbHN0bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02RheS5jb20vbmV3LXJlbGVhc2VzP3BhZ2U9e3B9JzsNCiAgICAgICAgdGhpcy51cmwgPSAnaHR0cHM6Ly9ub3ZlbHN0b2RheS5jbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU020nOw0KICAgICAgICB0aGlzLnNlYXJjaFVybCA9ICdodHRwczovL25vdmVsc3RvZGF5LmNvbS9zZWFyY2g/cT17cX0mcGFnZT17cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0H0nOw0KICAgICAgICB0aGlzLmdlbnJlc1VybCA9ICdodHRwczovL25vdmVsc3RvZGF5LmNvbS9nZW5yZS97Z30/cGFnZT17cH0nDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIHRoaXMucGFuaW5hdGlvbiA9IHRydWU7DQogICAgICAgIHRoaXMuc2VhcmNoUGFnaW5hdGlvbiA9IHRydWU7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHRoaXMuaWNvbiA9ICdodHRwczovL25vdmVsc3RvZGF5LmNvbS9pbWcvaWNvL2Zhdmljb24tMTZ4MTYucG5nJzsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgdGhpcy5wYXJzZXJTZWFyY2hTZXR0aW5ncyA9IG5ldyBQYXJzZXJTZWFyY2hTZXR0aW5ncygpOw0KICAgICAgICB0aGlzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVuYWJsZU5vdmVsRG93bmxvYWRzPSB0cnVlOw0KICAgICAgICB0aGlzLnBhcnNlclNlYXJjaFNldHRpbmdzLmdlbnJlcyA9IHsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIG11bHRpU2VsZWN0aW9uOiBmYWxzZSwNCiAgICAgICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBsYWJlbFZhbHVlKCdBZHZlbnR1cmUnLCAiYWR2ZW50dXJlIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU00NsYXNzaWMnLCAiY2xhc3NpYyIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdCaWxsaW9uYWlyZScsICJiaWxsaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W9uYWlyZSIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdDaHJpc3RpYW4nLCAiY2hyaXN0aWFuIiksDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0ZhbnRhc3knLCAiZmFudGFzeSIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FZhbHVlKCdIaXN0b3JpY2FsJywgImhpc3RvcmljYWwiKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnSG9ycm9yJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ywgImhvcnJvciIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdNeXN0ZXJ5JywgIm15c3RlcnkiKSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTmV3IEFkdWx0JywgIm5ldy1hZHVsdCIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJlbFZhbHVlKCdSb21hbmNlJywgInJvbWFuY2UiKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU2NpZW5jZSBGaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0aW9uJywgInNjaWVuY2UtZmljdGlvbiIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdUaHJpbGxlcicsICJ0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJpbGxlciIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdZb3VuZyBBZHVsdCcsICJ5b3VuZy1hZHVsdCIpLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgXSwNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLmNsZWFuZXIgPSBwbHVnaW5zLmZpbmQoeCA9PiB4Lm5hbWUgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0T0gIkNsZWFuZXIiKTsNCiAgICB9DQoNCiAgICBQYXJzZXIucHJvdG90eXBlID0gew0KICAgICAgICBnZXRTZWN0aW9uczogZnVuYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03Rpb24gKGtleXMpIHsNCiAgICAgICAgICAgIHZhciBzZWN0aW9ucyA9IFsNCiAgICAgICAgICAgICAgICBuZXcgU2VjdGlvbigibMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF0ZXN0IiwgIkxhdGVzdCBVcGRhdGUiLCAiTGF0ZXN0IiwgdHJ1ZSksDQogICAgICAgICAgICAgICAgbmV3IFNlY3Rpb24oImJpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Gxpb25haXJlIiwgIkJpbGxpb25haXJlIE5vdmVsIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKFsiYmlsbGlvbmFpcmUiXMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SkpLA0KICAgICAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJuZXctYWR1bHQiLCAiTmV3IEFkdWx0IE5vdmVsIiwgIlNlYXJjaCIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GZhbHNlLCBuZXcgRmlsdGVyKFsibmV3LWFkdWx0Il0pKSwNCiAgICAgICAgICAgICAgICBuZXcgU2VjdGlvbigicm9tYW5jZSIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJSb21hbmNlIFBvcHVsYXIiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIoWyJyb21hbmNlIl0pKQ0KICAgICAgICAgICAgXMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Q0KDQogICAgICAgICAgICByZXR1cm4gc2VjdGlvbnMuZmlsdGVyKHggPT4gIWtleXMgfHwga2V5cy5pbmNsdWRlcyh4Lm5hbWUpKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TsNCiAgICAgICAgfSwNCg0KICAgICAgICB0cmFuc2xhdGVTZWN0aW9uOiBhc3luYyBmdW5jdGlvbiAoc2VjdGlvbiwgcGFnZSkgeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICAgICAgaWYgKHNlY3Rpb24uaWRlbnRpZmllciA9PSAiTGF0ZXN0IikNCiAgICAgICAgICAgICAgICByZXR1cm4gYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XdhaXQgdGhpcy5sYXRlc3QocGFnZSk7DQogICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMuc2VhcmNoKHNlY3Rpb24uZmlsdGVyIHx8IHRoaXMuZGVmYXVsdEZpbHRlcigpLCBwYWdlKTsNCiAgICAgICAgfSwNCg0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBkZWZhdWx0RmlsdGVyOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICByZXR1cm4gbmV3IEZpbHRlcigpOw0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB9LA0KDQogICAgICAgIHNlYXJjaDogYXN5bmMgZnVuY3Rpb24gKGZpbHRlciwgcGFnZSkgew0KICAgICAgICAgICAgbGV0IHVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CA9IHRoaXMuc2VhcmNoVXJsLnJlcGxhY2UoIntwfSIsIHBhZ2UpLnJlcGxhY2UoIntxfSIsIGZpbHRlci50aXRsZSk7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBpZiAoZmlsdGVyLmdlbnJlcyAmJiBmaWx0ZXIuZ2VucmVzLmxlbmd0aCA+IDApDQogICAgICAgICAgICAgICAgdXJsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0gdGhpcy5nZW5yZXNVcmwucmVwbGFjZSgie3B9IiwgcGFnZSkucmVwbGFjZSgie2d9IiwgZmlsdGVyLmdlbnJlcy5sYXN0KCkpOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMucGFyc2VyLmpxKGF3YWl0IHRoaXMuY2xlYW5lci5nZXRDbGllbnQodMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ghpcy5pZCkuZ2V0SHRtbCh1cmwpKTsNCiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTsNCiAgICAgICAgICAgIGNvbnRhaW5lcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5maW5kKCcudGFibGUudGFidHJ1eWVuIHRyJykuZm9yRWFjaCgoeCkgPT4gew0KICAgICAgICAgICAgICAgIGlmICh4LnNlbGVjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CgnaW1nJykuYXR0cigic3JjIikuaGFzVmFsdWUoKSkNCiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICBuZXcgTGlnaHRJdGVtKHguc2VsZWN0KCJpbWciKS5hdHRyKCJzcmMiKS51cmwoKSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICB4LnNlbGVjdCgnaDMgYScpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICcnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHguc2VsZWN0KCdoMyBhJykuYXR0cigiaHJlZiIpLnVybCgpLCB0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlzLm5hbWUNCiAgICAgICAgICAgICAgICAgICAgICAgICksDQogICAgICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICB9KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TsNCg0KICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICAgICAgfSwNCg0KICAgICAgICBnZXRDaGFwdGVyczogYXN5bmMgZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nVuY3Rpb24gKHVybCkgew0KICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHt9Ow0KICAgICAgICAgICAgdmFyIHBhZ2UgPSAxOw0KDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICB3aGlsZSAodHJ1ZSkgew0KDQogICAgICAgICAgICAgICAgdmFyIHBVcmwgPSB1cmwgKyAiP3A9e3BhZ2V9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02NoYXB0ZXJMaXN0IjsNCiAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IHRoaXMucGFyc2VyLnJlbmRlckNvdW50ZXJDYWxscyhwYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WdlLCBwVXJsKTsNCiAgICAgICAgICAgICAgICBwYWdlID0gaXRlbS5wYWdlOw0KICAgICAgICAgICAgICAgIHZhciB2YWx1ZXMgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SBhd2FpdCBQcm9taXNlLmFsbChpdGVtLnByb21pc2VzKTsNCiAgICAgICAgICAgICAgICB2YXIgYnJlYWtJdCA9IGZhbHNlOw0KDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgdmFsdWVzLmZvckVhY2goeCA9PiB7DQogICAgICAgICAgICAgICAgICAgIGlmICghYnJlYWtJdCkgeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW1zID0gdGhpcy5wYXJzZXIuanEoeCkuZmluZCgiI2NoYXB0ZXItbGlzdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBhIik7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWl0ZW1zLmhhc0VsZW1lbnRzKCkpIHsNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICBicmVha0l0ID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgdmFyIHJlc3VsdEEgPSBpdGVtcy5yZWR1Y2UoKGFyciwgeCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIGFyclt4LnRleHQoKSArIHguYXR0cigiaHJlZiIpLnVybCgpXSA9IG5ldyBDaGFwdGVyKHgudGV4dChmYWxzZSksIHguYXR0cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0igiaHJlZiIpLnVybCgpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHt9KTsNCg0KICAgICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgaWYgKHRoaXMucGFyc2VyLnZhbGlkYXRlQ2hhcHRlcnMocmVzdWx0QSwgcmVzdWx0KSA9PSBmYWxzZSkgew0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgIGJyZWFrSXQgPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB9DQoNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIGlmIChicmVha0l0KQ0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBicmVhazsNCg0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXMocmVzdWx0KTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgfSwNCg0KICAgICAgICBnZXROb3ZlbDogYXN5bmMgZnVuY3Rpb24gKG5vdmVsVXJsKSB7DQogICAgICAgICAgICB2YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIgY29udGFpbmVyID0gdGhpcy5wYXJzZXIuanEoYXdhaXQgdGhpcy5jbGVhbmVyLmdldENsaWVudCh0aGlzLmlkKS5nZXRIdG1sKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5vdmVsVXJsKSk7DQogICAgICAgICAgICB2YXIgY2hhcHRlcnMgPSBhd2FpdCB0aGlzLmdldENoYXB0ZXJzKG5vdmVsVXJsKTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIHZhciBub3ZlbFJldmlld3MgPSBuZXcgTm92ZWxSZXZpZXdzKCk7DQogICAgICAgICAgICBub3ZlbFJldmlldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03MuZ2VucmVzID0gY29udGFpbmVyLmZpbmQoIltpdGVtcHJvcD0nZ2VucmUnXSIpLm1hcCh4ID0+IHguYXR0cigiY29udGVudCIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRleHQoKS5zcGxpdCgiLyIpLmxhc3QoKSk7DQogICAgICAgICAgICBub3ZlbFJldmlld3MuYXV0aG9yID0gY29udGFpbmVyLnNlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVjdCgiW2l0ZW1wcm9wPSdhdXRob3InXSBbaXRlbXByb3A9J25hbWUnXSIpLmF0dHIoImNvbnRlbnQiKS50ZXh0KCk7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBub3ZlbFJldmlld3MudXZvdGVzID0gY29udGFpbmVyLnNlbGVjdCgiLnJhdGUgI3JhdGVWYWwiKS5hdHRyKCJ2YWx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SIpLnRleHQoKSArICIgLyAxMCI7DQogICAgICAgICAgICBub3ZlbFJldmlld3MuY29tcGxldGVkID0gIlN0YXR1czp1bmtub3duIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0jsNCg0KICAgICAgICAgICAgcmV0dXJuIG5ldyBEZXRhbGlJdGVtKA0KICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5ib29rIGltZycpLmF0dHIoInNyYyIpLnVybCgpLA0KICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoIi5oMXRydXllbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iIpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoJy5kZXNjcmlwdGlvbicpLmNsZWFuSW5uZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJIVE1MKCksDQogICAgICAgICAgICAgICAgbm92ZWxVcmwsDQogICAgICAgICAgICAgICAgY2hhcHRlcnMsDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbm92ZWxSZXZpZXdzLA0KICAgICAgICAgICAgICAgIHRoaXMubmFtZSwNCiAgICAgICAgICAgICAgICB1bmRlZmluZWQsDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICApOw0KICAgICAgICB9LA0KDQogICAgICAgIGdldENoYXB0ZXI6IGFzeW5jIGZ1bmN0aW9uICh1cmwpIHsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIHJldHVybiB0aGlzLmNsZWFuZXIuY2xlYW5DaGFwdGVyKHRoaXMucGFyc2VyLmpxKGF3YWl0IHRoaXMuY2xlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5lci5nZXRDbGllbnQodGhpcy5pZCkuZ2V0SHRtbCh1cmwpKS5zZWxlY3QoJy5jaGFwdGVyQ29udGVudCcpLCB0aGlzLm5hbWUpOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICB9LA0KDQogICAgICAgIGxhdGVzdDogYXN5bmMgZnVuY3Rpb24gKHBhZ2UpIHsNCiAgICAgICAgICAgIHZhciB1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mwgPSB0aGlzLmxhdGVzdFVybC5yZXBsYWNlKCd7cH0nLCBwYWdlLnRvU3RyaW5nKCkpOw0KICAgICAgICAgICAgdmFyIGNvbnRhaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5lciA9IHRoaXMucGFyc2VyLmpxKGF3YWl0IHRoaXMuY2xlYW5lci5nZXRDbGllbnQodGhpcy5pZCkuZ2V0SHRtbCh1cmwpKTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTsNCiAgICAgICAgICAgIGNvbnRhaW5lci5maW5kKCcudGFibGUudGFidHJ1eWVuIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRyJykuZm9yRWFjaCgoeCkgPT4gew0KICAgICAgICAgICAgICAgIGlmICh4LnNlbGVjdCgnaW1nJykuYXR0cigic3JjIikuaGFzVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoKSkNCiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goDQogICAgICAgICAgICAgICAgICAgICAgICBuZXcgTGlnaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRJdGVtKHguc2VsZWN0KCJpbWciKS5hdHRyKCJzcmMiKS51cmwoKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4LnNlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVjdCgnaDMgYScpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICcnLA0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIHguc2VsZWN0KCdoMyBhJykuYXR0cigiaHJlZiIpLnVybCgpLCB0aGlzLm5hbWUNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICksDQogICAgICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgcmV0dXJuIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJlc3VsdDsNCiAgICAgICAgfQ0KICAgIH0NCg0KDQoNCiAgICByZXR1cm4gbmV3IFBhcnNlcigpOw0KDQp9Ow==&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KDQogICAgZnVuY3Rpb24gUGFyc2VyKCkgew0KICAgICAgICB0aGlzLmlkID0gIjEucmFubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02Jlc25ldCI7DQogICAgICAgIHRoaXMucGFyc2VyTGFuZ3VhZ2UgPSAiZW4iOw0KICAgICAgICB0aGlzLm5hbWUgPSAnUmFub2JlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU005ldCc7DQogICAgICAgIHRoaXMuZGlzcGxheU5hbWUgPSAiUmJlc05ldCI7DQogICAgICAgIHRoaXMuZGV0YWxpSXRlbVR5cGUgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SBEZXRhbGlJdGVtVHlwZS5Ob3ZlbDsNCiAgICAgICAgdGhpcy5sYXRlc3RVcmwgPSAnaHR0cHM6Ly9yYW5vYmVzLm5ldC9ub3ZlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HMvcGFnZS97cH0nOw0KICAgICAgICB0aGlzLnVybCA9ICdodHRwczovL3Jhbm9iZXMubmV0JzsNCiAgICAgICAgdGhpcy5zZWFyYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02hVcmwgPSAnJzsNCiAgICAgICAgdGhpcy5wYW5pbmF0aW9uID0gdHJ1ZTsNCiAgICAgICAgdGhpcy5zZWFyY2hQYWdpbmF0aW9uIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0gdHJ1ZTsNCiAgICAgICAgdGhpcy5pY29uID0gJ2h0dHBzOi8vYm94bm92ZWwuY29tL3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDE4LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0zA0L2JveC1pY29uLTE1MHgxNTAucG5nJzsNCiAgICAgICAgdGhpcy5wYXJzZXJTZWFyY2hTZXR0aW5ncyA9IG5ldyBQYXJzZXJTZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFyY2hTZXR0aW5ncygpOw0KICAgICAgICB0aGlzLnBhcnNlclNlYXJjaFNldHRpbmdzLmdlbnJlcyA9IHsNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G11bHRpU2VsZWN0aW9uOiBmYWxzZSwNCiAgICAgICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgXSwNCiAgICAgICAgfTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0g0KDQogICAgICAgIHRoaXMucGFyc2VyU2VhcmNoU2V0dGluZ3Muc29ydFR5cGVzID0gew0KICAgICAgICAgICAgbXVsdGlTZWxlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03Rpb246IGZhbHNlLA0KICAgICAgICAgICAgdmFsdWVzOiBbDQogICAgICAgICAgICBdLA0KICAgICAgICB9Ow0KDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRoaXMuY2xlYW5lciA9IHBsdWdpbnMuZmluZCh4ID0+IHgubmFtZSA9PSAiQ2xlYW5lciIpOw0KICAgICAgICB0aGlzLnBhZ2VyIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0gcGx1Z2lucy5maW5kKHggPT4geC5uYW1lID09ICJQYWdlciIpOw0KICAgIH0NCg0KICAgIFBhcnNlci5wcm90b3R5cGUgPSB7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIGxvYWRTZXR0aW5nczogYXN5bmMgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgaWYgKHRoaXMucGFyc2VyU2VhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mNoU2V0dGluZ3MuZ2VucmVzLnZhbHVlcy5sZW5ndGggPiAwKQ0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRoaXMuY2xlYW5lci5nZXRDbGllbnQodGhpcy5pZCkuZ2V0SHRtbCgiaHR0cHM6Ly9yYW5vYmVzLm5ldC9nZW5yZXMuaHRtbCIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRoZW4oaHRtbCA9PiB7DQogICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMucGFyc2VyLmpxKGh0bWwpOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIGNvbnRhaW5lci5maW5kKCIuY2F0X2Jsb2NrID4gYSIpLmZvckVhY2goeCA9PiB7DQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHRoaXMucGFyc2VyU2VhcmNoU2V0dGluZ3MuZ2VucmVzLnZhbHVlcy5wdXNoKG5ldyBsYWJlbFZhbHVlKHguc2VsZWN0KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJoMyIpLnRleHQoKSwgeC5hdHRyKCJocmVmIikudXJsKCkgKyAicGFnZS97cH0iKSk7DQogICAgICAgICAgICAgICAgfSk7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCg0KICAgICAgICBnZXRTZWN0aW9uczogZnVuY3Rpb24gKGtleXMpIHsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHZhciBzZWN0aW9ucyA9IFsNCiAgICAgICAgICAgICAgICBuZXcgU2VjdGlvbigibGF0ZXN0IiwgIkxhdGVzdCBVcGRhdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GUiLCAiTGF0ZXN0IiwgdHJ1ZSksDQogICAgICAgICAgICAgICAgbmV3IFNlY3Rpb24oImFjdGlvbiIsICJBY3Rpb24gTm92ZWxzIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKFsiaHR0cHM6Ly9yYW5vYmVzLm5ldC90YWdzL2dlbnJlL0FjdGlvbi9wYWdlLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03twfSJdKSksDQogICAgICAgICAgICAgICAgbmV3IFNlY3Rpb24oImRyYW1hIiwgIkRyYW1hIFZpZXdzIiwgIlNlYXJjaCIsIGZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HNlLCBuZXcgRmlsdGVyKFsiaHR0cHM6Ly9yYW5vYmVzLm5ldC90YWdzL2dlbnJlL0RyYW1hL3BhZ2Uve3B9Il0pKSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgU2VjdGlvbigiam9zZWkiLCAiSm9zZWkgVmlld3MiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIoWMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yJodHRwczovL3Jhbm9iZXMubmV0L3RhZ3MvZ2VucmUvSm9zZWkvcGFnZS97cH0iXSkpDQogICAgICAgICAgICBdDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICByZXR1cm4gc2VjdGlvbnMuZmlsdGVyKHggPT4gIWtleXMgfHwga2V5cy5pbmNsdWRlcyh4Lm5hbWUpKTsNCiAgICAgICAgfMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCg0KICAgICAgICB0cmFuc2xhdGVTZWN0aW9uOiBhc3luYyBmdW5jdGlvbiAoc2VjdGlvbiwgcGFnZSkgew0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgaWYgKHNlY3Rpb24uaWRlbnRpZmllciA9PSAiTGF0ZXN0IikgcmV0dXJuIGF3YWl0IHRoaXMubGF0ZXN0KHBhZ2UpOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgZWxzZSByZXR1cm4gYXdhaXQgdGhpcy5zZWFyY2goc2VjdGlvbi5maWx0ZXIgfHwgdGhpcy5kZWZhdWx0RmlsdGVyKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CksIHBhZ2UpOw0KICAgICAgICB9LA0KDQogICAgICAgIGRlZmF1bHRGaWx0ZXI6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HZhciBmaWx0ZXIgPSBuZXcgRmlsdGVyKCk7DQogICAgICAgICAgICByZXR1cm4gZmlsdGVyOw0KICAgICAgICB9LA0KDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIGdldEJ5R2VucmVzOiBhc3luYyBmdW5jdGlvbiAoZmlsdGVyLCBwYWdlKSB7DQogICAgICAgICAgICB2YXIgdXJsID0gZmlsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVyLmdlbnJlcy5sYXN0KCkucmVwbGFjZSgie3B9IiwgcGFnZSk7DQoNCiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwodXJsKSk7DQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB2YXIgcmVzdWx0ID0gW107DQogICAgICAgICAgICBjb250YWluZXIuZmluZCgnYXJ0aWNsZScpLmZvckVhY2goKHgpID0+IHsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICB2YXIgaW1nID0gdGhpcy5nZXRJbWFnZUJ5U3R5bGUoeC5zZWxlY3QoIi5jb3ZlciIpLmF0dHIoInN0eMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxlIikudGV4dChmYWxzZSkpOw0KICAgICAgICAgICAgICAgIGlmIChpbWcpDQogICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XNoKG5ldyBMaWdodEl0ZW0oaW1nLCB4LnNlbGVjdCgnLnRpdGxlIGEnKS5yZW1vdmUoInNwYW4iKS50ZXh0KGZhbHNlKSwgJycsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Hguc2VsZWN0KCcudGl0bGUgYScpLmF0dHIoImhyZWYiKS51cmwoKSwgdGhpcy5uYW1lKSk7DQogICAgICAgICAgICB9KTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgICAgIH0sDQoNCiAgICAgICAgc2VhcmNoOiBhc3luYyBmdW5jdGlvbiAoZmlsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVyLCBwYWdlKSB7DQoNCiAgICAgICAgICAgIHZhciB1cmwgPSBgaHR0cHM6Ly9yYW5vYmVzLm5ldC9pbmRleC5waHA/ZG89c2VhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mNoYA0KICAgICAgICAgICAgaWYgKGZpbHRlci5nZW5yZXMgJiYgZmlsdGVyLmdlbnJlcy5sZW5ndGggPiAwKSB7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0QnlHZW5yZXMoZmlsdGVyLCBwYWdlKTsNCiAgICAgICAgICAgIH0NCg0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMucGFyc2VyLmpxKGF3YWl0IHRoaXMuY2xlYW5lci5nZXRDbGllbnQodGhpcy5pZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CkucG9zdEVuY29kZWRGb3JtKHVybCwgew0KICAgICAgICAgICAgICAgIHN1YmFjdGlvbjogInNlYXJjaCIsDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgc2VhcmNoX3N0YXJ0OiBwYWdlLA0KICAgICAgICAgICAgICAgIGZ1bGxfc2VhcmNoOiAxLA0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJlc3VsdF9mcm9tOiAyMSwNCiAgICAgICAgICAgICAgICBzdG9yeTogZmlsdGVyLnRpdGxlLA0KICAgICAgICAgICAgICAgICJjYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRsaXN0W10iOiAxLA0KICAgICAgICAgICAgICAgIHRpdGxlb25seTogMywNCiAgICAgICAgICAgICAgICBzb3J0Ynk6ICJ0aXRsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SIsDQogICAgICAgICAgICAgICAgcmVzb3JkZXI6ICJkZXNjIiwNCiAgICAgICAgICAgICAgICBzZWFyY2hkYXRlOiAwLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIGJlZm9yZWFmdGVyOiAiYWZ0ZXIiLA0KICAgICAgICAgICAgICAgIHNob3dwb3N0czogMA0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgfSkpOw0KICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICAgICAgY29udGFpbmVyLmZpbmQoJ2FydGljbGUnKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S5mb3JFYWNoKCh4KSA9PiB7DQogICAgICAgICAgICAgICAgdmFyIGltZyA9IHRoaXMuZ2V0SW1hZ2VCeVN0eWxlKHguc2VsZWN0KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIuY292ZXIiKS5hdHRyKCJzdHlsZSIpLnRleHQoZmFsc2UpKTsNCiAgICAgICAgICAgICAgICBpZiAoaW1nKQ0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICByZXN1bHQucHVzaChuZXcgTGlnaHRJdGVtKGltZywgeC5zZWxlY3QoJy50aXRsZSBhJykucmVtb3ZlKCJzcGFuIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ikudGV4dChmYWxzZSksICcnLCB4LnNlbGVjdCgnLnRpdGxlIGEnKS5hdHRyKCJocmVmIikudXJsKCksIHRoaXMubmFtZSkpOw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgfSk7DQogICAgICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgICAgICB9LA0KDQogICAgICAgIGdldENoYXB0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJzOiBhc3luYyBmdW5jdGlvbiAobm92ZWxVcmwpIHsNCiAgICAgICAgICAgIHZhciByZXN1bHQgPSB7fTsNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRyeSB7DQoNCiAgICAgICAgICAgICAgICBub3ZlbFVybCA9IG5vdmVsVXJsLnJlcGxhY2UoL1wvZmlyc3QvZywgIiIpOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIHZhciBwVXJsID0gKCIvcGFnZS97cGFnZX0iKS51cmkobm92ZWxVcmwpOw0KICAgICAgICAgICAgICAgIHZhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iBpdGVtID0gYXdhaXQgdGhpcy5wYWdlci5yZW5kZXJDb3VudGVyQ2FsbHMocFVybCwgKHgpID0+IHsNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgdmFyIG1hdGNoID0geC5tYXRjaCgvd2luZG93Ll9fREFUQV9fLipcfS9nKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G1hdGNoICYmIG1hdGNoLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ShtYXRjaFswXS50b1N0cmluZygpLnJlcGxhY2UoL3dpbmRvdy5fX0RBVEFfX3w9L2csICIiKS5yZXBsYWNlKC86LC8sICI6bnVsbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CwiKS50cmltKCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoIWpzb24gfHwganNvbi5jb3VudF9hbGwgPT09IHVuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVmaW5lZCB8fCBqc29uLmxpbWl0ID09PSB1bmRlZmluZWQpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0E1hdGguY2VpbChqc29uLmNvdW50X2FsbCAvIGpzb24ubGltaXQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHJldHVybiAxOw0KICAgICAgICAgICAgICAgIH0sIHRydWUpOw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBhd2FpdCBQcm9taXNlLmFsbChpdGVtLnByb21pc2VzKTsNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB2YXIgYnJlYWtJdCA9IGZhbHNlOw0KDQogICAgICAgICAgICAgICAgdmFsdWVzLmZvckVhY2goeCA9PiB7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWJyZWFrSXQpIHsNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICB2YXIgaHRtbCA9IHg7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoID0gaHRtbC5tYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRjaCgvd2luZG93Ll9fREFUQV9fLipcfS9nKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2ggJiYgbWF0YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02gubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UobWF0YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02hbMF0udG9TdHJpbmcoKS5yZXBsYWNlKC93aW5kb3cuX19EQVRBX198PS9nLCAiIikucmVwbGFjZSgvOiwvLCAiOm51bGwsIikudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJpbSgpKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISghanNvbiB8fCAhanNvbi5jaGFwdGVycyB8fMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBqc29uLmNoYXB0ZXJzLmxlbmd0aCA8PSAwKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03VsdEEgPSBqc29uLmNoYXB0ZXJzLnJlZHVjZSgoYXJyLCB4KSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgYXJyW3guaWRdID0gbmV3IENoYXB0ZXIoeC50aXRsZSwgKCIvcmVhZC0iICsgeC5pZCArICIuaHRtbCIpLnVyaSh0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlzLnVybCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcnI7DQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7fSk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ch0aGlzLnBhcnNlci52YWxpZGF0ZUNoYXB0ZXJzKHJlc3VsdEEsIHJlc3VsdCkgPT0gZmFsc2UpIHsNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICAgICAgICBicmVha0l0ID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGJyZWFrSXQgPSB0cnVlOw0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgIH0gZWxzZSBicmVha0l0ID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KQ0KDQogICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXMocMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVzdWx0KTsNCiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKQ0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKHJlc3VsdCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GdldE5vdmVsOiBhc3luYyBmdW5jdGlvbiAobm92ZWxVcmwpIHsNCiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLnBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwobm92ZWxVcmwpKTsNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHZhciBjaGFwdGVycyA9IGF3YWl0IHRoaXMuZ2V0Q2hhcHRlcnMoY29udGFpbmVyLnNlbGVjdCgiLnItZnVsbHN0b3J5LWNoYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XB0ZXJzLWZvb3QgPmEiKS5sYXN0KCkuYXR0cigiaHJlZiIpLnVybCgpKTsNCiAgICAgICAgICAgIHZhciBpdGVtID0gbmV3IE5vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsUmV2aWV3cygpOw0KICAgICAgICAgICAgaXRlbS5nZW5yZXMgPSBjb250YWluZXIuZmluZCgiLmxpbmtzW2l0ZW1wcm9wPSdnZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5yZSddIGEiKS50ZXh0QXJyYXkoKTsNCiAgICAgICAgICAgIGl0ZW0uYXV0aG9yID0gY29udGFpbmVyLmZpbmQoInNwYW5baXRlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XByb3A9J2NyZWF0b3InXSIpLnRleHQoZmFsc2UpDQogICAgICAgICAgICBpdGVtLmNvbXBsZXRlZCA9ICJTdGF0dXM6IiArIGNvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRhaW5lci5maW5kKCIuci1mdWxsc3Rvcnktc3BlYyB1bCBsaSIpLmVxKDApLnNlbGVjdCgiYSIpLnRleHQoZmFsc2UpDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBpdGVtLnV2b3RlcyA9ICJSYXRpbmc6IiArIGNvbnRhaW5lci5zZWxlY3QoIi5yYXRlLXN0YXQtbnVtIHNwYW5baXRlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XByb3A9J3JhdGluZ1ZhbHVlJ10iKS50ZXh0KGZhbHNlKSArICIvNSI7DQogICAgICAgICAgICB2YXIgdGl0bGUgPSAiIjsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIGlmIChjb250YWluZXIuc2VsZWN0KCJoMS50aXRsZSIpLnNlbGVjdCgiW2l0ZW1wcm9wPSduYW1lJ10iKS5oYXNFbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVtZW50KCkpDQogICAgICAgICAgICAgICAgdGl0bGUgPSBjb250YWluZXIuc2VsZWN0KCJoMS50aXRsZSIpLnNlbGVjdCgiW2l0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W1wcm9wPSduYW1lJ10iKS50ZXh0KGZhbHNlKTsNCiAgICAgICAgICAgIGVsc2UgdGl0bGUgPSBjb250YWluZXIuc2VsZWN0KCJoMMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S50aXRsZSIpLnJlbW92ZSgic3BhbiIpLnRleHQoZmFsc2UpDQogICAgICAgICAgICB2YXIgckl0ZW0gPSBuZXcgRGV0YWxpSXRlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Sh0aGlzLmdldEltYWdlQnlTdHlsZShjb250YWluZXIuc2VsZWN0KCIuY292ZXIiKS5hdHRyKCJzdHlsZSIpLnRleHQoZmFsc2UpKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwgdGl0bGUsIGNvbnRhaW5lci5zZWxlY3QoIltpdGVtcHJvcD0nZGVzY3JpcHRpb24nXSIpLmNsZWFuSW5uZXJIVE1MKCksIG5vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsVXJsLCBjaGFwdGVycywgaXRlbSwgdGhpcy5uYW1lLCB1bmRlZmluZWQpOw0KICAgICAgICAgICAgcmV0dXJuIHJJdGVtOw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB9LA0KICAgICAgICBnZXRDaGFwdGVyOiBhc3luYyBmdW5jdGlvbiAodXJsKSB7DQogICAgICAgICAgICByZXR1cm4gdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ghpcy5jbGVhbmVyLmNsZWFuQ2hhcHRlcih0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WQpLmdldEh0bWwodXJsKSkuc2VsZWN0KCcjYXJydGljbGUnKSwgdGhpcy5uYW1lKTsNCiAgICAgICAgfSwNCiAgICAgICAgZ2V0SMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W1hZ2VCeVN0eWxlOiBmdW5jdGlvbiAoc3R5bGUpIHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgdmFyIG1hdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GNoID0gc3R5bGUubWF0Y2goL3VybFwoLipcKS9nKTsNCg0KICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaCAmJiBtYXRjaC5sZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5ndGggPiAwID8gbWF0Y2hbMF0udG9TdHJpbmcoKS5yZXBsYWNlKC91cmx8XCh8XCkvZywgIiIpLnVyaSh0aGlzLnVybCkgOiB1bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mRlZmluZWQ7DQogICAgICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgbGF0ZXN0OiBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03luYyBmdW5jdGlvbiAocGFnZSkgew0KICAgICAgICAgICAgdmFyIHVybCA9IHRoaXMubGF0ZXN0VXJsLnJlcGxhY2UoJ3twfScsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HBhZ2UudG9TdHJpbmcoKSk7DQogICAgICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5wYXJzZXIuanEoYXdhaXQgdGhpcy5jbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVhbmVyLmdldENsaWVudCh0aGlzLmlkKS5nZXRIdG1sKHVybCkpOw0KICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgY29udGFpbmVyLmZpbmQoJ2FydGljbGUnKS5mb3JFYWNoKCh4KSA9PiB7DQogICAgICAgICAgICAgICAgdmFyIGltZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yA9IHRoaXMuZ2V0SW1hZ2VCeVN0eWxlKHguc2VsZWN0KCIuY292ZXIiKS5hdHRyKCJzdHlsZSIpLnRleHQoZmFsc2UpKTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICBpZiAoaW1nKQ0KICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZXcgTGlnaHRJdGVtKGltZywgeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5zZWxlY3QoJy50aXRsZSBhJykucmVtb3ZlKCJzcGFuIikudGV4dChmYWxzZSksICcnLCB4LnNlbGVjdCgnLnRpdGxlIGEnKS5hdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRyKCJocmVmIikudXJsKCksIHRoaXMubmFtZSkpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICByZXR1cm4gcmVzdWx0OMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICB9DQogICAgfQ0KDQogICAgcmV0dXJuIG5ldyBQYXJzZXIoKTsNCn07DQo=&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KDQoNCiAgICBmdW5jdGlvbiBQYXJzZXIoKSB7DQogICAgICAgIHRoaXMuY2xlYW5lciA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HBsdWdpbnMuZmluZCh4ID0+IHgubmFtZSA9PSAiQ2xlYW5lciIpOw0KICAgICAgICB0aGlzLmlkID0gIjEucmVhZGxpZ2h0bm92ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WwiOw0KICAgICAgICB0aGlzLmRldGFsaUl0ZW1UeXBlID0gRGV0YWxpSXRlbVR5cGUuTm92ZWw7DQogICAgICAgIHRoaXMucGFycMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VyTGFuZ3VhZ2UgPSAiZW4iOw0KICAgICAgICB0aGlzLm5hbWUgPSAnUmVhZExpZ2h0Tm92ZWwnOw0KICAgICAgICB0aGlzLmRpcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03BsYXlOYW1lID0gIlItTm92ZWwtTGlnaHQiOw0KICAgICAgICB0aGlzLmxhdGVzdFVybCA9ICdodHRwczovL3d3dy5yZWFkbGlnaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRub3ZlbC5jYyc7DQogICAgICAgIHRoaXMudXJsID0gJ2h0dHBzOi8vd3d3LnJlYWRsaWdodG5vdmVsLmNjLyc7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRoaXMuc2VhcmNoVXJsID0gJ2h0dHBzOi8vd3d3LnJlYWRsaWdodG5vdmVsLmNjL3NlYXJjaC97cX0ve3B9JzsNCiAgICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ghpcy5wYW5pbmF0aW9uID0gZmFsc2U7DQogICAgICAgIHRoaXMuc2VhcmNoUGFnaW5hdGlvbiA9IHRydWU7DQogICAgICAgIHRoaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMuaWNvbiA9ICdodHRwczovL3d3dy5nb29nbGUuY29tL3MyL2Zhdmljb25zP2RvbWFpbj1odHRwczovL3d3dy5yZWFkbGlnaHRubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03ZlbC5jYy8nOw0KICAgICAgICB0aGlzLmVuYWJsZU5vdmVsRG93bmxvYWRzPSB0cnVlOw0KICAgICAgICB0aGlzLnBhcnNlclNlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJjaFNldHRpbmdzID0gbmV3IFBhcnNlclNlYXJjaFNldHRpbmdzKCk7DQogICAgICAgIHRoaXMucGFyc2VyU2VhcmNoU2V0dGluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03MuZ2VucmVzID0gew0KICAgICAgICAgICAgbXVsdGlTZWxlY3Rpb246IGZhbHNlLA0KICAgICAgICAgICAgdmFsdWVzOiBbDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0FueScsIDApLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdGYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W50YXN5JywgMSksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1hpYW54aWEnLCAyKSwNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBuZXcgbGFiZWxWYWx1ZSgnUm9tYW50aWMnLCAzKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnSGlzdG9yaWNhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CcsIDQpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTY2ktZmknLCA1KSwNCiAgICAgICAgICAgICAgICBuZXcgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFiZWxWYWx1ZSgnR2FtZScsIDYpLA0KICAgICAgICAgICAgXSwNCiAgICAgICAgfTsNCiAgICB9DQoNCiAgICBQYXJzZXIucHJvdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G90eXBlID0gew0KICAgICAgICBnZXRTZWN0aW9uczogYXN5bmMgZnVuY3Rpb24gKGtleXMpIHsNCiAgICAgICAgICAgIHZhciBzZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0aW9ucyA9IFsNCiAgICAgICAgICAgICAgICBuZXcgU2VjdGlvbigibGF0ZXN0IiwgIkxhdGVzdCBVcGRhdGUiLCAiTGF0ZXN0IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iwgdHJ1ZSkNCiAgICAgICAgICAgIF0NCg0KICAgICAgICAgICAgcmV0dXJuIHNlY3Rpb25zLmZpbHRlcih4ID0+ICFrZXlzIHx8IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GtleXMuaW5jbHVkZXMoeC5uYW1lKSk7DQogICAgICAgIH0sDQoNCiAgICAgICAgdHJhbnNsYXRlU2VjdGlvbjogYXN5bmMgZnVuYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03Rpb24gKHNlY3Rpb24sIHBhZ2UpIHsNCiAgICAgICAgICAgIGlmIChzZWN0aW9uLmlkZW50aWZpZXIgPT0gIkxhdGVzdCIpDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMubGF0ZXN0KHBhZ2UpOw0KICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHJldHVybiBhd2FpdCB0aGlzLnNlYXJjaChzZWN0aW9uLmZpbHRlciB8fCB0aGlzLmRlZmF1bHRGaWx0ZXIoKSwgcGFnZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Sk7DQogICAgICAgIH0sDQoNCiAgICAgICAgZGVmYXVsdEZpbHRlcjogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIGZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlciA9IG5ldyBGaWx0ZXIoKTsNCiAgICAgICAgICAgIHJldHVybiBmaWx0ZXI7DQogICAgICAgIH0sDQoNCiAgICAgICAgZ2V0RMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VucmVzU2VhcmNoOiBhc3luYyBmdW5jdGlvbiAoZmlsdGVyLCBwYWdlKSB7DQogICAgICAgICAgICB2YXIgcSA9ICdodHRwczovLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03d3dy5yZWFkbGlnaHRub3ZlbC5jYy9tZW1iZXJhY3Rpb24uYXNweCc7DQogICAgICAgICAgICB2YXIgZiA9IHsNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBhY3Rpb246ICduZXh0Ym9va2NhdGVnb3J5JywNCiAgICAgICAgICAgICAgICBjYXRlZ29yeWlkOiBmaWx0ZXIuZ2VucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVzWzBdLA0KICAgICAgICAgICAgICAgIHBhZ2U6IHBhZ2UsDQogICAgICAgICAgICB9Ow0KDQogICAgICAgICAgICB2YXIganNvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iA9IGF3YWl0IHRoaXMuY2xlYW5lci5nZXRDbGllbnQodGhpcy5pZCkucG9zdEZvcm0ocSwgZik7DQoNCiAgICAgICAgICAgIHJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVybiBqc29uICYmIGpzb24uZGF0YSA/IGpzb24uZGF0YS5tYXAoKHgpID0+DQogICAgICAgICAgICAgICAgbmV3IExpZ2h0SXRlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhbmVyLmltYWdlKHRoaXMudXJsLHguQm9va1Bpbllpbi51cmkodGhpcy5wYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJzZXIudXJsKSArICIvIiwgIi5ib29rLWNvbnRhaW5lciBpbWciKSwNCiAgICAgICAgICAgICAgICAgICAgeC5Cb29rTmFtZSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICAgICAgeC5EZXNjcmlwdGlvbiwNCiAgICAgICAgICAgICAgICAgICAgeC5Cb29rUGluWWluLnVyaSh0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlzLnVybCkgKyAiLyIsDQogICAgICAgICAgICAgICAgICAgIHRoaXMubmFtZQ0KICAgICAgICAgICAgICAgICksDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICApIDoNCiAgICAgICAgICAgICAgICBbXTsNCiAgICAgICAgfSwNCg0KICAgICAgICBzZWFyY2g6IGFzeW5jIGZ1bmN0aW9uIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ChmaWx0ZXIsIHBhZ2UpIHsNCiAgICAgICAgICAgIGlmIChmaWx0ZXIuZ2VucmVzLmxlbmd0aCA+IDApDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0R2VucmVzU2VhcmNoKGZpbHRlciwgcGFnZSk7DQoNCiAgICAgICAgICAgIHZhciBxdWVyeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SA9IHRoaXMuc2VhcmNoVXJsDQogICAgICAgICAgICAgICAgLnJlcGxhY2UoJ3txfScsIGZpbHRlci50aXRsZSB8fCAiIikNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAucmVwbGFjZSgne3B9JywgcGFnZS50b1N0cmluZygpKTsNCiAgICAgICAgICAgIHZhciBjb250YWluZXIgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SB0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwocXVlcnkpKTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIHZhciByZXN1bHQgPSBbXTsNCiAgICAgICAgICAgIGNvbnRhaW5lci5maW5kKCcubGlzdC1pdGVtJykuZm9yRWFjaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ch4ID0+IHsNCiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCgNCiAgICAgICAgICAgICAgICAgICAgbmV3IExpZ2h0SXRlbSgNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICAgICAgICAgIHguc2VsZWN0KCdpbWcnKS5hdHRyKCJzcmMiKS51cmwoKSwNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIHguc2VsZWN0KCdpbWcnKS5hdHRyKCJhbHQgfCB0aXRsZSIpLnRleHQoZmFsc2UpLA0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgJycsDQogICAgICAgICAgICAgICAgICAgICAgICB4LnNlbGVjdCgnLmJvb2stbmFtZScpLmF0dHIoImhyZWYiKS51cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mwoKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmFtZQ0KICAgICAgICAgICAgICAgICAgICApLA0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgICAgIH0sDQoNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgZ2V0Tm92ZWw6IGFzeW5jIGZ1bmN0aW9uIChub3ZlbFVybCwgaWdub3JlQ2hhcHRlcnMpIHsNCiAgICAgICAgICAgIHZhciBjbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0250YWluZXIgPSB0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwobm92ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxVcmwsIGlnbm9yZUNoYXB0ZXJzKSk7DQogICAgICAgICAgICB2YXIgY2hhcHRlcnMgPSBbXTsNCiAgICAgICAgICAgIHZhciBubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03ZlbFJldmlld3MgPSBuZXcgTm92ZWxSZXZpZXdzKCk7DQogICAgICAgICAgICBpZiAoIWlnbm9yZUNoYXB0ZXJzKSB7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgdmFyIGh0bWxDaGFwdGVycyA9IGNvbnRhaW5lci5maW5kKCcuY2hhcHRlci1saXN0IGEnKTsNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBodG1sQ2hhcHRlcnMuZm9yRWFjaCgoeCkgPT4gew0KICAgICAgICAgICAgICAgICAgICBjaGFwdGVycy5wdXNoKA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICAgICAgbmV3IENoYXB0ZXIoeC5zZWxlY3QoJy5jaGFwdGVyLW5hbWUnKS50ZXh0KGZhbHNlKSwgeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5hdHRyKCJocmVmIikudXJsKCkpDQogICAgICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB9DQogICAgICAgICAgICBub3ZlbFJldmlld3MuZ2VucmVzID0gY29udGFpbmVyLmZpbmQoIi5iYXNlLWluZm8gLmJvb2stYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02F0YWxvZyAudHh0IikudGV4dEFycmF5KCk7DQogICAgICAgICAgICBub3ZlbFJldmlld3MuYXV0aG9yID0gY29udGFpbmVyLnNlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVjdCgiLmF1dGhvciAubmFtZSIpLnRleHQoZmFsc2UpOw0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLnV2b3RlcyA9IGNvbnRhaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5lci5zZWxlY3QoIi5zY29yZSIpLnRleHQoZmFsc2UpICsgIiAvIDEwIjsNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cy5jb21wbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GV0ZWQgPSBjb250YWluZXIuc2VsZWN0KCIuYmFzZS1pbmZvIC5ib29rLXN0YXRlIC50eHQiKS50ZXh0KGZhbHNlKSA9PT0gIkNvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XBsZXRlZCIgPyAiU3RhdHVzOkNvbXBsZXRlZCIgOiAiU3RhdHVzOk9uZ29pbmciOw0KICAgICAgICAgICAgcmV0dXJuIG5ldyBEZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRhbGlJdGVtKA0KICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoJy5ib29rLWNvbnRhaW5lciBpbWcnKS5hdHRyKCJzcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mMiKS51cmwoKSwNCiAgICAgICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCcuYm9vay1pbmZvIC5ib29rLW5hbWUnKS50ZXh0KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GZhbHNlKSwNCiAgICAgICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCcuc3lub3BzaXMgLmNvbnRlbnQgLmRlc2MnKS5jbGVhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0klubmVySFRNTCgpLA0KICAgICAgICAgICAgICAgIG5vdmVsVXJsLA0KICAgICAgICAgICAgICAgIGNoYXB0ZXJzLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIG5vdmVsUmV2aWV3cywNCiAgICAgICAgICAgICAgICB0aGlzLm5hbWUsDQogICAgICAgICAgICAgICAgdW5kZWZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVkLA0KICAgICAgICAgICAgKTsNCiAgICAgICAgfSwNCg0KICAgICAgICBnZXRDaGFwdGVyOiBhc3luYyBmdW5jdGlvbiAodXJsKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5jbGVhbmVyLmNsZWFuQ2hhcHRlcih0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mNsZWFuZXIuZ2V0Q2xpZW50KCkuZ2V0SHRtbCh1cmwpKS5zZWxlY3QoJy5yZWFkLWNvbnRhaW5lciAuc2VjdGlvbi1saXN0JyksIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRoaXMubmFtZSk7DQogICAgICAgIH0sDQoNCiAgICAgICAgbGF0ZXN0OiBhc3luYyBmdW5jdGlvbiAocGFnZSkgew0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMucGFyc2VyLmpxKGF3YWl0IHRoaXMuY2xlYW5lci5nZXRDbGllbnQodGhpcy5pZCkuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02V0SHRtbCh0aGlzLmxhdGVzdFVybCkpOw0KICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KDQogICAgICAgICAgICBjb250YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WluZXIuZmluZCgnLnVwZGF0ZS1jb250ZW50JykuZm9yRWFjaCgoeCkgPT4gew0KICAgICAgICAgICAgICAgIHZhciB1ID0geC5zZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxlY3QoJy5pdGVtLXRpdGxlIGEnKS5hdHRyKCJocmVmIikudGV4dChmYWxzZSk7DQogICAgICAgICAgICAgICAgdmFyIHRpdGxlIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0geC5zZWxlY3QoJy5pdGVtLXRpdGxlIGEnKS50ZXh0KGZhbHNlKTsNCiAgICAgICAgICAgICAgICBpZiAodSAhPSAiIiAmJiAhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVzdWx0LmZpbmQoKHgpID0+IHUudXJpKHRoaXMudXJsKSA9PSB4Lm5vdmVsIHx8IHRpdGxlID09IHgudGl0bGUpKQ0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICByZXN1bHQucHVzaCgNCiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBMaWdodEl0ZW0oDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhbmVyLmltYWdlKHRoaXMudXJsLCB1LnVyaSh0aGlzLnVybCkgLCAiLmJvb2stYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029udGFpbmVyIGltZyIpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlLA0KICAgICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICcnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUudXJpKHRoaXMudXJsKSwNCiAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICB0aGlzLm5hbWUNCiAgICAgICAgICAgICAgICAgICAgICAgICksDQogICAgICAgICAgICAgICAgICAgICk7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICByZXR1cm4gbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV3IFBhcnNlcigpOw0KfQ==&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KDQoNCglmdW5jdGlvbiBQYXJzZXIoKSB7DQoJCXRoaXMuY2xlYW5lciA9IHBsdWdpbnMuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mluZCh4ID0+IHgubmFtZSA9PSAiQ2xlYW5lciIpOw0KCQl0aGlzLmlkID0gIjEucmVhZG5vdmVsZnVsbCI7DQoJCXRoaXMucGFycMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VyTGFuZ3VhZ2UgPSAiZW4iOw0KCQl0aGlzLm5hbWUgPSAnUmVhZE5vdmVsRnVsbCc7DQoJCXRoaXMuZGlzcGxheU5hbWUgPSAiUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i1Ob3ZlbC1GdWxseSI7DQoJCXRoaXMuZGV0YWxpSXRlbVR5cGUgPSBEZXRhbGlJdGVtVHlwZS5Ob3ZlbDsNCgkJdGhpcy5sYXRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03RVcmwgPSAnaHR0cHM6Ly9yZWFkbm92ZWxmdWxsLmNvbS9sYXRlc3QtcmVsZWFzZS1ub3ZlbD9wYWdlPXtwfSc7DQoJCXRoaXMudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJsID0gJ2h0dHBzOi8vcmVhZG5vdmVsZnVsbC5jb20vJzsNCgkJdGhpcy5zZWFyY2hVcmwgPSAnaHR0cHM6Ly9yZWFkbm92ZWxmdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxsLmNvbS9zZWFyY2g/a2V5d29yZD17cX0mcGFnZT17cH0nOw0KCQl0aGlzLmNoYXB0ZXJzVXJsID0gJ2h0dHBzOi8vcmVhZG5vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsZnVsbC5jb20vYWpheC9jaGFwdGVyLW9wdGlvbj9ub3ZlbElkPXtpZH0mY3VycmVudENoYXB0ZXJJZD0xJzsNCgkJdGhpcy5wYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5pbmF0aW9uID0gdHJ1ZTsNCgkJdGhpcy5zZWFyY2hQYWdpbmF0aW9uID0gdHJ1ZTsNCgkJdGhpcy5pY29uID0gJ2h0dHBzOi8vcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVhZG5vdmVsZnVsbC5jb20vaW1nL2Zhdmljb24uaWNvJzsNCgkJdGhpcy5wYXJzZXJTZWFyY2hTZXR0aW5ncyA9IG5ldyBQYXJzZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJTZWFyY2hTZXR0aW5ncygpOw0KCQl0aGlzLmVuYWJsZU5vdmVsRG93bmxvYWRzPSB0cnVlOw0KCQl0aGlzLnBhcnNlclNlYXJjaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNldHRpbmdzLmdlbnJlcyA9IHsNCgkJCW11bHRpU2VsZWN0aW9uOiBmYWxzZSwNCgkJCXZhbHVlczogWw0KCQkJCW5ldyBsYWJlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FZhbHVlKCdTaG91bmVuJyksDQoJCQkJbmV3IGxhYmVsVmFsdWUoJ0hhcmVtJyksDQoJCQkJbmV3IGxhYmVsVmFsdWUoJ0NvbWVkeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ScpLA0KCQkJCW5ldyBsYWJlbFZhbHVlKCdNYXJ0aWFsIEFydHMnLCAnTWFydGlhbCtBcnRzJyksDQoJCQkJbmV3IGxhYmVsVmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUoJ1NjaG9vbCBMaWZlJywgJ1NjaG9vbCtMaWZlJyksDQoJCQkJbmV3IGxhYmVsVmFsdWUoJ015c3RlcnknKSwNCgkJCQluZXcgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFiZWxWYWx1ZSgnU2hvdWpvJyksDQoJCQkJbmV3IGxhYmVsVmFsdWUoJ1JvbWFuY2UnKSwNCgkJCQluZXcgbGFiZWxWYWx1ZSgnUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02NpLWZpJyksDQoJCQkJbmV3IGxhYmVsVmFsdWUoJ0dlbmRlciBCZW5kZXInLCAnR2VuZGVyK0JlbmRlcicpLA0KCQkJCW5ldyBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJlbFZhbHVlKCdNYXR1cmUnKSwNCgkJCQluZXcgbGFiZWxWYWx1ZSgnRmFudGFzeScpLA0KCQkJCW5ldyBsYWJlbFZhbHVlKCdIbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03Jyb3InKSwNCgkJCQluZXcgbGFiZWxWYWx1ZSgnRHJhbWEnKSwNCgkJCQluZXcgbGFiZWxWYWx1ZSgnVHJhZ2VkeScpLA0KCQkJCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5ldyBsYWJlbFZhbHVlKCdTdXBlcm5hdHVyYWwnKSwNCgkJCQluZXcgbGFiZWxWYWx1ZSgnRWNjaGknKSwNCgkJCQluZXcgbGFiZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxWYWx1ZSgnWHVhbmh1YW4nKSwNCgkJCQluZXcgbGFiZWxWYWx1ZSgnQWR2ZW50dXJlJyksDQoJCQkJbmV3IGxhYmVsVmFsdWUoJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU01BzeWNob2xvZ2ljYWwnKSwNCgkJCQluZXcgbGFiZWxWYWx1ZSgnWGlhbnhpYScpLA0KCQkJCW5ldyBsYWJlbFZhbHVlKCdXdXhpYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ScpLA0KCQkJCW5ldyBsYWJlbFZhbHVlKCdIaXN0b3JpY2FsJyksDQoJCQkJbmV3IGxhYmVsVmFsdWUoJ1NsaWNlIG9mIExpZmUnLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAnU2xpY2Urb2YrTGlmZScpLA0KCQkJCW5ldyBsYWJlbFZhbHVlKCdMb2xpY29uJyksDQoJCQkJbmV3IGxhYmVsVmFsdWUoJ0FkdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx0JyksDQoJCQkJbmV3IGxhYmVsVmFsdWUoJ0pvc2VpJyksDQoJCQkJbmV3IGxhYmVsVmFsdWUoJ1Nwb3J0cycpLA0KCQkJCW5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBsYWJlbFZhbHVlKCdTbXV0JyksDQoJCQkJbmV3IGxhYmVsVmFsdWUoJ01lY2hhJyksDQoJCQkJbmV3IGxhYmVsVmFsdWUoJ1lhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02knKSwNCgkJCQluZXcgbGFiZWxWYWx1ZSgnU2hvdW5lbiBBaScsICdTaG91bmVuK0FpJyksDQoJCQldLA0KCQl9Ow0KCQl0aGlzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nBhcnNlclNlYXJjaFNldHRpbmdzLnNvcnRUeXBlcyA9IHsNCgkJCW11bHRpU2VsZWN0aW9uOiBmYWxzZSwNCgkJCXZhbHVlczogWMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KCQkJCW5ldyBsYWJlbFZhbHVlKCdMYXRlc3QgUmVsZWFzZSBOb3ZlbCcsICdsYXRlc3QtcmVsZWFzZS1ub3ZlbCcpLA0KCQkJCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5ldyBsYWJlbFZhbHVlKCdIb3QgTm92ZWwnLCAnaG90LW5vdmVsJyksDQoJCQkJbmV3IGxhYmVsVmFsdWUoJ0NvbXBsZXRlZCBObMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03ZlbCcsICdjb21wbGV0ZWQtbm92ZWwnKSwNCgkJCQluZXcgbGFiZWxWYWx1ZSgnTW9zdCBQb3B1bGFyJywgJ21vc3QtcG9wdWxhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i1ub3ZlbCcpLA0KCQkJXSwNCgkJfTsNCg0KCX0NCg0KDQoJUGFyc2VyLnByb3RvdHlwZSA9IHsNCgkJZ2V0U2VjdGlvbnM6IGZ1bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mN0aW9uIChrZXlzKSB7DQoJCQl2YXIgc2VjdGlvbnMgPSBbDQoJCQkJbmV3IFNlY3Rpb24oImxhdGVzdCIsICJMYXRlc3QgVXBkYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRlIiwgIkxhdGVzdCIsIHRydWUpLA0KCQkJCW5ldyBTZWN0aW9uKCJob3QiLCAiSG90IE5vdmVsIiwgIlNlYXJjaCIsIGZhbHNlLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBuZXcgRmlsdGVyKHVuZGVmaW5lZCwgImhvdC1ub3ZlbCIpKSwNCgkJCQluZXcgU2VjdGlvbigiY29tcGxldGVkIiwgIkNvbXBsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRlZCBOb3ZlbCIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsICJjb21wbGV0ZWQtbm92ZWwiKSksDQoJCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QkJbmV3IFNlY3Rpb24oInBvcHVsYXIiLCAiTW9zdCBQb3B1bGFyIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKHVuZGVmaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5lZCwgIm1vc3QtcG9wdWxhci1ub3ZlbCIpKQ0KCQkJXQ0KCQkJcmV0dXJuIHNlY3Rpb25zLmZpbHRlcih4ID0+ICFrZXlzIHx8IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GtleXMuaW5jbHVkZXMoeC5uYW1lKSk7DQoJCX0sDQoNCgkJdHJhbnNsYXRlU2VjdGlvbjogYXN5bmMgZnVuY3Rpb24gKHNlY3RpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU024sIHBhZ2UpIHsNCgkJCWlmIChzZWN0aW9uLmlkZW50aWZpZXIgPT0gIkxhdGVzdCIpIHJldHVybiBhd2FpdCB0aGlzLmxhdGVzdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ChwYWdlKTsNCgkJCWVsc2UgcmV0dXJuIGF3YWl0IHRoaXMuc2VhcmNoKHNlY3Rpb24uZmlsdGVyIHx8IHRoaXMuZGVmYXVsdEZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlcigpLCBwYWdlKTsNCgkJfSwNCgkJZGVmYXVsdEZpbHRlcjogZnVuY3Rpb24gKCkgew0KCQkJdmFyIGZpbHRlciA9IG5ldyBGaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx0ZXIoKTsNCgkJCXJldHVybiBmaWx0ZXI7DQoJCX0sDQoJCXNlYXJjaDogYXN5bmMgZnVuY3Rpb24gKGZpbHRlciwgcGFnZSkgeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KCQkJdmFyIGdlbnJlVXJsID0gImdlbnJlL3tnfT9wYWdlPXtwfSIudXJpKHRoaXMudXJsKS5yZXBsYWNlKCJ7cH0iLCBwYWdlLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nRvU3RyaW5nKCkpOw0KCQkJdmFyIHNvcnRUeXBlVXJsID0gIntzfT9wYWdlPXtwfSIudXJpKHRoaXMudXJsKS5yZXBsYWNlKCJ7cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0H0iLCBwYWdlLnRvU3RyaW5nKCkpOw0KCQkJdmFyIHEgPSBmaWx0ZXIuZ2VucmVzLmxlbmd0aCA+IDAgPyBnZW5yZVVybC5yZXBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WNlKCJ7Z30iLCBmaWx0ZXIuZ2VucmVzWzBdKSA6IChmaWx0ZXIuc29ydFR5cGUgJiYgZmlsdGVyLnNvcnRUeXBlICE9ICcnID8gcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029ydFR5cGVVcmwucmVwbGFjZSgie3N9IiwgZmlsdGVyLnNvcnRUeXBlKSA6IHVuZGVmaW5lZCk7DQoJCQl2YXIgcXVlcnkgPSBxIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Hx8IHRoaXMuc2VhcmNoVXJsLnJlcGxhY2UoJ3txfScsIGZpbHRlci50aXRsZSB8fCAiIikucmVwbGFjZSgne3B9JywgcGFnZS50bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU01N0cmluZygpKTsNCgkJCXZhciBjb250YWluZXIgPSB0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRoaXMuaWQpLmdldEh0bWwocXVlcnkpKTsNCgkJCXZhciByZXN1bHQgPSBbXTsNCgkJCWNvbnRhaW5lci5maW5kKCcubGlzdC1ubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03ZlbCAucm93JykuZm9yRWFjaCgoeCkgPT4gew0KCQkJCWlmICh4LnNlbGVjdCgnaW1nJykuYXR0cigic3JjIikuaGFzVmFsdWUoKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SkgcmVzdWx0LnB1c2gobmV3IExpZ2h0SXRlbSh4LnNlbGVjdCgnaW1nJykuYXR0cigic3JjIikudXJsKCkucmVwbGFjZSgvWzAtOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0V0reFswLTldKy9naSwgIjE1MHgxNzAiKSwgeC5zZWxlY3QoJy5ub3ZlbC10aXRsZSBhJykudGV4dChmYWxzZSksICcnLCB4LnNlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVjdCgnLm5vdmVsLXRpdGxlIGEnKS5hdHRyKCJocmVmIikudXJsKCksIHRoaXMubmFtZSksKTsNCgkJCX0pOw0KCQkJcmV0dXJuIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJlc3VsdDsNCgkJfSwNCg0KCQlnZXRDaGFwdGVyczogYXN5bmMgZnVuY3Rpb24gKG5vdmVsVXJsLCBodG1sQ29udGFpbmVyKSB7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QoJCQl2YXIgY2hhcHRlcnMgPSBbXTsNCgkJCXZhciB1cmwgPSB0aGlzLmNoYXB0ZXJzVXJsLnJlcGxhY2UoJ3tpZH0nLCAoaHRtbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ENvbnRhaW5lci5zZWxlY3QoJyNyYXRpbmcnKS5hdHRyKCJkYXRhLW5vdmVsLWlkIikuaGFzVmFsdWUoKSA/IGh0bWxDb250YWluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIuc2VsZWN0KCcjcmF0aW5nJykuYXR0cigiZGF0YS1ub3ZlbC1pZCIpLnRleHQoKSA6IGh0bWxDb250YWluZXIuc2VsZWN0KCdbZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF0YS1ub3ZlbC1pZF0nKS5hdHRyKCJkYXRhLW5vdmVsLWlkIikudGV4dCgpKSk7DQoJCQl2YXIgY29udGFpbmVyID0gdGhpcy5wYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJzZXIuanEoYXdhaXQgdGhpcy5jbGVhbmVyLmdldENsaWVudCh0aGlzLmlkKS5nZXRIdG1sKHVybCkpOw0KCQkJY29udGFpbmVyLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mZpbmQoJ29wdGlvbicpLmZvckVhY2goeCA9PiB7DQoJCQkJaWYgKHguYXR0cigidmFsdWUiKS5oYXNWYWx1ZSgpKSBjaGFwdGVycMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5wdXNoKG5ldyBDaGFwdGVyKHgudGV4dChmYWxzZSksIHguYXR0cigidmFsdWUiKS51cmwoKSkpOw0KCQkJfSk7DQoJCQlyZXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m4gY2hhcHRlcnM7DQoJCX0sDQoJCWdldE5vdmVsOiBhc3luYyBmdW5jdGlvbiAobm92ZWxVcmwpIHsNCgkJCXZhciBjb250YWluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIgPSB0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KCkuZ2V0SHRtbChub3ZlbFVybCkpOw0KCQkJdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFyIGNoYXB0ZXJzID0gYXdhaXQgdGhpcy5nZXRDaGFwdGVycyhub3ZlbFVybCwgY29udGFpbmVyKTsNCgkJCXZhciBpdGVtID0gbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV3IE5vdmVsUmV2aWV3cygpOw0KCQkJdmFyIGluZm8gPSBjb250YWluZXIuZmluZCgnLmluZm8gbGknKTsNCgkJCWl0ZW0uZ2VucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVzID0gaW5mby53aGVyZSh4ID0+IHguaW5uZXJIVE1MKCkudG9Mb3dlckNhc2UoKS5pbmRleE9mKCJnZW5yZSIpICE9IC0xKS5maMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5kKCJhIikudGV4dEFycmF5KCk7DQoJCQlpdGVtLmF1dGhvciA9IGluZm8ud2hlcmUoeCA9PiB4LmlubmVySFRNTCgpLnRvTG93ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJDYXNlKCkuaW5kZXhPZigiYXV0aG9yIikgIT0gLTEpLmZpbmQoImEiKS50ZXh0KGZhbHNlKQ0KCQkJaXRlbS5jb21wbGV0ZWQgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SBpbmZvLndoZXJlKHggPT4geC5pbm5lckhUTUwoKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoInN0YXR1cyIpICE9IC0xKS50ZXh0KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GZhbHNlKTsNCgkJCWl0ZW0uYWx0ZXJuYXRpdmVOYW1lcyA9IGluZm8ud2hlcmUoeCA9PiB4LmlubmVySFRNTCgpLnRvTG93ZXJDYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XNlKCkuaW5kZXhPZigiYWx0ZXJuYXRpdmUgbmFtZXMiKSAhPSAtMSkudGV4dCgpOw0KCQkJaXRlbS51dm90ZXMgPSBjb250YWluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIuc2VsZWN0KCJzcGFuW2l0ZW1wcm9wPSdyYXRpbmdWYWx1ZSddIikudGV4dChmYWxzZSkgKyAiIC8gMTAiOw0KCQkJcmV0dXJuIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBEZXRhbGlJdGVtKGNvbnRhaW5lci5zZWxlY3QoJy5ib29rIGltZycpLmF0dHIoInNyYyIpLnVybCgpLCBjb250YWluZXIucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VsZWN0KCcudGl0bGUnKS50ZXh0KGZhbHNlKSwgY29udGFpbmVyLnNlbGVjdCgnLmRlc2MtdGV4dCcpLmNsZWFuSW5uZXJIVE1MKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CksIG5vdmVsVXJsLCBjaGFwdGVycywgaXRlbSwgdGhpcy5uYW1lLCB1bmRlZmluZWQpOw0KCQl9LA0KCQlnZXRDaGFwdGVyOiBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03luYyBmdW5jdGlvbiAodXJsKSB7DQoJCQlyZXR1cm4gdGhpcy5jbGVhbmVyLmNsZWFuQ2hhcHRlcih0aGlzLnBhcnNlci5qcShhdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwodXJsKSkuc2VsZWN0KCcjY2hyLWNvbnRlbnQnKSwgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ghpcy5uYW1lKQ0KCQl9LA0KCQlsYXRlc3Q6IGFzeW5jIGZ1bmN0aW9uIChwYWdlKSB7DQoJCQl2YXIgdXJsID0gdGhpcy5sYXRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03RVcmwucmVwbGFjZSgne3B9JywgcGFnZS50b1N0cmluZygpKTsNCgkJCXZhciBjb250YWluZXIgPSB0aGlzLnBhcnNlci5qcShhdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwodXJsKSk7DQoJCQl2YXIgcmVzdWx0ID0gW107DQoJCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Qljb250YWluZXIuZmluZCgnLmxpc3Qtbm92ZWwgLnJvdycpLmZvckVhY2goKHgpID0+IHsNCgkJCQlpZiAoeC5zZWxlY3QoJ2ltZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ycpLmF0dHIoInNyYyIpLmhhc1ZhbHVlKCkpIHJlc3VsdC5wdXNoKG5ldyBMaWdodEl0ZW0oeC5zZWxlY3QoJ2ltZycpLmF0dHIoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNyYyIpLnVybCgpLnJlcGxhY2UoL1swLTldK3hbMC05XSsvZ2ksICIxNTB4MTcwIiksIHguc2VsZWN0KCcubm92ZWwtdGl0bGUgYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ScpLnRleHQoKSwgJycsIHguc2VsZWN0KCcubm92ZWwtdGl0bGUgYScpLmF0dHIoImhyZWYiKS51cmwoKSwgdGhpcy5uYW1lKSwpOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KCQkJfSk7DQoJCQlyZXR1cm4gcmVzdWx0Ow0KCQl9DQoJfQ0KDQoJcmV0dXJuIG5ldyBQYXJzZXIoKTsNCn0=&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KDQogICAgZnVuY3Rpb24gUGFyc2VyKCkgew0KICAgICAgICB0aGlzLmNsZWFuZXIgPSBwbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVnaW5zLmZpbmQoeCA9PiB4Lm5hbWUgPT0gIkNsZWFuZXIiKTsNCg0KDQogICAgICAgIHRoaXMuaWQgPSAiMS5yb3lhbHJvYWQiOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICB0aGlzLmRldGFsaUl0ZW1UeXBlID0gRGV0YWxpSXRlbVR5cGUuTm92ZWw7DQogICAgICAgIHRoaXMucGFyc2VyTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFuZ3VhZ2UgPSAiZW4iOw0KICAgICAgICB0aGlzLm5hbWUgPSAnUm95YWxSb2FkJzsNCiAgICAgICAgdGhpcy5kaXNwbGF5TmFtZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SA9IHRoaXMubmFtZTsNCiAgICAgICAgdGhpcy5sYXRlc3RVcmwgPSAnaHR0cHM6Ly93d3cucm95YWxyb2FkLmNvbS9maWN0aW9ucMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y9sYXRlc3QtdXBkYXRlcz9wYWdlPXtwfSc7DQogICAgICAgIHRoaXMudXJsID0gJ2h0dHBzOi8vd3d3LnJveWFscm9hZC5jb20nOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICB0aGlzLnNlYXJjaFVybCA9ICdodHRwczovL3d3dy5yb3lhbHJvYWQuY29tL2ZpY3Rpb25zL3NlYXJjaD9wYWdlPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XtwfSZ0aXRsZT17cX0nOw0KICAgICAgICB0aGlzLnBhbmluYXRpb24gPSB0cnVlOw0KICAgICAgICB0aGlzLnNlYXJjaFBhZ2luYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRpb24gPSB0cnVlOw0KICAgICAgICB0aGlzLmljb24gPSAnaHR0cHM6Ly93d3cucm95YWxyb2FkLmNvbS9mYXZpY29uLTE2eDE2LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nBuZz92PTIwMjAwMTI1JzsNCiAgICAgICAgdGhpcy5wYXJzZXJTZWFyY2hTZXR0aW5ncyA9IG5ldyBQYXJzZXJTZWFyY2hTZXR0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5ncygpOw0KICAgICAgICB0aGlzLnBhcnNlclNlYXJjaFNldHRpbmdzLm11bHRpU2VsZWN0aW9uID0gdHJ1ZTsNCiAgICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ghpcy5lbmFibGVOb3ZlbERvd25sb2Fkcz0gdHJ1ZTsNCiAgICAgICAgdGhpcy5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZXMgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SB7DQogICAgICAgICAgICBtdWx0aVNlbGVjdGlvbjogdHJ1ZSwNCiAgICAgICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIG5ldyBsYWJlbFZhbHVlKCJBY3Rpb24iLCAiYWN0aW9uIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkFkdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVudHVyZSIsICJhZHZlbnR1cmUiKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQ29tZWR5IiwgImNvbWVkeSIpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJDb250ZW1wb3JhcnkiLCAiY29udGVtcG9yYXJ5IiksDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkRyYW1hIiwgImRyYW1hIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0lBzeWNob2xvZ2ljYWwiLCAicHN5Y2hvbG9naWNhbCIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJSb21hbmNlIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iwgInJvbWFuY2UiKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2F0aXJlIiwgInNhdGlyZSIpLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTY2ktRmkiLCAic2NpX2ZpIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUoIlNob3J0IFN0b3J5IiwgIm9uZV9zaG90IiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlRyYWdlZHkiLCAidMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJhZ2VkeSIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJGYW50YXN5IiwgImZhbnRhc3kiKSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTXlzdGVyeSIsICJteXN0ZXJ5IiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUoIkhpc3RvcmljYWwiLCAiaGlzdG9yaWNhbCIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJIb3Jyb3IiLCAiaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G9ycm9yIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIk1hZ2ljIiwgIm1hZ2ljIiksDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbmV3IGxhYmVsVmFsdWUoIkFudGktSGVybyBMZWFkIiwgImFudGktaGVyb19sZWFkIiksDQogICAgICAgICAgICAgICAgbmV3IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxhYmVsVmFsdWUoIkFydGlmaWNpYWwgSW50ZWxsaWdlbmNlIiwgImFydGlmaWNpYWxfaW50ZWxsaWdlbmNlIiksDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkF0dHJhY3RpdmUgTUMiLCAiYXR0cmFjdGl2ZV9tYyIpLA0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBsYWJlbFZhbHVlKCJDeWJlcnB1bmsiLCAiY3liZXJwdW5rIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0kR1bmdlb24iLCAiZHVuZ2VvbiIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJEeXN0b3BpYSIsICJkeXN0b3BpYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJGZW1hbGUgTGVhZCIsICJmZW1hbGVfbGVhZCIpLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJGaXJzdCBDb250YWN0IiwgIkZpcnN0X0NvbnRhY3QiKSwNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBuZXcgbGFiZWxWYWx1ZSgiR2FtZUxpdCIsICJHYW1lTGl0IiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkdlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mRlciBCZW5kZXIiLCAiZ2VuZGVyX2JlbmRlciIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJHZW5ldGljYWxseMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SBFbmdpbmVlcmVkIiwgIkdlbmV0aWNhbGx5X0VuZ2luZWVyZWQiKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiRMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03JpbWRhcmsiLCAiR3JpbWRhcmsiKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiSGFyZCBTY2ktZmkiLCAiSGFyZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0F9TY2lfZmkiKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiSGFyZW0iLCAiaGFyZW0iKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBuZXcgbGFiZWxWYWx1ZSgiSGlnaCBGYW50YXN5IiwgImhpZ2hfZmFudGFzeSIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJlbFZhbHVlKCJMaXRSUEciLCAiTGl0UlBHIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkxvb3AiLCAiTG9vcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJMb3cgRmFudGFzeSIsICJsb3dfZmFudGFzeSIpLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJNYWxlIExlYWQiLCAibWFsZV9sZWFkIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsVmFsdWUoIk1hcnRpYWwgQXJ0cyIsICJtYXJ0aWFsX2FydHMiKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XVsdGlwbGUgTGVhZCBDaGFyYWN0ZXJzIiwgIm11dGxpcGxlX2xlYWQiKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgiTXl0aG9zIiwgIm15dGhvcyIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJOb24tSHVtYW4gbGVhZCIsICJubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU024taHVtYW5fbGVhZCIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJQb3J0YWwgRmFudGFzeSAvIElzZWthaSIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJzdW1tb25lZF9oZXJvIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlBvc3QgQXBvY2FseXB0aWMiLCAicG9zdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0F9hcG9jYWx5cHRpYyIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJQcm9ncmVzc2lvbiIsICJwcm9ncmVzc2lvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJSZWFkZXIgaW50ZXJhY3RpdmUiLCAicmVhZGVyX2ludGVyYWN0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XZlIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlJlaW5jYXJuYXRpb24iLCAicmVpbmNhcm5hdGlvbiIpLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJSdWxpbmcgQ2xhc3MiLCAicnVsaW5nX2NsYXNzIiksDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbmV3IGxhYmVsVmFsdWUoIlNjaG9vbCBMaWZlIiwgInNjaG9vbF9saWZlIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsVmFsdWUoIlNlY3JldCBJZGVudGl0eSIsICJzZWNyZXRfaWRlbnRpdHkiKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZSgiU2xpY2Ugb2YgTGlmZSIsICJzbGljZV9vZl9saWZlIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNvZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nQgU2NpLWZpIiwgIlNvZnRfU2NpX2ZpIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNwYWNlIE9wZXJhIiwgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNwYWNlX29wZXJhIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNwb3J0cyIsICJzcG9ydHMiKSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU3RlYW1wdW5rIiwgInN0ZWFtcHVuayIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJlbFZhbHVlKCJTdHJhdGVneSIsICJzdHJhdGVneSIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTdHJvbmcgTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVhZCIsICJzdHJvbmdfbGVhZCIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTdXBlciBIZXJvZXMiLCAic3VwZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJfaGVyb2VzIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlN1cGVybmF0dXJhbCIsICJzdXBlcm5hdHVyYWwiKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiVGVjaG5vbG9naWNhbGx5IEVuZ2luZWVyZWQiLCAiVGVjaG5vbG9naMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WNhbGx5X0VuZ2luZWVyZWQiKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiVGltZSBUcmF2ZWwiLCAiVGltZV9UcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mF2ZWwiKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiVXJiYW4gRmFudGFzeSIsICJ1cmJhbl9mYW50YXN5IiksDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlZpbGxhaW5vdXMgTGVhZCIsICJ2aWxsYWlub3VzX2xlYWQiKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiVmlydHVhbCBSZWFsaXR5IiwgInZpcnR1YWxfcmVhbGl0eSIpLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJXYXIgYW5kIE1pbGl0YXJ5IiwgIndhcl9hbmRfbWlsaXRhcnkiKSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBuZXcgbGFiZWxWYWx1ZSgiV3V4aWEiLCAid3V4aWEiKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiWMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlhbnhpYSIsICJ4aWFueGlhIikNCiAgICAgICAgICAgIF0NCiAgICAgICAgfQ0KDQogICAgICAgIHRoaXMucGFyc2VyU2VhcmNoUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02V0dGluZ3Muc3RhdHVzZXMgPSB7DQogICAgICAgICAgICBtdWx0aVNlbGVjdGlvbjogdHJ1ZSwNCiAgICAgICAgICAgIHZhbHVlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0zogWw0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJDb21wbGV0ZWQiLCAiQ09NUExFVEVEIiksDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgbmV3IGxhYmVsVmFsdWUoIk9uZ29pbmciLCAiT05HT0lORyIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CJIaWF0dXMiLCAiSElBVFVTIiksDQoNCiAgICAgICAgICAgIF0NCiAgICAgICAgfQ0KDQogICAgICAgIHRoaXMucGFyc2VyU2VhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mNoU2V0dGluZ3MubGFuZ3VhZ2VzID0gew0KICAgICAgICAgICAgbXVsdGlTZWxlY3Rpb246IGZhbHNlLA0KICAgICAgICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWVzOiBbDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkZhbiBGaWN0aW9uIiwgImZhbmZpY3Rpb24iKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiT3JpZ2luYWwiLCAib3JpZ2luYWwiKQ0KICAgICAgICAgICAgXQ0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB9DQogICAgfQ0KDQogICAgUGFyc2VyLnByb3RvdHlwZSA9IHsNCiAgICAgICAgZ2V0U2VjdGlvbnM6IGZ1bmN0aW9uIChrZXlzKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SB7DQogICAgICAgICAgICB2YXIgc2VjdGlvbnMgPSBbDQogICAgICAgICAgICAgICAgbmV3IFNlY3Rpb24oImxhdGVzdCIsICJMYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRlc3QgVXBkYXRlIiwgIkxhdGVzdCIsIHRydWUpLA0KICAgICAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJjb21wbGV0ZWQiLCAiQMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029tcGxldGVkIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsICJDTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU001QTEVURUQiKSksDQogICAgICAgICAgICAgICAgbmV3IFNlY3Rpb24oIm9uZ29pbmciLCAiT25nb2luZyIsICJTZWFyY2giLCBmYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCAiT05HT0lORyIpKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBuZXcgU2VjdGlvbigicm9tYW5jZSIsICJSb21hbmNlIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKFsicm9tYW5jZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SJdKSksDQogICAgICAgICAgICAgICAgbmV3IFNlY3Rpb24oImFjdGlvbiIsICJBY3Rpb24iLCAiU2VhcmNoIiwgZmFsc2UsIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBGaWx0ZXIoWyJhY3Rpb24iXSkpLA0KICAgICAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJteXN0ZXJ5IiwgIk15c3RlcnkiLCAiUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIoWyJteXN0ZXJ5Il0pKSwNCiAgICAgICAgICAgIF0NCg0KICAgICAgICAgICAgcmV0dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJuIHNlY3Rpb25zLmZpbHRlcih4ID0+ICFrZXlzIHx8IGtleXMuaW5jbHVkZXMoeC5uYW1lKSk7DQogICAgICAgIH0sDQoNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgdHJhbnNsYXRlU2VjdGlvbjogYXN5bmMgZnVuY3Rpb24gKHNlY3Rpb24sIHBhZ2UpIHsNCiAgICAgICAgICAgIGlmIChzZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0aW9uLmlkZW50aWZpZXIgPT0gIkxhdGVzdCIpDQogICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMubGF0ZXN0KHBhZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02UpOw0KICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnNlYXJjaChzZWN0aW9uLmZpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlciB8fCB0aGlzLmRlZmF1bHRGaWx0ZXIoKSwgcGFnZSk7DQogICAgICAgIH0sDQoNCiAgICAgICAgZGVmYXVsdEZpbHRlcjogZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIGZpbHRlciA9IG5ldyBGaWx0ZXIoKTsNCiAgICAgICAgICAgIHJldHVybiBmaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx0ZXI7DQogICAgICAgIH0sDQoNCiAgICAgICAgc2VhcmNoOiBhc3luYyBmdW5jdGlvbiAoZmlsdGVyLCBwYWdlKSB7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB2YXIgdXJsID0gdGhpcy5zZWFyY2hVcmwucmVwbGFjZSgie3B9IiwgcGFnZS50b1N0cmluZygpKS5yZXBsYWNlKCJ7cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0X0iLCBmaWx0ZXIudGl0bGUgfHwgIiIpOw0KICAgICAgICAgICAgaWYgKGZpbHRlci5nZW5yZXMubGVuZ3RoID4gMCkNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICB1cmwgKz0gIiYiICsgZmlsdGVyLmdlbnJlcy5tYXAoeCA9PiAidGFnc0FkZD0iICsgeCkuam9pbigiJiIpDQoNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIGlmIChmaWx0ZXIuYWN0aXZlICYmIGZpbHRlci5hY3RpdmUgIT0gIiIpDQogICAgICAgICAgICAgICAgdXJsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Cs9ICImc3RhdHVzPSIgKyBmaWx0ZXIuYWN0aXZlOw0KDQogICAgICAgICAgICBpZiAoZmlsdGVyLmxhbmd1YWdlICYmIGZpbHRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5sYW5ndWFnZSAhPSAiIikNCiAgICAgICAgICAgICAgICB1cmwgKz0gIiZ0eXBlPSIgKyBmaWx0ZXIubGFuZ3VhZ2U7DQoNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WQpLmdldEh0bWwodXJsKSk7DQogICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgICAgICBjb250YWluZXIuZmluZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CgiLmZpY3Rpb24tbGlzdC1pdGVtIikuZm9yRWFjaCh4ID0+IHsNCiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZXcgTGlnaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRJdGVtKHguc2VsZWN0KCJpbWciKS5hdHRyKCJzcmMiKS51cmwoKSwNCiAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoIi5maMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0aW9uLXRpdGxlIikudGV4dCgpLA0KICAgICAgICAgICAgICAgICAgICAiIiwNCiAgICAgICAgICAgICAgICAgICAgeC5zZWxlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03QoIi5maWN0aW9uLXRpdGxlIGEiKS5hdHRyKCJocmVmIikudXJsKCksDQogICAgICAgICAgICAgICAgICAgIHRoaXMubmFtZSkpOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7DQoNCiAgICAgICAgfSwNCg0KICAgICAgICBnZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XROb3ZlbDogYXN5bmMgZnVuY3Rpb24gKG5vdmVsVXJsKSB7DQogICAgICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5wYXJzZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIuanEoYXdhaXQgdGhpcy5jbGVhbmVyLmdldENsaWVudCh0aGlzLmlkKS5nZXRIdG1sKG5vdmVsVXJsKSk7DQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB2YXIgY2hhcHRlcnMgPSBjb250YWluZXIuZmluZCgiI2NoYXB0ZXJzIHRib2R5IHRyIikubWFwKHggPT4geC5zZWxlY3QoImEiKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SkuZmlsdGVyKHggPT4geC5oYXNFbGVtZW50KCkpLm1hcCh4ID0+IG5ldyBDaGFwdGVyKHgudGV4dCgpLCB4LmF0dHIoImhyZWYiKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S51cmwoKSkpOw0KICAgICAgICAgICAgdmFyIG5vdmVsUmV2aWV3cyA9IG5ldyBOb3ZlbFJldmlld3MoKTsNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HZhciBpbmZvcyA9IGNvbnRhaW5lci5zZWxlY3QoIi5maWN0aW9uLWluZm8gLmNvbC1tZC04Iik7DQoNCiAgICAgICAgICAgIG5vdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVsUmV2aWV3cy5nZW5yZXMgPSBpbmZvcy5maW5kKCIudGFncyBhIikudGV4dEFycmF5KCk7DQogICAgICAgICAgICBub3ZlbFJldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mlld3MuYXV0aG9yID0gY29udGFpbmVyLnNlbGVjdCgiLmZpYy10aXRsZSBzcGFuW3Byb3BlcnR5PW5hbWVdIikudGV4dCgpOw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbm92ZWxSZXZpZXdzLmRlc2NyaXB0aW9uID0gY29udGFpbmVyLnNlbGVjdCgiLmRlc2NyaXB0aW9uIikuY2xlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5Jbm5lckhUTUwoKTsNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cy5jb21wbGV0ZWQgPSBjb250YWluZXIuc2VsZWN0KCIudGFncMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yIpLmNsb3Nlc3QoImRpdiIpLmZpbmQoInNwYW4iKS53aGVyZSh4ID0+IHguaW5uZXJIVE1MKCkuaW5kZXhPZigiQ09NUExFVEVEIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ikgIT0gLTEpLmhhc0VsZW1lbnRzKCkgPyAiU3RhdHVzOkNvbXBsZXRlZCIgOiAiU3RhdHVzOk9uZ29pbmciDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CByZXR1cm4gbmV3IERldGFsaUl0ZW0oDQogICAgICAgICAgICAgICAgY29udGFpbmVyLnNlbGVjdCgiLnRleHQtY2VudGVyIGltZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yIpLmF0dHIoInNyYyIpLnVybCgpLA0KICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoIi5maWMtdGl0bGUgaDEiKS50ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Xh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgICBub3ZlbFJldmlld3MuZGVzY3JpcHRpb24sDQogICAgICAgICAgICAgICAgbm92ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxVcmwsDQogICAgICAgICAgICAgICAgY2hhcHRlcnMsDQogICAgICAgICAgICAgICAgbm92ZWxSZXZpZXdzLA0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHRoaXMubmFtZSwNCiAgICAgICAgICAgICAgICB1bmRlZmluZWQsDQogICAgICAgICAgICApOw0KICAgICAgICB9LA0KDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgIGdldENoYXB0ZXI6IGFzeW5jIGZ1bmN0aW9uICh1cmwpIHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLmNsZWFuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIuY2xlYW5DaGFwdGVyKHRoaXMucGFyc2VyLmpxKGF3YWl0IHRoaXMuY2xlYW5lci5nZXRDbGllbnQoKS5nZXRIdG1sKHVybCkpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlbGVjdCgiLmNoYXB0ZXItY29udGVudCIpLCB0aGlzLm5hbWUpOw0KDQogICAgICAgIH0sDQoNCiAgICAgICAgbGF0ZXN0OiBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03luYyBmdW5jdGlvbiAocGFnZSkgew0KICAgICAgICAgICAgdmFyIHVybCA9IHRoaXMubGF0ZXN0VXJsLnJlcGxhY2UoIntwfSIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HBhZ2UudG9TdHJpbmcoKSk7DQogICAgICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5wYXJzZXIuanEoYXdhaXQgdGhpcy5jbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVhbmVyLmdldENsaWVudCh0aGlzLmlkKS5nZXRIdG1sKHVybCkpOw0KICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgY29udGFpbmVyLnNlbGVjdCgiLmZpY3Rpb24tbGlzdC1pdGVtIikuZm9yRWFjaCh4ID0+IHsNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICByZXN1bHQucHVzaChuZXcgTGlnaHRJdGVtKA0KICAgICAgICAgICAgICAgICAgICB4LnNlbGVjdCgiaW1nIikuYXR0cigicMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03JjIikudXJsKCksDQogICAgICAgICAgICAgICAgICAgIHguc2VsZWN0KCIuZmljdGlvbi10aXRsZSIpLnRleHQoZmFsc2UpLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICAiIiwNCiAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoIi5maWN0aW9uLXRpdGxlIGEiKS5hdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRyKCJocmVmIikudXJsKCksDQogICAgICAgICAgICAgICAgICAgIHRoaXMubmFtZSkpOw0KICAgICAgICAgICAgfSk7DQoNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICByZXR1cm4gbmV3IFBhcnNlcigpOw0KDQp9&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KDQogICAgZnVuY3Rpb24gUGFyc2VyKCkgew0KICAgICAgICB0aGlzLmNsZWFuZXIgPSBwbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVnaW5zLmZpbmQoeCA9PiB4Lm5hbWUgPT0gIkNsZWFuZXIiKTsNCiAgICAgICAgdGhpcy5pZCA9ICIxLnNjcmliYmxlaHViIjsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgdGhpcy5kZXRhbGlJdGVtVHlwZSA9IERldGFsaUl0ZW1UeXBlLk5vdmVsOw0KICAgICAgICB0aGlzLnBhcnNlckxhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0md1YWdlID0gImVuIjsNCiAgICAgICAgdGhpcy5uYW1lID0gJ1NjcmliYmxlSHViJzsNCiAgICAgICAgdGhpcy5kaXNwbGF5TmFtZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SA9ICJSLU5vdmVsLUh1YiI7DQogICAgICAgIHRoaXMubGF0ZXN0VXJsID0gJ2h0dHBzOi8vd3d3LnNjcmliYmxlaHViLmNvbS8/cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Gc9e3B9JzsNCiAgICAgICAgdGhpcy51cmwgPSAnaHR0cHM6Ly93d3cuc2NyaWJibGVodWIuY29tJzsNCiAgICAgICAgdGhpcy5zZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFyY2hVcmwgPSAnaHR0cHM6Ly93d3cuc2NyaWJibGVodWIuY29tLz9zPXtxfSZwb3N0X3R5cGU9ZmljdGlvbnBvc3RzJzsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgdGhpcy5wYW5pbmF0aW9uID0gdHJ1ZTsNCiAgICAgICAgdGhpcy5zZWFyY2hQYWdpbmF0aW9uID0gZmFsc2U7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHRoaXMuaWNvbiA9ICdodHRwczovL3d3dy5zY3JpYmJsZWh1Yi5jb20vZmF2aWNvbi5pY28nOw0KICAgICAgICB0aGlzLnBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlclNlYXJjaFNldHRpbmdzID0gbmV3IFBhcnNlclNlYXJjaFNldHRpbmdzKCk7DQogICAgICAgIHRoaXMucGFyc2VyU2VhcmNoUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02V0dGluZ3MubXVsdGlTZWxlY3Rpb24gPSB0cnVlOw0KICAgICAgICB0aGlzLmVuYWJsZU5vdmVsRG93bmxvYWRzPSB0cnVlOw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB0aGlzLnBhcnNlclNlYXJjaFNldHRpbmdzLnNvcnRUeXBlcyA9IHsNCiAgICAgICAgICAgIG11bHRpU2VsZWN0aW9uOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iBmYWxzZSwNCiAgICAgICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdDaGFwdGVycyBwZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIgV2VlaycsICJmcmVxdWVuY3kiKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnRGF0ZSBBZGRlZCcsICJkYXRlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WRkZWQiKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnRmF2b3JpdGVzJywgImZhdm9yaXRlcyIpLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdMYXN0IFVwZGF0ZScsICJsYXN0Y2hwZGF0ZSIpLA0KICAgICAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBsYWJlbFZhbHVlKCdOdW1iZXIgb2YgUmF0aW5ncycsICJudW1vZnJhdGUiKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZSgnUGFnZXMnLCAicGFnZXMiKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnUGFnZXZpZXdzJywgInBhZ2V2aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WV3cyIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdSYXRpbmdzJywgInJhdGluZ3MiKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBuZXcgbGFiZWxWYWx1ZSgnUmVhZGVycycsICJyZWFkZXJzIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU01RvdGFsIFdvcmRzJywgInRvdGFsd29yZHMiKSwNCiAgICAgICAgICAgIF0sDQogICAgICAgIH07DQoNCiAgICAgICAgdGhpcy5wYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZXMgPSB7DQogICAgICAgICAgICBtdWx0aVNlbGVjdGlvbjogdHJ1ZSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHZhbHVlczogWw0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJBY3Rpb24iLCA5KSwNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBuZXcgbGFiZWxWYWx1ZSgiQ29tZWR5IiwgNyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkZhbnRhc3kiLCAxOMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkhpc3RvcmljYWwiLCAyMSksDQogICAgICAgICAgICAgICAgbmV3IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxhYmVsVmFsdWUoIkxpdFJQRyIsIDExODApLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJNeXN0ZXJ5IiwgOTA5KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2NpLWZpIiwgOTEyKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxWYWx1ZSgiQWR1bHQiLCA5MDIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJEcmFtYSIsIDkwMyksDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkdlbmRlciBCZW5kZXIiLCA5MDUpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FZhbHVlKCJIb3Jyb3IiLCAyMiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIk1hcnRpYWwgQXJ0cyIsIDkwNyksDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlBzeWNob2xvZ2ljYWwiLCA5MTApLA0KICAgICAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBsYWJlbFZhbHVlKCJTZWluZW4iLCA5MTMpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJTdXBlcm5hdHVyYWwiLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CA1KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQWR2ZW50dXJlIiwgOCksDQogICAgICAgICAgICAgICAgbmV3IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxhYmVsVmFsdWUoIkVjY2hpIiwgOTA0KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiR2lybHMgTG92ZSIsIDg5MMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIklzZWthaSIsIDM3KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxWYWx1ZSgiTWF0dXJlIiwgMjApLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJSb21hbmNlIiwgNiksDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIlNsaWNlIG9mIExpZmUiLCA5MTQpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FZhbHVlKCJUcmFnZWR5IiwgOTAxKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiQm95cyBMb3ZlIiwgODkxKSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiRmFuZmljdGlvbiIsIDM4KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxWYWx1ZSgiSGFyZW0iLCAxMDE1KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiSm9zZWkiLCA5MDYpLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJNZWNoYSIsIDkwOCksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0lNjaG9vbCBMaWZlIiwgOTExKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU211dCIsIDkxNSksDQoNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIF0NCiAgICAgICAgfQ0KDQogICAgICAgIHRoaXMucGFyc2VyU2VhcmNoU2V0dGluZ3Muc3RhdHVzZXMgPSB7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBtdWx0aVNlbGVjdGlvbjogZmFsc2UsDQogICAgICAgICAgICB2YWx1ZXM6IFsNCiAgICAgICAgICAgICAgICBuZXcgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFiZWxWYWx1ZSgiQWxsIiwgImFsbCIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJDb21wbGV0ZWQiLCAiY29tcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GxldGVkIiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIk9uZ29pbmciLCAib25nb2luZyIpLA0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIG5ldyBsYWJlbFZhbHVlKCJIaWF0dXMiLCAiaGlhdHVzIikNCiAgICAgICAgICAgIF0NCiAgICAgICAgfQ0KICAgIH0NCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0g0KICAgIFBhcnNlci5wcm90b3R5cGUgPSB7DQogICAgICAgIGdldFNlY3Rpb25zOiBmdW5jdGlvbiAoa2V5cykgew0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgdmFyIHNlY3Rpb25zID0gWw0KICAgICAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJsYXRlc3QiLCAiTGF0ZXN0IFVwZGF0ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SIsICJMYXRlc3QiLCB0cnVlKSwNCiAgICAgICAgICAgICAgICBuZXcgU2VjdGlvbigicG9wdWxhciIsICJQb3B1bGFyIiwgIlNlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKHVuZGVmaW5lZCwgInBhZ2V2aWV3cyIpKSwNCiAgICAgICAgICAgICAgICBuZXcgU2VjdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlvbigiZmF2b3JpdGVzIiwgIkZhdm9yaXRlcyIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsICJmYXZvcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ml0ZXMiKSksDQogICAgICAgICAgICAgICAgbmV3IFNlY3Rpb24oImNvbXBsZXRlZCIsICJDb21wbGV0ZWQiLCAiU2VhcmNoIiwgZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsc2UsIG5ldyBGaWx0ZXIodW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgImNvbXBsZXRlZCIpKQ0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgXQ0KDQogICAgICAgICAgICByZXR1cm4gc2VjdGlvbnMuZmlsdGVyKHggPT4gIWtleXMgfHwga2V5cy5pbmNsdWRlcyh4Lm5hbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUpKTsNCiAgICAgICAgfSwNCg0KICAgICAgICB0cmFuc2xhdGVTZWN0aW9uOiBhc3luYyBmdW5jdGlvbiAoc2VjdGlvbiwgcGFnZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Skgew0KICAgICAgICAgICAgaWYgKHNlY3Rpb24uaWRlbnRpZmllciA9PSAiTGF0ZXN0IikNCiAgICAgICAgICAgICAgICByZXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m4gYXdhaXQgdGhpcy5sYXRlc3QocGFnZSk7DQogICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRoaXMuc2VhcmNoKHNlY3Rpb24uZmlsdGVyIHx8IHRoaXMuZGVmYXVsdEZpbHRlcigpLCBwYWdlKTsNCiAgICAgICAgfSwNCg0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBkZWZhdWx0RmlsdGVyOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgZmlsdGVyID0gbmV3IEZpbHRlcih1bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mRlZmluZWQsICJwYWdldmlld3MiLCB1bmRlZmluZWQsICJhbGwiKTsNCiAgICAgICAgICAgIHJldHVybiBmaWx0ZXI7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIH0sDQoNCiAgICAgICAgc2VhcmNoOiBhc3luYyBmdW5jdGlvbiAoZmlsdGVyLCBwYWdlKSB7DQogICAgICAgICAgICB2YXIgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029ydFR5cGVVcmkgPSAiaHR0cHM6Ly93d3cuc2NyaWJibGVodWIuY29tL3Nlcmllcy1maW5kZXIvP3NmPTEmZ2k9e2d9Jm1naT1hbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mQmc29ydD17c29ydH0mb3JkZXI9ZGVzYyZjcD17c3RhdHVzfSZwZz0iICsgcGFnZTsNCiAgICAgICAgICAgIHZhciBzb3J0VHlwZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0VVybCA9IHNvcnRUeXBlVXJpLnJlcGxhY2UoIntnfSIsIGZpbHRlci5nZW5yZXMuam9pbigiLCIpKS5yZXBsYWNlKCJ7c29ydH0iLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBmaWx0ZXIuc29ydFR5cGUpLnJlcGxhY2UoIntzdGF0dXN9IiwgZmlsdGVyLmFjdGl2ZSk7DQoNCiAgICAgICAgICAgIHZhciB1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mwgPSBmaWx0ZXIudGl0bGUgJiYgZmlsdGVyLnRpdGxlLmxlbmd0aCA+IDAgPyB0aGlzLnNlYXJjaFVybC5yZXBsYWNlKCJ7cX0iLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBmaWx0ZXIudGl0bGUpIDogc29ydFR5cGVVcmw7DQoNCiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLnBhcnNlci5qcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Shhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLmdldEh0bWwodXJsKSk7DQogICAgICAgICAgICB2YXIgcmVzdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx0ID0gW107DQogICAgICAgICAgICBjb250YWluZXIuZmluZCgiLnNlYXJjaF9tYWluX2JveCIpLmZvckVhY2goeCA9PiB7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IExpZ2h0SXRlbSgNCiAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoImltZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yIpLmF0dHIoInNyYyIpLnVybCgpLA0KICAgICAgICAgICAgICAgICAgICB4LnNlbGVjdCgiLnNlYXJjaF90aXRsZSIpLnRleHQoZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsc2UpLA0KICAgICAgICAgICAgICAgICAgICAiIiwNCiAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoIi5zZWFyY2hfdGl0bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GUgYSIpLmF0dHIoImhyZWYiKS51cmwoKSwNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5uYW1lKSk7DQogICAgICAgICAgICB9KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0TsNCiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgICAgIH0sDQoNCiAgICAgICAgZ2V0Q2hhcHRlcnM6IGFzeW5jIGZ1bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mN0aW9uIChpZCkgew0KICAgICAgICAgICAgY29uc29sZS5sb2coInN0clNJRDoiICsgaWQpDQogICAgICAgICAgICB2YXIgaHRtbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CA9IGF3YWl0IHRoaXMuY2xlYW5lci5nZXRDbGllbnQodGhpcy5pZCkucG9zdEZvcm0oImh0dHBzOi8vd3d3LnNjcmliYmxlaHViLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mNvbS93cC1hZG1pbi9hZG1pbi1hamF4LnBocCIsIHsNCiAgICAgICAgICAgICAgICBhY3Rpb246ICJ3aV9nZXR0b2NjaHAiLA0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgIHN0clNJRDogcGFyc2VJbnQoaWQpLA0KICAgICAgICAgICAgICAgIHN0cm15cG9zdGlkOiAwLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIHN0ckZpYzogInllcyINCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VyLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mpxKHBhcnNlSHRtbChodG1sKSkuZmluZCgiYSIpLm1hcCh4ID0+IG5ldyBDaGFwdGVyKHgudGV4dChmYWxzZSksIHguYXR0cigiaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJlZiIpLnVybCgpKSk7DQogICAgICAgIH0sDQogICAgICAgIGdldE5vdmVsOiBhc3luYyBmdW5jdGlvbiAobm92ZWxVcmwpIHsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMuaWQpLmdldEh0bWwobm92ZWxVcmwpKTsNCiAgICAgICAgICAgIHZhciBpZCA9IGNvbnRhaW5lci5zZWxlY3QoIiNteXBvc3RpZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIpLm5vZGVWYWx1ZSgpID8gY29udGFpbmVyLnNlbGVjdCgiI215cG9zdGlkIikubm9kZVZhbHVlKCkgOiBub3ZlbFVybC5zcGxpdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CgiLyIpW25vdmVsVXJsLnNwbGl0KCIvIikuaW5kZXhPZigic2VyaWVzIikgKyAxXTsNCiAgICAgICAgICAgIHZhciBjaGFwdGVycMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yA9IGF3YWl0IHRoaXMuZ2V0Q2hhcHRlcnMoaWQgfHwgIiIpOw0KICAgICAgICAgICAgdmFyIHJlZyA9IG5ldyBSZWdFeHAoLyIocMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mF0aW5nVmFsdWUpIjoiKChcXCJ8W14iXSkqKSIvLCAiaSIpDQogICAgICAgICAgICB2YXIgcmVzID0gcmVnLmV4ZWMoY29udGFpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVyLmlubmVySFRNTCgpKTsNCiAgICAgICAgICAgIHZhciByYXRlID0gZXZhbCgocmVzICYmIHJlcy5sZW5ndGggPiAwID8gKHJlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5maW5kQXQoMCkgfHwgIiIpLnNwbGl0KCI6IikubGFzdCgpIHx8ICIiIDogIjEiKSk7DQogICAgICAgICAgICB2YXIgbm92ZWxSZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XZpZXdzID0gbmV3IE5vdmVsUmV2aWV3cygpOw0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLmF1dGhvciA9IGNvbnRhaW5lci5zZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxlY3QoIltwcm9wZXJ0eT0nYXV0aG9yJ10gLmF1dGhfbmFtZV9maWMiKS50ZXh0KGZhbHNlKTsNCiAgICAgICAgICAgIG5vdmVsUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV2aWV3cy5nZW5yZXMgPSBjb250YWluZXIuZmluZCgiLndpX2ZpY19nZW5yZSBhIikudGV4dEFycmF5KCk7DQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBub3ZlbFJldmlld3MudXZvdGVzID0gIlJhdGluZzoiICsgcGFyc2VJbnQocmF0ZSA/IHJhdGUgOiAiMSIpLnRvRml4ZWQoMCkgKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yAiLzUiOw0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLmNvbXBsZXRlZCA9IGNvbnRhaW5lci5zZWxlY3QoIi53aWRnZXRfZmljXMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03NpbWlsYXIiKS50ZXh0KGZhbHNlKS5pbmRleE9mKCJDb21wbGV0ZWQiKSAhPSAtMSA/ICJTdGF0dXM6Q29tcGxldGVkIiA6ICJTdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF0dXM6T25nb2luZyI7DQogICAgICAgICAgICByZXR1cm4gbmV3IERldGFsaUl0ZW0oDQogICAgICAgICAgICAgICAgY29udGFpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVyLnNlbGVjdCgiLm5vdmVsLWNvdmVyIGltZyIpLmF0dHIoInNyYyIpLnVybCgpLA0KICAgICAgICAgICAgICAgIGNvbnRhaW5lcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5zZWxlY3QoJy5maWNfdGl0bGUnKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCcud2lfZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mljX2Rlc2MnKS5jbGVhbklubmVySFRNTCgpLA0KICAgICAgICAgICAgICAgIG5vdmVsVXJsLA0KICAgICAgICAgICAgICAgIGNoYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XB0ZXJzLnJldmVyc2UoKSwNCiAgICAgICAgICAgICAgICBub3ZlbFJldmlld3MsDQogICAgICAgICAgICAgICAgdGhpcy5uYW1lLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgICAgIHVuZGVmaW5lZCwNCiAgICAgICAgICAgICk7DQogICAgICAgIH0sDQoNCiAgICAgICAgZ2V0Q2hhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRlcjogYXN5bmMgZnVuY3Rpb24gKHVybCkgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xlYW5lci5jbGVhbkNoYXB0ZXIodMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ghpcy5wYXJzZXIuanEoYXdhaXQgdGhpcy5jbGVhbmVyLmdldENsaWVudCh0aGlzLmlkKS5nZXRIdG1sKHVybCkpLnNlbGVjdCgiLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mNocF9yYXciKSwgdGhpcy5uYW1lKTsNCiAgICAgICAgfSwNCg0KICAgICAgICBsYXRlc3Q6IGFzeW5jIGZ1bmN0aW9uIChwYWdlKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SB7DQogICAgICAgICAgICB2YXIgdXJsID0gdGhpcy5sYXRlc3RVcmwucmVwbGFjZSgie3B9IiwgcGFnZS50b1N0cmluZygpKTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLnBhcnNlci5qcShhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KCkuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02V0SHRtbCh1cmwpKTsNCiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTsNCiAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iNtYWluX3JlbGVhc2VzIHRkIikuZm9yRWFjaCh4ID0+IHsNCiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZXcgTGlnaHRJdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVtKA0KICAgICAgICAgICAgICAgICAgICB4LnNlbGVjdCgiaW1nIikuYXR0cigic3JjIikudXJsKCksDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHguc2VsZWN0KCIuZnBfdGl0bGUiKS50ZXh0KGZhbHNlKSwNCiAgICAgICAgICAgICAgICAgICAgIiIsDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIHguc2VsZWN0KCIuZnBfdGl0bGUiKS5hdHRyKCJocmVmIikudXJsKCksDQogICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRoaXMubmFtZSkpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgICAgICB9DQoNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB9DQogICAgcmV0dXJuIG5ldyBQYXJzZXIoKTsNCg0KfQ==&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KDQoNCg0KICAgIGZ1bmN0aW9uIFBhcnNlcigpIHsNCiAgICAgICAgdGhpcy5jbGVhbmVyIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0gcGx1Z2lucy5maW5kKHggPT4geC5uYW1lID09ICJDbGVhbmVyIik7DQogICAgICAgIHRoaXMuaWQgPSAiMS50YXByZWFkIjsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgdGhpcy5kZXRhbGlJdGVtVHlwZSA9IERldGFsaUl0ZW1UeXBlLk5vdmVsOw0KICAgICAgICB0aGlzLnBhcnNlckxhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0md1YWdlID0gImVuIjsNCiAgICAgICAgdGhpcy5uYW1lID0gJ1RhcFJlYWQnOw0KICAgICAgICB0aGlzLmRpc3BsYXlOYW1lID0gIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0lQtTm92ZWwtUmVhZCI7DQogICAgICAgIHRoaXMubGF0ZXN0VXJsID0gJ2h0dHBzOi8vd3d3LnRhcHJlYWQuY29tL2FqYXgvYm9vaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y9sYXN0dXBkYXRlbGlzdCc7DQogICAgICAgIHRoaXMudXJsID0gJ2h0dHBzOi8vd3d3LnRhcHJlYWQuY29tLyc7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRoaXMuc2VhcmNoVXJsID0gJ2h0dHBzOi8vd3d3LnRhcHJlYWQuY29tL2FqYXgvc2VhcmNoL3N0b3J5JzsNCiAgICAgICAgdGhpcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5wYW5pbmF0aW9uID0gdHJ1ZTsNCiAgICAgICAgdGhpcy5zZWFyY2hQYWdpbmF0aW9uID0gZmFsc2U7DQogICAgICAgIHRoaXMuaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WNvbiA9ICdodHRwczovL3N0YXRpYy50YXByZWFkLmNvbS9wYy9pbWFnZXMvZmF2aWNvbi5pY28nOw0KICAgICAgICB0aGlzLnBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlclNlYXJjaFNldHRpbmdzID0gbmV3IFBhcnNlclNlYXJjaFNldHRpbmdzKCk7DQogICAgICAgIHRoaXMuZW5hYmxlTm92ZWxEbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03dubG9hZHM9IHRydWU7DQoNCiAgICAgICAgdGhpcy5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZW5yZXMgPSB7DQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBtdWx0aVNlbGVjdGlvbjogZmFsc2UsDQogICAgICAgICAgICB2YWx1ZXM6IFsNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx1ZSgiQWxsIiwgMCksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIld1eGlhJlhpYW54aWEiLCAxKSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiRmFudGFzeSIsIDIpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCJSbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU021hbmNlIiwgMyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkxHQlQrIiwgNDMpLA0KICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBsYWJlbFZhbHVlKCJVcmJhbiIsIDQ0KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiR2FtZXMiLCA0NSksDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoIkVhc3Rlcm4iLCA0NiksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFsdWUoIkhvcnJvciZUaHJpbGxlciIsIDQ3KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiSGlzdG9yaWNhbCIsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Dc1KSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgiU2NpLUZpIiwgNzYpLA0KDQogICAgICAgICAgICBdDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIH0NCiAgICB9DQoNCg0KICAgIFBhcnNlci5wcm90b3R5cGUgPSB7DQogICAgICAgIGdldFNlY3Rpb25zOiBmdW5jdGlvbiAoaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02V5cykgew0KICAgICAgICAgICAgdmFyIHNlY3Rpb25zID0gWw0KICAgICAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJsYXRlc3QiLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAiTGF0ZXN0IFVwZGF0ZSIsICJMYXRlc3QiLCB0cnVlKSwNCiAgICAgICAgICAgICAgICBuZXcgU2VjdGlvbigiaG9ycm9yIiwgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0khvcnJvciZUaHJpbGxlciIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcihbNDddKSksDQogICAgICAgICAgICAgICAgbmV3IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24oInJvbWFuY2UiLCAiUm9tYW5jZSIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcihbM10pKSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBuZXcgU2VjdGlvbigiZmFudGFzeSIsICJGYW50YXN5IiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKFsyXSkpLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0A0KICAgICAgICAgICAgXQ0KDQogICAgICAgICAgICByZXR1cm4gc2VjdGlvbnMuZmlsdGVyKHggPT4gIWtleXMgfHwga2V5cy5pbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mNsdWRlcyh4Lm5hbWUpKTsNCiAgICAgICAgfSwNCg0KICAgICAgICB0cmFuc2xhdGVTZWN0aW9uOiBhc3luYyBmdW5jdGlvbiAocMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VjdGlvbiwgcGFnZSkgew0KICAgICAgICAgICAgaWYgKHNlY3Rpb24uaWRlbnRpZmllciA9PSAiTGF0ZXN0IikNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5sYXRlc3QocGFnZSk7DQogICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuIGF3YWl0IHRoaXMuc2VhcmNoKHNlY3Rpb24uZmlsdGVyIHx8IHRoaXMuZGVmYXVsdEZpbHRlcigpLCBwYWdlKTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgfSwNCg0KICAgICAgICBkZWZhdWx0RmlsdGVyOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgZmlsdGVyID0gbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV3IEZpbHRlcigpOw0KICAgICAgICAgICAgcmV0dXJuIGZpbHRlcjsNCiAgICAgICAgfSwNCg0KICAgICAgICBnZXRHZW5yZTogYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XN5bmMgZnVuY3Rpb24gKGZpbHRlciwgcGFnZSkgew0KICAgICAgICAgICAgdmFyIHVybCA9ICJodHRwczovL3d3dy50YXByZWFkLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mNvbS9hamF4L2NhdGVnb3J5L2RldGFpbCI7DQogICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107DQogICAgICAgICAgICB2YXIgZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF0YSA9IGF3YWl0IHRoaXMuY2xlYW5lci5nZXRDbGllbnQodGhpcy5pZCkucG9zdEZvcm0odXJsLCB7IGNhdGVJZDogZmlsdGVyLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mdlbnJlc1swXSwgcGFnZU5vOiBwYWdlIH0pOw0KICAgICAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5yZXN1bHQgJiYgZGF0YS5yZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XN1bHQuYm9va0xpc3QpIHsNCiAgICAgICAgICAgICAgICBkYXRhLnJlc3VsdC5ib29rTGlzdC5mb3JFYWNoKChpdGVtKSA9PiB7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBMaWdodEl0ZW0oDQogICAgICAgICAgICAgICAgICAgICAgICB0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlzLmNsZWFuZXIuZ2V0Tm92ZWxJZCh0aGlzLm5hbWUsICJnZXROb3ZlbCIsIFtpdGVtLmJvb2tJZCwgdHJ1ZV0pLCBpdGVtLmJvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02tOYW1lLCBpdGVtLmRlc2NyaXB0aW9uLCBpdGVtLmJvb2tJZCwgdGhpcy5uYW1lKSkNCiAgICAgICAgICAgICAgICB9KTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIH0NCg0KICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsNCg0KICAgICAgICB9LA0KDQogICAgICAgIHNlYXJjaDogYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XN5bmMgZnVuY3Rpb24gKGZpbHRlciwgcGFnZSkgew0KICAgICAgICAgICAgaWYgKGZpbHRlci5nZW5yZXMubGVuZ3RoID4gMCkNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5nZXRHZW5yZShmaWx0ZXIsIHBhZ2UpOw0KDQogICAgICAgICAgICB2YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XIgcmVzdWx0ID0gW107DQogICAgICAgICAgICB2YXIgZGF0YSA9IGF3YWl0IHRoaXMuY2xlYW5lci5nZXRDbGllbnQodGhpcy5pZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CkucG9zdEZvcm0odGhpcy5zZWFyY2hVcmwsIHsgc2VhcmNoVGV4dDogZmlsdGVyLnRpdGxlIHx8ICIiLCBzdG9yeVR5cGU6IDEsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HBhZ2VObzogcGFnZSB9KTsNCiAgICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEucmVzdWx0ICYmIGRhdGEucmVzdWx0LnN0b3J5TMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlzdCkgew0KICAgICAgICAgICAgICAgIGRhdGEucmVzdWx0LnN0b3J5TGlzdC5mb3JFYWNoKChpdGVtKSA9PiB7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBMaWdodEl0ZW0odGhpcy5jbGVhbmVyLmdldE5vdmVsSWQodGhpcy5uYW1lLCAiZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02V0Tm92ZWwiLCBbaXRlbS5zdG9yeUlkLCB0cnVlXSksIGl0ZW0uc3RvcnlOYW1lLCAiIiwgaXRlbS5zdG9yeUlkLCB0aGlzLm5hbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WUpKQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB9LA0KDQogICAgICAgIGdldENoYXB0ZXJzOiBhc3luYyBmdW5jdGlvbiAoYm9va0lkKSB7DQogICAgICAgICAgICB2YXIgZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF0YSA9IGF3YWl0IHRoaXMuY2xlYW5lci5nZXRDbGllbnQodGhpcy5pZCkucG9zdEZvcm0oImh0dHBzOi8vd3d3LnRhcHJlYWQuYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029tL2FqYXgvYm9vay9jb250ZW50cyIsIHsgYm9va0lkOiBib29rSWQgfSk7DQogICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLnJlc3VsdCAmJiBkYXRhLnJlc3VsdC5jaGFwdGVyTGlzdCkNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICBkYXRhLnJlc3VsdC5jaGFwdGVyTGlzdC5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICAgICAgICAgICAgICByZXN1bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HQucHVzaChuZXcgQ2hhcHRlcihpdGVtLmNoYXB0ZXJOYW1lLCAoaXRlbS5ib29rSWQgKyAiLyIgKyBpdGVtLmNoYXB0ZXJJZCkudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJpKCJodHRwczovL3d3dy50YXByZWFkLmNvbS9hamF4L2Jvb2svY2hhcHRlciIpKSkNCiAgICAgICAgICAgICAgICB9KTsNCg0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsNCg0KICAgICAgICB9LA0KDQogICAgICAgIGdldE5vdmVsOiBhc3luYyBmdW5jdGlvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAobm92ZWxVcmwsIGlnbm9yZWNoYXB0ZXJzKSB7DQogICAgICAgICAgICBub3ZlbFVybCA9IHBhcnNlSW50KG5vdmVsVXJsKS50bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU01N0cmluZygpOw0KICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMucGFyc2VyLmpxKGF3YWl0IHRoaXMuY2xlYW5lci5nZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRDbGllbnQodGhpcy5pZCkuZ2V0SHRtbChub3ZlbFVybC50b1N0cmluZygpLnVyaSgiaHR0cHM6Ly93d3cudGFwcmVhZC5jb20vYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m9vay9kZXRhaWwvIiksIGlnbm9yZWNoYXB0ZXJzKSk7DQogICAgICAgICAgICB2YXIgY2hhcHRlcnMgPSAhaWdub3JlY2hhcHRlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nMgPyBhd2FpdCB0aGlzLmdldENoYXB0ZXJzKG5vdmVsVXJsKSA6IFtdOw0KICAgICAgICAgICAgdmFyIG5vdmVsUmV2aWV3cyA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5ldyBOb3ZlbFJldmlld3MoKTsNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cy5nZW5yZXMgPSBjb250YWluZXIuZmluZCgiLmJhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02UtaW5mbyAuYm9vay1jYXRhbG9nIC50eHQiKS50ZXh0QXJyYXkoKTsNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cy5hdXRob3IgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SBjb250YWluZXIuc2VsZWN0KCIuYXV0aG9yIC5uYW1lIikudGV4dChmYWxzZSk7DQogICAgICAgICAgICBub3ZlbFJldmlld3MudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XZvdGVzID0gY29udGFpbmVyLnNlbGVjdCgiLnNjb3JlIikudGV4dCgpICsgIiAvIDUiOw0KICAgICAgICAgICAgbm92ZWxSZXZpZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XdzLmNvbXBsZXRlZCA9IGNvbnRhaW5lci5zZWxlY3QoIi5iYXNlLWluZm8gLmJvb2stc3RhdGUgLnR4dCIpLnRleHQoZmFsc2UpIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D09PSAiQ29tcGxldGVkIiA/ICJTdGF0dXM6Q29tcGxldGVkIiA6ICJTdGF0dXM6T25nb2luZyI7DQogICAgICAgICAgICByZXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m4gbmV3IERldGFsaUl0ZW0oDQogICAgICAgICAgICAgICAgY29udGFpbmVyLnNlbGVjdCgnLmJvb2staW1nIGltZycpLmF0dHIoIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNyYyIpLnVybCgpLA0KICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoJy5ib29rLW5hbWUnKS50ZXh0KGZhbHNlKSwNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCcuZGVzYycpLmNsZWFuSW5uZXJIVE1MKCksDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbm92ZWxVcmwsDQogICAgICAgICAgICAgICAgY2hhcHRlcnMsDQogICAgICAgICAgICAgICAgbm92ZWxSZXZpZXdzLA0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIHRoaXMubmFtZSwNCiAgICAgICAgICAgICAgICB1bmRlZmluZWQsDQogICAgICAgICAgICApOw0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CB9LA0KDQogICAgICAgIGdldENoYXB0ZXI6IGFzeW5jIGZ1bmN0aW9uICh1cmwpIHsNCiAgICAgICAgICAgIHZhciB1cmxDb250ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W50ID0gdXJsLnNwbGl0KCIvIik7DQogICAgICAgICAgICB2YXIgYm9va0lkID0gdXJsQ29udGVudFt1cmxDb250ZW50Lmxlbmd0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAtIDJdOw0KICAgICAgICAgICAgdmFyIGNoYXB0ZXJJZCA9IHVybENvbnRlbnRbdXJsQ29udGVudC5sZW5ndGggLSAxXTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIGNvbnNvbGUubG9nKCJib29rSWQ6IiArIGJvb2tJZCkNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJjaGFwdGVySMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WQ6IiArIGNoYXB0ZXJJZCkNCiAgICAgICAgICAgIHZhciBkYXRhID0gYXdhaXQgdGhpcy5jbGVhbmVyLmdldENsaWVudCh0aGlzLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mlkKS5wb3N0Rm9ybSgiaHR0cHM6Ly93d3cudGFwcmVhZC5jb20vYWpheC9ib29rL2NoYXB0ZXIiLCB7IGJvb2tJZDogYm9va0lkLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBjaGFwdGVySWQ6IGNoYXB0ZXJJZCB9KQ0KICAgICAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5yZXN1bHQpDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgcmV0dXJuIGRhdGEucmVzdWx0LmNvbnRlbnQ7DQogICAgICAgICAgICByZXR1cm4gIlNvbWV0aGluZyB3ZW50IHdyb25nIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0jsNCg0KICAgICAgICB9LA0KDQogICAgICAgIGxhdGVzdDogYXN5bmMgZnVuY3Rpb24gKHBhZ2UpIHsNCiAgICAgICAgICAgIHZhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iB1cmwgPSB0aGlzLmxhdGVzdFVybDsNCiAgICAgICAgICAgIHZhciBkYXRhID0gYXdhaXQgdGhpcy5jbGVhbmVyLmdldENsaWVudMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ch0aGlzLmlkKS5wb3N0Rm9ybSh1cmwsIHsgYW1vdW10OiAwLCBwYWdlTm86IHBhZ2UgfSk7DQogICAgICAgICAgICB2YXIgcmVzdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Wx0ID0gW107DQogICAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLnJlc3VsdCAmJiBkYXRhLnJlc3VsdCkgew0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIGRhdGEucmVzdWx0LmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBMaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WdodEl0ZW0odGhpcy5jbGVhbmVyLmdldE5vdmVsSWQodGhpcy5uYW1lLCAiZ2V0Tm92ZWwiLCBbaXRlbS5ib29rSWQsIHRydWVdKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SwgaXRlbS50aXRsZSwgIiIsIGl0ZW0uYm9va0lkLCB0aGlzLm5hbWUpKQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgfQ0KDQogICAgICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgICAgICB9DQogICAgfQ0KICAgIHJldHVybiBuZXcgUGFyc2VyKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ck7DQp9&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KICAgIGZ1bmN0aW9uIFBhcnNlcigpIHsNCiAgICAgICAgdGhpcy5pZCA9ICIxLndubXRsbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03JnIjsNCiAgICAgICAgdGhpcy5kZXRhbGlJdGVtVHlwZSA9IERldGFsaUl0ZW1UeXBlLk5vdmVsOw0KICAgICAgICB0aGlzLnBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlckxhbmd1YWdlID0gImVuIjsNCiAgICAgICAgdGhpcy5uYW1lID0gJ1dubXRsJzsNCiAgICAgICAgdGhpcy5kaXNwbGF5TmFtZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SA9ICJXLU1UTCI7DQogICAgICAgIHRoaXMubGF0ZXN0VXJsID0gJ2h0dHBzOi8vYXBpLm15c3Rvcnl3YXZlLmNvbS9zdG9yeS13YMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XZlLWJhY2tlbmQvYXBpL3YxL2NvbnRlbnQvYm9va3MvY3VzdG9tL0xhc3RVcGRhdGVkTG9jYWwnOw0KICAgICAgICB0aGlzLnVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CA9ICdodHRwOi8vd3d3LndubXRsLm9yZyc7DQogICAgICAgIHRoaXMuc2VhcmNoVXJsID0gIiI7DQogICAgICAgIHRoaXMucGFuaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5hdGlvbiA9IHRydWU7DQogICAgICAgIHRoaXMuc2VhcmNoUGFnaW5hdGlvbiA9IHRydWU7DQogICAgICAgIHRoaXMuaWNvbiA9IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CdodHRwczovL25vdmVsZnVsbC5jb20vd2ViL2ltYWdlcy9mYXZpY29uLmljbyc7DQogICAgICAgIHRoaXMucGFyc2VyU2VhcmNoUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02V0dGluZ3MgPSBuZXcgUGFyc2VyU2VhcmNoU2V0dGluZ3MoKTsNCiAgICAgICAgdGhpcy5wYXJzZXJTZWFyY2hTZXR0aW5ncy5nZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5yZXMgPSB7DQogICAgICAgICAgICBtdWx0aVNlbGVjdGlvbjogZmFsc2UsDQogICAgICAgICAgICB2YWx1ZXM6IFsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnRmFudGFzeScsIDEpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdTYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02ktZmknLCAyKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnU3BvcnRzJywgMyksDQogICAgICAgICAgICAgICAgbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV3IGxhYmVsVmFsdWUoJ1VyYmFuJywgNCksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0Vhc3Rlcm4gRmFudGFzeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ScsIDUpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdIb3Jyb3ImVGhyaWxsZXInLCA2KSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICBuZXcgbGFiZWxWYWx1ZSgnVmlkZW8gR2FtZScsIDcpLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdIaXN0bMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03J5JywgOCksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1dhcicsIDkpLA0KICAgICAgICAgICAgICAgIG5ldyBsYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WJlbFZhbHVlKCdVcmJhbiBSb21hbmNlJywgMTApLA0KICAgICAgICAgICAgICAgIG5ldyBsYWJlbFZhbHVlKCdGYW50YXN5IFJvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFuY2UnLCAxMSksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0hpc3RvcmljYWwgUm9tYW5jZScsIDEyKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnVGVlbicsIDEzKSwNCiAgICAgICAgICAgICAgICBuZXcgbGFiZWxWYWx1ZSgnTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EdCVCsnLCAxNCksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ1JvbWFuY2UnLCAxNSksDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbmV3IGxhYmVsVmFsdWUoJ09USEVSUysnLCAxNiksDQogICAgICAgICAgICBdLA0KICAgICAgICB9DQogICAgICAgIHRoaXMuYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02xlYW5lciA9IHBsdWdpbnMuZmluZCh4ID0+IHgubmFtZSA9PSAiQ2xlYW5lciIpOw0KICAgICAgICB0aGlzLmNsZWFuZXIuZ2V0QMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02xpZW50KHRoaXMuaWQpLmFkZFN0YXRpY0hlYWRlcigic2l0ZS1kb21haW4iLCAid25tdGwub3JnIik7DQogICAgfQ0KDQoNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBQYXJzZXIucHJvdG90eXBlID0gew0KDQogICAgICAgIGlzT25saW5lOiBhc3luYyBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBjb25zdCBzZWN0aW9ucyA9IHRoaXMuZ2V0U2VjdGlvbnMoKTsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU029uc3QgZGF0YSA9IGF3YWl0IHRoaXMudHJhbnNsYXRlU2VjdGlvbihzZWN0aW9uc1sxXSwgMSk7DQogICAgICAgICAgICAgICAgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuIGRhdGEubGVuZ3RoID4gMA0KICAgICAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAgICAgICAgIHJldHVybiBmYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxzZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCg0KDQogICAgICAgIGdldFNlY3Rpb25zOiBmdW5jdGlvbiAoa2V5cykgeMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0w0KICAgICAgICAgICAgY29uc3Qgc2VjdGlvbnMgPSBbDQogICAgICAgICAgICAgICAgbmV3IFNlY3Rpb24oImxhdGVzdCIsICJMYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRlc3QgVXBkYXRlIiwgIkxhdGVzdCIsIHRydWUpLA0KICAgICAgICAgICAgICAgIG5ldyBTZWN0aW9uKCJVcmJhbiIsICJVcmJhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iBOb3ZlbCIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcihbNF0pKSwNCiAgICAgICAgICAgICAgICBuZXcgU2VjdGlvbigiUMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m9tYW5jZSIsICJSb21hbmNlIE5vdmVsIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKFsxNV0pKSwNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0F0NCg0KICAgICAgICAgICAgcmV0dXJuIHNlY3Rpb25zLmZpbHRlcih4ID0+ICFrZXlzIHx8IGtleXMuaW5jbHVkZXMoeC5uYW1lKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Sk7DQogICAgICAgIH0sDQoNCiAgICAgICAgdHJhbnNsYXRlU2VjdGlvbjogYXN5bmMgZnVuY3Rpb24gKHNlY3Rpb24sIHBhZ2UpIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HsNCiAgICAgICAgICAgIGlmIChzZWN0aW9uLmlkZW50aWZpZXIgPT0gIkxhdGVzdCIpDQogICAgICAgICAgICAgICAgcmV0dXJuIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF3YWl0IHRoaXMubGF0ZXN0KHBhZ2UpOw0KICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlzLnNlYXJjaChzZWN0aW9uLmZpbHRlciB8fCB0aGlzLmRlZmF1bHRGaWx0ZXIoKSwgcGFnZSk7DQogICAgICAgIH0sDQoNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgZGVmYXVsdEZpbHRlcjogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgcmV0dXJuIG5ldyBGaWx0ZXIoKTsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgfSwNCg0KICAgICAgICBzZWFyY2g6IGFzeW5jIGZ1bmN0aW9uIChmaWx0ZXIsIHBhZ2UpIHsNCiAgICAgICAgICAgIHZhciB1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mwgPSAiaHR0cHM6Ly9hcGkubXlzdG9yeXdhdmUuY29tL3N0b3J5LXdhdmUtYmFja2VuZC9hcGkvdjEvY29udGVudC9ib29rcz8mcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFnZU51bWJlcj0iICsgcGFnZSArICImcGFnZVNpemU9MTAwIg0KICAgICAgICAgICAgaWYgKGZpbHRlci5nZW5yZXMgJiYgZmlsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVyLmdlbnJlcy5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgdXJsID0gdXJsICsgIiZnZW5yZT0iICsgZmlsdGVyLmdlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nJlc1tmaWx0ZXIuZ2VucmVzLmxlbmd0aCAtIDFdOw0KICAgICAgICAgICAgfSBlbHNlIHVybCA9IHVybCA9ICJodHRwczovL2FwaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S5teXN0b3J5d2F2ZS5jb20vc3Rvcnktd2F2ZS1iYWNrZW5kL2FwaS92MS9jb250ZW50L2Jvb2tzL3NlYXJjaD9rZXlXb3JkPSIgKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBmaWx0ZXIudGl0bGUgKyAiJnBhZ2VOdW1iZXI9IiArIHBhZ2UgKyAiJnBhZ2VTaXplPTEwMCINCiAgICAgICAgICAgIHZhciBjbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0250YWluZXIgPSBhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaXMuaWQpLkdldEpzb24odXJsKTsNCiAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HJldHVybiBjb250YWluZXIuZGF0YS5saXN0Lm1hcCh4ID0+IHsNCiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IExpZ2h0SXRlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgNCiAgICAgICAgICAgICAgICAgICAgeC5jb3ZlckltZ1VybCwNCiAgICAgICAgICAgICAgICAgICAgeC50aXRsZSwNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgJycsDQogICAgICAgICAgICAgICAgICAgICJodHRwczovL2FwaS5teXN0b3J5d2F2ZS5jb20vc3RvcnktdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02F2ZS1iYWNrZW5kL2FwaS92MS9jb250ZW50L2Jvb2tzLyIgKyB4LmlkLCB0aGlzLm5hbWUNCiAgICAgICAgICAgICAgICApOw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgfSk7DQogICAgICAgIH0sDQoNCiAgICAgICAgZ2V0Q2hhcHRlcnM6IGFzeW5jIGZ1bmN0aW9uIChub3ZlbFVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ckgew0KICAgICAgICAgICAgdmFyIGNoYXB0ZXJzID0gW107DQogICAgICAgICAgICB2YXIgaWQgPSBub3ZlbFVybC5zcGxpdCgiLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yIpLmxhc3QoKTsNCiAgICAgICAgICAgIHZhciB1cmwgPSAiaHR0cHM6Ly9hcGkubXlzdG9yeXdhdmUuY29tL3N0b3J5LXdhdmUtYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFja2VuZC9hcGkvdjEvY29udGVudC9jaGFwdGVycy9wYWdlP3NvcnREaXJlY3Rpb249QVNDJmJvb2tJZD0iICsgaWQgKyAiJnBhZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VOdW1iZXI9MSZwYWdlU2l6ZT0xMDAwMDAiDQogICAgICAgICAgICB2YXIgY29udGFpbmVyID0gYXdhaXQgdGhpcy5jbGVhbmVyLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mdldENsaWVudCh0aGlzLmlkKS5HZXRKc29uKHVybCk7DQogICAgICAgICAgICBpZiAoY29udGFpbmVyLmRhdGEgJiYgY29udGFpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVyLmRhdGEubGlzdCkNCiAgICAgICAgICAgICAgICBjb250YWluZXIuZGF0YS5saXN0LmZvckVhY2goKHgsIGkpID0+IHsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgY2hhcHRlcnMucHVzaChuZXcgQ2hhcHRlcigoeC5jaGFwdGVyT3JkZXIgIT0gdW5kZWZpbmVkID8geMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0C5jaGFwdGVyT3JkZXIgOiBpICsgMSkgKyAiLSIgKyB4LnRpdGxlLCAiaHR0cHM6Ly9hcGkubXlzdG9yeXdhdmUuY29tL3N0b3J5LMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XdhdmUtYmFja2VuZC9hcGkvdjEvY29udGVudC9jaGFwdGVycy8iICsgeC5pZCkpOw0KICAgICAgICAgICAgICAgIH0pDQoNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIHJldHVybiBjaGFwdGVyczsNCiAgICAgICAgfSwNCg0KICAgICAgICBnZXROb3ZlbDogYXN5bmMgZnVuY3Rpb24gKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0G5vdmVsVXJsKSB7DQoNCiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSBhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0Q2xpZW50KHRoaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMuaWQpLkdldEpzb24obm92ZWxVcmwpOw0KICAgICAgICAgICAgdmFyIGNoYXB0ZXJzID0gYXdhaXQgdGhpcy5nZXRDaGFwdGVycMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yhub3ZlbFVybCk7DQogICAgICAgICAgICB2YXIgbm92ZWxSZXZpZXdzID0gbmV3IE5vdmVsUmV2aWV3cygpOw0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbm92ZWxSZXZpZXdzLmdlbnJlcyA9IFtjb250YWluZXIuZGF0YS5nZW5yZU5hbWVdDQogICAgICAgICAgICBub3ZlbFJldmlldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03MuYXV0aG9yID0gY29udGFpbmVyLmRhdGEuYXV0aG9yUHNldWRvbnltOw0KICAgICAgICAgICAgbm92ZWxSZXZpZXdzLnV2b3RlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yA9IGNvbnRhaW5lci5kYXRhLnJhdGluZ0NvdW50cyArICIgLyA1IjsNCiAgICAgICAgICAgIHJldHVybiBuZXcgRGV0YWxpSXRlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SgNCiAgICAgICAgICAgICAgICBjb250YWluZXIuZGF0YS5jb3ZlckltZ1VybCwNCiAgICAgICAgICAgICAgICBjb250YWluZXIuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF0YS50aXRsZSwNCiAgICAgICAgICAgICAgICBwYXJzZUh0bWwoY29udGFpbmVyLmRhdGEuc3lub3BzaXMpLmNsZWFuSW5uZXJIVMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0E1MKCksDQogICAgICAgICAgICAgICAgbm92ZWxVcmwsDQogICAgICAgICAgICAgICAgY2hhcHRlcnMsDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgbm92ZWxSZXZpZXdzLA0KICAgICAgICAgICAgICAgIHRoaXMubmFtZSwNCiAgICAgICAgICAgICAgICB1bmRlZmluZWQsDQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICApOw0KICAgICAgICB9LA0KDQoNCiAgICAgICAgZ2V0Q2hhcHRlcjogYXN5bmMgZnVuY3Rpb24gKHVybCkgew0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IGF3YWl0IHRoaXMuY2xlYW5lci5nZXRDbGllbnQodGhpcy5pZCkuR2V0SnNvbih1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mwpOw0KICAgICAgICAgICAgdmFyIGRhdGEgPSBjb250YWluZXIuZGF0YS5jb250ZW50LnNwbGl0KCJcbiIpOw0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgZGF0YSA9IGRhdGEuZmlsdGVyKHggPT4geCAmJiB4Lmxlbmd0aCA+IDApLm1hcCh4ID0+ICI8cD4iICsgeCArICI8L3A+IikuaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m9pbigiIik7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5jbGVhbmVyLmNsZWFuQ2hhcHRlcihwYXJzZUh0bWwoZGF0YSksIHRoaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMubmFtZSk7DQogICAgICAgIH0sDQoNCiAgICAgICAgbGF0ZXN0OiBhc3luYyBmdW5jdGlvbiAocGFnZSkgew0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgdmFyIHVybCA9IHRoaXMubGF0ZXN0VXJsOw0KICAgICAgICAgICAgdmFyIGRhdGEgPSBhd2FpdCB0aGlzLmNsZWFuZXIuZ2V0QMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02xpZW50KHRoaXMuaWQpLnBvc3RKc29uKHVybCwge2NvbmRpdGlvbkpzb246ICd7InRpdGxlIjoiTGF0ZXN0IFVwZGF0ZXMiLG1heMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNpemU6MTYsIG1vYmlsZUl0ZW1zOjEyfScsIHBhZ2VOdW1iZXI6IHBhZ2UsIHBhZ2VTaXplOiAyMH0pOw0KICAgICAgICAgICAgdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mFyIHJlc3VsdCA9IFtdOw0KICAgICAgICAgICAgaWYgKGRhdGEuZGF0YSAmJiBkYXRhLmRhdGEubGlzdCAmJiBkYXRhLmRhdGEubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GlzdC5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICBkYXRhLmRhdGEubGlzdC5mb3JFYWNoKHggPT4gew0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICByZXN1bHQucHVzaCgNCiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBMaWdodEl0ZW0oDQogICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgeC5jb3ZlckltZ1VybCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4LnRpdGxlLA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICAgICcnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJodHRwczovL2FwaS5teXN0b3J5dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02F2ZS5jb20vc3Rvcnktd2F2ZS1iYWNrZW5kL2FwaS92MS9jb250ZW50L2Jvb2tzLyIgKyB4LmlkLCB0aGlzLm5hbWUNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICkpOw0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m4gcmVzdWx0Ow0KICAgICAgICB9DQogICAgfQ0KICAgIHJldHVybiBuZXcgUGFyc2VyKCk7DQp9DQo=&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCwgcGx1Z2lucykgPT4gew0KDQogICAgZnVuY3Rpb24gUGFyc2VyKCkgew0KICAgICAgICB0aGlzLmNsZWFuZXIgPSBwbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HVnaW5zLmZpbmQoeCA9PiB4Lm5hbWUgPT0gIkNsZWFuZXIiKTsNCg0KICAgICAgICB0aGlzLmlkID0gIjEuemlubm92ZWwiOw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB0aGlzLmRldGFsaUl0ZW1UeXBlID0gRGV0YWxpSXRlbVR5cGUuTm92ZWw7DQogICAgICAgIHRoaXMucGFyc2VyTGFuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03VhZ2UgPSAiZW4iOw0KICAgICAgICB0aGlzLm5hbWUgPSAnWmluTm92ZWwnOw0KICAgICAgICB0aGlzLmRpc3BsYXlOYW1lID0gIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0lotTm92ZWwiOw0KICAgICAgICB0aGlzLmxhdGVzdFVybCA9ICdodHRwczovL3ppbm5vdmVsLmNvbS9wYWdlL3twfS8nOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB0aGlzLnVybCA9ICdodHRwczovL3ppbm5vdmVsLmNvbS8nOw0KICAgICAgICB0aGlzLnNlYXJjaFVybCA9ICcnOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB0aGlzLnBhbmluYXRpb24gPSB0cnVlOw0KICAgICAgICB0aGlzLnNlYXJjaFBhZ2luYXRpb24gPSBmYWxzZTsNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgdGhpcy5pY29uID0gJ2h0dHBzOi8vemlubm92ZWwuY29tL3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDIwLzA3L2Nyb3BwZWQtVW50aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRsZWQtMi0zMngzMi5qcGcnOw0KICAgICAgICB0aGlzLnBhcnNlclNlYXJjaFNldHRpbmdzID0gbmV3IFBhcnNlclNlYXJjaFNldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRpbmdzKCk7DQogICAgICAgIHRoaXMuZW5hYmxlTm92ZWxEb3dubG9hZHM9IHRydWU7DQogICAgICAgIHRoaXMucGFyc2VyU2VhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mNoU2V0dGluZ3MuZ2VucmVzID0gew0KICAgICAgICAgICAgbXVsdGlTZWxlY3Rpb246IHRydWUsDQogICAgICAgICAgICB2YWx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XM6IFtdLA0KICAgICAgICB9Ow0KDQoNCiAgICAgICAgdGhpcy5wYXJzZXJTZWFyY2hTZXR0aW5ncy5zb3J0VHlwZXMgPSB7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBtdWx0aVNlbGVjdGlvbjogdHJ1ZSwNCiAgICAgICAgICAgIHZhbHVlczogWw0KICAgICAgICAgICAgICAgIG5ldMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0yBsYWJlbFZhbHVlKCdPbmdvaW5nJywgJ29uLWdvaW5nJyksDQogICAgICAgICAgICAgICAgbmV3IGxhYmVsVmFsdWUoJ0NvbXBsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XRlZCBOb3ZlbCcsICdlbmQnKSwNCiAgICAgICAgICAgIF0sDQogICAgICAgIH07DQogICAgfQ0KDQogICAgUGFyc2VyLnByb3RvdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HlwZSA9IHsNCiAgICAgICAgbG9hZFNldHRpbmdzOiBhc3luYyBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB0cnkgew0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIGlmICh0aGlzLnBhcnNlclNlYXJjaFNldHRpbmdzLmdlbnJlcy52YWx1ZXMubGVuZ3RoID4gMCkNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIHRoaXMuY2xlYW5lci5nZXRDbGllbnQodGhpcy5pZCkuZ2V0SMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HRtbCgiaHR0cHM6Ly96aW5ub3ZlbC5jb20vP3M9JnBvc3RfdHlwZT13cC1tYW5nYSIpLnRoZW4oaHRtbCA9PiB7DQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLnBhcnNlci5qcShodG1sKTsNCiAgICAgICAgICAgICAgICAgICAgY29udMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFpbmVyLmZpbmQoIiNzZWFyY2gtYWR2YW5jZWQgLmNoZWNrYm94LWdyb3VwIC5jaGVja2JveCIpLmZvckVhY2goYSA9PiB7DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnNlclNlYXJjaFNldHRpbmdzLmdlbnJlcy52YWx1ZXMucHVzaChuZXcgbGFiZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxWYWx1ZShhLmZpbmQoImxhYmVsIikudGV4dCgpLCBhLmZpbmQoImlucHV0IikuYXR0cigidmFsdWUiKS50ZXh0KCkpKTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfSkNCg0KICAgICAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIGNvbnNvbGUubG9nKCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQoNCiAgICAgICAgZ2V0U2VjdGlvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nM6IGZ1bmN0aW9uIChrZXlzKSB7DQogICAgICAgICAgICB2YXIgc2VjdGlvbnMgPSBbDQogICAgICAgICAgICAgICAgbmV3IFNlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03Rpb24oImxhdGVzdCIsICJMYXRlc3QgVXBkYXRlIiwgIkxhdGVzdCIsIHRydWUpLA0KICAgICAgICAgICAgICAgIG5ldyBTZWN0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W9uKCJhY3Rpb24iLCAiQWN0aW9uIE5vdmVsIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRmlsdGVyKFsiYWN0aW9uIl0pKSwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICBuZXcgU2VjdGlvbigicm9tYW5jZSIsICJSb21hbmNlIE5vdmVsIiwgIlNlYXJjaCIsIGZhbHNlLCBuZXcgRMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mlsdGVyKFsicm9tYW5jZSJdKSksDQogICAgICAgICAgICAgICAgbmV3IFNlY3Rpb24oIm9uZ29pbmciLCAiT25nb2luZyBOb3ZlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIsICJTZWFyY2giLCBmYWxzZSwgbmV3IEZpbHRlcih1bmRlZmluZWQsICJlbmQiKSksDQogICAgICAgICAgICAgICAgbmV3IFNlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03Rpb24oImNvbXBsZXRlZCIsICJDb21wbGV0ZWQgTm92ZWwiLCAiU2VhcmNoIiwgZmFsc2UsIG5ldyBGaWx0ZXIodW5kZWZpbmVkLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAiZW5kIikpDQoNCiAgICAgICAgICAgIF0NCg0KICAgICAgICAgICAgcmV0dXJuIHNlY3Rpb25zLmZpbHRlcih4ID0+ICFrZXlzIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Hx8IGtleXMuaW5jbHVkZXMoeC5uYW1lKSk7DQogICAgICAgIH0sDQoNCiAgICAgICAgdHJhbnNsYXRlU2VjdGlvbjogYXN5bmMgZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nVuY3Rpb24gKHNlY3Rpb24sIHBhZ2UpIHsNCiAgICAgICAgICAgIGlmIChzZWN0aW9uLmlkZW50aWZpZXIgPT0gIkxhdGVzdCIpDMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMubGF0ZXN0KHBhZ2UpOw0KICAgICAgICAgICAgZWxzZQ0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnNlYXJjaChzZWN0aW9uLmZpbHRlciB8fCB0aGlzLmRlZmF1bHRGaWx0ZXIoKSwgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFnZSk7DQogICAgICAgIH0sDQoNCiAgICAgICAgZGVmYXVsdEZpbHRlcjogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GZpbHRlciA9IG5ldyBGaWx0ZXIoKTsNCiAgICAgICAgICAgIHJldHVybiBmaWx0ZXI7DQogICAgICAgIH0sDQoNCiAgICAgICAgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02VhcmNoOiBhc3luYyBmdW5jdGlvbiAoZmlsdGVyLCBwYWdlKSB7DQogICAgICAgICAgICB2YXIgdXJsID0gImh0dHBzOi8vemlubMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m92ZWwuY29tLz9zPSIgKyAoZmlsdGVyLnRpdGxlIHx8ICIiKSArICImcG9zdF90eXBlPXdwLW1hbmdhJntnZW5yZX0mb3A9JmF1dMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Ghvcj0mYXJ0aXN0PSZyZWxlYXNlPSZhZHVsdD0me3N0YXR1c30iDQogICAgICAgICAgICBpZiAoZmlsdGVyLmdlbnJlcy5sZW5ndMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GggPiAwKSB7DQogICAgICAgICAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoIntnZW5yZX0iLCBmaWx0ZXIuZ2VucmVzLm1hcCh4IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0+ICJnZW5yZSU1QiU1RD0iICsgeCkuam9pbigiJiIpKTsNCiAgICAgICAgICAgIH0gZWxzZSB1cmwgPSB1cmwucmVwbGFjZSgiJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ntnZW5yZX0iLCAiIik7DQoNCiAgICAgICAgICAgIGlmIChmaWx0ZXIuc29ydFR5cGUgJiYgZmlsdGVyLnNvcnRUeXBlLmxlbmd0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CA+IDEpDQogICAgICAgICAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoIntzdGF0dXN9IiwgInN0YXR1cyU1QiU1RD0iICsgZmlsdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GVyLnNvcnRUeXBlKTsNCiAgICAgICAgICAgIGVsc2UgdXJsID0gdXJsLnJlcGxhY2UoIiZ7c3RhdHVzfSIsICIiKTsNCg0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMucGFyc2VyLmpxKGF3YWl0IHRoaXMuY2xlYW5lci5nZXRDbGllbnQodGhpcy5pZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CkuZ2V0SHRtbCh1cmwpKTsNCiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXQ0KICAgICAgICAgICAgY29udGFpbmVyLmZpbmQoJMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y5jLXRhYnMtaXRlbSAucm93JykuZm9yRWFjaCgoeCkgPT4gew0KICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKA0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICBuZXcgTGlnaHRJdGVtKHguZmluZCgiaW1nIikuYXR0cigiZGF0YS1zcmMiKS51cmwoKSwNCiAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgIHguc2VsZWN0KCcucG9zdC10aXRsZSBhJykudGV4dChmYWxzZSksDQogICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAnJywNCiAgICAgICAgICAgICAgICAgICAgICAgIHguc2VsZWN0KCcucG9zdC10aXRsZSBhJykuYXR0cigiaHJlZiIpLnVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CgpLCB0aGlzLm5hbWUNCiAgICAgICAgICAgICAgICAgICAgKSwNCiAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgfSk7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QoNCiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgICAgIH0sDQoNCiAgICAgICAgZ2V0Tm92ZWw6IGFzeW5jIGZ1bmN0aMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W9uIChub3ZlbFVybCkgew0KICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMucGFyc2VyLmpxKGF3YWl0IHRoaXMuY2xlYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W5lci5nZXRDbGllbnQodGhpcy5pZCkuZ2V0SHRtbChub3ZlbFVybCkpOw0KICAgICAgICAgICAgdmFyIGNoYXB0ZXJzID0gY29udMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GFpbmVyLmZpbmQoIi5saXN0aW5nLWNoYXB0ZXJzX3dyYXAgbGkgPiBhIikubWFwKHggPT4gbmV3IENoYXB0ZXIoeC50ZXh0KGZhbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HNlKSwgeC5hdHRyKCJocmVmIikudXJsKCkpKS5yZXZlcnNlKCkNCiAgICAgICAgICAgIHZhciBub3ZlbFJldmlld3MgPSBuZXcgTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m92ZWxSZXZpZXdzKCk7DQoNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cy5nZW5yZXMgPSBjb250YWluZXIuZmluZCgiLmdlbnJlcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0y1jb250ZW50IGEiKS5tYXAoeCA9PiB4LnRleHQoZmFsc2UpKTsNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cy5hdXRob3IgPSBjbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0250YWluZXIuZmluZCgiLmF1dGhvci1jb250ZW50IGEiKS5tYXAoeCA9PiB4LnRleHQoZmFsc2UpKS5qb2luKCIsICIpOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgbm92ZWxSZXZpZXdzLnV2b3RlcyA9IGNvbnRhaW5lci5zZWxlY3QoIi5wb3N0LXJhdGluZyAudG90YWxfdm90ZXMiKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S50ZXh0KGZhbHNlKSArICIgLyA1IjsNCiAgICAgICAgICAgIG5vdmVsUmV2aWV3cy5jb21wbGV0ZWQgPSBjb250YWluZXIuc2VsZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WN0KCIucG9zdC1zdGF0dXMgLnBvc3QtY29udGVudF9pdGVtIC5zdW1tYXJ5LWNvbnRlbnQiKS50ZXh0KGZhbHNlKSA9PT0gIkNvbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XBsZXRlZCIgPyAiU3RhdHVzOkNvbXBsZXRlZCIgOiAiU3RhdHVzOk9uZ29pbmciOw0KDQogICAgICAgICAgICByZXR1cm4gbmV3IMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ERldGFsaUl0ZW0oDQogICAgICAgICAgICAgICAgY29udGFpbmVyLnNlbGVjdCgnLnN1bW1hcnlfaW1hZ2UgaW1nJykuYXR0cigiZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GF0YS1zcmMiKS51cmwoKSwNCiAgICAgICAgICAgICAgICBjb250YWluZXIuc2VsZWN0KCcucG9zdC10aXRsZScpLnRleHQoZmFscMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02UpLA0KICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3QoJy5kZXNjcmlwdGlvbi1zdW1tYXJ5JykuY2xlYW5Jbm5lckhUTMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0UwoKSwNCiAgICAgICAgICAgICAgICBub3ZlbFVybCwNCiAgICAgICAgICAgICAgICBjaGFwdGVycywNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CBub3ZlbFJldmlld3MsDQogICAgICAgICAgICAgICAgdGhpcy5uYW1lLA0KICAgICAgICAgICAgICAgIHVuZGVmaW5lZCwNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICk7DQogICAgICAgIH0sDQoNCiAgICAgICAgZ2V0Q2hhcHRlcjogYXN5bmMgZnVuY3Rpb24gKHVybCkgew0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgcmV0dXJuIHRoaXMuY2xlYW5lci5jbGVhbkNoYXB0ZXIodGhpcy5wYXJzZXIuanEoYXdhaXQgdGhpcy5jbGVhbmVyLMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mdldENsaWVudCh0aGlzLmlkKS5nZXRIdG1sKHVybCkpLnNlbGVjdCgnLnJlYWRpbmctY29udGVudCcpLCB0aGlzLm5hbWUpOw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB9LA0KDQogICAgICAgIGxhdGVzdDogYXN5bmMgZnVuY3Rpb24gKHBhZ2UpIHsNCiAgICAgICAgICAgIHZhciB1cmwgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SB0aGlzLmxhdGVzdFVybC5yZXBsYWNlKCd7cH0nLCBwYWdlLnRvU3RyaW5nKCkpOw0KICAgICAgICAgICAgdmFyIGNvbnRhaW5lcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iA9IHRoaXMucGFyc2VyLmpxKGF3YWl0IHRoaXMuY2xlYW5lci5nZXRDbGllbnQodGhpcy5pZCkuZ2V0SHRtbCh1cmwpKTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIHZhciByZXN1bHQgPSBbXTsNCiAgICAgICAgICAgIGNvbnRhaW5lci5maW5kKCcucGFnZS1jb250ZW50LWxpc3RpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mcgLnBhZ2UtaXRlbS1kZXRhaWwnKS5mb3JFYWNoKCh4KSA9PiB7DQogICAgICAgICAgICAgICAgaWYgKHguc2VsZWN0KCdpbWcnKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0S5hdHRyKCJzcmMiKS5oYXNWYWx1ZSgpKQ0KICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCgNCiAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIG5ldyBMaWdodEl0ZW0oeC5maW5kKCJpbWciKS5hdHRyKCJkYXRhLXNyYyIpLnVybCgpLA0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgIHguc2VsZWN0KCcucG9zdC10aXRsZSBhJykudGV4dChmYWxzZSksDQogICAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgJycsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgeC5zZWxlY3QoJy5wb3N0LXRpdGxlIGEnKS5hdHRyKCJocMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVmIikudXJsKCksIHRoaXMubmFtZQ0KICAgICAgICAgICAgICAgICAgICAgICAgKSk7DQogICAgICAgICAgICB9KTsNCg0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHJldHVybiBuZXcgUGFyc2VyKCk7DQp9&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCkgPT4gew0KICAgIGZ1bmN0aW9uIFBsdWdpbigpIHsNCiAgICAgICAgdGhpcy50eXBlID0gIi0tcGx1Z2luLS0iOw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB0aGlzLm5hbWUgPSAiUGFnZXIiOw0KICAgICAgICB0aGlzLmNsaWVudCA9IHt9Ow0KICAgIH0NCg0KICAgIFBsdWdpbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5wcm90b3R5cGUgPSB7DQogICAgICAgIHJlbmRlckNvdW50ZXJDYWxsczogYXN5bmMgZnVuY3Rpb24gKHVybCwgc2VsZWN0b3IsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Gh0bWxPbmx5KSB7DQogICAgICAgICAgICB2YXIgbWF4UGFnZSA9IHNlbGVjdG9yKGF3YWl0ICghaHRtbE9ubHkgPyBIdHRwQ2xpZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0W50LmdldEh0bWwodXJsLnJlcGxhY2UoIntwYWdlfSIsIDEpKSA6IEh0dHBDbGllbnQuR2V0VGV4dCh1cmwucmVwbGFjZSgie3BhZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02V9IiwgMSkpKSk7DQogICAgICAgICAgICB2YXIgcHJvbWlzZXMgPSBbXQ0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0D0gbWF4UGFnZTsgaSsrKSB7DQogICAgICAgICAgICAgICAgdmFyIHV1cmwgPSB1cmwucmVwbGFjZSgie3BhZ2V9IiwgaS50b1N0cMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mluZygpKTsNCiAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKCFodG1sT25seSA/IEh0dHBDbGllbnQuZ2V0SHRtbCh1dXJsKMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0SA6IEh0dHBDbGllbnQuR2V0VGV4dCh1dXJsKSk7DQogICAgICAgICAgICAgICAgYXdhaXQgSHR0cENsaWVudC53YWl0KDIwMCk7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4geyBwcm9taXNlcyB9Ow0KICAgICAgICB9DQogICAgfQ0KDQogICAgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mV0dXJuIG5ldyBQbHVnaW4oKTsNCn0=&KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FNlY3Rpb24sIENoYXB0ZXIsIEh0dHBDbGllbnQsIERldGFsaUl0ZW0sIExpZ2h0SXRlbSwgUGFyc2VyU2VhcmNoU2V0dGluZ3MsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0EZpbHRlciwgbGFiZWxWYWx1ZSwgRGV0YWxpSXRlbVR5cGUsIE5vdmVsUmV2aWV3cywgY2xpZW50LCBJbWFnZUhhbmRsZXIsIHBhcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0nNlSHRtbCkgPT4gew0KICAgIGZ1bmN0aW9uIFBsdWdpbigpIHsNCiAgICAgICAgdGhpcy50eXBlID0gIi0tcGx1Z2luLS0iOw0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICB0aGlzLm5hbWUgPSAiQ2xlYW5lciI7DQogICAgICAgIHRoaXMuY2xpZW50ID0ge307DQogICAgfQ0KDQogICAgUGx1ZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02luLnByb3RvdHlwZSA9IHsNCiAgICAgICAgaW1hZ2U6IGZ1bmN0aW9uKHBhcnNlclVSSSwgdXJsLCBzZWxlY3RvciwgYXR0cil7DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QogICAgICAgICAgICByZXR1cm4gbmV3IEltYWdlSGFuZGxlcihwYXJzZXJVUkksIHVybCwgc2VsZWN0b3IsIGF0dHIpOw0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICB9LA0KDQogICAgICAgIGdldE5vdmVsSWQ6KHBhcnNlck5hbWUsIG1ldGhvZCwgYXJncywgcHJvcGVydHkpPT4gew0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgcmV0dXJuIHtwYXJzZXJOYW1lLCBtZXRob2QsIGFyZ3MsIHByb3BlcnR5fQ0KICAgICAgICB9LA0KDQogICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0GNsZWFuQ2hhcHRlcjogZnVuY3Rpb24gKHNlbGVjdG9yLCBuYW1lKSB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIHZhciBjaGFycyA9IFsNCiAgICAgICAgICAgICAgICAgICAgIklmIHlvdSBmaW5kIGFueSBlcnJvcnMgKCBicm9rZW4gbGluaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU03MsIG5vbi1zdGFuZGFyZCBjb250ZW50LCBldGMuLiApLCBQbGVhc2UgbGV0IHVzIGtub3cgIHJlcG9ydCBjaGFwdGVyID4gc28gdMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU02UgY2FuIGZpeCBpdCBhcyBzb29uIGFzIHBvc3NpYmxlLiIsDQogICAgICAgICAgICAgICAgICAgICJJZiB5b3UgZmluZCBhbnkgZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XJyb3JzICggYnJva2VuIGxpbmtzLCBub24tc3RhbmRhcmQgY29udGVudCwgZXRjLi4gKSwgUGxlYXNlIGxldCB1cyBrbm93IDwgcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0mVwb3J0IGNoYXB0ZXIgPiBzbyB3ZSBjYW4gZml4IGl0IGFzIHNvb24gYXMgcG9zc2libGUuIiwNCiAgICAgICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIlByZXYgQ2hhcHRlciIsDQogICAgICAgICAgICAgICAgICAgICJOZXh0IENoYXB0ZXIiDQogICAgICAgICAgICAgICAgXQ0KIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgIGNvbnN0IGNsYXNzZXNUb1JlbW92ZSA9IFsiaW5wdXQiLCAic2NyaXB0IiwgInN0eWxlIl07DQoNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICBzd2l0Y2ggKG5hbWUpIHsNCiAgICAgICAgICAgICAgICAgICAgY2FzZSAiTGlnaHROb3ZlbFB1YiI6DQogIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzVG9SZW1vdmUucHVzaCgiLmNoYXB0ZXItY29udGVudCA+cFtjbGFzc106bm90KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0FtjbGFzcz0nJ10pIik7DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgY2FzZSAiQMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WxsTm92ZWwiOg0KICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3Nlc1RvUmVtb3ZlLnB1c2goIi5hZC1jb250YWluZXIiKTsNCMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgdmFyIGh0bWwgPSBzZWxlY3RvcMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0i5yZW1vdmUoY2xhc3Nlc1RvUmVtb3ZlLmpvaW4oIiwiKSkub3V0ZXJIVE1MKCkucmVwbGFjZSgvKD89JikoLio/KSg7KS9nLCAiIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0ik7DQogICAgICAgICAgICAgICAgY29uc3QgckNoYXJzID0gY2hhcnMubWFwKHggPT4gSHR0cENsaWVudC5lc2NhcGVSZWdleCh4KMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0Sk7DQogICAgICAgICAgICAgICAgaWYgKG5hbWUpDQogICAgICAgICAgICAgICAgICAgIHJDaGFycy5wdXNoKEh0dHBDbGllbnQuZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XNjYXBlUmVnZXgobmFtZSkpOw0KDQogICAgICAgICAgICAgICAgdmFyIGV4cHJlc3Npb24gPSAiKCIgKyByQ2hhcnMuam9pbigifMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CIpICsgIikiOw0KICAgICAgICAgICAgICAgIHZhciByZWdleHAgPSBuZXcgUmVnRXhwKGV4cHJlc3Npb24sICJnbWkiKTsNCiAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICByZXR1cm4gaHRtbC5yZXBsYWNlKHJlZ2V4cCwgIiIpOw0KICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0HsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiQ2xlYW5pbmdDaGFwdGVyIEVycm9yIiwgZXJyb3IpOw0KICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgIHJldHVybiBzZWxlY3Rvci5jbGVhbklubmVySFRNTCgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KDQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgIGdldENsaWVudDogZnVuY3Rpb24gKHBhcnNlcklkKSB7DQogICAgICAgICAgICBzd2l0Y2ggKHBhcnNlcklkKSB7DQogICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgY2FzZSAiMS5ub3ZlbGZ1bGwiOg0KICAgICAgICAgICAgICAgIGNhc2UgIjEuYm94bm92ZWwiOg0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIGNhc2UgIjEubm92ZWxoYWxsIjoNCiAgICAgICAgICAgICAgICBjYXNlICIxLmNvbXJhZGVtYW8iOg0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgIGNhc2UgIjEubGlnaHRub3ZlbHB1YiI6DQogICAgICAgICAgICAgICAgY2FzZSAiMS5tYW5nYW5lbG8iOg0KICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgIGNhc2UgIjEubXRsbm92ZWwiOg0KICAgICAgICAgICAgICAgIGNhc2UgImluZm9ybWF0aW9uIjoNCiAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICBjYXNlICIxLm5vdmVsb25saW5lZnVsbCI6DQogICAgICAgICAgICAgICAgY2FzZSAiMS5yZWFkbGlnaHRub3ZlbMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CI6DQogICAgICAgICAgICAgICAgY2FzZSAiMS5yZWFkbm92ZWxmdWxsIjoNCiAgICAgICAgICAgICAgICBjYXNlICIxLnJveWFscMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0m9hZCI6DQogICAgICAgICAgICAgICAgY2FzZSAiMS5zY3JpYmJsZWh1YiI6DQogICAgICAgICAgICAgICAgY2FzZSAiMS50YXByZMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0WFkIjoNCiAgICAgICAgICAgICAgICBjYXNlICIxLndubXRsb3JnIjoNCiAgICAgICAgICAgICAgICBjYXNlICIxLnppbm5vdmVsIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0joNCiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xpZW50W3BhcnNlcklkXSAhPSB1bmRlZmluZWQpDQogICAgICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICByZXR1cm4gdGhpcy5jbGllbnRbcGFyc2VySWRdOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHRoaMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XMuY2xpZW50W3BhcnNlcklkXSA9IG5ldyBjbGllbnQoWyJzY3JpcHQiLCAic3R5bGUiXSkpDQogICAgICAgICAgICAgICAgZGVmYMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0XVsdDoNCiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xpZW50WyJkZWZhdWx0Il0gIT0gdW5kZWZpbmVkKQ0KICAgICAgIMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0CAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xpZW50WyJkZWZhdWx0Il07DQogICAgICAgICAgICAgICAgICAgIHJldHVybMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0iAodGhpcy5jbGllbnRbImRlZmF1bHQiXSA9IG5ldyBjbGllbnQoKSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DMDAyMjU0NjU3ODk3NjU0NjU0YXNkNjU0NjU0OTg3OWE4ZDU2NDZhN3NkOTg3YTU0ZDU0MTMyMTM0YTk2c2Q4Nzk4YXM3ZDYzNTQxNjU0YXNkNjU0QoNCiAgICByZXR1cm4gbmV3IFBsdWdpbigpOw0KfTs=